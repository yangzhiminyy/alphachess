"use strict";var PBe=Object.create;var NN=Object.defineProperty;var RBe=Object.getOwnPropertyDescriptor;var xBe=Object.getOwnPropertyNames;var OBe=Object.getPrototypeOf,IBe=Object.prototype.hasOwnProperty;var Di=(r,e)=>()=>(r&&(e=r(r=0)),e);var E=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),eI=(r,e)=>{for(var t in e)NN(r,t,{get:e[t],enumerable:!0})},ble=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xBe(e))!IBe.call(r,i)&&i!==t&&NN(r,i,{get:()=>e[i],enumerable:!(n=RBe(e,i))||n.enumerable});return r};var be=(r,e,t)=>(t=r!=null?PBe(OBe(r)):{},ble(e||!r||!r.__esModule?NN(t,"default",{value:r,enumerable:!0}):t,r)),GS=r=>ble(NN({},"__esModule",{value:!0}),r);var iI=E((wMt,Ole)=>{var kBe="2.0.0",ABe=Number.MAX_SAFE_INTEGER||9007199254740991,LBe=16,MBe=250,NBe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Ole.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:LBe,MAX_SAFE_BUILD_LENGTH:MBe,MAX_SAFE_INTEGER:ABe,RELEASE_TYPES:NBe,SEMVER_SPEC_VERSION:kBe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var oI=E((SMt,Ile)=>{var FBe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Ile.exports=FBe});var Z0=E((iw,kle)=>{var{MAX_SAFE_COMPONENT_LENGTH:I4,MAX_SAFE_BUILD_LENGTH:qBe,MAX_LENGTH:jBe}=iI(),zBe=oI();iw=kle.exports={};var UBe=iw.re=[],HBe=iw.safeRe=[],pn=iw.src=[],mn=iw.t={},BBe=0,k4="[a-zA-Z0-9-]",WBe=[["\\s",1],["\\d",jBe],[k4,qBe]],$Be=r=>{for(let[e,t]of WBe)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Zi=(r,e,t)=>{let n=$Be(e),i=BBe++;zBe(r,i,e),mn[r]=i,pn[i]=e,UBe[i]=new RegExp(e,t?"g":void 0),HBe[i]=new RegExp(n,t?"g":void 0)};Zi("NUMERICIDENTIFIER","0|[1-9]\\d*");Zi("NUMERICIDENTIFIERLOOSE","\\d+");Zi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${k4}*`);Zi("MAINVERSION",`(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})`);Zi("MAINVERSIONLOOSE",`(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})`);Zi("PRERELEASEIDENTIFIER",`(?:${pn[mn.NUMERICIDENTIFIER]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASEIDENTIFIERLOOSE",`(?:${pn[mn.NUMERICIDENTIFIERLOOSE]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASE",`(?:-(${pn[mn.PRERELEASEIDENTIFIER]}(?:\\.${pn[mn.PRERELEASEIDENTIFIER]})*))`);Zi("PRERELEASELOOSE",`(?:-?(${pn[mn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pn[mn.PRERELEASEIDENTIFIERLOOSE]})*))`);Zi("BUILDIDENTIFIER",`${k4}+`);Zi("BUILD",`(?:\\+(${pn[mn.BUILDIDENTIFIER]}(?:\\.${pn[mn.BUILDIDENTIFIER]})*))`);Zi("FULLPLAIN",`v?${pn[mn.MAINVERSION]}${pn[mn.PRERELEASE]}?${pn[mn.BUILD]}?`);Zi("FULL",`^${pn[mn.FULLPLAIN]}$`);Zi("LOOSEPLAIN",`[v=\\s]*${pn[mn.MAINVERSIONLOOSE]}${pn[mn.PRERELEASELOOSE]}?${pn[mn.BUILD]}?`);Zi("LOOSE",`^${pn[mn.LOOSEPLAIN]}$`);Zi("GTLT","((?:<|>)?=?)");Zi("XRANGEIDENTIFIERLOOSE",`${pn[mn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Zi("XRANGEIDENTIFIER",`${pn[mn.NUMERICIDENTIFIER]}|x|X|\\*`);Zi("XRANGEPLAIN",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:${pn[mn.PRERELEASE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGEPLAINLOOSE",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:${pn[mn.PRERELEASELOOSE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAIN]}$`);Zi("XRANGELOOSE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COERCE",`(^|[^\\d])(\\d{1,${I4}})(?:\\.(\\d{1,${I4}}))?(?:\\.(\\d{1,${I4}}))?(?:$|[^\\d])`);Zi("COERCERTL",pn[mn.COERCE],!0);Zi("LONETILDE","(?:~>?)");Zi("TILDETRIM",`(\\s*)${pn[mn.LONETILDE]}\\s+`,!0);iw.tildeTrimReplace="$1~";Zi("TILDE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAIN]}$`);Zi("TILDELOOSE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("LONECARET","(?:\\^)");Zi("CARETTRIM",`(\\s*)${pn[mn.LONECARET]}\\s+`,!0);iw.caretTrimReplace="$1^";Zi("CARET",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAIN]}$`);Zi("CARETLOOSE",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COMPARATORLOOSE",`^${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]})$|^$`);Zi("COMPARATOR",`^${pn[mn.GTLT]}\\s*(${pn[mn.FULLPLAIN]})$|^$`);Zi("COMPARATORTRIM",`(\\s*)${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]}|${pn[mn.XRANGEPLAIN]})`,!0);iw.comparatorTrimReplace="$1$2$3";Zi("HYPHENRANGE",`^\\s*(${pn[mn.XRANGEPLAIN]})\\s+-\\s+(${pn[mn.XRANGEPLAIN]})\\s*$`);Zi("HYPHENRANGELOOSE",`^\\s*(${pn[mn.XRANGEPLAINLOOSE]})\\s+-\\s+(${pn[mn.XRANGEPLAINLOOSE]})\\s*$`);Zi("STAR","(<|>)?=?\\s*\\*");Zi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Zi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qN=E((CMt,Ale)=>{var VBe=Object.freeze({loose:!0}),GBe=Object.freeze({}),KBe=r=>r?typeof r!="object"?VBe:r:GBe;Ale.exports=KBe});var A4=E((DMt,Nle)=>{var Lle=/^[0-9]+$/,Mle=(r,e)=>{let t=Lle.test(r),n=Lle.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},YBe=(r,e)=>Mle(e,r);Nle.exports={compareIdentifiers:Mle,rcompareIdentifiers:YBe}});var Nf=E((TMt,zle)=>{var jN=oI(),{MAX_LENGTH:Fle,MAX_SAFE_INTEGER:zN}=iI(),{safeRe:qle,t:jle}=Z0(),JBe=qN(),{compareIdentifiers:eE}=A4(),L4=class r{constructor(e,t){if(t=JBe(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Fle)throw new TypeError(`version is longer than ${Fle} characters`);jN("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?qle[jle.LOOSE]:qle[jle.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zN||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<zN)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(jN("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),eE(this.major,e.major)||eE(this.minor,e.minor)||eE(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(jN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return eE(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(jN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return eE(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),eE(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};zle.exports=L4});var JS=E((EMt,Hle)=>{var Ule=Nf(),XBe=(r,e,t=!1)=>{if(r instanceof Ule)return r;try{return new Ule(r,e)}catch(n){if(!t)return null;throw n}};Hle.exports=XBe});var Wle=E((PMt,Ble)=>{var QBe=JS(),ZBe=(r,e)=>{let t=QBe(r,e);return t?t.version:null};Ble.exports=ZBe});var Vle=E((RMt,$le)=>{var eWe=JS(),tWe=(r,e)=>{let t=eWe(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};$le.exports=tWe});var Yle=E((xMt,Kle)=>{var Gle=Nf(),rWe=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new Gle(r instanceof Gle?r.version:r,t).inc(e,n,i).version}catch{return null}};Kle.exports=rWe});var Qle=E((OMt,Xle)=>{var Jle=JS(),nWe=(r,e)=>{let t=Jle(r,null,!0),n=Jle(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};Xle.exports=nWe});var ede=E((IMt,Zle)=>{var iWe=Nf(),oWe=(r,e)=>new iWe(r,e).major;Zle.exports=oWe});var rde=E((kMt,tde)=>{var sWe=Nf(),aWe=(r,e)=>new sWe(r,e).minor;tde.exports=aWe});var ide=E((AMt,nde)=>{var cWe=Nf(),uWe=(r,e)=>new cWe(r,e).patch;nde.exports=uWe});var sde=E((LMt,ode)=>{var lWe=JS(),dWe=(r,e)=>{let t=lWe(r,e);return t&&t.prerelease.length?t.prerelease:null};ode.exports=dWe});var nv=E((MMt,cde)=>{var ade=Nf(),fWe=(r,e,t)=>new ade(r,t).compare(new ade(e,t));cde.exports=fWe});var lde=E((NMt,ude)=>{var hWe=nv(),pWe=(r,e,t)=>hWe(e,r,t);ude.exports=pWe});var fde=E((FMt,dde)=>{var mWe=nv(),gWe=(r,e)=>mWe(r,e,!0);dde.exports=gWe});var UN=E((qMt,pde)=>{var hde=Nf(),vWe=(r,e,t)=>{let n=new hde(r,t),i=new hde(e,t);return n.compare(i)||n.compareBuild(i)};pde.exports=vWe});var gde=E((jMt,mde)=>{var yWe=UN(),_We=(r,e)=>r.sort((t,n)=>yWe(t,n,e));mde.exports=_We});var yde=E((zMt,vde)=>{var bWe=UN(),wWe=(r,e)=>r.sort((t,n)=>bWe(n,t,e));vde.exports=wWe});var sI=E((UMt,_de)=>{var SWe=nv(),CWe=(r,e,t)=>SWe(r,e,t)>0;_de.exports=CWe});var HN=E((HMt,bde)=>{var DWe=nv(),TWe=(r,e,t)=>DWe(r,e,t)<0;bde.exports=TWe});var M4=E((BMt,wde)=>{var EWe=nv(),PWe=(r,e,t)=>EWe(r,e,t)===0;wde.exports=PWe});var N4=E((WMt,Sde)=>{var RWe=nv(),xWe=(r,e,t)=>RWe(r,e,t)!==0;Sde.exports=xWe});var BN=E(($Mt,Cde)=>{var OWe=nv(),IWe=(r,e,t)=>OWe(r,e,t)>=0;Cde.exports=IWe});var WN=E((VMt,Dde)=>{var kWe=nv(),AWe=(r,e,t)=>kWe(r,e,t)<=0;Dde.exports=AWe});var F4=E((GMt,Tde)=>{var LWe=M4(),MWe=N4(),NWe=sI(),FWe=BN(),qWe=HN(),jWe=WN(),zWe=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return LWe(r,t,n);case"!=":return MWe(r,t,n);case">":return NWe(r,t,n);case">=":return FWe(r,t,n);case"<":return qWe(r,t,n);case"<=":return jWe(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Tde.exports=zWe});var Pde=E((KMt,Ede)=>{var UWe=Nf(),HWe=JS(),{safeRe:$N,t:VN}=Z0(),BWe=(r,e)=>{if(r instanceof UWe)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match($N[VN.COERCE]);else{let n;for(;(n=$N[VN.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),$N[VN.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;$N[VN.COERCERTL].lastIndex=-1}return t===null?null:HWe(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Ede.exports=BWe});var xde=E((YMt,Rde)=>{"use strict";Rde.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ide=E((JMt,Ode)=>{"use strict";Ode.exports=cs;cs.Node=YD;cs.create=cs;function cs(r){var e=this;if(e instanceof cs||(e=new cs),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}cs.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};cs.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};cs.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};cs.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)$We(this,arguments[r]);return this.length};cs.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)VWe(this,arguments[r]);return this.length};cs.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};cs.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};cs.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};cs.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};cs.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};cs.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};cs.prototype.map=function(r,e){e=e||this;for(var t=new cs,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};cs.prototype.mapReverse=function(r,e){e=e||this;for(var t=new cs,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};cs.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};cs.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};cs.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};cs.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};cs.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};cs.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};cs.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=WWe(this,i,t[n]);return o};cs.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function WWe(r,e,t){var n=e===r.head?new YD(t,null,e,r):new YD(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function $We(r,e){r.tail=new YD(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function VWe(r,e){r.head=new YD(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function YD(r,e,t,n){if(!(this instanceof YD))return new YD(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{xde()(cs)}catch{}});var Nde=E((XMt,Mde)=>{"use strict";var GWe=Ide(),JD=Symbol("max"),sw=Symbol("length"),tE=Symbol("lengthCalculator"),cI=Symbol("allowStale"),XD=Symbol("maxAge"),ow=Symbol("dispose"),kde=Symbol("noDisposeOnSet"),sd=Symbol("lruList"),dy=Symbol("cache"),Lde=Symbol("updateAgeOnGet"),q4=()=>1,z4=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[JD]=e.max||1/0,n=e.length||q4;if(this[tE]=typeof n!="function"?q4:n,this[cI]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[XD]=e.maxAge||0,this[ow]=e.dispose,this[kde]=e.noDisposeOnSet||!1,this[Lde]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[JD]=e||1/0,aI(this)}get max(){return this[JD]}set allowStale(e){this[cI]=!!e}get allowStale(){return this[cI]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[XD]=e,aI(this)}get maxAge(){return this[XD]}set lengthCalculator(e){typeof e!="function"&&(e=q4),e!==this[tE]&&(this[tE]=e,this[sw]=0,this[sd].forEach(t=>{t.length=this[tE](t.value,t.key),this[sw]+=t.length})),aI(this)}get lengthCalculator(){return this[tE]}get length(){return this[sw]}get itemCount(){return this[sd].length}rforEach(e,t){t=t||this;for(let n=this[sd].tail;n!==null;){let i=n.prev;Ade(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[sd].head;n!==null;){let i=n.next;Ade(this,e,n,t),n=i}}keys(){return this[sd].toArray().map(e=>e.key)}values(){return this[sd].toArray().map(e=>e.value)}reset(){this[ow]&&this[sd]&&this[sd].length&&this[sd].forEach(e=>this[ow](e.key,e.value)),this[dy]=new Map,this[sd]=new GWe,this[sw]=0}dump(){return this[sd].map(e=>GN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[sd]}set(e,t,n){if(n=n||this[XD],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[tE](t,e);if(this[dy].has(e)){if(o>this[JD])return rE(this,this[dy].get(e)),!1;let c=this[dy].get(e).value;return this[ow]&&(this[kde]||this[ow](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[sw]+=o-c.length,c.length=o,this.get(e),aI(this),!0}let s=new U4(e,t,o,i,n);return s.length>this[JD]?(this[ow]&&this[ow](e,t),!1):(this[sw]+=s.length,this[sd].unshift(s),this[dy].set(e,this[sd].head),aI(this),!0)}has(e){if(!this[dy].has(e))return!1;let t=this[dy].get(e).value;return!GN(this,t)}get(e){return j4(this,e,!0)}peek(e){return j4(this,e,!1)}pop(){let e=this[sd].tail;return e?(rE(this,e),e.value):null}del(e){rE(this,this[dy].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[dy].forEach((e,t)=>j4(this,t,!1))}},j4=(r,e,t)=>{let n=r[dy].get(e);if(n){let i=n.value;if(GN(r,i)){if(rE(r,n),!r[cI])return}else t&&(r[Lde]&&(n.value.now=Date.now()),r[sd].unshiftNode(n));return i.value}},GN=(r,e)=>{if(!e||!e.maxAge&&!r[XD])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[XD]&&t>r[XD]},aI=r=>{if(r[sw]>r[JD])for(let e=r[sd].tail;r[sw]>r[JD]&&e!==null;){let t=e.prev;rE(r,e),e=t}},rE=(r,e)=>{if(e){let t=e.value;r[ow]&&r[ow](t.key,t.value),r[sw]-=t.length,r[dy].delete(t.key),r[sd].removeNode(e)}},U4=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},Ade=(r,e,t,n)=>{let i=t.value;GN(r,i)&&(rE(r,t),r[cI]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};Mde.exports=z4});var iv=E((QMt,zde)=>{var H4=class r{constructor(e,t){if(t=YWe(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof B4)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!qde(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&r$e(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&e$e)|(this.options.loose&&t$e))+":"+e,i=Fde.get(n);if(i)return i;let o=this.options.loose,s=o?Bp[jh.HYPHENRANGELOOSE]:Bp[jh.HYPHENRANGE];e=e.replace(s,f$e(this.options.includePrerelease)),Na("hyphen replace",e),e=e.replace(Bp[jh.COMPARATORTRIM],XWe),Na("comparator trim",e),e=e.replace(Bp[jh.TILDETRIM],QWe),Na("tilde trim",e),e=e.replace(Bp[jh.CARETTRIM],ZWe),Na("caret trim",e);let a=e.split(" ").map(d=>n$e(d,this.options)).join(" ").split(/\s+/).map(d=>d$e(d,this.options));o&&(a=a.filter(d=>(Na("loose invalid filter",d,this.options),!!d.match(Bp[jh.COMPARATORLOOSE])))),Na("range list",a);let c=new Map,u=a.map(d=>new B4(d,this.options));for(let d of u){if(qde(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return Fde.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>jde(n,t)&&e.set.some(i=>jde(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new JWe(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(h$e(this.set[t],e,this.options))return!0;return!1}};zde.exports=H4;var KWe=Nde(),Fde=new KWe({max:1e3}),YWe=qN(),B4=uI(),Na=oI(),JWe=Nf(),{safeRe:Bp,t:jh,comparatorTrimReplace:XWe,tildeTrimReplace:QWe,caretTrimReplace:ZWe}=Z0(),{FLAG_INCLUDE_PRERELEASE:e$e,FLAG_LOOSE:t$e}=iI(),qde=r=>r.value==="<0.0.0-0",r$e=r=>r.value==="",jde=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},n$e=(r,e)=>(Na("comp",r,e),r=s$e(r,e),Na("caret",r),r=i$e(r,e),Na("tildes",r),r=c$e(r,e),Na("xrange",r),r=l$e(r,e),Na("stars",r),r),zh=r=>!r||r.toLowerCase()==="x"||r==="*",i$e=(r,e)=>r.trim().split(/\s+/).map(t=>o$e(t,e)).join(" "),o$e=(r,e)=>{let t=e.loose?Bp[jh.TILDELOOSE]:Bp[jh.TILDE];return r.replace(t,(n,i,o,s,a)=>{Na("tilde",r,n,i,o,s,a);let c;return zh(i)?c="":zh(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:zh(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Na("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Na("tilde return",c),c})},s$e=(r,e)=>r.trim().split(/\s+/).map(t=>a$e(t,e)).join(" "),a$e=(r,e)=>{Na("caret",r,e);let t=e.loose?Bp[jh.CARETLOOSE]:Bp[jh.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Na("caret",r,i,o,s,a,c);let u;return zh(o)?u="":zh(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:zh(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Na("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Na("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Na("caret return",u),u})},c$e=(r,e)=>(Na("replaceXRanges",r,e),r.split(/\s+/).map(t=>u$e(t,e)).join(" ")),u$e=(r,e)=>{r=r.trim();let t=e.loose?Bp[jh.XRANGELOOSE]:Bp[jh.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Na("xRange",r,n,i,o,s,a,c);let u=zh(o),l=u||zh(s),d=l||zh(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Na("xRange return",n),n})},l$e=(r,e)=>(Na("replaceStars",r,e),r.trim().replace(Bp[jh.STAR],"")),d$e=(r,e)=>(Na("replaceGTE0",r,e),r.trim().replace(Bp[e.includePrerelease?jh.GTE0PRE:jh.GTE0],"")),f$e=r=>(e,t,n,i,o,s,a,c,u,l,d,f,m)=>(zh(n)?t="":zh(i)?t=`>=${n}.0.0${r?"-0":""}`:zh(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,zh(u)?c="":zh(l)?c=`<${+u+1}.0.0-0`:zh(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),h$e=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Na(r[n].semver),r[n].semver!==B4.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var uI=E((ZMt,Vde)=>{var lI=Symbol("SemVer ANY"),V4=class r{static get ANY(){return lI}constructor(e,t){if(t=Ude(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),$4("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===lI?this.value="":this.value=this.operator+this.semver.version,$4("comp",this)}parse(e){let t=this.options.loose?Hde[Bde.COMPARATORLOOSE]:Hde[Bde.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Wde(n[2],this.options.loose):this.semver=lI}toString(){return this.value}test(e){if($4("Comparator.test",e,this.options.loose),this.semver===lI||e===lI)return!0;if(typeof e=="string")try{e=new Wde(e,this.options)}catch{return!1}return W4(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new $de(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new $de(this.value,t).test(e.semver):(t=Ude(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||W4(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||W4(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Vde.exports=V4;var Ude=qN(),{safeRe:Hde,t:Bde}=Z0(),W4=F4(),$4=oI(),Wde=Nf(),$de=iv()});var nE=E((eNt,Gde)=>{var p$e=iv(),m$e=(r,e,t)=>{try{e=new p$e(e,t)}catch{return!1}return e.test(r)};Gde.exports=m$e});var Yde=E((tNt,Kde)=>{var g$e=iv(),v$e=(r,e)=>new g$e(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Kde.exports=v$e});var Xde=E((rNt,Jde)=>{var y$e=Nf(),_$e=iv(),b$e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new _$e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new y$e(n,t))}),n};Jde.exports=b$e});var Zde=E((nNt,Qde)=>{var w$e=Nf(),S$e=iv(),C$e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new S$e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new w$e(n,t))}),n};Qde.exports=C$e});var rfe=E((iNt,tfe)=>{var G4=Nf(),D$e=iv(),efe=sI(),T$e=(r,e)=>{r=new D$e(r,e);let t=new G4("0.0.0");if(r.test(t)||(t=new G4("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new G4(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||efe(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||efe(t,o))&&(t=o)}return t&&r.test(t)?t:null};tfe.exports=T$e});var ife=E((oNt,nfe)=>{var E$e=iv(),P$e=(r,e)=>{try{return new E$e(r,e).range||"*"}catch{return null}};nfe.exports=P$e});var KN=E((sNt,cfe)=>{var R$e=Nf(),afe=uI(),{ANY:x$e}=afe,O$e=iv(),I$e=nE(),ofe=sI(),sfe=HN(),k$e=WN(),A$e=BN(),L$e=(r,e,t,n)=>{r=new R$e(r,n),e=new O$e(e,n);let i,o,s,a,c;switch(t){case">":i=ofe,o=k$e,s=sfe,a=">",c=">=";break;case"<":i=sfe,o=A$e,s=ofe,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I$e(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(m=>{m.semver===x$e&&(m=new afe(">=0.0.0")),d=d||m,f=f||m,i(m.semver,d.semver,n)?d=m:s(m.semver,f.semver,n)&&(f=m)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};cfe.exports=L$e});var lfe=E((aNt,ufe)=>{var M$e=KN(),N$e=(r,e,t)=>M$e(r,e,">",t);ufe.exports=N$e});var ffe=E((cNt,dfe)=>{var F$e=KN(),q$e=(r,e,t)=>F$e(r,e,"<",t);dfe.exports=q$e});var mfe=E((uNt,pfe)=>{var hfe=iv(),j$e=(r,e,t)=>(r=new hfe(r,t),e=new hfe(e,t),r.intersects(e,t));pfe.exports=j$e});var vfe=E((lNt,gfe)=>{var z$e=nE(),U$e=nv();gfe.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>U$e(l,d,t));for(let l of s)z$e(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var Cfe=E((dNt,Sfe)=>{var yfe=iv(),Y4=uI(),{ANY:K4}=Y4,dI=nE(),J4=nv(),H$e=(r,e,t={})=>{if(r===e)return!0;r=new yfe(r,t),e=new yfe(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=W$e(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},B$e=[new Y4(">=0.0.0-0")],_fe=[new Y4(">=0.0.0")],W$e=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===K4){if(e.length===1&&e[0].semver===K4)return!0;t.includePrerelease?r=B$e:r=_fe}if(e.length===1&&e[0].semver===K4){if(t.includePrerelease)return!0;e=_fe}let n=new Set,i,o;for(let m of r)m.operator===">"||m.operator===">="?i=bfe(i,m,t):m.operator==="<"||m.operator==="<="?o=wfe(o,m,t):n.add(m.semver);if(n.size>1)return null;let s;if(i&&o){if(s=J4(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let m of n){if(i&&!dI(m,String(i),t)||o&&!dI(m,String(o),t))return null;for(let _ of e)if(!dI(m,String(_),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of e){if(l=l||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator===">"||m.operator===">="){if(a=bfe(i,m,t),a===m&&a!==i)return!1}else if(i.operator===">="&&!dI(i.semver,String(m),t))return!1}if(o){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=wfe(o,m,t),c===m&&c!==o)return!1}else if(o.operator==="<="&&!dI(o.semver,String(m),t))return!1}if(!m.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},bfe=(r,e,t)=>{if(!r)return e;let n=J4(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},wfe=(r,e,t)=>{if(!r)return e;let n=J4(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};Sfe.exports=H$e});var XS=E((fNt,Efe)=>{var X4=Z0(),Dfe=iI(),$$e=Nf(),Tfe=A4(),V$e=JS(),G$e=Wle(),K$e=Vle(),Y$e=Yle(),J$e=Qle(),X$e=ede(),Q$e=rde(),Z$e=ide(),e3e=sde(),t3e=nv(),r3e=lde(),n3e=fde(),i3e=UN(),o3e=gde(),s3e=yde(),a3e=sI(),c3e=HN(),u3e=M4(),l3e=N4(),d3e=BN(),f3e=WN(),h3e=F4(),p3e=Pde(),m3e=uI(),g3e=iv(),v3e=nE(),y3e=Yde(),_3e=Xde(),b3e=Zde(),w3e=rfe(),S3e=ife(),C3e=KN(),D3e=lfe(),T3e=ffe(),E3e=mfe(),P3e=vfe(),R3e=Cfe();Efe.exports={parse:V$e,valid:G$e,clean:K$e,inc:Y$e,diff:J$e,major:X$e,minor:Q$e,patch:Z$e,prerelease:e3e,compare:t3e,rcompare:r3e,compareLoose:n3e,compareBuild:i3e,sort:o3e,rsort:s3e,gt:a3e,lt:c3e,eq:u3e,neq:l3e,gte:d3e,lte:f3e,cmp:h3e,coerce:p3e,Comparator:m3e,Range:g3e,satisfies:v3e,toComparators:y3e,maxSatisfying:_3e,minSatisfying:b3e,minVersion:w3e,validRange:S3e,outside:C3e,gtr:D3e,ltr:T3e,intersects:E3e,simplifyRange:P3e,subset:R3e,SemVer:$$e,re:X4.re,src:X4.src,tokens:X4.t,SEMVER_SPEC_VERSION:Dfe.SEMVER_SPEC_VERSION,RELEASE_TYPES:Dfe.RELEASE_TYPES,compareIdentifiers:Tfe.compareIdentifiers,rcompareIdentifiers:Tfe.rcompareIdentifiers}});var $p=E(t6=>{"use strict";t6.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};t6.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var Ffe=E((xNt,Nfe)=>{var tC=require("constants"),F3e=process.cwd,aF=null,q3e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return aF||(aF=F3e.call(process)),aF};try{process.cwd()}catch{}typeof process.chdir=="function"&&(r6=process.chdir,process.chdir=function(r){aF=null,r6.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,r6));var r6;Nfe.exports=j3e;function j3e(r){tC.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,m){m&&process.nextTick(m)},r.lchownSync=function(){}),q3e==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,m,_){var T=Date.now(),x=0;l(f,m,function M(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-T<6e4){setTimeout(function(){r.stat(m,function(U,ne){U&&U.code==="ENOENT"?l(f,m,M):_(A)})},x),x<100&&(x+=10);return}_&&_(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,m,_,T,x,M){var A;if(M&&typeof M=="function"){var U=0;A=function(ne,de,ye){if(ne&&ne.code==="EAGAIN"&&U<10)return U++,l.call(r,f,m,_,T,x,A);M.apply(this,arguments)}}return l.call(r,f,m,_,T,x,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,m,_,T){for(var x=0;;)try{return l.call(r,d,f,m,_,T)}catch(M){if(M.code==="EAGAIN"&&x<10){x++;continue}throw M}}}(r.readSync);function e(l){l.lchmod=function(d,f,m){l.open(d,tC.O_WRONLY|tC.O_SYMLINK,f,function(_,T){if(_){m&&m(_);return}l.fchmod(T,f,function(x){l.close(T,function(M){m&&m(x||M)})})})},l.lchmodSync=function(d,f){var m=l.openSync(d,tC.O_WRONLY|tC.O_SYMLINK,f),_=!0,T;try{T=l.fchmodSync(m,f),_=!1}finally{if(_)try{l.closeSync(m)}catch{}else l.closeSync(m)}return T}}function t(l){tC.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,m,_){l.open(d,tC.O_SYMLINK,function(T,x){if(T){_&&_(T);return}l.futimes(x,f,m,function(M){l.close(x,function(A){_&&_(M||A)})})})},l.lutimesSync=function(d,f,m){var _=l.openSync(d,tC.O_SYMLINK),T,x=!0;try{T=l.futimesSync(_,f,m),x=!1}finally{if(x)try{l.closeSync(_)}catch{}else l.closeSync(_)}return T}):l.futimes&&(l.lutimes=function(d,f,m,_){_&&process.nextTick(_)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,m){return l.call(r,d,f,function(_){u(_)&&(_=null),m&&m.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(m){if(!u(m))throw m}}}function o(l){return l&&function(d,f,m,_){return l.call(r,d,f,m,function(T){u(T)&&(T=null),_&&_.apply(this,arguments)})}}function s(l){return l&&function(d,f,m){try{return l.call(r,d,f,m)}catch(_){if(!u(_))throw _}}}function a(l){return l&&function(d,f,m){typeof f=="function"&&(m=f,f=null);function _(T,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),m&&m.apply(this,arguments)}return f?l.call(r,d,f,_):l.call(r,d,_)}}function c(l){return l&&function(d,f){var m=f?l.call(r,d,f):l.call(r,d);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var zfe=E((ONt,jfe)=>{var qfe=require("stream").Stream;jfe.exports=z3e;function z3e(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);qfe.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);qfe.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Hfe=E((INt,Ufe)=>{"use strict";Ufe.exports=H3e;var U3e=Object.getPrototypeOf||function(r){return r.__proto__};function H3e(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:U3e(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var Ff=E((kNt,o6)=>{var Nc=require("fs"),B3e=Ffe(),W3e=zfe(),$3e=Hfe(),cF=require("util"),Yd,lF;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Yd=Symbol.for("graceful-fs.queue"),lF=Symbol.for("graceful-fs.previous")):(Yd="___graceful-fs.queue",lF="___graceful-fs.previous");function V3e(){}function $fe(r,e){Object.defineProperty(r,Yd,{get:function(){return e}})}var nT=V3e;cF.debuglog?nT=cF.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(nT=function(){var r=cF.format.apply(cF,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});Nc[Yd]||(Bfe=global[Yd]||[],$fe(Nc,Bfe),Nc.close=function(r){function e(t,n){return r.call(Nc,t,function(i){i||Wfe(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,lF,{value:r}),e}(Nc.close),Nc.closeSync=function(r){function e(t){r.apply(Nc,arguments),Wfe()}return Object.defineProperty(e,lF,{value:r}),e}(Nc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){nT(Nc[Yd]),require("assert").equal(Nc[Yd].length,0)}));var Bfe;global[Yd]||$fe(global,Nc[Yd]);o6.exports=n6($3e(Nc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Nc.__patched&&(o6.exports=n6(Nc),Nc.__patched=!0);function n6(r){B3e(r),r.gracefulify=n6,r.createReadStream=de,r.createWriteStream=ye;var e=r.readFile;r.readFile=t;function t(ee,Se,se){return typeof Se=="function"&&(se=Se,Se=null),ce(ee,Se,se);function ce(qe,Ne,ue,De){return e(qe,Ne,function(we){we&&(we.code==="EMFILE"||we.code==="ENFILE")?aE([ce,[qe,Ne,ue],we,De||Date.now(),Date.now()]):typeof ue=="function"&&ue.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(ee,Se,se,ce){return typeof se=="function"&&(ce=se,se=null),qe(ee,Se,se,ce);function qe(Ne,ue,De,we,xe){return n(Ne,ue,De,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?aE([qe,[Ne,ue,De,we],Me,xe||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(ee,Se,se,ce){return typeof se=="function"&&(ce=se,se=null),qe(ee,Se,se,ce);function qe(Ne,ue,De,we,xe){return o(Ne,ue,De,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?aE([qe,[Ne,ue,De,we],Me,xe||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(ee,Se,se,ce){return typeof se=="function"&&(ce=se,se=0),qe(ee,Se,se,ce);function qe(Ne,ue,De,we,xe){return a(Ne,ue,De,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?aE([qe,[Ne,ue,De,we],Me,xe||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(ee,Se,se){typeof Se=="function"&&(se=Se,Se=null);var ce=l.test(process.version)?function(ue,De,we,xe){return u(ue,qe(ue,De,we,xe))}:function(ue,De,we,xe){return u(ue,De,qe(ue,De,we,xe))};return ce(ee,Se,se);function qe(Ne,ue,De,we){return function(xe,Me){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?aE([ce,[Ne,ue,De],xe,we||Date.now(),Date.now()]):(Me&&Me.sort&&Me.sort(),typeof De=="function"&&De.call(this,xe,Me))}}}if(process.version.substr(0,4)==="v0.8"){var f=W3e(r);M=f.ReadStream,U=f.WriteStream}var m=r.ReadStream;m&&(M.prototype=Object.create(m.prototype),M.prototype.open=A);var _=r.WriteStream;_&&(U.prototype=Object.create(_.prototype),U.prototype.open=ne),Object.defineProperty(r,"ReadStream",{get:function(){return M},set:function(ee){M=ee},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return U},set:function(ee){U=ee},enumerable:!0,configurable:!0});var T=M;Object.defineProperty(r,"FileReadStream",{get:function(){return T},set:function(ee){T=ee},enumerable:!0,configurable:!0});var x=U;Object.defineProperty(r,"FileWriteStream",{get:function(){return x},set:function(ee){x=ee},enumerable:!0,configurable:!0});function M(ee,Se){return this instanceof M?(m.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function A(){var ee=this;W(ee.path,ee.flags,ee.mode,function(Se,se){Se?(ee.autoClose&&ee.destroy(),ee.emit("error",Se)):(ee.fd=se,ee.emit("open",se),ee.read())})}function U(ee,Se){return this instanceof U?(_.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function ne(){var ee=this;W(ee.path,ee.flags,ee.mode,function(Se,se){Se?(ee.destroy(),ee.emit("error",Se)):(ee.fd=se,ee.emit("open",se))})}function de(ee,Se){return new r.ReadStream(ee,Se)}function ye(ee,Se){return new r.WriteStream(ee,Se)}var V=r.open;r.open=W;function W(ee,Se,se,ce){return typeof se=="function"&&(ce=se,se=null),qe(ee,Se,se,ce);function qe(Ne,ue,De,we,xe){return V(Ne,ue,De,function(Me,$e){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?aE([qe,[Ne,ue,De,we],Me,xe||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}return r}function aE(r){nT("ENQUEUE",r[0].name,r[1]),Nc[Yd].push(r),i6()}var uF;function Wfe(){for(var r=Date.now(),e=0;e<Nc[Yd].length;++e)Nc[Yd][e].length>2&&(Nc[Yd][e][3]=r,Nc[Yd][e][4]=r);i6()}function i6(){if(clearTimeout(uF),uF=void 0,Nc[Yd].length!==0){var r=Nc[Yd].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)nT("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){nT("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(nT("RETRY",e.name,t),e.apply(null,t.concat([i]))):Nc[Yd].push(r)}uF===void 0&&(uF=setTimeout(i6,0))}}});var mI=E(rC=>{"use strict";var Vfe=$p().fromCallback,Uh=Ff(),G3e=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof Uh[r]=="function");Object.keys(Uh).forEach(r=>{r!=="promises"&&(rC[r]=Uh[r])});G3e.forEach(r=>{rC[r]=Vfe(Uh[r])});rC.exists=function(r,e){return typeof e=="function"?Uh.exists(r,e):new Promise(t=>Uh.exists(r,t))};rC.read=function(r,e,t,n,i,o){return typeof o=="function"?Uh.read(r,e,t,n,i,o):new Promise((s,a)=>{Uh.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};rC.write=function(r,e,...t){return typeof t[t.length-1]=="function"?Uh.write(r,e,...t):new Promise((n,i)=>{Uh.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};typeof Uh.writev=="function"&&(rC.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?Uh.writev(r,e,...t):new Promise((n,i)=>{Uh.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})});typeof Uh.realpath.native=="function"&&(rC.realpath.native=Vfe(Uh.realpath.native))});var s6=E((LNt,Gfe)=>{Gfe.exports=r=>{let e=process.versions.node.split(".").map(t=>parseInt(t,10));return r=r.split(".").map(t=>parseInt(t,10)),e[0]>r[0]||e[0]===r[0]&&(e[1]>r[1]||e[1]===r[1]&&e[2]>=r[2])}});var Qfe=E((MNt,a6)=>{"use strict";var cE=mI(),cw=require("path"),K3e=s6(),Kfe=K3e("10.12.0"),Yfe=r=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace(cw.parse(r).root,""))){let t=new Error(`Path contains invalid characters: ${r}`);throw t.code="EINVAL",t}},Jfe=r=>{let e={mode:511};return typeof r=="number"&&(r={mode:r}),{...e,...r}},Xfe=r=>{let e=new Error(`operation not permitted, mkdir '${r}'`);return e.code="EPERM",e.errno=-4048,e.path=r,e.syscall="mkdir",e};a6.exports.makeDir=async(r,e)=>{if(Yfe(r),e=Jfe(e),Kfe){let n=cw.resolve(r);return cE.mkdir(n,{mode:e.mode,recursive:!0})}let t=async n=>{try{await cE.mkdir(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(cw.dirname(n)===n)throw Xfe(n);if(i.message.includes("null bytes"))throw i;return await t(cw.dirname(n)),t(n)}try{if(!(await cE.stat(n)).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(cw.resolve(r))};a6.exports.makeDirSync=(r,e)=>{if(Yfe(r),e=Jfe(e),Kfe){let n=cw.resolve(r);return cE.mkdirSync(n,{mode:e.mode,recursive:!0})}let t=n=>{try{cE.mkdirSync(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(cw.dirname(n)===n)throw Xfe(n);if(i.message.includes("null bytes"))throw i;return t(cw.dirname(n)),t(n)}try{if(!cE.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(cw.resolve(r))}});var fy=E((NNt,Zfe)=>{"use strict";var Y3e=$p().fromPromise,{makeDir:J3e,makeDirSync:c6}=Qfe(),u6=Y3e(J3e);Zfe.exports={mkdirs:u6,mkdirsSync:c6,mkdirp:u6,mkdirpSync:c6,ensureDir:u6,ensureDirSync:c6}});var l6=E((FNt,ehe)=>{"use strict";var uE=Ff();function X3e(r,e,t,n){uE.open(r,"r+",(i,o)=>{if(i)return n(i);uE.futimes(o,e,t,s=>{uE.close(o,a=>{n&&n(s||a)})})})}function Q3e(r,e,t){let n=uE.openSync(r,"r+");return uE.futimesSync(n,e,t),uE.closeSync(n)}ehe.exports={utimesMillis:X3e,utimesMillisSync:Q3e}});var gI=E((qNt,ihe)=>{"use strict";var lE=mI(),Vp=require("path"),Z3e=require("util"),eVe=s6(),dF=eVe("10.5.0"),the=r=>dF?lE.stat(r,{bigint:!0}):lE.stat(r),d6=r=>dF?lE.statSync(r,{bigint:!0}):lE.statSync(r);function tVe(r,e){return Promise.all([the(r),the(e).catch(t=>{if(t.code==="ENOENT")return null;throw t})]).then(([t,n])=>({srcStat:t,destStat:n}))}function rVe(r,e){let t,n=d6(r);try{t=d6(e)}catch(i){if(i.code==="ENOENT")return{srcStat:n,destStat:null};throw i}return{srcStat:n,destStat:t}}function nVe(r,e,t,n){Z3e.callbackify(tVe)(r,e,(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;return a&&fF(s,a)?n(new Error("Source and destination must not be the same.")):s.isDirectory()&&f6(r,e)?n(new Error(hF(r,e,t))):n(null,{srcStat:s,destStat:a})})}function iVe(r,e,t){let{srcStat:n,destStat:i}=rVe(r,e);if(i&&fF(n,i))throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&f6(r,e))throw new Error(hF(r,e,t));return{srcStat:n,destStat:i}}function rhe(r,e,t,n,i){let o=Vp.resolve(Vp.dirname(r)),s=Vp.resolve(Vp.dirname(t));if(s===o||s===Vp.parse(s).root)return i();let a=(c,u)=>c?c.code==="ENOENT"?i():i(c):fF(e,u)?i(new Error(hF(r,t,n))):rhe(r,e,s,n,i);dF?lE.stat(s,{bigint:!0},a):lE.stat(s,a)}function nhe(r,e,t,n){let i=Vp.resolve(Vp.dirname(r)),o=Vp.resolve(Vp.dirname(t));if(o===i||o===Vp.parse(o).root)return;let s;try{s=d6(o)}catch(a){if(a.code==="ENOENT")return;throw a}if(fF(e,s))throw new Error(hF(r,t,n));return nhe(r,e,o,n)}function fF(r,e){return!!(e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev&&(dF||e.ino<Number.MAX_SAFE_INTEGER||e.size===r.size&&e.mode===r.mode&&e.nlink===r.nlink&&e.atimeMs===r.atimeMs&&e.mtimeMs===r.mtimeMs&&e.ctimeMs===r.ctimeMs&&e.birthtimeMs===r.birthtimeMs))}function f6(r,e){let t=Vp.resolve(r).split(Vp.sep).filter(i=>i),n=Vp.resolve(e).split(Vp.sep).filter(i=>i);return t.reduce((i,o,s)=>i&&n[s]===o,!0)}function hF(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}ihe.exports={checkPaths:nVe,checkPathsSync:iVe,checkParentPaths:rhe,checkParentPathsSync:nhe,isSrcSubdir:f6}});var uhe=E((jNt,che)=>{"use strict";var qf=Ff(),vI=require("path"),oVe=fy().mkdirsSync,sVe=l6().utimesMillisSync,yI=gI();function aVe(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=yI.checkPathsSync(r,e,"copy");return yI.checkParentPathsSync(r,n,e,"copy"),cVe(i,r,e,t)}function cVe(r,e,t,n){if(n.filter&&!n.filter(e,t))return;let i=vI.dirname(t);return qf.existsSync(i)||oVe(i),ohe(r,e,t,n)}function ohe(r,e,t,n){if(!(n.filter&&!n.filter(e,t)))return uVe(r,e,t,n)}function uVe(r,e,t,n){let o=(n.dereference?qf.statSync:qf.lstatSync)(e);if(o.isDirectory())return gVe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return lVe(o,r,e,t,n);if(o.isSymbolicLink())return _Ve(r,e,t,n)}function lVe(r,e,t,n,i){return e?dVe(r,t,n,i):she(r,t,n,i)}function dVe(r,e,t,n){if(n.overwrite)return qf.unlinkSync(t),she(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function she(r,e,t,n){return qf.copyFileSync(e,t),n.preserveTimestamps&&fVe(r.mode,e,t),h6(t,r.mode)}function fVe(r,e,t){return hVe(r)&&pVe(t,r),mVe(e,t)}function hVe(r){return(r&128)===0}function pVe(r,e){return h6(r,e|128)}function h6(r,e){return qf.chmodSync(r,e)}function mVe(r,e){let t=qf.statSync(r);return sVe(e,t.atime,t.mtime)}function gVe(r,e,t,n,i){if(!e)return vVe(r.mode,t,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`);return ahe(t,n,i)}function vVe(r,e,t,n){return qf.mkdirSync(t),ahe(e,t,n),h6(t,r)}function ahe(r,e,t){qf.readdirSync(r).forEach(n=>yVe(n,r,e,t))}function yVe(r,e,t,n){let i=vI.join(e,r),o=vI.join(t,r),{destStat:s}=yI.checkPathsSync(i,o,"copy");return ohe(s,i,o,n)}function _Ve(r,e,t,n){let i=qf.readlinkSync(e);if(n.dereference&&(i=vI.resolve(process.cwd(),i)),r){let o;try{o=qf.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return qf.symlinkSync(i,t);throw s}if(n.dereference&&(o=vI.resolve(process.cwd(),o)),yI.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(qf.statSync(t).isDirectory()&&yI.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return bVe(i,t)}else return qf.symlinkSync(i,t)}function bVe(r,e){return qf.unlinkSync(e),qf.symlinkSync(r,e)}che.exports=aVe});var p6=E((zNt,lhe)=>{"use strict";lhe.exports={copySync:uhe()}});var nC=E((UNt,fhe)=>{"use strict";var wVe=$p().fromPromise,dhe=mI();function SVe(r){return dhe.access(r).then(()=>!0).catch(()=>!1)}fhe.exports={pathExists:wVe(SVe),pathExistsSync:dhe.existsSync}});var whe=E((HNt,bhe)=>{"use strict";var Gp=Ff(),_I=require("path"),CVe=fy().mkdirs,DVe=nC().pathExists,TVe=l6().utimesMillis,bI=gI();function EVe(r,e,t,n){typeof t=="function"&&!n?(n=t,t={}):typeof t=="function"&&(t={filter:t}),n=n||function(){},t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),bI.checkPaths(r,e,"copy",(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;bI.checkParentPaths(r,s,e,"copy",c=>c?n(c):t.filter?ghe(hhe,a,r,e,t,n):hhe(a,r,e,t,n))})}function hhe(r,e,t,n,i){let o=_I.dirname(t);DVe(o,(s,a)=>{if(s)return i(s);if(a)return m6(r,e,t,n,i);CVe(o,c=>c?i(c):m6(r,e,t,n,i))})}function ghe(r,e,t,n,i,o){Promise.resolve(i.filter(t,n)).then(s=>s?r(e,t,n,i,o):o(),s=>o(s))}function m6(r,e,t,n,i){return n.filter?ghe(phe,r,e,t,n,i):phe(r,e,t,n,i)}function phe(r,e,t,n,i){(n.dereference?Gp.stat:Gp.lstat)(e,(s,a)=>{if(s)return i(s);if(a.isDirectory())return AVe(a,r,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return PVe(a,r,e,t,n,i);if(a.isSymbolicLink())return NVe(r,e,t,n,i)})}function PVe(r,e,t,n,i,o){return e?RVe(r,t,n,i,o):vhe(r,t,n,i,o)}function RVe(r,e,t,n,i){if(n.overwrite)Gp.unlink(t,o=>o?i(o):vhe(r,e,t,n,i));else return n.errorOnExist?i(new Error(`'${t}' already exists`)):i()}function vhe(r,e,t,n,i){Gp.copyFile(e,t,o=>o?i(o):n.preserveTimestamps?xVe(r.mode,e,t,i):pF(t,r.mode,i))}function xVe(r,e,t,n){return OVe(r)?IVe(t,r,i=>i?n(i):mhe(r,e,t,n)):mhe(r,e,t,n)}function OVe(r){return(r&128)===0}function IVe(r,e,t){return pF(r,e|128,t)}function mhe(r,e,t,n){kVe(e,t,i=>i?n(i):pF(t,r,n))}function pF(r,e,t){return Gp.chmod(r,e,t)}function kVe(r,e,t){Gp.stat(r,(n,i)=>n?t(n):TVe(e,i.atime,i.mtime,t))}function AVe(r,e,t,n,i,o){return e?e&&!e.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`)):yhe(t,n,i,o):LVe(r.mode,t,n,i,o)}function LVe(r,e,t,n,i){Gp.mkdir(t,o=>{if(o)return i(o);yhe(e,t,n,s=>s?i(s):pF(t,r,i))})}function yhe(r,e,t,n){Gp.readdir(r,(i,o)=>i?n(i):_he(o,r,e,t,n))}function _he(r,e,t,n,i){let o=r.pop();return o?MVe(r,o,e,t,n,i):i()}function MVe(r,e,t,n,i,o){let s=_I.join(t,e),a=_I.join(n,e);bI.checkPaths(s,a,"copy",(c,u)=>{if(c)return o(c);let{destStat:l}=u;m6(l,s,a,i,d=>d?o(d):_he(r,t,n,i,o))})}function NVe(r,e,t,n,i){Gp.readlink(e,(o,s)=>{if(o)return i(o);if(n.dereference&&(s=_I.resolve(process.cwd(),s)),r)Gp.readlink(t,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Gp.symlink(s,t,i):i(a):(n.dereference&&(c=_I.resolve(process.cwd(),c)),bI.isSrcSubdir(s,c)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${c}'.`)):r.isDirectory()&&bI.isSrcSubdir(c,s)?i(new Error(`Cannot overwrite '${c}' with '${s}'.`)):FVe(s,t,i)));else return Gp.symlink(s,t,i)})}function FVe(r,e,t){Gp.unlink(e,n=>n?t(n):Gp.symlink(r,e,t))}bhe.exports=EVe});var g6=E((BNt,She)=>{"use strict";var qVe=$p().fromCallback;She.exports={copy:qVe(whe())}});var Ihe=E((WNt,Ohe)=>{"use strict";var Che=Ff(),Phe=require("path"),da=require("assert"),wI=process.platform==="win32";function Rhe(r){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{r[t]=r[t]||Che[t],t=t+"Sync",r[t]=r[t]||Che[t]}),r.maxBusyTries=r.maxBusyTries||3}function v6(r,e,t){let n=0;typeof e=="function"&&(t=e,e={}),da(r,"rimraf: missing path"),da.strictEqual(typeof r,"string","rimraf: path should be a string"),da.strictEqual(typeof t,"function","rimraf: callback function required"),da(e,"rimraf: invalid options argument provided"),da.strictEqual(typeof e,"object","rimraf: options should be object"),Rhe(e),Dhe(r,e,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<e.maxBusyTries){n++;let s=n*100;return setTimeout(()=>Dhe(r,e,i),s)}o.code==="ENOENT"&&(o=null)}t(o)})}function Dhe(r,e,t){da(r),da(e),da(typeof t=="function"),e.lstat(r,(n,i)=>{if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&wI)return The(r,e,n,t);if(i&&i.isDirectory())return mF(r,e,n,t);e.unlink(r,o=>{if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return wI?The(r,e,o,t):mF(r,e,o,t);if(o.code==="EISDIR")return mF(r,e,o,t)}return t(o)})})}function The(r,e,t,n){da(r),da(e),da(typeof n=="function"),e.chmod(r,438,i=>{i?n(i.code==="ENOENT"?null:t):e.stat(r,(o,s)=>{o?n(o.code==="ENOENT"?null:t):s.isDirectory()?mF(r,e,t,n):e.unlink(r,n)})})}function Ehe(r,e,t){let n;da(r),da(e);try{e.chmodSync(r,438)}catch(i){if(i.code==="ENOENT")return;throw t}try{n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?gF(r,e,t):e.unlinkSync(r)}function mF(r,e,t,n){da(r),da(e),da(typeof n=="function"),e.rmdir(r,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?jVe(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function jVe(r,e,t){da(r),da(e),da(typeof t=="function"),e.readdir(r,(n,i)=>{if(n)return t(n);let o=i.length,s;if(o===0)return e.rmdir(r,t);i.forEach(a=>{v6(Phe.join(r,a),e,c=>{if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function xhe(r,e){let t;e=e||{},Rhe(e),da(r,"rimraf: missing path"),da.strictEqual(typeof r,"string","rimraf: path should be a string"),da(e,"rimraf: missing options"),da.strictEqual(typeof e,"object","rimraf: options should be object");try{t=e.lstatSync(r)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&wI&&Ehe(r,e,n)}try{t&&t.isDirectory()?gF(r,e,null):e.unlinkSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return wI?Ehe(r,e,n):gF(r,e,n);if(n.code!=="EISDIR")throw n;gF(r,e,n)}}function gF(r,e,t){da(r),da(e);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOTDIR")throw t;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")zVe(r,e);else if(n.code!=="ENOENT")throw n}}function zVe(r,e){if(da(r),da(e),e.readdirSync(r).forEach(t=>xhe(Phe.join(r,t),e)),wI){let t=Date.now();do try{return e.rmdirSync(r,e)}catch{}while(Date.now()-t<500)}else return e.rmdirSync(r,e)}Ohe.exports=v6;v6.sync=xhe});var SI=E(($Nt,Ahe)=>{"use strict";var UVe=$p().fromCallback,khe=Ihe();Ahe.exports={remove:UVe(khe),removeSync:khe.sync}});var Uhe=E((VNt,zhe)=>{"use strict";var HVe=$p().fromCallback,Nhe=Ff(),Fhe=require("path"),qhe=fy(),jhe=SI(),Lhe=HVe(function(e,t){t=t||function(){},Nhe.readdir(e,(n,i)=>{if(n)return qhe.mkdirs(e,t);i=i.map(s=>Fhe.join(e,s)),o();function o(){let s=i.pop();if(!s)return t();jhe.remove(s,a=>{if(a)return t(a);o()})}})});function Mhe(r){let e;try{e=Nhe.readdirSync(r)}catch{return qhe.mkdirsSync(r)}e.forEach(t=>{t=Fhe.join(r,t),jhe.removeSync(t)})}zhe.exports={emptyDirSync:Mhe,emptydirSync:Mhe,emptyDir:Lhe,emptydir:Lhe}});var $he=E((GNt,Whe)=>{"use strict";var BVe=$p().fromCallback,Hhe=require("path"),iC=Ff(),Bhe=fy();function WVe(r,e){function t(){iC.writeFile(r,"",n=>{if(n)return e(n);e()})}iC.stat(r,(n,i)=>{if(!n&&i.isFile())return e();let o=Hhe.dirname(r);iC.stat(o,(s,a)=>{if(s)return s.code==="ENOENT"?Bhe.mkdirs(o,c=>{if(c)return e(c);t()}):e(s);a.isDirectory()?t():iC.readdir(o,c=>{if(c)return e(c)})})})}function $Ve(r){let e;try{e=iC.statSync(r)}catch{}if(e&&e.isFile())return;let t=Hhe.dirname(r);try{iC.statSync(t).isDirectory()||iC.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")Bhe.mkdirsSync(t);else throw n}iC.writeFileSync(r,"")}Whe.exports={createFile:BVe(WVe),createFileSync:$Ve}});var Jhe=E((KNt,Yhe)=>{"use strict";var VVe=$p().fromCallback,Ghe=require("path"),iT=Ff(),Khe=fy(),Vhe=nC().pathExists;function GVe(r,e,t){function n(i,o){iT.link(i,o,s=>{if(s)return t(s);t(null)})}Vhe(e,(i,o)=>{if(i)return t(i);if(o)return t(null);iT.lstat(r,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),t(s);let a=Ghe.dirname(e);Vhe(a,(c,u)=>{if(c)return t(c);if(u)return n(r,e);Khe.mkdirs(a,l=>{if(l)return t(l);n(r,e)})})})})}function KVe(r,e){if(iT.existsSync(e))return;try{iT.lstatSync(r)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Ghe.dirname(e);return iT.existsSync(n)||Khe.mkdirsSync(n),iT.linkSync(r,e)}Yhe.exports={createLink:VVe(GVe),createLinkSync:KVe}});var Qhe=E((YNt,Xhe)=>{"use strict";var oC=require("path"),CI=Ff(),YVe=nC().pathExists;function JVe(r,e,t){if(oC.isAbsolute(r))return CI.lstat(r,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),t(n)):t(null,{toCwd:r,toDst:r}));{let n=oC.dirname(e),i=oC.join(n,r);return YVe(i,(o,s)=>o?t(o):s?t(null,{toCwd:i,toDst:r}):CI.lstat(r,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),t(a)):t(null,{toCwd:r,toDst:oC.relative(n,r)})))}}function XVe(r,e){let t;if(oC.isAbsolute(r)){if(t=CI.existsSync(r),!t)throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}else{let n=oC.dirname(e),i=oC.join(n,r);if(t=CI.existsSync(i),t)return{toCwd:i,toDst:r};if(t=CI.existsSync(r),!t)throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:oC.relative(n,r)}}}Xhe.exports={symlinkPaths:JVe,symlinkPathsSync:XVe}});var tpe=E((JNt,epe)=>{"use strict";var Zhe=Ff();function QVe(r,e,t){if(t=typeof e=="function"?e:t,e=typeof e=="function"?!1:e,e)return t(null,e);Zhe.lstat(r,(n,i)=>{if(n)return t(null,"file");e=i&&i.isDirectory()?"dir":"file",t(null,e)})}function ZVe(r,e){let t;if(e)return e;try{t=Zhe.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}epe.exports={symlinkType:QVe,symlinkTypeSync:ZVe}});var cpe=E((XNt,ape)=>{"use strict";var e4e=$p().fromCallback,npe=require("path"),dE=Ff(),ipe=fy(),t4e=ipe.mkdirs,r4e=ipe.mkdirsSync,ope=Qhe(),n4e=ope.symlinkPaths,i4e=ope.symlinkPathsSync,spe=tpe(),o4e=spe.symlinkType,s4e=spe.symlinkTypeSync,rpe=nC().pathExists;function a4e(r,e,t,n){n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,rpe(e,(i,o)=>{if(i)return n(i);if(o)return n(null);n4e(r,e,(s,a)=>{if(s)return n(s);r=a.toDst,o4e(a.toCwd,t,(c,u)=>{if(c)return n(c);let l=npe.dirname(e);rpe(l,(d,f)=>{if(d)return n(d);if(f)return dE.symlink(r,e,u,n);t4e(l,m=>{if(m)return n(m);dE.symlink(r,e,u,n)})})})})})}function c4e(r,e,t){if(dE.existsSync(e))return;let i=i4e(r,e);r=i.toDst,t=s4e(i.toCwd,t);let o=npe.dirname(e);return dE.existsSync(o)||r4e(o),dE.symlinkSync(r,e,t)}ape.exports={createSymlink:e4e(a4e),createSymlinkSync:c4e}});var lpe=E((QNt,upe)=>{"use strict";var vF=$he(),yF=Jhe(),_F=cpe();upe.exports={createFile:vF.createFile,createFileSync:vF.createFileSync,ensureFile:vF.createFile,ensureFileSync:vF.createFileSync,createLink:yF.createLink,createLinkSync:yF.createLinkSync,ensureLink:yF.createLink,ensureLinkSync:yF.createLinkSync,createSymlink:_F.createSymlink,createSymlinkSync:_F.createSymlinkSync,ensureSymlink:_F.createSymlink,ensureSymlinkSync:_F.createSymlinkSync}});var bF=E((ZNt,dpe)=>{function u4e(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function l4e(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}dpe.exports={stringify:u4e,stripBom:l4e}});var mpe=E((eFt,ppe)=>{var fE;try{fE=Ff()}catch{fE=require("fs")}var wF=$p(),{stringify:fpe,stripBom:hpe}=bF();async function d4e(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||fE,n="throws"in e?e.throws:!0,i=await wF.fromCallback(t.readFile)(r,e);i=hpe(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var f4e=wF.fromPromise(d4e);function h4e(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||fE,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=hpe(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function p4e(r,e,t={}){let n=t.fs||fE,i=fpe(e,t);await wF.fromCallback(n.writeFile)(r,i,t)}var m4e=wF.fromPromise(p4e);function g4e(r,e,t={}){let n=t.fs||fE,i=fpe(e,t);return n.writeFileSync(r,i,t)}var v4e={readFile:f4e,readFileSync:h4e,writeFile:m4e,writeFileSync:g4e};ppe.exports=v4e});var vpe=E((tFt,gpe)=>{"use strict";var SF=mpe();gpe.exports={readJson:SF.readFile,readJsonSync:SF.readFileSync,writeJson:SF.writeFile,writeJsonSync:SF.writeFileSync}});var CF=E((rFt,bpe)=>{"use strict";var y4e=$p().fromCallback,DI=Ff(),ype=require("path"),_pe=fy(),_4e=nC().pathExists;function b4e(r,e,t,n){typeof t=="function"&&(n=t,t="utf8");let i=ype.dirname(r);_4e(i,(o,s)=>{if(o)return n(o);if(s)return DI.writeFile(r,e,t,n);_pe.mkdirs(i,a=>{if(a)return n(a);DI.writeFile(r,e,t,n)})})}function w4e(r,...e){let t=ype.dirname(r);if(DI.existsSync(t))return DI.writeFileSync(r,...e);_pe.mkdirsSync(t),DI.writeFileSync(r,...e)}bpe.exports={outputFile:y4e(b4e),outputFileSync:w4e}});var Spe=E((nFt,wpe)=>{"use strict";var{stringify:S4e}=bF(),{outputFile:C4e}=CF();async function D4e(r,e,t={}){let n=S4e(e,t);await C4e(r,n,t)}wpe.exports=D4e});var Dpe=E((iFt,Cpe)=>{"use strict";var{stringify:T4e}=bF(),{outputFileSync:E4e}=CF();function P4e(r,e,t){let n=T4e(e,t);E4e(r,n,t)}Cpe.exports=P4e});var Epe=E((oFt,Tpe)=>{"use strict";var R4e=$p().fromPromise,Hh=vpe();Hh.outputJson=R4e(Spe());Hh.outputJsonSync=Dpe();Hh.outputJSON=Hh.outputJson;Hh.outputJSONSync=Hh.outputJsonSync;Hh.writeJSON=Hh.writeJson;Hh.writeJSONSync=Hh.writeJsonSync;Hh.readJSON=Hh.readJson;Hh.readJSONSync=Hh.readJsonSync;Tpe.exports=Hh});var kpe=E((sFt,Ipe)=>{"use strict";var xpe=Ff(),x4e=require("path"),O4e=p6().copySync,Ope=SI().removeSync,I4e=fy().mkdirpSync,Ppe=gI();function k4e(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i}=Ppe.checkPathsSync(r,e,"move");return Ppe.checkParentPathsSync(r,i,e,"move"),I4e(x4e.dirname(e)),A4e(r,e,n)}function A4e(r,e,t){if(t)return Ope(e),Rpe(r,e,t);if(xpe.existsSync(e))throw new Error("dest already exists.");return Rpe(r,e,t)}function Rpe(r,e,t){try{xpe.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return L4e(r,e,t)}}function L4e(r,e,t){return O4e(r,e,{overwrite:t,errorOnExist:!0}),Ope(r)}Ipe.exports=k4e});var Lpe=E((aFt,Ape)=>{"use strict";Ape.exports={moveSync:kpe()}});var jpe=E((cFt,qpe)=>{"use strict";var M4e=Ff(),N4e=require("path"),F4e=g6().copy,Fpe=SI().remove,q4e=fy().mkdirp,j4e=nC().pathExists,Mpe=gI();function z4e(r,e,t,n){typeof t=="function"&&(n=t,t={});let i=t.overwrite||t.clobber||!1;Mpe.checkPaths(r,e,"move",(o,s)=>{if(o)return n(o);let{srcStat:a}=s;Mpe.checkParentPaths(r,a,e,"move",c=>{if(c)return n(c);q4e(N4e.dirname(e),u=>u?n(u):U4e(r,e,i,n))})})}function U4e(r,e,t,n){if(t)return Fpe(e,i=>i?n(i):Npe(r,e,t,n));j4e(e,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):Npe(r,e,t,n))}function Npe(r,e,t,n){M4e.rename(r,e,i=>i?i.code!=="EXDEV"?n(i):H4e(r,e,t,n):n())}function H4e(r,e,t,n){F4e(r,e,{overwrite:t,errorOnExist:!0},o=>o?n(o):Fpe(r,n))}qpe.exports=z4e});var Upe=E((uFt,zpe)=>{"use strict";var B4e=$p().fromCallback;zpe.exports={move:B4e(jpe())}});var sC=E((lFt,y6)=>{"use strict";y6.exports={...mI(),...p6(),...g6(),...Uhe(),...lpe(),...Epe(),...fy(),...Lpe(),...Upe(),...CF(),...nC(),...SI()};var Hpe=require("fs");Object.getOwnPropertyDescriptor(Hpe,"promises")&&Object.defineProperty(y6.exports,"promises",{get(){return Hpe.promises}})});var pE=E(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});function V4e(r){return typeof r=="function"}R6.isFunction=V4e});var PI=E(O6=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});var x6=!1;O6.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else x6&&console.log("RxJS: Back to a better error behavior. Thank you. <3");x6=r},get useDeprecatedSynchronousErrorHandling(){return x6}}});var RF=E(I6=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});function G4e(r){setTimeout(function(){throw r},0)}I6.hostReportError=G4e});var A6=E(k6=>{"use strict";Object.defineProperty(k6,"__esModule",{value:!0});var K4e=PI(),Y4e=RF();k6.empty={closed:!0,next:function(r){},error:function(r){if(K4e.config.useDeprecatedSynchronousErrorHandling)throw r;Y4e.hostReportError(r)},complete:function(){}}});var Wh=E(L6=>{"use strict";Object.defineProperty(L6,"__esModule",{value:!0});L6.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var xF=E(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});function J4e(r){return r!==null&&typeof r=="object"}M6.isObject=J4e});var F6=E(N6=>{"use strict";Object.defineProperty(N6,"__esModule",{value:!0});var X4e=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();N6.UnsubscriptionError=X4e});var Dl=E(q6=>{"use strict";Object.defineProperty(q6,"__esModule",{value:!0});var Q4e=Wh(),Z4e=xF(),e6e=pE(),OF=F6(),t6e=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(e6e.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof OF.UnsubscriptionError?Vpe(d.errors):[d]}}if(Q4e.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(Z4e.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof OF.UnsubscriptionError?e=e.concat(Vpe(f.errors)):e.push(f)}}if(e)throw new OF.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();q6.Subscription=t6e;function Vpe(r){return r.reduce(function(e,t){return e.concat(t instanceof OF.UnsubscriptionError?t.errors:t)},[])}});var IF=E(RI=>{"use strict";Object.defineProperty(RI,"__esModule",{value:!0});RI.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();RI.$$rxSubscriber=RI.rxSubscriber});var gi=E(gE=>{"use strict";var Kpe=gE&&gE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gE,"__esModule",{value:!0});var Gpe=pE(),j6=A6(),r6e=Dl(),n6e=IF(),mE=PI(),kF=RF(),Ype=function(r){Kpe(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=j6.empty;break;case 1:if(!t){o.destination=j6.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new z6(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new z6(o,t,n,i);break}return o}return e.prototype[n6e.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(r6e.Subscription);gE.Subscriber=Ype;var z6=function(r){Kpe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return Gpe.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==j6.empty&&(c=Object.create(n),Gpe.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!mE.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=mE.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):kF.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;kF.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!mE.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),mE.config.useDeprecatedSynchronousErrorHandling)throw i;kF.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!mE.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return mE.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(kF.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Ype);gE.SafeSubscriber=z6});var AF=E(U6=>{"use strict";Object.defineProperty(U6,"__esModule",{value:!0});var i6e=gi();function o6e(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof i6e.Subscriber?r=n:r=null}return!0}U6.canReportError=o6e});var Xpe=E(B6=>{"use strict";Object.defineProperty(B6,"__esModule",{value:!0});var H6=gi(),Jpe=IF(),s6e=A6();function a6e(r,e,t){if(r){if(r instanceof H6.Subscriber)return r;if(r[Jpe.rxSubscriber])return r[Jpe.rxSubscriber]()}return!r&&!e&&!t?new H6.Subscriber(s6e.empty):new H6.Subscriber(r,e,t)}B6.toSubscriber=a6e});var sT=E(W6=>{"use strict";Object.defineProperty(W6,"__esModule",{value:!0});W6.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var uC=E($6=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});function c6e(r){return r}$6.identity=c6e});var MF=E(LF=>{"use strict";Object.defineProperty(LF,"__esModule",{value:!0});var u6e=uC();function l6e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Qpe(r)}LF.pipe=l6e;function Qpe(r){return r.length===0?u6e.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}LF.pipeFromArray=Qpe});var zo=E(V6=>{"use strict";Object.defineProperty(V6,"__esModule",{value:!0});var d6e=AF(),f6e=Xpe(),h6e=sT(),p6e=MF(),NF=PI(),m6e=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=f6e.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||NF.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),NF.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){NF.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),d6e.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Zpe(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[h6e.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:p6e.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Zpe(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();V6.Observable=m6e;function Zpe(r){if(r||(r=NF.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var xI=E(G6=>{"use strict";Object.defineProperty(G6,"__esModule",{value:!0});var g6e=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();G6.ObjectUnsubscribedError=g6e});var K6=E(OI=>{"use strict";var v6e=OI&&OI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OI,"__esModule",{value:!0});var y6e=Dl(),_6e=function(r){v6e(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(y6e.Subscription);OI.SubjectSubscription=_6e});var jf=E(aT=>{"use strict";var X6=aT&&aT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aT,"__esModule",{value:!0});var eme=zo(),b6e=gi(),Y6=Dl(),II=xI(),w6e=K6(),S6e=IF(),tme=function(r){X6(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(b6e.Subscriber);aT.SubjectSubscriber=tme;var rme=function(r){X6(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[S6e.rxSubscriber]=function(){return new tme(this)},e.prototype.lift=function(t){var n=new J6(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new II.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new II.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new II.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new II.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new II.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),Y6.Subscription.EMPTY):this.isStopped?(t.complete(),Y6.Subscription.EMPTY):(this.observers.push(t),new w6e.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new eme.Observable;return t.source=this,t},e.create=function(t,n){return new J6(t,n)},e}(eme.Observable);aT.Subject=rme;var J6=function(r){X6(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):Y6.Subscription.EMPTY},e}(rme);aT.AnonymousSubject=J6});var FF=E(kI=>{"use strict";var C6e=kI&&kI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kI,"__esModule",{value:!0});var D6e=gi();function T6e(){return function(e){return e.lift(new E6e(e))}}kI.refCount=T6e;var E6e=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new P6e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),P6e=function(r){C6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(D6e.Subscriber)});var Z6=E(vE=>{"use strict";var Q6=vE&&vE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vE,"__esModule",{value:!0});var R6e=jf(),x6e=zo(),O6e=gi(),nme=Dl(),I6e=FF(),ime=function(r){Q6(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new nme.Subscription,t.add(this.source.subscribe(new k6e(this.getSubject(),this))),t.closed&&(this._connection=null,t=nme.Subscription.EMPTY)),t},e.prototype.refCount=function(){return I6e.refCount()(this)},e}(x6e.Observable);vE.ConnectableObservable=ime;vE.connectableObservableDescriptor=function(){var r=ime.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var k6e=function(r){Q6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(R6e.SubjectSubscriber),MFt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new A6e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),A6e=function(r){Q6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(O6e.Subscriber)});var t5=E(yE=>{"use strict";var qF=yE&&yE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yE,"__esModule",{value:!0});var ome=gi(),sme=Dl(),L6e=zo(),M6e=jf();function N6e(r,e,t,n){return function(i){return i.lift(new F6e(r,e,t,n))}}yE.groupBy=N6e;var F6e=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new q6e(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),q6e=function(r){qF(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new M6e.Subject,i.set(n,o);var a=new e5(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new e5(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new j6e(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(ome.Subscriber),j6e=function(r){qF(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ome.Subscriber),e5=function(r){qF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new sme.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new z6e(o)),n.add(s.subscribe(t)),n},e}(L6e.Observable);yE.GroupedObservable=e5;var z6e=function(r){qF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(sme.Subscription)});var r5=E(AI=>{"use strict";var U6e=AI&&AI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AI,"__esModule",{value:!0});var H6e=jf(),B6e=xI(),W6e=function(r){U6e(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B6e.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(H6e.Subject);AI.BehaviorSubject=W6e});var ame=E(LI=>{"use strict";var $6e=LI&&LI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LI,"__esModule",{value:!0});var V6e=Dl(),G6e=function(r){$6e(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(V6e.Subscription);LI.Action=G6e});var _E=E(MI=>{"use strict";var K6e=MI&&MI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(MI,"__esModule",{value:!0});var Y6e=ame(),J6e=function(r){K6e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(Y6e.Action);MI.AsyncAction=J6e});var cme=E(NI=>{"use strict";var X6e=NI&&NI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(NI,"__esModule",{value:!0});var Q6e=_E(),Z6e=function(r){X6e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(Q6e.AsyncAction);NI.QueueAction=Z6e});var i5=E(n5=>{"use strict";Object.defineProperty(n5,"__esModule",{value:!0});var e5e=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();n5.Scheduler=e5e});var bE=E(FI=>{"use strict";var t5e=FI&&FI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FI,"__esModule",{value:!0});var ume=i5(),r5e=function(r){t5e(e,r);function e(t,n){n===void 0&&(n=ume.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(ume.Scheduler);FI.AsyncScheduler=r5e});var lme=E(qI=>{"use strict";var n5e=qI&&qI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qI,"__esModule",{value:!0});var i5e=bE(),o5e=function(r){n5e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(i5e.AsyncScheduler);qI.QueueScheduler=o5e});var o5=E(jI=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0});var s5e=cme(),a5e=lme();jI.queueScheduler=new a5e.QueueScheduler(s5e.QueueAction);jI.queue=jI.queueScheduler});var hy=E(zI=>{"use strict";Object.defineProperty(zI,"__esModule",{value:!0});var dme=zo();zI.EMPTY=new dme.Observable(function(r){return r.complete()});function c5e(r){return r?u5e(r):zI.EMPTY}zI.empty=c5e;function u5e(r){return new dme.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var py=E(s5=>{"use strict";Object.defineProperty(s5,"__esModule",{value:!0});function l5e(r){return r&&typeof r.schedule=="function"}s5.isScheduler=l5e});var c5=E(a5=>{"use strict";Object.defineProperty(a5,"__esModule",{value:!0});a5.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var jF=E(u5=>{"use strict";Object.defineProperty(u5,"__esModule",{value:!0});var d5e=zo(),f5e=Dl();function h5e(r,e){return new d5e.Observable(function(t){var n=new f5e.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}u5.scheduleArray=h5e});var wE=E(l5=>{"use strict";Object.defineProperty(l5,"__esModule",{value:!0});var p5e=zo(),m5e=c5(),g5e=jF();function v5e(r,e){return e?g5e.scheduleArray(r,e):new p5e.Observable(m5e.subscribeToArray(r))}l5.fromArray=v5e});var UI=E(d5=>{"use strict";Object.defineProperty(d5,"__esModule",{value:!0});var y5e=py(),_5e=wE(),b5e=jF();function w5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return y5e.isScheduler(t)?(r.pop(),b5e.scheduleArray(r,t)):_5e.fromArray(r)}d5.of=w5e});var zF=E(f5=>{"use strict";Object.defineProperty(f5,"__esModule",{value:!0});var fme=zo();function S5e(r,e){return e?new fme.Observable(function(t){return e.schedule(C5e,0,{error:r,subscriber:t})}):new fme.Observable(function(t){return t.error(r)})}f5.throwError=S5e;function C5e(r){var e=r.error,t=r.subscriber;t.error(e)}});var BI=E(HI=>{"use strict";Object.defineProperty(HI,"__esModule",{value:!0});var D5e=hy(),T5e=UI(),E5e=zF(),P5e;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(P5e=HI.NotificationKind||(HI.NotificationKind={}));var R5e=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return T5e.of(this.value);case"E":return E5e.throwError(this.error);case"C":return D5e.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();HI.Notification=R5e});var p5=E(lC=>{"use strict";var x5e=lC&&lC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lC,"__esModule",{value:!0});var O5e=gi(),h5=BI();function I5e(r,e){return e===void 0&&(e=0),function(n){return n.lift(new hme(r,e))}}lC.observeOn=I5e;var hme=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new pme(e,this.scheduler,this.delay))},r}();lC.ObserveOnOperator=hme;var pme=function(r){x5e(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new mme(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(h5.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(h5.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(h5.Notification.createComplete()),this.unsubscribe()},e}(O5e.Subscriber);lC.ObserveOnSubscriber=pme;var mme=function(){function r(e,t){this.notification=e,this.destination=t}return r}();lC.ObserveOnMessage=mme});var UF=E(WI=>{"use strict";var k5e=WI&&WI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(WI,"__esModule",{value:!0});var A5e=jf(),L5e=o5(),M5e=Dl(),N5e=p5(),F5e=xI(),q5e=K6(),j5e=function(r){k5e(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new z5e(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new F5e.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=M5e.Subscription.EMPTY:(this.observers.push(t),a=new q5e.SubjectSubscription(this,t)),o&&t.add(t=new N5e.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||L5e.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(A5e.Subject);WI.ReplaySubject=j5e;var z5e=function(){function r(e,t){this.time=e,this.value=t}return r}()});var VI=E($I=>{"use strict";var U5e=$I&&$I.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($I,"__esModule",{value:!0});var H5e=jf(),gme=Dl(),B5e=function(r){U5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),gme.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),gme.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(H5e.Subject);$I.AsyncSubject=B5e});var yme=E(BF=>{"use strict";Object.defineProperty(BF,"__esModule",{value:!0});var W5e=1,$5e=function(){return Promise.resolve()}(),HF={};function vme(r){return r in HF?(delete HF[r],!0):!1}BF.Immediate={setImmediate:function(r){var e=W5e++;return HF[e]=!0,$5e.then(function(){return vme(e)&&r()}),e},clearImmediate:function(r){vme(r)}};BF.TestTools={pending:function(){return Object.keys(HF).length}}});var bme=E(GI=>{"use strict";var V5e=GI&&GI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GI,"__esModule",{value:!0});var _me=yme(),G5e=_E(),K5e=function(r){V5e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=_me.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(_me.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(G5e.AsyncAction);GI.AsapAction=K5e});var wme=E(KI=>{"use strict";var Y5e=KI&&KI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KI,"__esModule",{value:!0});var J5e=bE(),X5e=function(r){Y5e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(J5e.AsyncScheduler);KI.AsapScheduler=X5e});var m5=E(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0});var Q5e=bme(),Z5e=wme();YI.asapScheduler=new Z5e.AsapScheduler(Q5e.AsapAction);YI.asap=YI.asapScheduler});var $h=E(JI=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0});var eGe=_E(),tGe=bE();JI.asyncScheduler=new tGe.AsyncScheduler(eGe.AsyncAction);JI.async=JI.asyncScheduler});var Sme=E(XI=>{"use strict";var rGe=XI&&XI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XI,"__esModule",{value:!0});var nGe=_E(),iGe=function(r){rGe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(nGe.AsyncAction);XI.AnimationFrameAction=iGe});var Cme=E(QI=>{"use strict";var oGe=QI&&QI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(QI,"__esModule",{value:!0});var sGe=bE(),aGe=function(r){oGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(sGe.AsyncScheduler);QI.AnimationFrameScheduler=aGe});var Dme=E(ZI=>{"use strict";Object.defineProperty(ZI,"__esModule",{value:!0});var cGe=Sme(),uGe=Cme();ZI.animationFrameScheduler=new uGe.AnimationFrameScheduler(cGe.AnimationFrameAction);ZI.animationFrame=ZI.animationFrameScheduler});var Pme=E(SE=>{"use strict";var Tme=SE&&SE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SE,"__esModule",{value:!0});var lGe=_E(),dGe=bE(),fGe=function(r){Tme(e,r);function e(t,n){t===void 0&&(t=Eme),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(dGe.AsyncScheduler);SE.VirtualTimeScheduler=fGe;var Eme=function(r){Tme(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(lGe.AsyncAction);SE.VirtualAction=Eme});var WF=E(g5=>{"use strict";Object.defineProperty(g5,"__esModule",{value:!0});function hGe(){}g5.noop=hGe});var Rme=E(v5=>{"use strict";Object.defineProperty(v5,"__esModule",{value:!0});var pGe=zo();function mGe(r){return!!r&&(r instanceof pGe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}v5.isObservable=mGe});var CE=E(y5=>{"use strict";Object.defineProperty(y5,"__esModule",{value:!0});var gGe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();y5.ArgumentOutOfRangeError=gGe});var DE=E(_5=>{"use strict";Object.defineProperty(_5,"__esModule",{value:!0});var vGe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();_5.EmptyError=vGe});var w5=E(b5=>{"use strict";Object.defineProperty(b5,"__esModule",{value:!0});var yGe=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();b5.TimeoutError=yGe});var Xm=E(TE=>{"use strict";var _Ge=TE&&TE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(TE,"__esModule",{value:!0});var bGe=gi();function wGe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new xme(r,e))}}TE.map=wGe;var xme=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new SGe(e,this.project,this.thisArg))},r}();TE.MapOperator=xme;var SGe=function(r){_Ge(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(bGe.Subscriber)});var kme=E(S5=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});var CGe=zo(),Ome=VI(),DGe=Xm(),TGe=AF(),EGe=Wh(),PGe=py();function Ime(r,e,t){if(e)if(PGe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ime(r,t).apply(void 0,n).pipe(DGe.map(function(o){return EGe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new CGe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(RGe,0,l)}else{if(!s){s=new Ome.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){TGe.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}S5.bindCallback=Ime;function RGe(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new Ome.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=d.length<=1?d[0]:d;e.add(c.schedule(xGe,0,{value:m,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function xGe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var Nme=E(C5=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});var OGe=zo(),Lme=VI(),IGe=Xm(),kGe=AF(),AGe=py(),LGe=Wh();function Mme(r,e,t){if(e)if(AGe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Mme(r,t).apply(void 0,n).pipe(IGe.map(function(o){return LGe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new OGe.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(MGe,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new Lme.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){kGe.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}C5.bindNodeCallback=Mme;function MGe(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new Lme.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(Ame,0,{err:f,subject:c}));else{var m=l.length<=1?l[0]:l;e.add(a.schedule(NGe,0,{value:m,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(Ame,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function NGe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function Ame(r){var e=r.err,t=r.subject;t.error(e)}});var dC=E(ek=>{"use strict";var FGe=ek&&ek.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ek,"__esModule",{value:!0});var qGe=gi(),jGe=function(r){FGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(qGe.Subscriber);ek.OuterSubscriber=jGe});var Fme=E(tk=>{"use strict";var zGe=tk&&tk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tk,"__esModule",{value:!0});var UGe=gi(),HGe=function(r){zGe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(UGe.Subscriber);tk.InnerSubscriber=HGe});var qme=E(D5=>{"use strict";Object.defineProperty(D5,"__esModule",{value:!0});var BGe=RF();D5.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,BGe.hostReportError),e}}});var PE=E(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});function jme(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}EE.getSymbolIterator=jme;EE.iterator=jme();EE.$$iterator=EE.iterator});var zme=E(T5=>{"use strict";Object.defineProperty(T5,"__esModule",{value:!0});var WGe=PE();T5.subscribeToIterable=function(r){return function(e){var t=r[WGe.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var Ume=E(E5=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});var $Ge=sT();E5.subscribeToObservable=function(r){return function(e){var t=r[$Ge.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var R5=E(P5=>{"use strict";Object.defineProperty(P5,"__esModule",{value:!0});P5.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var O5=E(x5=>{"use strict";Object.defineProperty(x5,"__esModule",{value:!0});function VGe(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}x5.isPromise=VGe});var rk=E(I5=>{"use strict";Object.defineProperty(I5,"__esModule",{value:!0});var GGe=c5(),KGe=qme(),YGe=zme(),JGe=Ume(),XGe=R5(),QGe=O5(),ZGe=xF(),e8e=PE(),t8e=sT();I5.subscribeTo=function(r){if(r&&typeof r[t8e.observable]=="function")return JGe.subscribeToObservable(r);if(XGe.isArrayLike(r))return GGe.subscribeToArray(r);if(QGe.isPromise(r))return KGe.subscribeToPromise(r);if(r&&typeof r[e8e.iterator]=="function")return YGe.subscribeToIterable(r);var e=ZGe.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var fC=E(k5=>{"use strict";Object.defineProperty(k5,"__esModule",{value:!0});var r8e=Fme(),n8e=rk(),i8e=zo();function o8e(r,e,t,n,i){if(i===void 0&&(i=new r8e.InnerSubscriber(r,t,n)),!i.closed)return e instanceof i8e.Observable?e.subscribe(i):n8e.subscribeTo(e)(i)}k5.subscribeToResult=o8e});var $F=E(cT=>{"use strict";var s8e=cT&&cT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cT,"__esModule",{value:!0});var a8e=py(),c8e=Wh(),u8e=dC(),l8e=fC(),d8e=wE(),Hme={};function f8e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return a8e.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&c8e.isArray(r[0])&&(r=r[0]),d8e.fromArray(r,n).lift(new Bme(t))}cT.combineLatest=f8e;var Bme=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Wme(e,this.resultSelector))},r}();cT.CombineLatestOperator=Bme;var Wme=function(r){s8e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(Hme),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(l8e.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Hme?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(u8e.OuterSubscriber);cT.CombineLatestSubscriber=Wme});var $me=E(A5=>{"use strict";Object.defineProperty(A5,"__esModule",{value:!0});var h8e=zo(),p8e=Dl(),m8e=sT();function g8e(r,e){return new h8e.Observable(function(t){var n=new p8e.Subscription;return n.add(e.schedule(function(){var i=r[m8e.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}A5.scheduleObservable=g8e});var Vme=E(L5=>{"use strict";Object.defineProperty(L5,"__esModule",{value:!0});var v8e=zo(),y8e=Dl();function _8e(r,e){return new v8e.Observable(function(t){var n=new y8e.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}L5.schedulePromise=_8e});var Gme=E(M5=>{"use strict";Object.defineProperty(M5,"__esModule",{value:!0});var b8e=zo(),w8e=Dl(),S8e=PE();function C8e(r,e){if(!r)throw new Error("Iterable cannot be null");return new b8e.Observable(function(t){var n=new w8e.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[S8e.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}M5.scheduleIterable=C8e});var Kme=E(N5=>{"use strict";Object.defineProperty(N5,"__esModule",{value:!0});var D8e=sT();function T8e(r){return r&&typeof r[D8e.observable]=="function"}N5.isInteropObservable=T8e});var Yme=E(F5=>{"use strict";Object.defineProperty(F5,"__esModule",{value:!0});var E8e=PE();function P8e(r){return r&&typeof r[E8e.iterator]=="function"}F5.isIterable=P8e});var j5=E(q5=>{"use strict";Object.defineProperty(q5,"__esModule",{value:!0});var R8e=$me(),x8e=Vme(),O8e=jF(),I8e=Gme(),k8e=Kme(),A8e=O5(),L8e=R5(),M8e=Yme();function N8e(r,e){if(r!=null){if(k8e.isInteropObservable(r))return R8e.scheduleObservable(r,e);if(A8e.isPromise(r))return x8e.schedulePromise(r,e);if(L8e.isArrayLike(r))return O8e.scheduleArray(r,e);if(M8e.isIterable(r)||typeof r=="string")return I8e.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}q5.scheduled=N8e});var my=E(z5=>{"use strict";Object.defineProperty(z5,"__esModule",{value:!0});var Jme=zo(),F8e=rk(),q8e=j5();function j8e(r,e){return e?q8e.scheduled(r,e):r instanceof Jme.Observable?r:new Jme.Observable(F8e.subscribeTo(r))}z5.from=j8e});var Fc=E(uw=>{"use strict";var VF=uw&&uw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uw,"__esModule",{value:!0});var GF=gi(),z8e=zo(),U8e=rk(),H8e=function(r){VF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(GF.Subscriber);uw.SimpleInnerSubscriber=H8e;var B8e=function(r){VF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(GF.Subscriber);uw.ComplexInnerSubscriber=B8e;var W8e=function(r){VF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(GF.Subscriber);uw.SimpleOuterSubscriber=W8e;var $8e=function(r){VF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(GF.Subscriber);uw.ComplexOuterSubscriber=$8e;function V8e(r,e){if(!e.closed){if(r instanceof z8e.Observable)return r.subscribe(e);var t;try{t=U8e.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}uw.innerSubscribe=V8e});var nk=E(hC=>{"use strict";var G8e=hC&&hC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hC,"__esModule",{value:!0});var K8e=Xm(),Y8e=my(),U5=Fc();function H5(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(H5(function(i,o){return Y8e.from(r(i,o)).pipe(K8e.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Xme(r,t))})}hC.mergeMap=H5;var Xme=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Qme(e,this.project,this.concurrent))},r}();hC.MergeMapOperator=Xme;var Qme=function(r){G8e(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new U5.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=U5.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(U5.SimpleOuterSubscriber);hC.MergeMapSubscriber=Qme;hC.flatMap=H5});var KF=E(B5=>{"use strict";Object.defineProperty(B5,"__esModule",{value:!0});var J8e=nk(),X8e=uC();function Q8e(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),J8e.mergeMap(X8e.identity,r)}B5.mergeAll=Q8e});var $5=E(W5=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});var Z8e=KF();function eKe(){return Z8e.mergeAll(1)}W5.concatAll=eKe});var ik=E(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});var tKe=UI(),rKe=$5();function nKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return rKe.concatAll()(tKe.of.apply(void 0,r))}V5.concat=nKe});var YF=E(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});var iKe=zo(),oKe=my(),sKe=hy();function aKe(r){return new iKe.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?oKe.from(t):sKe.empty();return n.subscribe(e)})}G5.defer=aKe});var ege=E(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});var cKe=zo(),Zme=Wh(),uKe=Xm(),lKe=xF(),dKe=my();function fKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Zme.isArray(t))return JF(t,null);if(lKe.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return JF(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Zme.isArray(r[0])?r[0]:r,JF(r,null).pipe(uKe.map(function(o){return i.apply(void 0,o)}))}return JF(r,null)}K5.forkJoin=fKe;function JF(r,e){return new cKe.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=dKe.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,m,_){return f[m]=i[_],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var nge=E(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});var hKe=zo(),pKe=Wh(),mKe=pE(),gKe=Xm();function tge(r,e,t,n){return mKe.isFunction(t)&&(n=t,t=void 0),n?tge(r,e,t).pipe(gKe.map(function(i){return pKe.isArray(i)?n.apply(void 0,i):n(i)})):new hKe.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}rge(r,e,o,i,t)})}Y5.fromEvent=tge;function rge(r,e,t,n,i){var o;if(_Ke(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(yKe(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(vKe(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)rge(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function vKe(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function yKe(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function _Ke(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var oge=E(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});var bKe=zo(),wKe=Wh(),SKe=pE(),CKe=Xm();function ige(r,e,t){return t?ige(r,e).pipe(CKe.map(function(n){return wKe.isArray(n)?t.apply(void 0,n):t(n)})):new bKe.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(SKe.isFunction(e))return function(){return e(i,o)}})}J5.fromEventPattern=ige});var age=E(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});var DKe=zo(),sge=uC(),TKe=py();function EKe(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||sge.identity,i=a.scheduler}else n===void 0||TKe.isScheduler(n)?(s=r,o=sge.identity,i=n):(s=r,o=n);return new DKe.Observable(function(c){var u=s;if(i)return i.schedule(PKe,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}X5.generate=EKe;function PKe(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var uge=E(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});var RKe=YF(),cge=hy();function xKe(r,e,t){return e===void 0&&(e=cge.EMPTY),t===void 0&&(t=cge.EMPTY),RKe.defer(function(){return r()?e:t})}Q5.iif=xKe});var ok=E(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});var OKe=Wh();function IKe(r){return!OKe.isArray(r)&&r-parseFloat(r)+1>=0}Z5.isNumeric=IKe});var dge=E(eG=>{"use strict";Object.defineProperty(eG,"__esModule",{value:!0});var kKe=zo(),lge=$h(),AKe=ok();function LKe(r,e){return r===void 0&&(r=0),e===void 0&&(e=lge.async),(!AKe.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=lge.async),new kKe.Observable(function(t){return t.add(e.schedule(MKe,r,{subscriber:t,counter:0,period:r})),t})}eG.interval=LKe;function MKe(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var rG=E(tG=>{"use strict";Object.defineProperty(tG,"__esModule",{value:!0});var NKe=zo(),FKe=py(),qKe=KF(),jKe=wE();function zKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return FKe.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof NKe.Observable?r[0]:qKe.mergeAll(t)(jKe.fromArray(r,n))}tG.merge=zKe});var nG=E(sk=>{"use strict";Object.defineProperty(sk,"__esModule",{value:!0});var UKe=zo(),HKe=WF();sk.NEVER=new UKe.Observable(HKe.noop);function BKe(){return sk.NEVER}sk.never=BKe});var fge=E(oG=>{"use strict";Object.defineProperty(oG,"__esModule",{value:!0});var WKe=zo(),$Ke=my(),VKe=Wh(),GKe=hy();function iG(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return GKe.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&VKe.isArray(t)?iG.apply(void 0,t):new WKe.Observable(function(i){var o=function(){return i.add(iG.apply(void 0,n).subscribe(i))};return $Ke.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}oG.onErrorResumeNext=iG});var mge=E(XF=>{"use strict";Object.defineProperty(XF,"__esModule",{value:!0});var hge=zo(),KKe=Dl();function YKe(r,e){return e?new hge.Observable(function(t){var n=Object.keys(r),i=new KKe.Subscription;return i.add(e.schedule(pge,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new hge.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}XF.pairs=YKe;function pge(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}XF.dispatch=pge});var aG=E(sG=>{"use strict";Object.defineProperty(sG,"__esModule",{value:!0});function JKe(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}sG.not=JKe});var uT=E(ak=>{"use strict";var XKe=ak&&ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ak,"__esModule",{value:!0});var QKe=gi();function ZKe(r,e){return function(n){return n.lift(new e9e(r,e))}}ak.filter=ZKe;var e9e=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new t9e(e,this.predicate,this.thisArg))},r}(),t9e=function(r){XKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(QKe.Subscriber)});var _ge=E(cG=>{"use strict";Object.defineProperty(cG,"__esModule",{value:!0});var r9e=aG(),gge=rk(),vge=uT(),yge=zo();function n9e(r,e,t){return[vge.filter(e,t)(new yge.Observable(gge.subscribeTo(r))),vge.filter(r9e.not(e,t))(new yge.Observable(gge.subscribeTo(r)))]}cG.partition=n9e});var uG=E(lT=>{"use strict";var i9e=lT&&lT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lT,"__esModule",{value:!0});var o9e=Wh(),s9e=wE(),a9e=dC(),c9e=fC();function u9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(o9e.isArray(r[0]))r=r[0];else return r[0];return s9e.fromArray(r,void 0).lift(new bge)}lT.race=u9e;var bge=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new wge(e))},r}();lT.RaceOperator=bge;var wge=function(r){i9e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=c9e.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(a9e.OuterSubscriber);lT.RaceSubscriber=wge});var Cge=E(QF=>{"use strict";Object.defineProperty(QF,"__esModule",{value:!0});var l9e=zo();function d9e(r,e,t){return r===void 0&&(r=0),new l9e.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(Sge,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}QF.range=d9e;function Sge(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}QF.dispatch=Sge});var dG=E(lG=>{"use strict";Object.defineProperty(lG,"__esModule",{value:!0});var f9e=zo(),h9e=$h(),Dge=ok(),Tge=py();function p9e(r,e,t){r===void 0&&(r=0);var n=-1;return Dge.isNumeric(e)?n=Number(e)<1&&1||Number(e):Tge.isScheduler(e)&&(t=e),Tge.isScheduler(t)||(t=h9e.async),new f9e.Observable(function(i){var o=Dge.isNumeric(r)?r:+r-t.now();return t.schedule(m9e,o,{index:0,period:n,subscriber:i})})}lG.timer=p9e;function m9e(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var Ege=E(fG=>{"use strict";Object.defineProperty(fG,"__esModule",{value:!0});var g9e=zo(),v9e=my(),y9e=hy();function _9e(r,e){return new g9e.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?v9e.from(i):y9e.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}fG.using=_9e});var eq=E(dT=>{"use strict";var Pge=dT&&dT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dT,"__esModule",{value:!0});var b9e=wE(),w9e=Wh(),S9e=gi(),ZF=PE(),hG=Fc();function C9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),b9e.fromArray(r,void 0).lift(new Rge(t))}dT.zip=C9e;var Rge=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new xge(e,this.resultSelector))},r}();dT.ZipOperator=Rge;var xge=function(r){Pge(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;w9e.isArray(t)?n.push(new T9e(t)):typeof t[ZF.iterator]=="function"?n.push(new D9e(t[ZF.iterator]())):n.push(new E9e(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(S9e.Subscriber);dT.ZipSubscriber=xge;var D9e=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),T9e=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[ZF.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),E9e=function(r){Pge(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[ZF.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return hG.innerSubscribe(this.observable,new hG.SimpleInnerSubscriber(this))},e}(hG.SimpleOuterSubscriber)});var pC=E(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var P9e=zo();gn.Observable=P9e.Observable;var R9e=Z6();gn.ConnectableObservable=R9e.ConnectableObservable;var x9e=t5();gn.GroupedObservable=x9e.GroupedObservable;var O9e=sT();gn.observable=O9e.observable;var I9e=jf();gn.Subject=I9e.Subject;var k9e=r5();gn.BehaviorSubject=k9e.BehaviorSubject;var A9e=UF();gn.ReplaySubject=A9e.ReplaySubject;var L9e=VI();gn.AsyncSubject=L9e.AsyncSubject;var Oge=m5();gn.asap=Oge.asap;gn.asapScheduler=Oge.asapScheduler;var Ige=$h();gn.async=Ige.async;gn.asyncScheduler=Ige.asyncScheduler;var kge=o5();gn.queue=kge.queue;gn.queueScheduler=kge.queueScheduler;var Age=Dme();gn.animationFrame=Age.animationFrame;gn.animationFrameScheduler=Age.animationFrameScheduler;var Lge=Pme();gn.VirtualTimeScheduler=Lge.VirtualTimeScheduler;gn.VirtualAction=Lge.VirtualAction;var M9e=i5();gn.Scheduler=M9e.Scheduler;var N9e=Dl();gn.Subscription=N9e.Subscription;var F9e=gi();gn.Subscriber=F9e.Subscriber;var Mge=BI();gn.Notification=Mge.Notification;gn.NotificationKind=Mge.NotificationKind;var q9e=MF();gn.pipe=q9e.pipe;var j9e=WF();gn.noop=j9e.noop;var z9e=uC();gn.identity=z9e.identity;var U9e=Rme();gn.isObservable=U9e.isObservable;var H9e=CE();gn.ArgumentOutOfRangeError=H9e.ArgumentOutOfRangeError;var B9e=DE();gn.EmptyError=B9e.EmptyError;var W9e=xI();gn.ObjectUnsubscribedError=W9e.ObjectUnsubscribedError;var $9e=F6();gn.UnsubscriptionError=$9e.UnsubscriptionError;var V9e=w5();gn.TimeoutError=V9e.TimeoutError;var G9e=kme();gn.bindCallback=G9e.bindCallback;var K9e=Nme();gn.bindNodeCallback=K9e.bindNodeCallback;var Y9e=$F();gn.combineLatest=Y9e.combineLatest;var J9e=ik();gn.concat=J9e.concat;var X9e=YF();gn.defer=X9e.defer;var Q9e=hy();gn.empty=Q9e.empty;var Z9e=ege();gn.forkJoin=Z9e.forkJoin;var e7e=my();gn.from=e7e.from;var t7e=nge();gn.fromEvent=t7e.fromEvent;var r7e=oge();gn.fromEventPattern=r7e.fromEventPattern;var n7e=age();gn.generate=n7e.generate;var i7e=uge();gn.iif=i7e.iif;var o7e=dge();gn.interval=o7e.interval;var s7e=rG();gn.merge=s7e.merge;var a7e=nG();gn.never=a7e.never;var c7e=UI();gn.of=c7e.of;var u7e=fge();gn.onErrorResumeNext=u7e.onErrorResumeNext;var l7e=mge();gn.pairs=l7e.pairs;var d7e=_ge();gn.partition=d7e.partition;var f7e=uG();gn.race=f7e.race;var h7e=Cge();gn.range=h7e.range;var p7e=zF();gn.throwError=p7e.throwError;var m7e=dG();gn.timer=m7e.timer;var g7e=Ege();gn.using=g7e.using;var v7e=eq();gn.zip=v7e.zip;var y7e=j5();gn.scheduled=y7e.scheduled;var _7e=hy();gn.EMPTY=_7e.EMPTY;var b7e=nG();gn.NEVER=b7e.NEVER;var w7e=PI();gn.config=w7e.config});var eve=E(uq=>{"use strict";Object.defineProperty(uq,"__esModule",{value:!0});uq.BaseTelemetryReporter=void 0;var CG=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};uq.BaseTelemetryReporter=CG});var tve=E(lq=>{"use strict";Object.defineProperty(lq,"__esModule",{value:!0});lq.BaseTelemetrySender=void 0;var dw;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(dw||(dw={}));var DG=class{constructor(e,t){this._instantiationStatus=dw.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==dw.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==dw.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===dw.NOT_INSTANTIATED&&(this._instantiationStatus=dw.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=dw.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=dw.INSTANTIATED}))}};lq.BaseTelemetrySender=DG});var EG=E(dq=>{"use strict";Object.defineProperty(dq,"__esModule",{value:!0});dq.TelemetryUtil=void 0;var TG=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};dq.TelemetryUtil=TG});var nve=E((fq,rve)=>{(function(r,e){typeof fq=="object"&&typeof rve<"u"?e(fq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(fq,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",m="object",_="prototype",T="__proto__",x="string",M="undefined",A="constructor",U="Symbol",ne="_polyfill",de="indexOf",ye="length",V="done",W="value",ee="name",Se="slice",se=Object,ce=se[_],qe=String,Ne=qe[_],ue=Math,De=Array,we=De[_];function xe(p,b){var I=b;try{I=p()}catch{}return I}var Me=[x,f,l,M,"symbol","bigint"];function $e(p){return function(b){return typeof b===p}}function Ct(p){var b="[object "+p+"]";return function(I){return!!(I&&ze(I)===b)}}function ze(p){return ce.toString.call(p)}function st(p,b){return typeof p===b}function at(p){return typeof p===M||p===M}function tt(p){return p===c||at(p)}function fr(p){return p===c||!Lr(p)}function Lr(p){return!!p||p!==a}var zr=function(p){return p!==m&&Me.indexOf(p)!==-1},cr=$e(x),xt=$e(d);function hr(p){return!p&&tt(p)?!1:!!p&&typeof p===m}var Mt=De.isArray,on=Ct("Date"),ln=$e(f),On=$e(l),Or=Ct("Error");function Hn(p){return!!p&&xt(p.then)}function $r(p){return!p||!xe(function(){return p&&0+p},p)}function dn(p){return!(!p||xe(function(){return!(p&&0+p)},!p))}var ii=se.getOwnPropertyDescriptor;function Vr(p,b){return p&&ce.hasOwnProperty.call(p,b)}var An=se.hasOwn||Ri;function Ri(p,b){return Vr(p,b)||!!ii(p,b)}function Gr(p,b,I){if(p&&hr(p)){for(var j in p)if(An(p,j)&&b.call(I||p,j,p[j])===-1)break}}function Ji(p,b,I,j){var $={};return Gr(p,function(ie,ge){$[ie]=b?ge:ie,$[ge]=I?ge:ie}),j($)}function oi(p){throw new Error(p)}function fn(p){throw new TypeError(p)}var Oe=se.freeze,oe=function(p){return p},Q=function(p){return p[T]||c},_e=se.assign;function Je(p){return(!hr(p)||p===c)&&fn("objKeys called on non-object"),se.keys(p)}function ft(p){return Oe&&Gr(p,function(b,I){(Mt(I)||hr(I))&&Oe(I)}),Yt(p)}var Yt=Oe||oe,rr=se.seal||oe,Jt=se.getPrototypeOf||Q;function $t(p){return Ji(p,1,0,ft)}function kt(p){return Ji(p,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Fe=qe,Ht="__tsUtils$gblCfg",Tr;function He(){var p;return typeof globalThis!==M&&(p=globalThis),!p&&typeof self!==M&&(p=self),!p&&typeof window!==M&&(p=window),!p&&typeof global!==M&&(p=global),p}function re(){if(!Tr){var p=He()||{};Tr=p[Ht]=p[Ht]||{}}return Tr}function Re(p,b){var I=u;if(Or(p))I="{ stack: '"+p.stack+"', message: '"+p.message+"', name: '"+p.name+"'";else try{I=JSON.stringify(p,c,b?ln(b)?b:4:a)}catch(j){I=" - "+Re(j,b)}return ze(p)+": "+I}var je=we[Se],he=function(p,b){fn("'"+Fe(p)+"' not defined for "+Re(b))},S=function(p){return function(b){return b[p].apply(b,je.call(arguments,1))}},fe=function(p,b){var I=b&&b[p];return function(j){var $=j&&j[p]||I;if($)return $.apply(j,je.call(arguments,1));he(p,j)}},Ye=function(p,b,I){var j=b&&b[p];return function($){var ie=$&&$[p]||j;if(ie||I){var ge=arguments;return(ie||I).apply($,ie?je.call(ge,1):ge)}he(p,$)}};function Dr(p){return function(b){return b[p]}}var Wr=ue.max,Xr=fe(Se,Ne),qn=fe("substring",Ne),xi=Ye("substr",Ne,ks);function ks(p,b,I){return tt(p)&&fn("'polyStrSubstr called with invalid "+Re(p)),I<0?u:(b=b||0,b<0&&(b=Wr(b+p[ye],0)),at(I)?Xr(p,b):Xr(p,b,b+I))}function Sn(p,b){return qn(p,0,b)}var es=Ye("startsWith",Ne,Bs);function Bs(p,b,I){cr(p)||fn("'"+Re(p)+"' is not a string");var j=cr(b)?b:Fe(b),$=j[ye],ie=I>0?I:0;return qn(p,ie,ie+$)===j}var ta="_urid",Fo;function Eo(){if(!Fo){var p=re();Fo=p.gblSym=p.gblSym||{k:{},s:{}}}return Fo}var H={};function Ue(p){var b={description:Fe(p),toString:function(){return U+"("+p+")"}};return b[ne]=!0,b}function vt(p){var b=Eo();if(!An(b.k,p)){var I=Ue(p),j=Je(b.s).length;I[ta]=function(){return j+"_"+I.toString()},b.k[p]=I,b.s[I[ta]()]=Fe(p)}return b.k[p]}function Fr(p){var b,I=K[p];return I&&(b=H[I]=H[I]||Ue(U+"."+I)),b}var so={e:"enumerable",c:"configurable",v:W,w:"writable",g:"get",s:"set"};function Bi(p){var b={};if(b[so.c]=!0,b[so.e]=!0,p.l){b.get=function(){return p.l.v};var I=ii(p.l,"v");I&&I.set&&(b.set=function(j){p.l.v=j})}return Gr(p,function(j,$){b[so[j]]=at($)?b[so[j]]:$}),b}var N=se.defineProperty;function Le(p,b,I,j,$,ie){var ge={e:ie,c:$};return I&&(ge.g=I),j&&(ge.s=j),N(p,b,Bi(ge))}function rt(p,b,I){return N(p,b,Bi(I))}var zt,Ln=function(){zt=re(),Ln=c};function Cn(p){var b={};return Ln&&Ln(),b.b=zt.lzy,N(b,"v",{configurable:!0,get:function(){var I=p();return zt.lzy||(N(b,"v",{value:I}),b.b&&delete b.b),zt.lzy&&b.b!==zt.lzy&&(b.b=zt.lzy),I}}),b}function Nn(p,b){return Cn(function(){return xe(p,b)})}var ao="window",ji,Po,Vi,Jn,mu,ts,yo=function(p){return Nn(function(){return Mi(p)||a},a)},al=function(p){return(!ji||p===!1||zt&&zt.lzy&&!ji.b)&&(ji=Nn(He,c)),ji.v},Mi=function(p,b){var I=!ji||b===!1?al(b):ji.v;return I&&I[p]?I[p]:p===ao&&Po?Po.v:c},Xa=function(){return!!Qa()},Qa=function(){return(!Vi||zt&&zt.lzy&&!Vi.b)&&(Vi=yo("document")),Vi.v},ha=function(){return!!cl()},cl=function(){return(!Po||zt&&zt.lzy&&!Po.b)&&(Po=yo(ao)),Po.v},lh=function(){return!!Dc()},Dc=function(){return(!Jn||zt&&zt.lzy&&!Jn.b)&&(Jn=yo("navigator")),Jn.v},ra=function(){return!!gu()},gu=function(){return(!mu||zt&&zt.lzy&&!mu.b)&&(mu=yo("history")),mu.v},dh=function(){return!ts&&(ts=Nn(function(){return!!(process&&(process.versions||{}).node)},!1)),ts.v},Uo,Ws,Tn;function $s(p){return Nn(function(){return Uo.v?Uo.v[p]:a},a)}function vu(){return!!si()}function si(){var p=!Uo||zt&&zt.lzy&&!Uo.b;return p&&(Uo=yo(U)),(!Ws||p)&&(Ws=$s("for")),(!Tn||p)&&(Tn=$s("keyFor")),Uo.v}function Da(p,b){var I=K[p];return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v[I||p]:b?a:Fr(p)}function Qc(p,b){return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v(p):b?c:Ue(p)}function fh(p){return(!Ws||zt.lzy&&!Uo.b)&&si(),(Ws.v||vt)(p)}function af(p){return!!p&&xt(p.next)}function ap(p){return!fr(p)&&xt(p[Da(3)])}var cf;function cp(p,b,I){if(p&&(af(p)||(!cf&&(cf=Cn(function(){return Da(3)})),p=p[cf.v]?p[cf.v]():null),af(p))){var j=void 0,$=void 0;try{for(var ie=0;!($=p.next())[V]&&b.call(I||p,$[W],ie,p)!==-1;)ie++}catch(ge){j={e:ge},p.throw&&($=null,p.throw(j))}finally{try{$&&!$[V]&&p.return&&p.return($)}finally{if(j)throw j.e}}}}var uf=S("apply");function Al(p,b){return!at(b)&&p&&(Mt(b)?uf(p.push,p,b):af(b)||ap(b)?cp(b,function(I){p.push(I)}):p.push(b)),p}function Xn(p,b,I){if(p)for(var j=p[ye]>>>0,$=0;$<j&&!($ in p&&b.call(I||p,p[$],$,p)===-1);$++);}var Vs=fe(de,we),Ll=fe("map",we),co=fe(Se,we),hh=S("call");function ph(p,b,I){return Vs(p,b,I)!==-1}var Gs=Ye("includes",we,ph),yu=fe("reduce",we),mh=se.create,yd=mh||Ss;function Ss(p){if(!p)return{};var b=typeof p;if(b!==m&&b!==d)throw new TypeError("Prototype must be an Object or function: "+Re(p));function I(){}return I[_]=p,new I}var Ml;function Zc(p,b){var I=se.setPrototypeOf||function(j,$){!Ml&&(Ml=Cn(function(){var ie;return ie={},ie[T]=[],ie instanceof Array})),Ml.v?j[T]=$:Gr($,function(ie,ge){return j[ie]=ge})};return I(p,b)}var pm=function(p,b,I){lf(b,p),b=Zc(b,I);function j(){this.constructor=b,lf(this,p)}return b[_]=I===c?yd(I):(j[_]=I[_],new j),b},_d=function(p,b){try{b&&(p[ee]=b)}catch{}},lf=function(p,b){try{rt(p,ee,{v:b,c:!0,e:!1})}catch{}};function df(p,b,I){var j=I||Error,$=j[_][ee],ie=Error.captureStackTrace;return pm(p,function(){var ge=this;try{_d(j,p);var Ie=uf(j,ge,co(arguments))||ge;if(Ie!==ge){var Be=Jt(ge);Be!==Jt(Ie)&&Zc(Ie,Be)}return ie&&ie(Ie,ge[A]),b&&b(Ie,arguments),Ie}finally{_d(j,$)}},j)}function Tc(){return(Date.now||_o)()}function _o(){return new Date().getTime()}function up(p){return function(I){return tt(I)&&fn("strTrim called ["+Re(I)+"]"),I&&I.replace&&(I=I.replace(p,u)),I}}var ff=up(/^\s+|(?=\s)\s+$/g),na=Ye("trim",Ne,ff),ul,_u,Nv;function ia(p){if(!p||typeof p!==m)return!1;Nv||(Nv=ha()?cl():!0);var b=!1;if(p!==Nv){_u||(ul=Function[_].toString,_u=hh(ul,se));try{var I=Jt(p);b=!I,b||(Vr(I,A)&&(I=I[A]),b=I&&typeof I===d&&ul.call(I)===_u)}catch{}}return b}var Xy=function(p){return p.value&&Fl(p),!0},Fu=[wd,Fl,lp,vh];function bd(p,b,I,j){var $;return Xn(p,function(ie){if(ie.k===b)return $=ie,-1}),$||($={k:b,v:b},p.push($),j($)),$.v}function Ho(p,b,I,j){var $=I.handler,ie=I.path?j?I.path.concat(j):I.path:[],ge={handler:I.handler,src:I.src,path:ie},Ie=typeof b,Be=!1,et=!1;b&&Ie===m?Be=ia(b):et=b===c||zr(Ie);var Ve={type:Ie,isPrim:et,isPlain:Be,value:b,result:b,path:ie,origin:I.src,copy:function(wt,ot){return Ho(p,wt,ot?ge:I,ot)},copyTo:function(wt,ot){return Nl(p,wt,ot,ge)}};return Ve.isPrim?$&&hh($,I,Ve)?Ve.result:b:bd(p,b,ie,function(wt){rt(Ve,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,_t=$;!hh(_t||(ot<Fu.length?Fu[ot++]:Xy),I,Ve);)_t=c})}function Nl(p,b,I,j){if(!tt(I))for(var $ in I)b[$]=Ho(p,I[$],j,$);return b}function gh(p,b,I){var j={handler:I,src:b,path:[]};return Nl([],p,b,j)}function Sg(p,b){var I={handler:b,src:p};return Ho([],p,I)}function wd(p){var b=p.value;if(Mt(b)){var I=p.result=[];return I.length=b.length,p.copyTo(I,b),!0}return!1}function vh(p){var b=p.value;return on(b)?(p.result=new Date(b.getTime()),!0):!1}function lp(p){return p.type===d}function Fl(p){var b=p.value;if(b&&p.isPlain){var I=p.result={};return p.copyTo(I,b),!0}return!1}function dp(p,b){return Xn(b,function(I){gh(p,I)}),p}function qu(p,b,I,j,$,ie,ge){return dp(Sg(p)||{},co(arguments))}var yh=Dr(ye),bu;function hf(){return(!bu||!bu.b&&zt&&zt.lzy)&&(bu=yo("performance")),bu.v}function Sd(){var p=hf();return p&&p.now?p.now():Tc()}var pf=Ye("endsWith",Ne,Cd);function Cd(p,b,I){cr(p)||fn("'"+Re(p)+"' is not a string");var j=cr(b)?b:Fe(b),$=j[ye],ie=p[ye],ge=!at(I)&&I<ie?I:ie;return qn(p,ge-$,ge)===j}var Ks=fe(de,Ne),Ta="ref",Ro="un"+Ta,eu="hasRef",Za="enabled";function Cg(p,b,I){var j,$=!0,ie=p?b(c):c,ge,Ie=function(){return $=!1,ie&&ie[Ro]&&ie[Ro](),ge},Be=function(){return $=!0,ie&&ie[Ta]&&ie[Ta](),ge},et=function(){return ie&&ie[eu]?ie[eu]():$},Ve=function(){return ie=b(ie),$||Ie(),ge},wt=function(){ie&&I(ie),ie=c},ot=function(_t){!_t&&ie&&wt(),_t&&!ie&&Ve()};return ge=(j={cancel:wt,refresh:Ve},j[eu]=et,j[Ta]=Be,j[Ro]=Ie,j[Za]=!1,j),N(ge,Za,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function ju(p,b,I,j){var $=Mt(I),ie=$?I.length:0,ge=(ie>0?I[0]:$?a:I)||setTimeout,Ie=(ie>1?I[1]:a)||clearTimeout,Be=j[0];j[0]=function(){et.dn(),uf(Be,p,co(arguments))};var et=Cg(b,function(Ve){if(Ve){if(Ve.refresh)return Ve.refresh(),Ve;uf(Ie,p,[Ve])}return uf(ge,p,j)},function(Ve){uf(Ie,p,[Ve])});return et.h}function Ys(p,b){return ju(this,!0,a,co(arguments))}function ql(p,b){return ju(this,!1,a,co(arguments))}(al()||{}).Symbol,(al()||{}).Reflect;var fp="hasOwnProperty",wu=function(p,b){return wu=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,j){I.__proto__=j}||function(I,j){for(var $ in j)j[fp]($)&&(I[$]=j[$])},wu(p,b)};function ll(p,b){typeof b!==e&&b!==null&&fn("Class extends value "+String(b)+" is not a constructor or null"),wu(p,b);function I(){this.constructor=p}p[i]=b===null?yd(b):(I[i]=b[i],new I)}function _h(p,b){for(var I=0,j=b.length,$=p.length;I<j;I++,$++)p[$]=b[I];return p}var Ec,zu="constructor",Cs="prototype",tu="function",Uu="_dynInstFuncs",Hu="_isDynProxy",oa="_dynClass",Dg="_dynCls$",ec="_dynInstChk",dl=ec,Bo="_dfOpts",Wo="_unknown_",mf="__proto__",Bu="_dyn"+mf,gf="__dynProto$Gbl",qo="_dynInstProto",jl="useBaseInst",vf="setInstFuncs",pa=Object,Su=pa.getPrototypeOf,sa=pa.getOwnPropertyNames,As=al(),zl=As[gf]||(As[gf]={o:(Ec={},Ec[vf]=!0,Ec[jl]=!0,Ec),n:1e3});function Fv(p){return p&&(p===pa[Cs]||p===Array[Cs])}function ps(p){return Fv(p)||p===Function[Cs]}function ru(p){var b;if(p){if(Su)return Su(p);var I=p[mf]||p[Cs]||(p[zu]?p[zu][Cs]:null);b=p[Bu]||I,Vr(p,Bu)||(delete p[qo],b=p[Bu]=p[qo]||p[Bu],p[qo]=I)}return b}function fl(p,b){var I=[];if(sa)I=sa(p);else for(var j in p)typeof j=="string"&&Vr(p,j)&&I.push(j);if(I&&I.length>0)for(var $=0;$<I.length;$++)b(I[$])}function bh(p,b,I){return b!==zu&&typeof p[b]===tu&&(I||Vr(p,b))}function Dd(p){fn("DynamicProto: "+p)}function hp(p){var b={};return fl(p,function(I){!b[I]&&bh(p,I,!1)&&(b[I]=p[I])}),b}function tc(p,b){for(var I=p.length-1;I>=0;I--)if(p[I]===b)return!0;return!1}function mm(p,b,I,j){function $(Be,et,Ve){var wt=et[Ve];if(wt[Hu]&&j){var ot=Be[Uu]||{};ot[dl]!==!1&&(wt=(ot[et[oa]]||{})[Ve]||wt)}return function(){return wt.apply(Be,arguments)}}var ie={};fl(I,function(Be){ie[Be]=$(b,I,Be)});for(var ge=ru(p),Ie=[];ge&&!ps(ge)&&!tc(Ie,ge);)fl(ge,function(Be){!ie[Be]&&bh(ge,Be,!Su)&&(ie[Be]=$(b,ge,Be))}),Ie.push(ge),ge=ru(ge);return ie}function zi(p,b,I,j){var $=null;if(p&&Vr(I,oa)){var ie=p[Uu]||{};if($=(ie[I[oa]]||{})[b],$||Dd("Missing ["+b+"] "+tu),!$[ec]&&ie[dl]!==!1){for(var ge=!Vr(p,b),Ie=ru(p),Be=[];ge&&Ie&&!ps(Ie)&&!tc(Be,Ie);){var et=Ie[b];if(et){ge=et===j;break}Be.push(Ie),Ie=ru(Ie)}try{ge&&(p[b]=$),$[ec]=1}catch{ie[dl]=!1}}}return $}function rs(p,b,I){var j=b[p];return j===I&&(j=ru(b)[p]),typeof j!==tu&&Dd("["+p+"] is not a "+tu),j}function Wu(p,b,I,j,$){function ie(Be,et){var Ve=function(){var wt=zi(this,et,Be,Ve)||rs(et,Be,Ve);return wt.apply(this,arguments)};return Ve[Hu]=1,Ve}if(!Fv(p)){var ge=I[Uu]=I[Uu]||{},Ie=ge[b]=ge[b]||{};ge[dl]!==!1&&(ge[dl]=!!$),fl(I,function(Be){bh(I,Be,!1)&&I[Be]!==j[Be]&&(Ie[Be]=I[Be],delete I[Be],(!Vr(p,Be)||p[Be]&&!p[Be][Hu])&&(p[Be]=ie(p,Be)))})}}function Pc(p,b){if(Su){for(var I=[],j=ru(b);j&&!ps(j)&&!tc(I,j);){if(j===p)return!0;I.push(j),j=ru(j)}return!1}return!0}function Rc(p,b){return Vr(p,Cs)?p.name||b||Wo:((p||{})[zu]||{}).name||b||Wo}function aa(p,b,I,j){Vr(p,Cs)||Dd("theClass is an invalid class definition.");var $=p[Cs];Pc($,b)||Dd("["+Rc(p)+"] not in hierarchy of ["+Rc(b)+"]");var ie=null;Vr($,oa)?ie=$[oa]:(ie=Dg+Rc(p,"_")+"$"+zl.n,zl.n++,$[oa]=ie);var ge=aa[Bo],Ie=!!ge[jl];Ie&&j&&j[jl]!==void 0&&(Ie=!!j[jl]);var Be=hp(b),et=mm($,b,Be,Ie);I(b,et);var Ve=!!Su&&!!ge[vf];Ve&&j&&(Ve=!!j[vf]),Wu($,ie,b,Be,Ve!==!1)}aa[Bo]=zl.o;var hl=100,Gi=$t,yf=Gi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),wi="toLowerCase",Ea="blkVal",Bn="length",Td="rdOnly",Ul="notify",xc="warnToConsole",$o="throwInternal",rc="setDf",ca="watch",uo="logger",Cu="apply",Fn="push",nu="splice",xo="hdlr",ai="cancel",Hl="initialize",Pa="identifier",ma="isInitialized",ua="getPlugin",Bl="pollInternalLogs",nc="name",Ed="time",Ds="processNext",iu="getProcessTelContext",pl="getNotifyMgr",Wl="addNotificationListener",Pd="removeNotificationListener",g="enabled",v="stopPollingInternalLogs",P="unload",O="onComplete",F="version",J="loggingLevelConsole",Z="createNew",pe="teardown",ke="messageId",Qe="message",ht="isAsync",Ut="diagLog",Sr="_doTeardown",sn="update",jr="getNext",Wn="setNextPlugin",Js="userAgent",ic="split",Du="nodeType",pp="replace",gm="logInternalMessage",Ra="type",mp="handler",wh="isChildEvt",Rd="getCtx",Tu="setCtx",Tg="complete",Qy="traceId",gp="spanId",vp="traceFlags",Zy;function e_(p,b){Zy||(Zy=df("AggregationError",function(j,$){$[Bn]>1&&(j.errors=$[1])}));var I=p||"One or more errors occurred.";throw Xn(b,function(j,$){I+=`
`.concat($," > ").concat(Re(j))}),new Zy(I,b||[])}function t_(p,b){return Eb(p,function(I){b&&b({value:I,rejected:!1})},function(I){b&&b({rejected:!0,reason:I})})}function Eb(p,b,I,j){var $=p;return Hn(p)?(b||I)&&($=p.then(b,I)):b&&b(p),j&&($=vm($,j)),$}function vm(p,b){var I=p;return b&&(Hn(p)?p.finally?I=p.finally(b):I=p.then(function(j){return b(),j},function(j){throw b(),j}):b()),I}var qv=["pending","resolving","resolved","rejected"],r_="dispatchEvent",n_;function ym(p,b,I,j){var $=Qa();!n_&&(n_=Nn(function(){var Be;return $&&$.createEvent&&(Be=$.createEvent("Event")),!!Be&&Be.initEvent},null));var ie=n_.v?$.createEvent("Event"):j?new Event(b):{};if(I&&I(ie),n_.v&&ie.initEvent(b,!1,!0),ie&&p[r_])p[r_](ie);else{var ge=p["on"+b];if(ge)ge(ie);else{var Ie=Mi("console");Ie&&(Ie.error||Ie.log)(b,Re(ie))}}}var yp="Promise",Pb="unhandledRejection",i_=Pb.toLowerCase(),_p=10,jv;function xd(p){return xt(p)?p.toString():Re(p)}function Xi(p,b,I){var j=co(arguments,3),$=0,ie=!1,ge,Ie=[],Be=!1,et=null,Ve;!jv&&(jv=yo(yp+"RejectionEvent"));var wt=function(Ir,Mn){try{Be=!0,et&&et.cancel(),et=null;var Oi=p(function(Io,Ge){Ie.push(function(){try{var At=$===2?Ir:Mn,Zt=at(At)?ge:xt(At)?At(ge):At;Hn(Zt)?Zt.then(Io,Ge):At?Io(Zt):$===3?Ge(Zt):Io(Zt)}catch(lr){Ge(lr)}}),ie&&Qt()},j);return Oi}finally{}},ot=function(Ir){return wt(void 0,Ir)},_t=function(Ir){var Mn=Ir,Oi=Ir;return xt(Ir)&&(Mn=function(Io){return Ir&&Ir(),Io},Oi=function(Io){throw Ir&&Ir(),Io}),wt(Mn,Oi)},it=function(){return qv[$]},Qt=function(){if(Ie.length>0){var Ir=Ie.slice();Ie=[],Be=!0,b(Ir),et&&et.cancel(),et=null}},Vt=function(Ir,Mn){return function(Oi){if($===Mn){if(Ir===2&&Hn(Oi)){$=1,Oi.then(Vt(2,1),Vt(3,1));return}$=Ir,ie=!0,ge=Oi,Qt(),!Be&&Ir===3&&!et&&(et=Ys(_r,_p))}}},_r=function(){if(!Be)if(dh())process.emit(Pb,ge,Ve);else{var Ir=cl()||al();ym(Ir,i_,function(Mn){return rt(Mn,"promise",{g:function(){return Ve}}),Mn.reason=ge,Mn},!!jv.v)}};Ve={then:wt,catch:ot,finally:_t},N(Ve,"state",{get:it}),vu()&&(Ve[Da(11)]="IPromise");var Rr=function(){return"IPromise "+it()+(ie?" - "+xd(ge):"")};return Ve.toString=Rr,function(){xt(I)||fn(yp+": executor is not a function - "+xd(I));var Mn=Vt(3,0);try{I.call(Ve,Vt(2,0),Mn)}catch(Oi){Mn(Oi)}}(),Ve}function _m(p){return function(b){var I=co(arguments,1);return p(function(j,$){try{var ie=[],ge=1;Xn(b,function(Ie,Be){Ie&&(ge++,Eb(Ie,function(et){ie[Be]=et,--ge===0&&j(ie)},$))}),ge--,ge===0&&j(ie)}catch(Ie){$(Ie)}},I)}}var lo=function(p){Xn(p,function(b){try{b()}catch{}})};function o_(p){var b=ln(p)?p:0;return function(I){Ys(function(){lo(I)},b)}}function zv(p,b){return Xi(zv,o_(b),p,b)}var Od;function bp(p,b){!Od&&(Od=yo(yp));var I=Od.v;if(!I)return zv(p);xt(p)||fn(yp+": executor is not a function - "+Re(p));var j=0;function $(){return qv[j]}var ie=new I(function(ge,Ie){function Be(Ve){j=2,ge(Ve)}function et(Ve){j=3,Ie(Ve)}p(Be,et)});return N(ie,"state",{get:$}),ie}var ou;function Id(p,b){return!ou&&(ou=Cn(function(){return bp})),ou.v.call(this,p,b)}var kd=_m(Id),Ls=void 0,fi="",Eu="channels",ns="core",Ad="createPerfMgr",bm="disabled",wp="extensionConfig",Sp="extensions",_f="processTelemetry",s_="priority",wm="eventsSent",Sm="eventsDiscarded",xa="eventsSendRequest",Ld="perfEvent",Oc="getPerfMgr",Pu="domain",Cm="path",ml="Not dynamic - ",Dm=/-([a-z])/g,Eg=/([^\w\d_$])/g,Cp=/^(\d+[\w\d_$])/;function En(p){return!tt(p)}function Md(p){var b=p;return b&&cr(b)&&(b=b[pp](Dm,function(I,j){return j.toUpperCase()}),b=b[pp](Eg,"_"),b=b[pp](Cp,function(I,j){return"_"+j})),b}function Ms(p,b){return p&&b?Ks(p,b)!==-1:!1}function bf(p){return p&&p.toISOString()||""}function Uv(p){return Or(p)?p[nc]:fi}function oc(p,b,I,j,$){var ie=I;return p&&(ie=p[b],ie!==I&&(!$||$(ie))&&(!j||j(I))&&(ie=I,p[b]=ie)),ie}function Nd(p,b,I){var j;return p?(j=p[b],!j&&tt(j)&&(j=at(I)?{}:I,p[b]=j)):j=at(I)?{}:I,j}function Dp(p,b){var I=null,j=null;return xt(p)?I=p:j=p,function(){var $=arguments;if(I&&(j=I()),j)return j[b][Cu](j,$)}}function Hv(p,b,I){if(p&&b&&hr(p)&&hr(b)){var j=function(ie){if(cr(ie)){var ge=b[ie];xt(ge)?(!I||I(ie,!0,b,p))&&(p[ie]=Dp(b,ie)):(!I||I(ie,!1,b,p))&&(An(p,ie)&&delete p[ie],rt(p,ie,{g:function(){return b[ie]},s:function(Ie){b[ie]=Ie}}))}};for(var $ in b)j($)}return p}function gl(p,b,I,j,$){p&&b&&I&&($!==!1||at(p[b]))&&(p[b]=Dp(I,j))}function Pg(p,b,I,j){return p&&b&&hr(p)&&Mt(I)&&Xn(I,function($){cr($)&&gl(p,$,b,$,j)}),p}function Tm(p){return p&&_e&&(p=o(_e({},p))),p}var Bv="documentMode",Rg="location",Fd="console",wf="JSON",Em="crypto",Tp="msCrypto",xg="ReactNative",su="msie",sc="trident/",Sf="XMLHttpRequest",$u=null,Ru=null,Sh=!1,qd=null,Og=null;function Ep(p,b){var I=!1;if(p){try{if(I=b in p,!I){var j=p[i];j&&(I=b in j)}}catch{}if(!I)try{var $=new p;I=!at($[b])}catch{}}return I}function Pp(p){Sh=p}function Ch(p){if(p&&Sh){var b=Mi("__mockLocation");if(b)return b}return typeof location===t&&location?location:Mi(Rg)}function jd(){return typeof console!==n?console:Mi(Fd)}function Pm(){return!!(typeof JSON===t&&JSON||Mi(wf)!==null)}function Rp(){return Pm()?JSON||Mi(wf):null}function Rm(){return Mi(Em)}function Cf(){return Mi(Tp)}function Dh(){var p=Dc();return p&&p.product?p.product===xg:!1}function xm(){var p=Dc();if(p&&(p[Js]!==Ru||$u===null)){Ru=p[Js];var b=(Ru||fi)[wi]();$u=Ms(b,su)||Ms(b,sc)}return $u}function Rb(p){if(p===void 0&&(p=null),!p){var b=Dc()||{};p=b?(b.userAgent||fi)[wi]():fi}var I=(p||fi)[wi]();if(Ms(I,su)){var j=Qa()||{};return Math.max(parseInt(I[ic](su)[1]),j[Bv]||0)}else if(Ms(I,sc)){var $=parseInt(I[ic](sc)[1]);if($)return $+4}return null}function ac(p){return(Og===null||p===!1)&&(Og=lh()&&!!Dc().sendBeacon),Og}function Wv(p){var b=!1;try{b=!!Mi("fetch");var I=Mi("Request");b&&p&&I&&(b=Ep(I,"keepalive"))}catch{}return b}function zd(){return qd===null&&(qd=typeof XDomainRequest!==n,qd&&Ig()&&(qd=qd&&!Ep(Mi(Sf),"withCredentials"))),qd}function Ig(){var p=!1;try{var b=Mi(Sf);p=!!b}catch{}return p}function Ud(p,b){if(p)for(var I=0;I<p[Bn];I++){var j=p[I];if(j[nc]&&j[nc]===b)return j}return{}}function Df(p){var b=Qa();return b&&p?Ud(b.querySelectorAll("meta"),p).content:null}function Om(p){var b,I=hf();if(I){var j=I.getEntriesByType("navigation")||[];b=Ud((j[Bn]>0?j[0]:{}).serverTiming,p).description}return b}var kg=4294967296,Ic=4294967295,vl=123456789,Ag=987654321,$v=!1,Hd=vl,xp=Ag;function Th(p){p<0&&(p>>>=0),Hd=vl+p&Ic,xp=Ag-p&Ic,$v=!0}function xb(){try{var p=Tc()&2147483647;Th((Math.random()*kg^p)+p)}catch{}}function xS(p){return p>0?Math.floor(Bd()/Ic*(p+1))>>>0:0}function Bd(p){var b=0,I=Rm()||Cf();return I&&I.getRandomValues&&(b=I.getRandomValues(new Uint32Array(1))[0]&Ic),b===0&&xm()&&($v||xb(),b=Vv()&Ic),b===0&&(b=Math.floor(kg*Math.random()|0)),p||(b>>>=0),b}function Vv(p){xp=36969*(xp&65535)+(xp>>16)&Ic,Hd=18e3*(Hd&65535)+(Hd>>16)&Ic;var b=(xp<<16)+(Hd&65535)>>>0&Ic|0;return p||(b>>>=0),b}function Gv(p){p===void 0&&(p=22);for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=Bd()>>>0,j=0,$=fi;$[Bn]<p;)j++,$+=b.charAt(I&63),I>>>=6,j===5&&(I=(Bd()<<2&4294967295|I&3)>>>0,j=0);return $}var Kv="3.0.5",Lg="."+Gv(6),TD=0;function Mg(p){return p[Du]===1||p[Du]===9||!+p[Du]}function ED(p,b){var I=b[p.id];if(!I){I={};try{Mg(b)&&rt(b,p.id,{e:!1,v:I})}catch{}}return I}function $l(p,b){return b===void 0&&(b=!1),Md(p+TD+++(b?"."+Kv:fi)+Lg)}function Eh(p){var b={id:$l("_aiData-"+(p||fi)+"."+Kv),accept:function(I){return Mg(I)},get:function(I,j,$,ie){var ge=I[b.id];return ge?ge[Md(j)]:(ie&&(ge=ED(b,I),ge[Md(j)]=$),$)},kill:function(I,j){if(I&&I[j])try{delete I[j]}catch{}}};return b}function Im(p){return p&&hr(p)&&(p.isVal||p.fb||An(p,"v")||An(p,"mrg")||An(p,"ref")||p.set)}function a_(p,b,I){var j,$=I.dfVal||Lr;if(b&&I.fb){var ie=I.fb;Mt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Bn];ge++){var Ie=ie[ge],Be=b[Ie];if($(Be)?j=Be:p&&(Be=p.cfg[Ie],$(Be)&&(j=Be),p.set(p.cfg,Fe(Ie),Be)),$(j))break}}return!$(j)&&$(I.v)&&(j=I.v),j}function km(p,b,I){var j=I;if(I&&Im(I)&&(j=a_(p,b,I)),j){Im(j)&&(j=km(p,b,j));var $;Mt(j)?($=[],$[Bn]=j[Bn]):ia(j)&&($={}),$&&(Gr(j,function(ie,ge){ge&&Im(ge)&&(ge=km(p,b,ge)),$[ie]=ge}),j=$)}return j}function Vl(p,b,I,j){var $,ie,ge,Ie=j,Be,et,Ve,wt;Im(Ie)?($=Ie.isVal,ie=Ie.set,Ve=Ie[Td],wt=Ie[Ea],Be=Ie.mrg,et=Ie.ref,!et&&at(et)&&(et=!!Be),ge=a_(p,b,Ie)):ge=j,wt&&p[Ea](b,I);var ot,_t=!0,it=b[I];(it||!tt(it))&&(ot=it,_t=!1,$&&ot!==ge&&!$(ot)&&(ot=ge,_t=!0),ie&&(ot=ie(ot,ge,b),_t=ot===ge)),_t?ge?ot=km(p,b,ge):ot=ge:(ia(ot)||Mt(ge))&&Be&&ge&&(ia(ge)||Mt(ge))&&Gr(ge,function(Qt,Vt){Vl(p,ot,Qt,Vt)}),p.set(b,I,ot),et&&p.ref(b,I),Ve&&p[Td](b,I)}var yl=fh("[[ai_dynCfg_1]]"),Tf=fh("[[ai_blkDynCfg_1]]"),Ef=fh("[[ai_frcDynCfg_1]]");function Yv(p){if(p){var b;if(Mt(p)?(b=[],b[Bn]=p[Bn]):ia(p)&&(b={}),b)return Gr(p,function(I,j){b[I]=Yv(j)}),b}return p}function Op(p){if(p){var b=p[yl]||p;if(b.cfg&&(b.cfg===p||b.cfg[yl]===b))return b}return null}function Oa(p){if(p&&(ia(p)||Mt(p)))try{p[Tf]=!0}catch{}return p}function Ph(p){if(p)try{p[Ef]=!0}catch{}return p}function Rh(p,b,I){var j=!1;return I&&!p[b.blkVal]&&(j=I[Ef],!j&&!I[Tf]&&(j=ia(I)||Mt(I))),j}function c_(p){fn("InvalidAccess:"+p)}var OS=["push","pop","shift","unshift","splice"],xh=function(p,b,I,j){p&&p[$o](3,108,"".concat(I," [").concat(b,"] failed - ")+Re(j))};function IS(p,b,I){Mt(b)&&Xn(OS,function(j){var $=b[j];b[j]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ie=$[Cu](this,ie);return Ip(p,b,I,"Patching"),Ie}})}function Am(p,b){var I=ii(p,b);return I&&I.get}function Oh(p,b,I,j){var $={n:I,h:[],trk:function(et){et&&et.fn&&(Vs($.h,et)===-1&&$.h[Fn](et),p.trk(et,$))},clr:function(et){var Ve=Vs($.h,et);Ve!==-1&&$.h[nu](Ve,1)}},ie=!0,ge=!1;function Ie(){ie&&(ge=ge||Rh(Ie,p,j),j&&!j[yl]&&ge&&(j=Ip(p,j,I,"Converting")),ie=!1);var et=p.act;return et&&$.trk(et),j}Ie[p.prop]={chng:function(){p.add($)}};function Be(et){if(j!==et){Ie[p.ro]&&!p.upd&&c_("["+I+"] is read-only:"+Re(b)),ie&&(ge=ge||Rh(Ie,p,j),ie=!1);var Ve=ge&&Ie[p.rf];if(ge)if(Ve){Gr(j,function(ot){j[ot]=et?et[ot]:Ls});try{Gr(et,function(ot,_t){Gl(p,j,ot,_t)}),et=j}catch(ot){xh((p.hdlr||{})[uo],I,"Assigning",ot),ge=!1}}else j&&j[yl]&&Gr(j,function(ot){var _t=Am(j,ot);if(_t){var it=_t[p.prop];it&&it.chng()}});if(et!==j){var wt=et&&Rh(Ie,p,et);!Ve&&wt&&(et=Ip(p,et,I,"Converting")),j=et,ge=wt}p.add($)}}rt(b,$.n,{g:Ie,s:Be})}function Gl(p,b,I,j){if(b){var $=Am(b,I),ie=$&&!!$[p.prop];ie?b[I]=j:Oh(p,b,I,j)}return b}function Ng(p,b,I,j){if(b){var $=Am(b,I),ie=$&&!!$[p.prop],ge=j&&j[0],Ie=j&&j[1],Be=j&&j[2];if(!ie){if(Be)try{Oa(b)}catch(et){xh((p.hdlr||{})[uo],I,"Blocking",et)}try{Gl(p,b,I,b[I]),$=Am(b,I)}catch(et){xh((p.hdlr||{})[uo],I,"State",et)}}ge&&($[p.rf]=ge),Ie&&($[p.ro]=Ie),Be&&($[p.blkVal]=!0)}return b}function Ip(p,b,I,j){try{Gr(b,function($,ie){Gl(p,b,$,ie)}),b[yl]||(N(b,yl,{get:function(){return p[xo]}}),IS(p,b,I))}catch($){xh((p.hdlr||{})[uo],I,j,$)}return b}var Lm="[[ai_",Fg="]]";function Ob(p){var b,I=Qc(Lm+"get"+p.uid+Fg),j=Qc(Lm+"ro"+p.uid+Fg),$=Qc(Lm+"rf"+p.uid+Fg),ie=Qc(Lm+"blkVal"+p.uid+Fg),ge=Qc(Lm+"dtl"+p.uid+Fg),Ie=null,Be=null,et;function Ve(it,Qt){var Vt=et.act;try{et.act=it,it&&it[ge]&&(Xn(it[ge],function(Rr){Rr.clr(it)}),it[ge]=[]),Qt({cfg:p.cfg,set:p.set.bind(p),setDf:p[rc].bind(p),ref:p.ref.bind(p),rdOnly:p[Td].bind(p)})}catch(Rr){var _r=p[uo];throw _r&&_r[$o](1,107,Re(Rr)),Rr}finally{et.act=Vt||null}}function wt(){if(Ie){var it=Ie;Ie=null,Be&&Be[ai](),Be=null;var Qt=[];if(Xn(it,function(Vt){if(Vt&&(Vt[ge]&&(Xn(Vt[ge],function(_r){_r.clr(Vt)}),Vt[ge]=null),Vt.fn))try{Ve(Vt,Vt.fn)}catch(_r){Qt[Fn](_r)}}),Ie)try{wt()}catch(Vt){Qt[Fn](Vt)}Qt[Bn]>0&&e_("Watcher error(s): ",Qt)}}function ot(it){if(it&&it.h[Bn]>0){Ie||(Ie=[]),Be||(Be=Ys(function(){Be=null,wt()},0));for(var Qt=0;Qt<it.h[Bn];Qt++){var Vt=it.h[Qt];Vt&&Vs(Ie,Vt)===-1&&Ie[Fn](Vt)}}}function _t(it,Qt){if(it){var Vt=it[ge]=it[ge]||[];Vs(Vt,Qt)===-1&&Vt[Fn](Qt)}}return et=(b={prop:I,ro:j,rf:$},b[Ea]=ie,b[xo]=p,b.add=ot,b[Ul]=wt,b.use=Ve,b.trk=_t,b),et}function PD(p,b){var I={fn:b,rm:function(){I.fn=null,p=null,b=null}};return p.use(I,b),I}function Mm(p,b,I){var j,$=Op(b);if($)return $;var ie=$l("dyncfg",!0),ge=b&&I!==!1?b:Yv(b),Ie;function Be(){Ie[Ul]()}function et(_r,Rr,Ir){try{_r=Gl(Ie,_r,Rr,Ir)}catch(Mn){xh(p,Rr,"Setting value",Mn)}return _r[Rr]}function Ve(_r){return PD(Ie,_r)}function wt(_r,Rr){Ie.use(null,function(Ir){var Mn=Ie.upd;try{at(Rr)||(Ie.upd=Rr),_r(Ir)}finally{Ie.upd=Mn}})}function ot(_r,Rr){var Ir;return Ng(Ie,_r,Rr,(Ir={},Ir[0]=!0,Ir))[Rr]}function _t(_r,Rr){var Ir;return Ng(Ie,_r,Rr,(Ir={},Ir[1]=!0,Ir))[Rr]}function it(_r,Rr){var Ir;return Ng(Ie,_r,Rr,(Ir={},Ir[2]=!0,Ir))[Rr]}function Qt(_r,Rr){return Rr&&Gr(Rr,function(Ir,Mn){Vl(Vt,_r,Ir,Mn)}),_r}var Vt=(j={uid:null,cfg:ge},j[uo]=p,j[Ul]=Be,j.set=et,j[rc]=Qt,j[ca]=Ve,j.ref=ot,j[Td]=_t,j[Ea]=it,j._block=wt,j);return rt(Vt,"uid",{c:!1,e:!1,w:!1,v:ie}),Ie=Ob(Vt),Ip(Ie,ge,"config","Creating"),Vt}function kS(p,b){p?(p[xc](b),p[$o](2,108,b)):c_(b)}function cc(p,b,I,j){var $=Mm(I,p||{},j);return b&&$[rc]($.cfg,b),$}function Nm(p,b,I){var j=p[yl]||p;return j.cfg&&(j.cfg===p||j.cfg[yl]===j)?j[ca](b):(kS(I,ml+Re(p)),cc(p,null,I)[ca](b))}function Fm(p,b){if(p&&p[P])return p[P](b)}function AS(p,b,I){var j;return I||(j=Id(function($){I=$})),p&&yh(p)>0?t_(Fm(p[0],b),function(){AS(co(p,1),b,I)}):I(),j}var RD=500;function Kl(p){return{mrg:!0,v:p}}var uc=[wm,Sm,xa,Ld],Yl=null,qm;function qg(p,b){return function(){var I=arguments,j=bn(b);if(j){var $=j.listener;$&&$[p]&&$[p][Cu]($,I)}}}function u_(){var p=Mi("Microsoft");return p&&(Yl=p.ApplicationInsights),Yl}function bn(p){var b=Yl;return!b&&p.disableDbgExt!==!0&&(b=Yl||u_()),b?b.ChromeDbgExt:null}function Jv(p){if(!qm){qm={};for(var b=0;b<uc[Bn];b++)qm[uc[b]]=qg(uc[b],p)}return qm}var kp,Pf="warnToConsole",jm="AI (Internal): ",Ia="AI: ",l_="AITR_",jg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},d_=(kp={},kp[0]=null,kp[1]="errorToConsole",kp[2]=Pf,kp[3]="debugToConsole",kp);function Jl(p){return p?'"'+p[pp](/\"/g,fi)+'"':fi}function zm(p,b){var I=jd();if(I){var j="log";I[p]&&(j=p),xt(I[j])&&I[j](b)}}var Ih=function(){function p(b,I,j,$){j===void 0&&(j=!1);var ie=this;ie[ke]=b,ie[Qe]=(j?Ia:jm)+b;var ge=fi;Pm()&&(ge=Rp().stringify($));var Ie=(I?" message:"+Jl(I):fi)+($?" props:"+Jl(ge):fi);ie[Qe]+=Ie}return p.dataType="MessageData",p}();function zg(p,b){return(p||{})[uo]||new Um(b)}var Um=function(){function p(b){this.identifier="DiagnosticLogger",this.queue=[];var I=0,j={},$,ie,ge,Ie,Be;aa(p,this,function(et){Be=wt(b||{}),et.consoleLoggingLevel=function(){return $},et[$o]=function(it,Qt,Vt,_r,Rr){Rr===void 0&&(Rr=!1);var Ir=new Ih(Qt,Vt,Rr,_r);if(Ie)throw Re(Ir);var Mn=d_[it]||Pf;if(at(Ir[Qe]))_t("throw"+(it===1?"Critical":"Warning"),Ir);else{if(Rr){var Oi=+Ir[ke];!j[Oi]&&$>=it&&(et[Mn](Ir[Qe]),j[Oi]=!0)}else $>=it&&et[Mn](Ir[Qe]);Ve(it,Ir)}},et.debugToConsole=function(it){zm("debug",it),_t("warning",it)},et[xc]=function(it){zm("warn",it),_t("warning",it)},et.errorToConsole=function(it){zm("error",it),_t("error",it)},et.resetInternalMessageCount=function(){I=0,j={}},et[gm]=Ve,et[P]=function(it){Be&&Be.rm(),Be=null};function Ve(it,Qt){if(!ot()){var Vt=!0,_r=l_+Qt[ke];if(j[_r]?Vt=!1:j[_r]=!0,Vt&&(it<=ie&&(et.queue[Fn](Qt),I++,_t(it===1?"error":"warn",Qt)),I===ge)){var Rr="Internal events throttle limit per PageView reached for this app.",Ir=new Ih(23,Rr,!1);et.queue[Fn](Ir),it===1?et.errorToConsole(Rr):et[xc](Rr)}}}function wt(it){return Nm(cc(it,jg,et).cfg,function(Qt){var Vt=Qt.cfg;$=Vt[J],ie=Vt.loggingLevelTelemetry,ge=Vt.maxMessageLimit,Ie=Vt.enableDebug})}function ot(){return I>=ge}function _t(it,Qt){var Vt=bn(b||{});Vt&&Vt[Ut]&&Vt[Ut](it,Qt)}})}return p.__ieDyn=1,p}();function xu(p){return p||new Um}function Wd(p,b,I,j,$,ie){ie===void 0&&(ie=!1),xu(p)[$o](b,I,j,$,ie)}function Ib(p,b){xu(p)[xc](b)}function Xl(p,b,I){xu(p)[gm](b,I)}var Xv,Ql,kb="toGMTString",Qv="toUTCString",Zl="cookie",Ab="expires",Lb="isCookieUseDisabled",f_="disableCookiesUsage",Rf="_ckMgr",Hm=null,Mb=null,xf=null,lc,Vo={},_l={},Ug=(Xv={cookieCfg:Kl((Ql={},Ql[Pu]={fb:"cookieDomain",dfVal:En},Ql.path={fb:"cookiePath",dfVal:En},Ql.enabled=Ls,Ql.ignoreCookies=Ls,Ql.blockedCookies=Ls,Ql)),cookieDomain:Ls,cookiePath:Ls},Xv[f_]=Ls,Xv);function ed(){!lc&&(lc=Cn(function(){return Qa()}))}function Of(p,b){var I=Ap[Rf]||_l[Rf];return I||(I=Ap[Rf]=Ap(p,b),_l[Rf]=I),I}function Ou(p){return p?p.isEnabled():!0}function Hg(p,b){return b&&p&&Mt(p.ignoreCookies)?Vs(p.ignoreCookies,b)!==-1:!1}function Zv(p,b){return b&&p&&Mt(p.blockedCookies)&&Vs(p.blockedCookies,b)!==-1?!0:Hg(p,b)}function Nb(p,b){var I=b[g];if(tt(I)){var j=void 0;at(p[Lb])||(j=!p[Lb]),at(p[f_])||(j=!p[f_]),I=j}return I}function h_(p,b){var I;if(p)I=p.getCookieMgr();else if(b){var j=b.cookieCfg;j&&j[Rf]?I=j[Rf]:I=Ap(b)}return I||(I=Of(b,(p||{})[uo])),I}function Ap(p,b){var I,j,$,ie,ge,Ie,Be,et,Ve;p=cc(p||_l,null,b).cfg,ge=Nm(p,function(ot){ot[rc](ot.cfg,Ug),j=ot.ref(ot.cfg,"cookieCfg"),$=j[Cm]||"/",ie=j[Pu],Ie=Nb(p,j)!==!1,Be=j.getCookie||MS,et=j.setCookie||D,Ve=j.delCookie||D},b);var wt=(I={isEnabled:function(){var ot=Nb(p,j)!==!1&&Ie&&Bg(b),_t=_l[Rf];return ot&&_t&&wt!==_t&&(ot=Ou(_t)),ot},setEnabled:function(ot){Ie=ot!==!1,j[g]=ot},set:function(ot,_t,it,Qt,Vt){var _r=!1;if(Ou(wt)&&!Zv(j,ot)){var Rr={},Ir=na(_t||fi),Mn=Ks(Ir,";");if(Mn!==-1&&(Ir=na(Sn(_t,Mn)),Rr=LS(qn(_t,Mn+1))),oc(Rr,Pu,Qt||ie,dn,at),!tt(it)){var Oi=xm();if(at(Rr[Ab])){var Io=Tc(),Ge=Io+it*1e3;if(Ge>0){var At=new Date;At.setTime(Ge),oc(Rr,Ab,Fb(At,Oi?kb:Qv)||Fb(At,Oi?kb:Qv)||fi,dn)}}Oi||oc(Rr,"max-age",fi+it,null,at)}var Zt=Ch();Zt&&Zt.protocol==="https:"&&(oc(Rr,"secure",null,null,at),Mb===null&&(Mb=!k((Dc()||{})[Js])),Mb&&oc(Rr,"SameSite","None",null,at)),oc(Rr,Cm,Vt||$,null,at),et(ot,qb(Ir,Rr)),_r=!0}return _r},get:function(ot){var _t=fi;return Ou(wt)&&!Hg(j,ot)&&(_t=Be(ot)),_t},del:function(ot,_t){var it=!1;return Ou(wt)&&(it=wt.purge(ot,_t)),it},purge:function(ot,_t){var it,Qt=!1;if(Bg(b)){var Vt=(it={},it[Cm]=_t||"/",it[Ab]="Thu, 01 Jan 1970 00:00:01 GMT",it);xm()||(Vt["max-age"]="0"),Ve(ot,qb(fi,Vt)),Qt=!0}return Qt}},I[P]=function(ot){ge&&ge.rm(),ge=null},I);return wt[Rf]=wt,wt}function Bg(p){if(Hm===null){Hm=!1,!lc&&ed();try{var b=lc.v||{};Hm=b[Zl]!==void 0}catch(I){Wd(p,2,68,"Cannot access document.cookie - "+Uv(I),{exception:Re(I)})}}return Hm}function LS(p){var b={};if(p&&p[Bn]){var I=na(p)[ic](";");Xn(I,function(j){if(j=na(j||fi),j){var $=Ks(j,"=");$===-1?b[j]=null:b[na(Sn(j,$))]=na(qn(j,$+1))}})}return b}function Fb(p,b){return xt(p[b])?p[b]():null}function qb(p,b){var I=p||fi;return Gr(b,function(j,$){I+="; "+j+(tt($)?fi:"="+$)}),I}function MS(p){var b=fi;if(!lc&&ed(),lc.v){var I=lc.v[Zl]||fi;xf!==I&&(Vo=LS(I),xf=I),b=na(Vo[p]||fi)}return b}function D(p,b){!lc&&ed(),lc.v&&(lc.v[Zl]=p+"="+b)}function k(p){return cr(p)?!!(Ms(p,"CPU iPhone OS 12")||Ms(p,"iPad; CPU OS 12")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&Ms(p,"Version/")&&Ms(p,"Safari")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&pf(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ms(p,"Chrome/5")||Ms(p,"Chrome/6")||Ms(p,"UnrealEngine")&&!Ms(p,"Chrome")||Ms(p,"UCBrowser/12")||Ms(p,"UCBrowser/11")):!1}var z={perfEvtsSendAll:!1};function Y(p,b,I,j){Xn(p,function($){if($&&$[b])if(I)Ys(function(){return j($)},0);else try{j($)}catch{}})}var ve=function(){function p(b){this.listeners=[];var I,j,$=[],ie=cc(b,z);j=ie[ca](function(ge){I=!!ge.cfg.perfEvtsSendAll}),aa(p,this,function(ge){rt(ge,"listeners",{g:function(){return $}}),ge[Wl]=function(Ie){$[Fn](Ie)},ge[Pd]=function(Ie){for(var Be=Vs($,Ie);Be>-1;)$[nu](Be,1),Be=Vs($,Ie)},ge[wm]=function(Ie){Y($,wm,!0,function(Be){Be[wm](Ie)})},ge[Sm]=function(Ie,Be){Y($,Sm,!0,function(et){et[Sm](Ie,Be)})},ge[xa]=function(Ie,Be){Y($,xa,Be,function(et){et[xa](Ie,Be)})},ge[Ld]=function(Ie){Ie&&(I||!Ie[wh]())&&Y($,Ld,!1,function(Be){Ie[ht]?Ys(function(){return Be[Ld](Ie)},0):Be[Ld](Ie)})},ge[P]=function(Ie){var Be=function(){j&&j.rm(),j=null,$=[]},et;if(Y($,"unload",!1,function(Ve){var wt=Ve[P](Ie);wt&&(et||(et=[]),et[Fn](wt))}),et)return Id(function(Ve){return t_(kd(et),function(){Be(),Ve()})});Be()}})}return p.__ieDyn=1,p}(),We="ctx",Ze="ParentContextKey",ct="ChildrenContextKey",Tt=null,Kt=function(){function p(b,I,j){var $=this;if($.start=Tc(),$[nc]=b,$[ht]=j,$[wh]=function(){return!1},xt(I)){var ie;rt($,"payload",{g:function(){return!ie&&xt(I)&&(ie=I(),I=null),ie}})}$[Rd]=function(ge){return ge?ge===p[Ze]||ge===p[ct]?$[ge]:($[We]||{})[ge]:null},$[Tu]=function(ge,Ie){if(ge)if(ge===p[Ze])$[ge]||($[wh]=function(){return!0}),$[ge]=Ie;else if(ge===p[ct])$[ge]=Ie;else{var Be=$[We]=$[We]||{};Be[ge]=Ie}},$[Tg]=function(){var ge=0,Ie=$[Rd](p[ct]);if(Mt(Ie))for(var Be=0;Be<Ie[Bn];Be++){var et=Ie[Be];et&&(ge+=et[Ed])}$[Ed]=Tc()-$.start,$.exTime=$[Ed]-ge,$[Tg]=function(){}}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),Ar=function(){function p(b){this.ctx={},aa(p,this,function(I){I.create=function(j,$,ie){return new Kt(j,$,ie)},I.fire=function(j){j&&(j[Tg](),b&&xt(b[Ld])&&b[Ld](j))},I[Tu]=function(j,$){if(j){var ie=I[We]=I[We]||{};ie[j]=$}},I[Rd]=function(j){return(I[We]||{})[j]}})}return p.__ieDyn=1,p}(),jn="CoreUtils.doPerf";function In(p,b,I,j,$){if(p){var ie=p;if(ie[Oc]&&(ie=ie[Oc]()),ie){var ge=void 0,Ie=ie[Rd](jn);try{if(ge=ie.create(b(),j,$),ge){if(Ie&&ge[Tu]&&(ge[Tu](Kt[Ze],Ie),Ie[Rd]&&Ie[Tu])){var Be=Ie[Rd](Kt[ct]);Be||(Be=[],Ie[Tu](Kt[ct],Be)),Be[Fn](ge)}return ie[Tu](jn,ge),I(ge)}}catch(et){ge&&ge[Tu]&&ge[Tu]("exception",et)}finally{ge&&ie.fire(ge),ie[Tu](jn,Ie)}}}return I()}function Qn(){return Tt}function Qr(){var p=Zn();return qn(p,0,8)+"-"+qn(p,8,12)+"-"+qn(p,12,16)+"-"+qn(p,16,20)+"-"+qn(p,20)}function Zn(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=fi,I,j=0;j<4;j++)I=Bd(),b+=p[I&15]+p[I>>4&15]+p[I>>8&15]+p[I>>12&15]+p[I>>16&15]+p[I>>20&15]+p[I>>24&15]+p[I>>28&15];var $=p[8+(Bd()&3)|0];return xi(b,0,8)+xi(b,9,4)+"4"+xi(b,13,3)+$+xi(b,16,3)+xi(b,19,12)}var br=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Si="00",$n="ff",Pn="00000000000000000000000000000000",is="0000000000000000",dc=1;function ka(p,b,I){return p&&p[Bn]===b&&p!==I?!!p.match(/^[\da-f]*$/i):!1}function Wg(p,b,I){return ka(p,b)?p:I}function Bm(p){(isNaN(p)||p<0||p>255)&&(p=1);for(var b=p.toString(16);b[Bn]<2;)b="0"+b;return b}function ey(p,b,I,j){var $;return $={},$[F]=ka(j,2,$n)?j:Si,$[Qy]=kh(p)?p:Zn(),$[gp]=ty(b)?b:Sn(Zn(),16),$.traceFlags=I>=0&&I<=255?I:1,$}function td(p,b){var I;if(!p||(Mt(p)&&(p=p[0]||""),!p||!cr(p)||p[Bn]>8192))return null;if(p.indexOf(",")!==-1){var j=p[ic](",");p=j[b>0&&j[Bn]>b?b:0]}var $=br.exec(na(p));return!$||$[1]===$n||$[2]===Pn||$[3]===is?null:(I={version:($[1]||fi)[wi](),traceId:($[2]||fi)[wi](),spanId:($[3]||fi)[wi]()},I[vp]=parseInt($[4],16),I)}function kh(p){return ka(p,32,Pn)}function ty(p){return ka(p,16,is)}function ry(p){return!(!p||!ka(p[F],2,$n)||!ka(p[Qy],32,Pn)||!ka(p[gp],16,is)||!ka(Bm(p[vp]),2))}function or(p){return ry(p)?(p[vp]&dc)===dc:!1}function un(p){if(p){var b=Bm(p[vp]);ka(b,2)||(b="01");var I=p[F]||Si;return I!=="00"&&I!=="ff"&&(I=Si),"".concat(I.toLowerCase(),"-").concat(Wg(p.traceId,32,Pn).toLowerCase(),"-").concat(Wg(p.spanId,16,is).toLowerCase(),"-").concat(b.toLowerCase())}return""}function hi(p){var b="traceparent",I=td(Df(b),p);return I||(I=td(Om(b),p)),I}var os=Eh("plugin");function Ts(p){return os.get(p,"state",{},!0)}function Es(p,b){for(var I=[],j=null,$=p[jr](),ie;$;){var ge=$[ua]();if(ge){j&&j[Wn]&&ge[_f]&&j[Wn](ge),ie=Ts(ge);var Ie=!!ie[ma];ge[ma]&&(Ie=ge[ma]()),Ie||I[Fn](ge),j=ge,$=$[jr]()}}Xn(I,function(Be){var et=p[ns]();Be[Hl](p.getCfg(),et,b,p[jr]()),ie=Ts(Be),!Be[ns]&&!ie[ns]&&(ie[ns]=et),ie[ma]=!0,delete ie[pe]})}function Ns(p){return p.sort(function(b,I){var j=0;if(I){var $=I[_f];b[_f]?j=$?b[s_]-I[s_]:1:$&&(j=-1)}else j=b?1:-1;return j})}function Wm(p){var b={};return{getName:function(){return b[nc]},setName:function(I){p&&p.setName(I),b[nc]=I},getTraceId:function(){return b[Qy]},setTraceId:function(I){p&&p.setTraceId(I),kh(I)&&(b[Qy]=I)},getSpanId:function(){return b[gp]},setSpanId:function(I){p&&p.setSpanId(I),ty(I)&&(b[gp]=I)},getTraceFlags:function(){return b[vp]},setTraceFlags:function(I){p&&p.setTraceFlags(I),b[vp]=I}}}var Lp="TelemetryPluginChain",Mp="_hasRun",jb="_getTelCtx",$m=0;function Ah(p,b,I){for(;p;){if(p[ua]()===I)return p;p=p[jr]()}return $g([I],b.config||{},b)}function ny(p,b,I,j){var $=null,ie=[];b||(b=cc({},null,I[uo])),j!==null&&($=j?Ah(p,I,j):p);var ge={_next:Be,ctx:{core:function(){return I},diagLog:function(){return zg(I,b.cfg)},getCfg:function(){return b.cfg},getExtCfg:Ve,getConfig:wt,hasNext:function(){return!!$},getNext:function(){return $},setNext:function(_t){$=_t},iterate:ot,onComplete:Ie}};function Ie(_t,it){for(var Qt=[],Vt=2;Vt<arguments.length;Vt++)Qt[Vt-2]=arguments[Vt];_t&&ie[Fn]({func:_t,self:at(it)?ge.ctx:it,args:Qt})}function Be(){var _t=$;if($=_t?_t[jr]():null,!_t){var it=ie;it&&it[Bn]>0&&(Xn(it,function(Qt){try{Qt.func.call(Qt.self,Qt.args)}catch(Vt){Wd(I[uo],2,73,"Unexpected Exception during onComplete - "+Re(Vt))}}),ie=[])}return _t}function et(_t,it){var Qt=null,Vt=b.cfg;if(Vt&&_t){var _r=Vt[wp];!_r&&it&&(_r={}),Vt[wp]=_r,_r=b.ref(Vt,wp),_r&&(Qt=_r[_t],!Qt&&it&&(Qt={}),_r[_t]=Qt,Qt=b.ref(_r,_t))}return Qt}function Ve(_t,it){var Qt=et(_t,!0);return it&&Gr(it,function(Vt,_r){if(tt(Qt[Vt])){var Rr=b.cfg[Vt];(Rr||!tt(Rr))&&(Qt[Vt]=Rr)}Vl(b,Qt,Vt,_r)}),b[rc](Qt,it)}function wt(_t,it,Qt){Qt===void 0&&(Qt=!1);var Vt,_r=et(_t,!1),Rr=b.cfg;return _r&&(_r[it]||!tt(_r[it]))?Vt=_r[it]:(Rr[it]||!tt(Rr[it]))&&(Vt=Rr[it]),Vt||!tt(Vt)?Vt:Qt}function ot(_t){for(var it;it=ge._next();){var Qt=it[ua]();Qt&&_t(Qt)}}return ge}function Iu(p,b,I,j){var $=cc(b),ie=ny(p,$,I,j),ge=ie.ctx;function Ie(et){var Ve=ie._next();return Ve&&Ve[_f](et,ge),!Ve}function Be(et,Ve){return et===void 0&&(et=null),Mt(et)&&(et=$g(et,$.cfg,I,Ve)),Iu(et||ge[jr](),$.cfg,I,Ve)}return ge[Ds]=Ie,ge[Z]=Be,ge}function Vm(p,b,I){var j=cc(b.config),$=ny(p,j,b,I),ie=$.ctx;function ge(Be){var et=$._next();return et&&et[P](ie,Be),!et}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=$g(Be,j.cfg,b,et)),Vm(Be||ie[jr](),b,et)}return ie[Ds]=ge,ie[Z]=Ie,ie}function Lh(p,b,I){var j=cc(b.config),$=ny(p,j,b,I),ie=$.ctx;function ge(Be){return ie.iterate(function(et){xt(et[sn])&&et[sn](ie,Be)})}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=$g(Be,j.cfg,b,et)),Lh(Be||ie[jr](),b,et)}return ie[Ds]=ge,ie[Z]=Ie,ie}function $g(p,b,I,j){var $=null,ie=!j;if(Mt(p)&&p[Bn]>0){var ge=null;Xn(p,function(Ie){if(!ie&&j===Ie&&(ie=!0),ie&&Ie&&xt(Ie[_f])){var Be=U0(Ie,b,I);$||($=Be),ge&&ge._setNext(Be),ge=Be}})}return j&&!$?$g([j],b,I):$}function U0(p,b,I){var j=null,$=xt(p[_f]),ie=xt(p[Wn]),ge;p?ge=p[Pa]+"-"+p[s_]+"-"+$m++:ge="Unknown-0-"+$m++;var Ie={getPlugin:function(){return p},getNext:function(){return j},processTelemetry:Ve,unload:wt,update:ot,_id:ge,_setNext:function(_t){j=_t}};function Be(){var _t;return p&&xt(p[jb])&&(_t=p[jb]()),_t||(_t=Iu(Ie,b,I)),_t}function et(_t,it,Qt,Vt,_r){var Rr=!1,Ir=p?p[Pa]:Lp,Mn=_t[Mp];return Mn||(Mn=_t[Mp]={}),_t.setNext(j),p&&In(_t[ns](),function(){return Ir+":"+Qt},function(){Mn[ge]=!0;try{var Oi=j?j._id:fi;Oi&&(Mn[Oi]=!1),Rr=it(_t)}catch(Ge){var Io=j?Mn[j._id]:!0;Io&&(Rr=!0),(!j||!Io)&&Wd(_t[Ut](),1,73,"Plugin ["+Ir+"] failed during "+Qt+" - "+Re(Ge)+", run flags: "+Re(Mn))}},Vt,_r),Rr}function Ve(_t,it){it=it||Be();function Qt(Vt){if(!p||!$)return!1;var _r=Ts(p);return _r[pe]||_r[bm]?!1:(ie&&p[Wn](j),p[_f](_t,Vt),!0)}et(it,Qt,"processTelemetry",function(){return{item:_t}},!_t.sync)||it[Ds](_t)}function wt(_t,it){function Qt(){var Vt=!1;if(p){var _r=Ts(p),Rr=p[ns]||_r[ns];p&&(!Rr||Rr===_t.core())&&!_r[pe]&&(_r[ns]=null,_r[pe]=!0,_r[ma]=!1,p[pe]&&p[pe](_t,it)===!0&&(Vt=!0))}return Vt}et(_t,Qt,"unload",function(){},it[ht])||_t[Ds](it)}function ot(_t,it){function Qt(){var Vt=!1;if(p){var _r=Ts(p),Rr=p[ns]||_r[ns];p&&(!Rr||Rr===_t.core())&&!_r[pe]&&p[sn]&&p[sn](_t,it)===!0&&(Vt=!0)}return Vt}et(_t,Qt,"update",function(){},!1)||_t[Ds](it)}return Yt(Ie)}var Vg=function(){function p(b,I,j,$){var ie=this,ge=Iu(b,I,j,$);Pg(ie,ge,Je(ge))}return p}();function Vu(){var p=[];function b(j){j&&p[Fn](j)}function I(j,$){Xn(p,function(ie){try{ie(j,$)}catch(ge){Wd(j[Ut](),2,73,"Unexpected error calling unload handler - "+Re(ge))}}),p=[]}return{add:b,run:I}}function bl(){var p=[];function b(j){var $=p;p=[],Xn($,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){Wd(j,2,73,"Unloading:"+Re(ge))}})}function I(j){j&&Al(p,j)}return{run:b,add:I}}var iy,If="getPlugin",xD=(iy={},iy[wp]={isVal:En,v:{}},iy),NS=function(){function p(){var b=this,I,j,$,ie,ge;et(),aa(p,b,function(Ve){Ve[Hl]=function(wt,ot,_t,it){Be(wt,ot,it),I=!0},Ve[pe]=function(wt,ot){var _t,it=Ve[ns];if(!it||wt&&it!==wt[ns]())return;var Qt,Vt=!1,_r=wt||Vm(null,it,$&&$[If]?$[If]():$),Rr=ot||(_t={reason:0},_t[ht]=!1,_t);function Ir(){Vt||(Vt=!0,ie.run(_r,ot),ge.run(_r[Ut]()),Qt===!0&&_r[Ds](Rr),et())}return!Ve[Sr]||Ve[Sr](_r,Rr,Ir)!==!0?Ir():Qt=!0,Qt},Ve[sn]=function(wt,ot){var _t=Ve[ns];if(!_t||wt&&_t!==wt[ns]())return;var it,Qt=!1,Vt=wt||Lh(null,_t,$&&$[If]?$[If]():$),_r=ot||{reason:0};function Rr(){Qt||(Qt=!0,Be(Vt.getCfg(),Vt.core(),Vt[jr]()))}return!Ve._doUpdate||Ve._doUpdate(Vt,_r,Rr)!==!0?Rr():it=!0,it},gl(Ve,"_addUnloadCb",function(){return ie},"add"),gl(Ve,"_addHook",function(){return ge},"add"),rt(Ve,"_unloadHooks",{g:function(){return ge}})}),b[Ut]=function(Ve){return Ie(Ve)[Ut]()},b[ma]=function(){return I},b.setInitialized=function(Ve){I=Ve},b[Wn]=function(Ve){$=Ve},b[Ds]=function(Ve,wt){wt?wt[Ds](Ve):$&&xt($[_f])&&$[_f](Ve,null)},b._getTelCtx=Ie;function Ie(Ve){Ve===void 0&&(Ve=null);var wt=Ve;if(!wt){var ot=j||Iu(null,{},b[ns]);$&&$[If]?wt=ot[Z](null,$[If]):wt=ot[Z](null,$)}return wt}function Be(Ve,wt,ot){cc(Ve,xD,zg(wt)),!ot&&wt&&(ot=wt[iu]()[jr]());var _t=$;$&&$[If]&&(_t=$[If]()),b[ns]=wt,j=Iu(ot,Ve,wt,_t)}function et(){I=!1,b[ns]=null,j=null,$=null,ge=bl(),ie=Vu()}}return p.__ieDyn=1,p}();function H0(p,b,I){var j={id:b,fn:I};Al(p,j);var $={remove:function(){Xn(p,function(ie,ge){if(ie.id===j.id)return p[nu](ge,1),-1})}};return $}function B0(p,b,I){for(var j=!1,$=p[Bn],ie=0;ie<$;++ie){var ge=p[ie];if(ge)try{if(ge.fn[Cu](null,[b])===!1){j=!0;break}}catch(Ie){Wd(I,2,64,"Telemetry initializer failed: "+Uv(Ie),{exception:Re(Ie)},!0)}}return!j}var FS=function(p){ll(b,p);function b(){var I=p.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var j,$;ie(),aa(b,I,function(ge,Ie){ge.addTelemetryInitializer=function(Be){return H0($,j++,Be)},ge[_f]=function(Be,et){B0($,Be,et?et[Ut]():ge[Ut]())&&ge[Ds](Be,et)},ge[Sr]=function(){ie()}});function ie(){j=0,$=[]}return I}return b.__ieDyn=1,b}(NS),kf,OD="Plugins must provide initialize method",p_="_notificationManager",zb="SDK is still unloading...",Ub="SDK is not initialized",Hb=ft((kf={cookieCfg:{}},kf[Sp]={rdOnly:!0,ref:!0,v:[]},kf[Eu]={rdOnly:!0,ref:!0,v:[]},kf[wp]={ref:!0,v:{}},kf[Ad]=Ls,kf.loggingLevelConsole=0,kf.diagnosticLogInterval=Ls,kf));function qS(p,b){return new Ar(b)}function m_(p,b,I){var j,$=[],ie=[],ge={};return Xn(I,function(Ie){(tt(Ie)||tt(Ie[Hl]))&&oi(OD);var Be=Ie[s_],et=Ie[Pa];Ie&&Be&&(tt(ge[Be])?ge[Be]=et:Ib(p,"Two extensions have same priority #"+Be+" - "+ge[Be]+", "+et)),!Be||Be<b?$[Fn](Ie):ie[Fn](Ie)}),j={},j[ns]=$,j[Eu]=ie,j}function Af(p,b){var I=!1;return Xn(b,function(j){if(j===p)return I=!0,-1}),I}function g_(p,b,I,j){I&&Gr(I,function($,ie){j&&ia(ie)&&ia(b[$])&&g_(p,b[$],ie,j),j&&ia(ie)&&ia(b[$])?g_(p,b[$],ie,j):p.set(b,$,ie)})}function Bb(p,b){var I=null,j=-1;return Xn(p,function($,ie){if($.w===b)return I=$,j=ie,-1}),{i:j,l:I}}function to(p,b){var I=Bb(p,b).l;return I||(I={w:b,rm:function(){var j=Bb(p,b);j.i!==-1&&p[nu](j.i,1)}},p[Fn](I)),I}function jS(p,b,I){Xn(b,function(j){var $=Nm(p,j.w,I);delete j.w,j.rm=function(){$.rm()}})}var Gg=function(){function p(){var b,I,j,$,ie,ge,Ie,Be,et,Ve,wt,ot,_t,it,Qt,Vt,_r,Rr,Ir,Mn,Oi,Io,Ge,At,Zt,lr,rn,ei;aa(p,this,function(St){Ot(),St._getDbgPlgTargets=function(){return[Ge]},St[ma]=function(){return I},St[Hl]=function(Wt,Kr,ui,Vn){_t&&oi(zb),St[ma]()&&oi("Core cannot be initialized more than once"),b=cc(Wt,Hb,ui||St[uo],!1),Wt=b.cfg,Xb(b[ca](function(ss){Oi=ss.cfg.instrumentationKey;var Lc=ss.ref(ss.cfg,wp);Gr(Lc,function(ku){ss.ref(Lc,ku)}),tt(Oi)&&oi("Please provide instrumentation key")})),ie=Vn,$d(),C_(),St[uo]=ui;var mi=Wt[Sp];if(Ve=[],Ve[Fn].apply(Ve,_h(_h([],Kr,!1),mi)),wt=Wt[Eu],xr(null),(!ot||ot[Bn]===0)&&oi("No "+Eu+" available"),wt&&wt[Bn]>1){var jo=St[ua]("TeeChannelController");(!jo||!jo.plugin)&&Wd(j,1,28,"TeeChannel required")}jS(Wt,Io,j),Io=null,I=!0,St.releaseQueue(),St[Bl]()},St.getChannels=function(){var Wt=[];return ot&&Xn(ot,function(Kr){Wt[Fn](Kr)}),Yt(Wt)},St.track=function(Wt){In(St[Oc](),function(){return"AppInsightsCore:track"},function(){Wt===null&&(zD(Wt),oi("Invalid telemetry item")),!Wt[nc]&&tt(Wt[nc])&&(zD(Wt),oi("telemetry name required")),Wt.iKey=Wt.iKey||Oi,Wt[Ed]=Wt[Ed]||bf(new Date),Wt.ver=Wt.ver||"4.0",!_t&&St[ma]()?gr()[Ds](Wt):$[Fn](Wt)},function(){return{item:Wt}},!Wt.sync)},St[iu]=gr,St[pl]=function(){return ie||(ie=new ve(b.cfg),St[p_]=ie),ie},St[Wl]=function(Wt){St[pl]()[Wl](Wt)},St[Pd]=function(Wt){ie&&ie[Pd](Wt)},St.getCookieMgr=function(){return Be||(Be=Ap(b.cfg,St[uo])),Be},St.setCookieMgr=function(Wt){Be!==Wt&&(Fm(Be,!1),Be=Wt)},St[Oc]=function(){return!ge&&!Ie&&Xb(b[ca](function(Wt){if(Wt.cfg.enablePerfMgr){var Kr=Wt.cfg[Ad];xt(Kr)&&(Ie=Kr(St,St[pl]()))}})),ge||Ie||Qn()},St.setPerfMgr=function(Wt){ge=Wt},St.eventCnt=function(){return $[Bn]},St.releaseQueue=function(){if(I&&$[Bn]>0){var Wt=$;$=[],Xn(Wt,function(Kr){gr()[Ds](Kr)})}},St[Bl]=function(Wt){return Qt=Wt||null,ei=!1,lr&&lr[ai](),nt(!0)};function nt(Wt){if((!lr||!lr[g])&&!ei){var Kr=Wt||j&&j.queue[Bn]>0;Kr&&(rn||(rn=!0,Xb(b[ca](function(ui){var Vn=ui.cfg.diagnosticLogInterval;(!Vn||!(Vn>0))&&(Vn=1e4);var mi=!1;lr&&(mi=lr[g],lr[ai]()),lr=ql(bo,Vn),lr.unref(),lr[g]=mi}))),lr[g]=!0)}return lr}St[v]=function(){ei=!0,lr&&lr[ai](),bo()},Pg(St,function(){return it},["addTelemetryInitializer"]),St[P]=function(Wt,Kr,ui){var Vn;Wt===void 0&&(Wt=!0),I||oi(Ub),_t&&oi(zb);var mi=(Vn={reason:50},Vn[ht]=Wt,Vn.flushComplete=!1,Vn),jo;Wt&&!Kr&&(jo=Id(function(ku){Kr=ku}));var ss=Vm(ti(),St);ss[O](function(){Rr.run(St[uo]),AS([Be,ie,j],Wt,function(){Ot(),Kr&&Kr(mi)})},St);function Lc(ku){mi.flushComplete=ku,_t=!0,_r.run(ss,mi),St[v](),ss[Ds](mi)}return bo(),qh(Wt,Lc,6,ui),jo},St[ua]=Nr,St.addPlugin=function(Wt,Kr,ui,Vn){if(!Wt){Vn&&Vn(!1),Hp(OD);return}var mi=Nr(Wt[Pa]);if(mi&&!Kr){Vn&&Vn(!1),Hp("Plugin ["+Wt[Pa]+"] is already loaded!");return}var jo={reason:16};function ss(rv){Ve[Fn](Wt),jo.added=[Wt],xr(jo),Vn&&Vn(!0)}if(mi){var Lc=[mi.plugin],ku={reason:2,isAsync:!!ui};Ko(Lc,ku,function(rv){rv?(jo.removed=Lc,jo.reason|=32,ss()):Vn&&Vn(!1)})}else ss()},St.updateCfg=function(Wt,Kr){Kr===void 0&&(Kr=!0);var ui;if(St[ma]()){ui={reason:1,cfg:b.cfg,oldCfg:qu({},b.cfg),newConfig:qu({},Wt),merge:Kr},Wt=ui.newConfig;var Vn=b.cfg;Wt[Sp]=Vn[Sp],Wt[Eu]=Vn[Eu]}b._block(function(mi){var jo=mi.cfg;g_(mi,jo,Wt,Kr),Kr||Gr(jo,function(ss){An(Wt,ss)||mi.set(jo,ss,Ls)}),mi[rc](jo,Hb)},!0),b[Ul](),ui&&Mf(ui)},St.evtNamespace=function(){return Vt},St.flush=qh,St.getTraceCtx=function(Wt){return Mn||(Mn=Wm()),Mn},St.setTraceCtx=function(Wt){Mn=Wt||null},St.addUnloadHook=Xb,gl(St,"addUnloadCb",function(){return _r},"add"),St.onCfgChange=function(Wt){var Kr;return I?Kr=Nm(b.cfg,Wt,St[uo]):Kr=to(Io,Wt),{rm:function(){Kr.rm()}}},St.getWParam=function(){return Xa()||b.cfg.enableWParam?0:-1};function Dt(){var Wt={};At=[];var Kr=function(ui){ui&&Xn(ui,function(Vn){if(Vn[Pa]&&Vn[F]&&!Wt[Vn.identifier]){var mi=Vn[Pa]+"="+Vn[F];At[Fn](mi),Wt[Vn.identifier]=Vn}})};Kr(ot),wt&&Xn(wt,function(ui){Kr(ui)}),Kr(Ve)}function Ot(){I=!1,b=cc({},Hb,St[uo]),b.cfg[J]=1,rt(St,"config",{g:function(){return b.cfg},s:function(Kr){St.updateCfg(Kr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Dt(),At}}),rt(St,"pluginVersionString",{g:function(){return Zt||(At||Dt(),Zt=At.join(";")),Zt||fi}}),rt(St,"logger",{g:function(){return j||(j=new Um(b.cfg),b[uo]=j),j},s:function(Kr){b[uo]=Kr,j!==Kr&&(Fm(j,!1),j=Kr)}}),St[uo]=new Um(b.cfg),Ge=[];var Wt=St.config[Sp]||[];Wt.splice(0,Wt[Bn]),Al(Wt,Ge),it=new FS,$=[],Fm(ie,!1),ie=null,ge=null,Ie=null,Fm(Be,!1),Be=null,et=null,Ve=[],wt=null,ot=null,_t=!1,Qt=null,Vt=$l("AIBaseCore",!0),_r=Vu(),Mn=null,Oi=null,Rr=bl(),Io=[],Zt=null,At=null,ei=!1}function gr(){var Wt=Iu(ti(),b.cfg,St);return Wt[O](nt),Wt}function xr(Wt){var Kr=m_(St[uo],RD,Ve);et=null,Zt=null,At=null,ot=(wt||[])[0]||[],ot=Ns(Al(ot,Kr[Eu]));var ui=Al(Ns(Kr[ns]),ot);Ge=Yt(ui);var Vn=St.config[Sp]||[];Vn.splice(0,Vn[Bn]),Al(Vn,Ge);var mi=gr();ot&&ot[Bn]>0&&Es(mi[Z](ot),ui),Es(mi,ui),Wt&&Mf(Wt)}function Nr(Wt){var Kr=null,ui=null,Vn=[];return Xn(Ge,function(mi){if(mi[Pa]===Wt&&mi!==it)return ui=mi,-1;mi.getChannel&&Vn[Fn](mi)}),!ui&&Vn[Bn]>0&&Xn(Vn,function(mi){if(ui=mi.getChannel(Wt),!ui)return-1}),ui&&(Kr={plugin:ui,setEnabled:function(mi){Ts(ui)[bm]=!mi},isEnabled:function(){var mi=Ts(ui);return!mi[pe]&&!mi[bm]},remove:function(mi,jo){var ss;mi===void 0&&(mi=!0);var Lc=[ui],ku=(ss={reason:1},ss[ht]=mi,ss);Ko(Lc,ku,function(rv){rv&&xr({reason:32,removed:Lc}),jo&&jo(rv)})}}),Kr}function ti(){if(!et){var Wt=(Ge||[]).slice();Vs(Wt,it)===-1&&Wt[Fn](it),et=$g(Ns(Wt),b.cfg,St)}return et}function Ko(Wt,Kr,ui){if(Wt&&Wt[Bn]>0){var Vn=$g(Wt,b.cfg,St),mi=Vm(Vn,St);mi[O](function(){var jo=!1,ss=[];Xn(Ve,function(ku,rv){Af(ku,Wt)?jo=!0:ss[Fn](ku)}),Ve=ss,Zt=null,At=null;var Lc=[];wt&&(Xn(wt,function(ku,rv){var uy=[];Xn(ku,function(V0){Af(V0,Wt)?jo=!0:uy[Fn](V0)}),Lc[Fn](uy)}),wt=Lc),ui&&ui(jo),nt()}),mi[Ds](Kr)}else ui(!1)}function bo(){if(j&&j.queue){var Wt=j.queue.slice(0);j.queue[Bn]=0,Xn(Wt,function(Kr){var ui,Vn=(ui={},ui[nc]=Qt||"InternalMessageId: "+Kr[ke],ui.iKey=Oi,ui[Ed]=bf(new Date),ui.baseType=Ih.dataType,ui.baseData={message:Kr[Qe]},ui);St.track(Vn)})}}function qh(Wt,Kr,ui,Vn){var mi=1,jo=!1,ss=null;Vn=Vn||5e3;function Lc(){mi--,jo&&mi===0&&(ss&&ss[ai](),ss=null,Kr&&Kr(jo),Kr=null)}if(ot&&ot[Bn]>0){var ku=gr()[Z](ot);ku.iterate(function(rv){if(rv.flush){mi++;var uy=!1;rv.flush(Wt,function(){uy=!0,Lc()},ui)||uy||(Wt&&ss==null?ss=Ys(function(){ss=null,Lc()},Vn):Lc())}})}return jo=!0,Lc(),!0}function $d(){!ie&&St[pl](),Xb(b[ca](function(Wt){var Kr=Wt.cfg.disableDbgExt;Kr===!0&&Ir&&(ie[Pd](Ir),Ir=null),ie&&!Ir&&Kr!==!0&&(Ir=Jv(Wt.cfg),ie[Wl](Ir))}))}function C_(){Xb(b[ca](function(Wt){var Kr=Wt.cfg.enablePerfMgr;!Kr&&Ie&&(Ie=null),Kr&&Nd(Wt.cfg,Ad,qS)}))}function Mf(Wt){var Kr=Lh(ti(),St);Kr[O](nt),(!St._updateHook||St._updateHook(Kr,Wt)!==!0)&&Kr[Ds](Wt)}function Hp(Wt){var Kr=St[uo];Kr?(Wd(Kr,2,73,Wt),nt()):oi(Wt)}function zD(Wt){var Kr=St[pl]();Kr&&Kr[Sm]([Wt],2)}function Xb(Wt){Rr.add(Wt)}})}return p.__ieDyn=1,p}(),oy="on",W0="attachEvent",Lf="addEventListener",rd="detachEvent",zS="removeEventListener",Mh="events",Kg="visibilitychange",Np="pagehide",wl="pageshow",Nh="unload",Fp="beforeunload",Yg=$l("aiEvtPageHide"),qp=$l("aiEvtPageShow"),Wb=/\.[\.]+/g,US=/[\.]+$/,ID=1,v_=Eh("events"),sy=/^([^.]*)(?:\.(.+)|)/;function Jg(p){return p&&p[pp]?p[pp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,fi):p}function ay(p,b){var I;if(b){var j=fi;Mt(b)?(j=fi,Xn(b,function(ie){ie=Jg(ie),ie&&(ie[0]!=="."&&(ie="."+ie),j+=ie)})):j=Jg(b),j&&(j[0]!=="."&&(j="."+j),p=(p||fi)+j)}var $=sy.exec(p||fi)||[];return I={},I[Ra]=$[1],I.ns=($[2]||fi).replace(Wb,".").replace(US,fi)[ic](".").sort().join("."),I}function $b(p,b,I){var j=[],$=v_.get(p,Mh,{},!1),ie=ay(b,I);return Gr($,function(ge,Ie){Xn(Ie,function(Be){var et;(!ie[Ra]||ie[Ra]===Be.evtName[Ra])&&(!ie.ns||ie.ns===ie.ns)&&j[Fn]((et={},et[nc]=Be.evtName[Ra]+(Be.evtName.ns?"."+Be.evtName.ns:fi),et.handler=Be[mp],et))})}),j}function Xg(p,b,I){I===void 0&&(I=!0);var j=v_.get(p,Mh,{},I),$=j[b];return $||($=j[b]=[]),$}function y_(p,b,I,j){p&&b&&b[Ra]&&(p[zS]?p[zS](b[Ra],I,j):p[rd]&&p[rd](oy+b[Ra],I))}function Vb(p,b,I,j){var $=!1;return p&&b&&b[Ra]&&I&&(p[Lf]?(p[Lf](b[Ra],I,j),$=!0):p[W0]&&(p[W0](oy+b[Ra],I),$=!0)),$}function __(p,b,I,j){for(var $=b[Bn];$--;){var ie=b[$];ie&&(!I.ns||I.ns===ie.evtName.ns)&&(!j||j(ie))&&(y_(p,ie.evtName,ie[mp],ie.capture),b[nu]($,1))}}function $0(p,b,I){if(b[Ra])__(p,Xg(p,b[Ra]),b,I);else{var j=v_.get(p,Mh,{});Gr(j,function($,ie){__(p,ie,b,I)}),Je(j)[Bn]===0&&v_.kill(p,Mh)}}function Gb(p,b){var I;return b?(Mt(b)?I=[p].concat(b):I=[p,b],I=ay("xx",I).ns[ic](".")):I=p,I}function Aa(p,b,I,j,$){var ie;$===void 0&&($=!1);var ge=!1;if(p)try{var Ie=ay(b,j);if(ge=Vb(p,Ie,I,$),ge&&v_.accept(p)){var Be=(ie={guid:ID++,evtName:Ie},ie[mp]=I,ie.capture=$,ie);Xg(p,Ie.type)[Fn](Be)}}catch{}return ge}function jp(p,b,I,j,$){if($===void 0&&($=!1),p)try{var ie=ay(b,j),ge=!1;$0(p,ie,function(Ie){return ie.ns&&!I||Ie[mp]===I?(ge=!0,!0):!1}),ge||y_(p,ie,I,$)}catch{}}function Qg(p,b,I,j){return j===void 0&&(j=!1),Aa(p,b,I,null,j)}function kD(p,b,I,j){j===void 0&&(j=!1),jp(p,b,I,null,j)}function Gm(p,b,I){var j=!1,$=cl();$&&(j=Aa($,p,b,I),j=Aa($.body,p,b,I)||j);var ie=Qa();return ie&&(j=Aa(ie,p,b,I)||j),j}function Zg(p,b,I){var j=cl();j&&(jp(j,p,b,I),jp(j.body,p,b,I));var $=Qa();$&&jp($,p,b,I)}function b_(p,b,I,j){var $=!1;return b&&p&&p[Bn]>0&&Xn(p,function(ie){ie&&(!I||Vs(I,ie)===-1)&&($=Gm(ie,b,j)||$)}),$}function Kb(p,b,I,j){var $=!1;return b&&p&&Mt(p)&&($=b_(p,b,I,j),!$&&I&&I[Bn]>0&&($=b_(p,b,null,j))),$}function ev(p,b,I){p&&Mt(p)&&Xn(p,function(j){j&&Zg(j,b,I)})}function tv(p,b,I){return Kb([Fp,Nh,Np],p,b,I)}function AD(p,b){ev([Fp,Nh,Np],p,b)}function LD(p,b,I){function j(ge){var Ie=Qa();p&&Ie&&Ie.visibilityState==="hidden"&&p(ge)}var $=Gb(Yg,I),ie=b_([Np],p,b,$);return(!b||Vs(b,Kg)===-1)&&(ie=b_([Kg],j,b,$)||ie),!ie&&b&&(ie=LD(p,null,I)),ie}function w_(p,b){var I=Gb(Yg,b);ev([Np],p,I),ev([Kg],null,I)}function MD(p,b,I){function j(ge){var Ie=Qa();p&&Ie&&Ie.visibilityState==="visible"&&p(ge)}var $=Gb(qp,I),ie=b_([wl],p,b,$);return ie=b_([Kg],j,b,$)||ie,!ie&&b&&(ie=MD(p,null,I)),ie}function KO(p,b){var I=Gb(qp,b);ev([wl],p,I),ev([Kg],null,I)}var YO=Gi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Km="",JO="https://browser.events.data.microsoft.com/OneCollector/1.0/",Yb="version",cy="properties",HS="initialize",BS="logger",Jb="indexOf",Ym="timings",ND="pollInternalLogs",Xs="value",Fh="kind",Qs="length",FD="processTelemetryStart",qD="handleField",jD="rmSanitizer",C="rmFieldSanitizer",L="canHandle",B,X="4.0.4",ae="1DS-Web-JS-"+X,Ce=s.hasOwnProperty,Te="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),jt=null,Pr=Xa(),wr=ha();function Lt(p){return!(p===Km||tt(p))}function Pt(p){if(p){var b=Ks(p,"-");if(b>-1)return Sn(p,b)}return Km}function qt(){return jt===null&&(jt=!at(Uint8Array)&&!Oo()&&!Dh()),jt}function Et(p){return!!(p&&ln(p)&&p>=1&&p<=4)}function ur(p,b,I){if(!b&&!Lt(b)||typeof p!="string")return null;var j=typeof b;if(j==="string"||j==="number"||j==="boolean"||Mt(b))b={value:b};else if(j==="object"&&!Ce.call(b,"value"))b={value:I?JSON.stringify(b):b};else if(tt(b[Xs])||b[Xs]===Km||!cr(b[Xs])&&!ln(b[Xs])&&!On(b[Xs])&&!Mt(b[Xs]))return null;if(Mt(b[Xs])&&!Fs(b[Xs]))return null;if(!tt(b[Fh])){if(Mt(b[Xs])||!fo(b[Fh]))return null;b[Xs]=b[Xs].toString()}return b}function nr(p,b,I){var j=-1;if(!at(p))if(b>0&&(b===32?j=8192:b<=13&&(j=b<<5)),Go(I))j===-1&&(j=0),j|=I;else{var $=gt[Qi(p)]||-1;j!==-1&&$!==-1?j|=$:$===6&&(j=$)}return j}function yr(p,b,I){I===void 0&&(I=!0);var j;return p&&(j=p.get(b),I&&j&&decodeURIComponent&&(j=decodeURIComponent(j))),j||Km}function hn(p){p===void 0&&(p="D");var b=Qr();return p==="B"?b="{"+b+"}":p==="P"?b="("+b+")":p==="N"&&(b=b.replace(/-/g,Km)),b}function pi(p,b,I,j,$){var ie={},ge=!1,Ie=0,Be=arguments[Qs],et=arguments;for(On(et[0])&&(ge=et[0],Ie++);Ie<Be;Ie++){var p=et[Ie];Gr(p,function(wt,ot){ge&&ot&&hr(ot)?Mt(ot)?(ie[wt]=ie[wt]||[],Xn(ot,function(_t,it){_t&&hr(_t)?ie[wt][it]=pi(!0,ie[wt][it],_t):ie[wt][it]=_t})):ie[wt]=pi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ci=Sd;function fo(p){return p===0||p>0&&p<=13||p===32}function Go(p){return p>=0&&p<=9}function Oo(){var p=Dc();if(!at(p)&&p.userAgent){var b=p.userAgent.toLowerCase();if((b[Jb]("safari")>=0||b[Jb]("firefox")>=0)&&b[Jb]("chrome")<0)return!0}return!1}function Fs(p){return p[Qs]>0}function fc(p,b){var I=p;I[Ym]=I[Ym]||{},I[Ym][FD]=I[Ym][FD]||{},I[Ym][FD][b]=ci()}function Qi(p){var b=0;if(p!=null){var I=typeof p;I==="string"?b=1:I==="number"?b=2:I==="boolean"?b=3:I===t&&(b=4,Mt(p)?(b=4096,p[Qs]>0&&(b|=Qi(p[0]))):Ce.call(p,"value")&&(b=8192|Qi(p[Xs])))}return b}function kc(){return!!Mi("chrome")}function Ac(p,b,I,j,$,ie){j===void 0&&(j=!1),$===void 0&&($=!1);function ge(Be,et,Ve){try{Be[et]=Ve}catch{}}var Ie=new XMLHttpRequest;return j&&ge(Ie,Te,j),I&&ge(Ie,Xe,I),Ie.open(p,b,!$),I&&ge(Ie,Xe,I),!$&&ie&&ge(Ie,lt,ie),Ie}function la(p){return p>0}var Sl=ft({endpointUrl:JO,propertyStorageOverride:{isVal:ga}});function ga(p){return p&&(!p.getProperty||!p.setProperty)&&oi("Invalid property storage override passed."),!0}var va=function(p){ll(b,p);function b(){var I=p.call(this)||this;return aa(b,I,function(j,$){j[HS]=function(ie,ge,Ie,Be){In(j,function(){return"AppInsightsCore.initialize"},function(){try{$[HS](cc(ie,Sl,Ie||j[BS],!1).cfg,ge,Ie,Be)}catch(wt){var et=j[BS],Ve=Re(wt);Ve[Jb]("channels")!==-1&&(Ve+=`
 - Channels must be provided through config.channels only!`),Wd(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ve)}},function(){return{config:ie,extensions:ge,logger:Ie,notificationManager:Be}})},j.track=function(ie){In(j,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[Ym]=ge[Ym]||{},ge[Ym].trackStart=ci(),Et(ge.latency)||(ge.latency=1);var Ie=ge.ext=ge.ext||{};Ie.sdk=Ie.sdk||{},Ie.sdk.ver=ae;var Be=ge.baseData=ge.baseData||{};Be[cy]=Be[cy]||{};var et=Be[cy];et[Yb]=et[Yb]||j.pluginVersionString||Km}$.track(ge)},function(){return{item:ie}},!ie.sync)},j[ND]=function(ie){return $[ND](ie||"InternalLog")}}),I}return b.__ieDyn=1,b}(Gg),Ci=Gi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),ro=Gi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),nd=Gi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),S_=Gi({Normal:1,Critical:2}),zp=Gi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Up=function(){function p(b){var I=this,j={},$=[],ie=[];b&&ie.push(b);function ge(Ve,wt){var ot,_t=j[Ve];if(_t&&(ot=_t[wt]),!ot&&ot!==null){if(cr(Ve)&&cr(wt))if(ie[Qs]>0){for(var it=0;it<ie[Qs];it++)if(ie[it][qD](Ve,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else $[Qs]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<$[Qs];it++)if($[it][qD](Ve,wt)){ot={canHandle:!0,handler:$[it],fieldHandler:null};break}}_t||(_t=j[Ve]={}),_t[wt]=ot}return ot}I.clearCache=function(){j={}},I.addSanitizer=function(Ve){Ve&&(Gs($,Ve)||$.push(Ve),j={})},I.addFieldSanitizer=function(Ve){Ve&&(Gs(ie,Ve)||ie.push(Ve),j={})},I[jD]=function(Ve){if(Ve){var wt=Vs($,Ve);wt!==-1&&($.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[jD]&&ot[jD](Ve)})}},I[C]=function(Ve){if(Ve){var wt=Vs(ie,Ve);wt!==-1&&(ie.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[C]&&ot[C](Ve)})}},I.isEmpty=function(){return yh($)+yh(ie)===0},I[qD]=function(Ve,wt){var ot=ge(Ve,wt);return ot?ot[L]:!1},I[Xs]=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(it&&it[L]){if(!it||!it[L])return null;if(it.handler)return it.handler[Xs](Ve,wt,ot,_t);if(!cr(wt)||tt(ot)||ot===Km)return null;var Qt=null,Vt=Qi(ot);if((Vt&8192)===8192){var _r=Vt&-8193;if(Qt=ot,!Lt(Qt[Xs])||_r!==1&&_r!==2&&_r!==3&&(_r&4096)!==4096)return null}else Vt===1||Vt===2||Vt===3||(Vt&4096)===4096?Qt=Be(Ve,wt,ot):Vt===4&&(Qt=Be(Ve,wt,_t?JSON.stringify(ot):ot));if(Qt)return Ie(it,Ve,wt,Vt,Qt,_t)}return null},I.property=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(!it||!it[L]||!cr(wt)||tt(ot)||!Lt(ot[Xs]))return null;var Qt=Qi(ot[Xs]);return Qt===0?null:Ie(it,Ve,wt,Qt,ot,_t)};function Ie(Ve,wt,ot,_t,it,Qt){if(Ve.handler)return Ve.handler.property(wt,ot,it,Qt);if(!tt(it[Fh])){if((_t&4096)===4096||!fo(it[Fh]))return null;it[Xs]=it[Xs].toString()}return et(Ve.fieldHandler,wt,ot,_t,it)}function Be(Ve,wt,ot){return Lt(ot)?{value:ot}:null}function et(Ve,wt,ot,_t,it){if(it&&Ve){var Qt=Ve.getSanitizer(wt,ot,_t,it[Fh],it.propertyType);if(Qt)if(_t===4){var Vt={},_r=it[Xs];Gr(_r,function(Ir,Mn){var Oi=wt+"."+ot;if(Lt(Mn)){var Io=Be(Oi,Ir,Mn);Io=et(Ve,Oi,Ir,Qi(Mn),Io),Io&&(Vt[Ir]=Io[Xs])}}),it[Xs]=Vt}else{var Rr={path:wt,name:ot,type:_t,prop:it,sanitizer:I};it=Qt.call(I,Rr)}}return it}}return p.getFieldType=Qi,p}();r.AppInsightsCore=va,r.BaseTelemetryPlugin=NS,r.DiagnosticLogger=Um,r.EventLatency=ro,r.EventPersistence=S_,r.EventPropertyType=nd,r.EventsDiscardedReason=yf,r.FullVersionString=ae,r.InternalAppInsightsCore=Gg,r.LoggingSeverity=YO,r.MinChannelPriorty=hl,r.NotificationManager=ve,r.PerfEvent=Kt,r.PerfManager=Ar,r.ProcessTelemetryContext=Vg,r.TraceLevel=zp,r.Undefined=n,r.ValueKind=Ci,r.ValueSanitizer=Up,r.Version=X,r._InternalLogMessage=Ih,r.__getRegisteredEvents=$b,r._logInternalMessage=Xl,r._throwInternal=Wd,r._warnToConsole=Ib,r.addEventHandler=Gm,r.addEventListeners=Kb,r.addPageHideEventListener=LD,r.addPageShowEventListener=MD,r.addPageUnloadEventListener=tv,r.areCookiesSupported=Bg,r.arrForEach=Xn,r.arrIndexOf=Vs,r.arrMap=Ll,r.arrReduce=yu,r.attachEvent=Qg,r.blockDynamicConversion=Oa,r.cookieAvailable=Bg,r.createCookieMgr=Ap,r.createDynamicConfig=cc,r.createEnumStyle=Gi,r.createGuid=hn,r.createProcessTelemetryContext=Iu,r.createTraceParent=ey,r.createUniqueNamespace=$l,r.createUnloadHandlerContainer=Vu,r.dateNow=Tc,r.detachEvent=kD,r.disallowsSameSiteNone=k,r.doPerf=In,r.dumpObj=Re,r.eventOff=jp,r.eventOn=Aa,r.extend=pi,r.findW3cTraceParent=hi,r.forceDynamicConversion=Ph,r.formatTraceParent=un,r.generateW3CId=Zn,r.getCommonSchemaMetaData=nr,r.getConsole=jd,r.getCookieValue=yr,r.getCrypto=Rm,r.getDocument=Qa,r.getDynamicConfigHandler=Op,r.getExceptionName=Uv,r.getFieldValueType=Qi,r.getGlobal=al,r.getGlobalInst=Mi,r.getHistory=gu,r.getIEVersion=Rb,r.getISOString=bf,r.getJSON=Rp,r.getLocation=Ch,r.getMsCrypto=Cf,r.getNavigator=Dc,r.getPerformance=hf,r.getSetValue=Nd,r.getTenantId=Pt,r.getTime=ci,r.getWindow=cl,r.hasDocument=Xa,r.hasHistory=ra,r.hasJSON=Pm,r.hasNavigator=lh,r.hasOwnProperty=Vr,r.hasWindow=ha,r.isArray=Mt,r.isArrayValid=Fs,r.isBeaconsSupported=ac,r.isBoolean=On,r.isChromium=kc,r.isDate=on,r.isDocumentObjectAvailable=Pr,r.isError=Or,r.isFetchSupported=Wv,r.isFunction=xt,r.isGreaterThanZero=la,r.isIE=xm,r.isLatency=Et,r.isNotTruthy=$r,r.isNullOrUndefined=tt,r.isNumber=ln,r.isObject=hr,r.isReactNative=Dh,r.isSampledFlag=or,r.isString=cr,r.isTruthy=dn,r.isTypeof=st,r.isUint8ArrayAvailable=qt,r.isUndefined=at,r.isValidSpanId=ty,r.isValidTraceId=kh,r.isValidTraceParent=ry,r.isValueAssigned=Lt,r.isValueKind=fo,r.isWindowObjectAvailable=wr,r.isXhrSupported=Ig,r.mergeEvtNamespace=Gb,r.newGuid=Qr,r.newId=Gv,r.normalizeJsName=Md,r.objDefineAccessors=Le,r.objForEachKey=Gr,r.objFreeze=Yt,r.objKeys=Je,r.objSeal=rr,r.onConfigChange=Nm,r.openXhr=Ac,r.optimizeObject=Tm,r.parseTraceParent=td,r.perfNow=Sd,r.proxyAssign=Hv,r.proxyFunctionAs=gl,r.proxyFunctions=Pg,r.random32=Bd,r.randomValue=xS,r.removeEventHandler=Zg,r.removeEventListeners=ev,r.removePageHideEventListener=w_,r.removePageShowEventListener=KO,r.removePageUnloadEventListener=AD,r.safeGetCookieMgr=h_,r.safeGetLogger=zg,r.sanitizeProperty=ur,r.setEnableEnvMocks=Pp,r.setProcessTelemetryTimings=fc,r.setValue=oc,r.strContains=Ms,r.strEndsWith=pf,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=es,r.strTrim=na,r.strUndefined=n,r.throwError=oi,r.toISOString=bf,r.useXDomainRequest=zd})});var ove=E((hq,ive)=>{(function(r,e){typeof hq=="object"&&typeof ive<"u"?e(hq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(hq,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",m="boolean",_="function",T="number",x="object",M="prototype",A="__proto__",U="string",ne="undefined",de="constructor",ye="Symbol",V="_polyfill",W="indexOf",ee="length",Se="done",se="value",ce="name",qe="slice",Ne=Object,ue=Ne[M],De=String,we=De[M],xe=Math,Me=Array,$e=Me[M];function Ct(C,L){var B=L;try{B=C()}catch{}return B}function ze(C){return function(L){return typeof L===C}}function st(C){var L="[object "+C+"]";return function(B){return!!(B&&at(B)===L)}}function at(C){return ue.toString.call(C)}function tt(C){return typeof C===ne||C===ne}function fr(C){return C===d||tt(C)}function Lr(C){return C===d||!zr(C)}function zr(C){return!!C||C!==l}var cr=ze(U),xt=ze(_);function hr(C){return!C&&fr(C)?!1:!!C&&typeof C===x}var Mt=Me.isArray,on=ze(T),ln=ze(m),On=st("Error");function Or(C){return!!C&&xt(C.then)}var Hn=Ne.getOwnPropertyDescriptor;function $r(C,L){return C&&ue.hasOwnProperty.call(C,L)}var dn=Ne.hasOwn||ii;function ii(C,L){return $r(C,L)||!!Hn(C,L)}function Vr(C,L,B){if(C&&hr(C)){for(var X in C)if(dn(C,X)&&L.call(B||C,X,C[X])===-1)break}}function An(C,L,B,X){var ae={};return Vr(C,function(Ce,Te){ae[Ce]=L?Te:Ce,ae[Te]=B?Te:Ce}),X(ae)}function Ri(C){throw new TypeError(C)}var Gr=Ne.freeze,Ji=function(C){return C},oi=function(C){return C[A]||d},fn=Ne.assign;function Oe(C){return(!hr(C)||C===d)&&Ri("objKeys called on non-object"),Ne.keys(C)}function oe(C){return Gr&&Vr(C,function(L,B){(Mt(B)||hr(B))&&Gr(B)}),Q(C)}var Q=Gr||Ji,_e=Ne.getPrototypeOf||oi;function Je(C){return An(C,1,0,oe)}function ft(C){return An(C,0,0,oe)}var Yt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),rr=De,Jt="__tsUtils$gblCfg",$t;function kt(){var C;return typeof globalThis!==ne&&(C=globalThis),!C&&typeof self!==ne&&(C=self),!C&&typeof window!==ne&&(C=window),!C&&typeof global!==ne&&(C=global),C}function K(){if(!$t){var C=kt()||{};$t=C[Jt]=C[Jt]||{}}return $t}function Fe(C,L){var B=f;if(On(C))B="{ stack: '"+C.stack+"', message: '"+C.message+"', name: '"+C.name+"'";else try{B=JSON.stringify(C,d,L?on(L)?L:4:l)}catch(X){B=" - "+Fe(X,L)}return at(C)+": "+B}var Ht=$e[qe],Tr=function(C,L){Ri("'"+rr(C)+"' not defined for "+Fe(L))},He=function(C){return function(L){return L[C].apply(L,Ht.call(arguments,1))}},re=function(C,L){var B=L&&L[C];return function(X){var ae=X&&X[C]||B;if(ae)return ae.apply(X,Ht.call(arguments,1));Tr(C,X)}},Re=function(C,L,B){var X=L&&L[C];return function(ae){var Ce=ae&&ae[C]||X;if(Ce||B){var Te=arguments;return(Ce||B).apply(ae,Ce?Ht.call(Te,1):Te)}Tr(C,ae)}},je=xe.max,he=re(qe,we),S=re("substring",we),fe=Re("substr",we,Ye);function Ye(C,L,B){return fr(C)&&Ri("'polyStrSubstr called with invalid "+Fe(C)),B<0?f:(L=L||0,L<0&&(L=je(L+C[ee],0)),tt(B)?he(C,L):he(C,L,L+B))}function Dr(C,L){return S(C,0,L)}var Wr=Re("startsWith",we,Xr);function Xr(C,L,B){cr(C)||Ri("'"+Fe(C)+"' is not a string");var X=cr(L)?L:rr(L),ae=X[ee],Ce=B>0?B:0;return S(C,Ce,Ce+ae)===X}var qn="_urid",xi;function ks(){if(!xi){var C=K();xi=C.gblSym=C.gblSym||{k:{},s:{}}}return xi}var Sn={};function es(C){var L={description:rr(C),toString:function(){return ye+"("+C+")"}};return L[V]=!0,L}function Bs(C){var L=ks();if(!dn(L.k,C)){var B=es(C),X=Oe(L.s).length;B[qn]=function(){return X+"_"+B.toString()},L.k[C]=B,L.s[B[qn]()]=rr(C)}return L.k[C]}function ta(C){var L,B=Yt[C];return B&&(L=Sn[B]=Sn[B]||es(ye+"."+B)),L}var Fo={e:"enumerable",c:"configurable",v:se,w:"writable",g:"get",s:"set"};function Eo(C){var L={};if(L[Fo.c]=!0,L[Fo.e]=!0,C.l){L.get=function(){return C.l.v};var B=Hn(C.l,"v");B&&B.set&&(L.set=function(X){C.l.v=X})}return Vr(C,function(X,ae){L[Fo[X]]=tt(ae)?L[Fo[X]]:ae}),L}var H=Ne.defineProperty;function Ue(C,L,B){return H(C,L,Eo(B))}var vt,Fr=function(){vt=K(),Fr=d};function so(C){var L={};return Fr&&Fr(),L.b=vt.lzy,H(L,"v",{configurable:!0,get:function(){var B=C();return vt.lzy||(H(L,"v",{value:B}),L.b&&delete L.b),vt.lzy&&L.b!==vt.lzy&&(L.b=vt.lzy),B}}),L}function Bi(C,L){return so(function(){return Ct(C,L)})}var N="window",Le,rt,zt,Ln,Cn,Nn=function(C){return Bi(function(){return ji(C)||l},l)},ao=function(C){return(!Le||C===!1||vt&&vt.lzy&&!Le.b)&&(Le=Bi(kt,d)),Le.v},ji=function(C,L){var B=!Le||L===!1?ao(L):Le.v;return B&&B[C]?B[C]:C===N&&rt?rt.v:d},Po=function(){return!!Vi()},Vi=function(){return(!zt||vt&&vt.lzy&&!zt.b)&&(zt=Nn("document")),zt.v},Jn=function(){return!!mu()},mu=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Nn(N)),rt.v},ts=function(){return!!yo()},yo=function(){return(!Ln||vt&&vt.lzy&&!Ln.b)&&(Ln=Nn("navigator")),Ln.v},al=function(){return!Cn&&(Cn=Bi(function(){return!!(process&&(process.versions||{}).node)},!1)),Cn.v},Mi,Xa,Qa;function ha(C){return Bi(function(){return Mi.v?Mi.v[C]:l},l)}function cl(){return!!lh()}function lh(){var C=!Mi||vt&&vt.lzy&&!Mi.b;return C&&(Mi=Nn(ye)),(!Xa||C)&&(Xa=ha("for")),(!Qa||C)&&(Qa=ha("keyFor")),Mi.v}function Dc(C,L){var B=Yt[C];return(!Mi||vt.lzy&&!Mi.b)&&lh(),Mi.v?Mi.v[B||C]:L?l:ta(C)}function ra(C,L){return(!Mi||vt.lzy&&!Mi.b)&&lh(),Mi.v?Mi.v(C):L?d:es(C)}function gu(C){return(!Xa||vt.lzy&&!Mi.b)&&lh(),(Xa.v||Bs)(C)}function dh(C){return!!C&&xt(C.next)}function Uo(C){return!Lr(C)&&xt(C[Dc(3)])}var Ws;function Tn(C,L,B){if(C&&(dh(C)||(!Ws&&(Ws=so(function(){return Dc(3)})),C=C[Ws.v]?C[Ws.v]():null),dh(C))){var X=void 0,ae=void 0;try{for(var Ce=0;!(ae=C.next())[Se]&&L.call(B||C,ae[se],Ce,C)!==-1;)Ce++}catch(Te){X={e:Te},C.throw&&(ae=null,C.throw(X))}finally{try{ae&&!ae[Se]&&C.return&&C.return(ae)}finally{if(X)throw X.e}}}}var $s=He("apply");function vu(C,L){return!tt(L)&&C&&(Mt(L)?$s(C.push,C,L):dh(L)||Uo(L)?Tn(L,function(B){C.push(B)}):C.push(L)),C}function si(C,L,B){if(C)for(var X=C[ee]>>>0,ae=0;ae<X&&!(ae in C&&L.call(B||C,C[ae],ae,C)===-1);ae++);}var Da=re(W,$e),Qc=re(qe,$e),fh=He("call"),af=Ne.create,ap=af||cf;function cf(C){if(!C)return{};var L=typeof C;if(L!==x&&L!==_)throw new TypeError("Prototype must be an Object or function: "+Fe(C));function B(){}return B[M]=C,new B}var cp;function uf(C,L){var B=Ne.setPrototypeOf||function(X,ae){!cp&&(cp=so(function(){var Ce;return Ce={},Ce[A]=[],Ce instanceof Array})),cp.v?X[A]=ae:Vr(ae,function(Ce,Te){return X[Ce]=Te})};return B(C,L)}var Al=function(C,L,B){Vs(L,C),L=uf(L,B);function X(){this.constructor=L,Vs(this,C)}return L[M]=B===d?ap(B):(X[M]=B[M],new X),L},Xn=function(C,L){try{L&&(C[ce]=L)}catch{}},Vs=function(C,L){try{Ue(C,ce,{v:L,c:!0,e:!1})}catch{}};function Ll(C,L,B){var X=B||Error,ae=X[M][ce],Ce=Error.captureStackTrace;return Al(C,function(){var Te=this;try{Xn(X,C);var Xe=$s(X,Te,Qc(arguments))||Te;if(Xe!==Te){var lt=_e(Te);lt!==_e(Xe)&&uf(Xe,lt)}return Ce&&Ce(Xe,Te[de]),L&&L(Xe,arguments),Xe}finally{Xn(X,ae)}},X)}function co(){return(Date.now||hh)()}function hh(){return new Date().getTime()}function ph(C){return function(B){return fr(B)&&Ri("strTrim called ["+Fe(B)+"]"),B&&B.replace&&(B=B.replace(C,f)),B}}var Gs=ph(/^\s+|(?=\s)\s+$/g),yu=Re("trim",we,Gs),mh,yd,Ss;function Ml(C){if(!C||typeof C!==x)return!1;Ss||(Ss=Jn()?mu():!0);var L=!1;if(C!==Ss){yd||(mh=Function[M].toString,yd=fh(mh,Ne));try{var B=_e(C);L=!B,L||($r(B,de)&&(B=B[de]),L=B&&typeof B===_&&mh.call(B)===yd)}catch{}}return L}var Zc;function pm(){return(!Zc||!Zc.b&&vt&&vt.lzy)&&(Zc=Nn("performance")),Zc.v}function _d(){var C=pm();return C&&C.now?C.now():co()}var lf=re(W,we),df="ref",Tc="un"+df,_o="hasRef",up="enabled";function ff(C,L,B){var X,ae=!0,Ce=C?L(d):d,Te,Xe=function(){return ae=!1,Ce&&Ce[Tc]&&Ce[Tc](),Te},lt=function(){return ae=!0,Ce&&Ce[df]&&Ce[df](),Te},gt=function(){return Ce&&Ce[_o]?Ce[_o]():ae},jt=function(){return Ce=L(Ce),ae||Xe(),Te},Pr=function(){Ce&&B(Ce),Ce=d},wr=function(Lt){!Lt&&Ce&&Pr(),Lt&&!Ce&&jt()};return Te=(X={cancel:Pr,refresh:jt},X[_o]=gt,X[df]=lt,X[Tc]=Xe,X[up]=!1,X),H(Te,up,{get:function(){return!!Ce},set:wr}),{h:Te,dn:function(){Ce=d}}}function na(C,L,B,X){var ae=Mt(B),Ce=ae?B.length:0,Te=(Ce>0?B[0]:ae?l:B)||setTimeout,Xe=(Ce>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),$s(lt,C,Qc(arguments))};var gt=ff(L,function(jt){if(jt){if(jt.refresh)return jt.refresh(),jt;$s(Xe,C,[jt])}return $s(Te,C,X)},function(jt){$s(Xe,C,[jt])});return gt.h}function ul(C,L){return na(this,!0,l,Qc(arguments))}function _u(C,L,B){return na(this,!0,C,Qc(arguments,1))}(ao()||{}).Symbol,(ao()||{}).Reflect;var Nv="hasOwnProperty",ia=function(C,L){return ia=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var ae in X)X[Nv](ae)&&(B[ae]=X[ae])},ia(C,L)};function Xy(C,L){typeof L!==i&&L!==null&&Ri("Class extends value "+String(L)+" is not a constructor or null"),ia(C,L);function B(){this.constructor=C}C[a]=L===null?ap(L):(B[a]=L[a],new B)}var Fu,bd="constructor",Ho="prototype",Nl="function",gh="_dynInstFuncs",Sg="_isDynProxy",wd="_dynClass",vh="_dynCls$",lp="_dynInstChk",Fl=lp,dp="_dfOpts",qu="_unknown_",yh="__proto__",bu="_dyn"+yh,hf="__dynProto$Gbl",Sd="_dynInstProto",pf="useBaseInst",Cd="setInstFuncs",Ks=Object,Ta=Ks.getPrototypeOf,Ro=Ks.getOwnPropertyNames,eu=ao(),Za=eu[hf]||(eu[hf]={o:(Fu={},Fu[Cd]=!0,Fu[pf]=!0,Fu),n:1e3});function Cg(C){return C&&(C===Ks[Ho]||C===Array[Ho])}function ju(C){return Cg(C)||C===Function[Ho]}function Ys(C){var L;if(C){if(Ta)return Ta(C);var B=C[yh]||C[Ho]||(C[bd]?C[bd][Ho]:null);L=C[bu]||B,$r(C,bu)||(delete C[Sd],L=C[bu]=C[Sd]||C[bu],C[Sd]=B)}return L}function ql(C,L){var B=[];if(Ro)B=Ro(C);else for(var X in C)typeof X=="string"&&$r(C,X)&&B.push(X);if(B&&B.length>0)for(var ae=0;ae<B.length;ae++)L(B[ae])}function fp(C,L,B){return L!==bd&&typeof C[L]===Nl&&(B||$r(C,L))}function wu(C){Ri("DynamicProto: "+C)}function ll(C){var L={};return ql(C,function(B){!L[B]&&fp(C,B,!1)&&(L[B]=C[B])}),L}function _h(C,L){for(var B=C.length-1;B>=0;B--)if(C[B]===L)return!0;return!1}function Ec(C,L,B,X){function ae(lt,gt,jt){var Pr=gt[jt];if(Pr[Sg]&&X){var wr=lt[gh]||{};wr[Fl]!==!1&&(Pr=(wr[gt[wd]]||{})[jt]||Pr)}return function(){return Pr.apply(lt,arguments)}}var Ce={};ql(B,function(lt){Ce[lt]=ae(L,B,lt)});for(var Te=Ys(C),Xe=[];Te&&!ju(Te)&&!_h(Xe,Te);)ql(Te,function(lt){!Ce[lt]&&fp(Te,lt,!Ta)&&(Ce[lt]=ae(L,Te,lt))}),Xe.push(Te),Te=Ys(Te);return Ce}function zu(C,L,B,X){var ae=null;if(C&&$r(B,wd)){var Ce=C[gh]||{};if(ae=(Ce[B[wd]]||{})[L],ae||wu("Missing ["+L+"] "+Nl),!ae[lp]&&Ce[Fl]!==!1){for(var Te=!$r(C,L),Xe=Ys(C),lt=[];Te&&Xe&&!ju(Xe)&&!_h(lt,Xe);){var gt=Xe[L];if(gt){Te=gt===X;break}lt.push(Xe),Xe=Ys(Xe)}try{Te&&(C[L]=ae),ae[lp]=1}catch{Ce[Fl]=!1}}}return ae}function Cs(C,L,B){var X=L[C];return X===B&&(X=Ys(L)[C]),typeof X!==Nl&&wu("["+C+"] is not a "+Nl),X}function tu(C,L,B,X,ae){function Ce(lt,gt){var jt=function(){var Pr=zu(this,gt,lt,jt)||Cs(gt,lt,jt);return Pr.apply(this,arguments)};return jt[Sg]=1,jt}if(!Cg(C)){var Te=B[gh]=B[gh]||{},Xe=Te[L]=Te[L]||{};Te[Fl]!==!1&&(Te[Fl]=!!ae),ql(B,function(lt){fp(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!$r(C,lt)||C[lt]&&!C[lt][Sg])&&(C[lt]=Ce(C,lt)))})}}function Uu(C,L){if(Ta){for(var B=[],X=Ys(L);X&&!ju(X)&&!_h(B,X);){if(X===C)return!0;B.push(X),X=Ys(X)}return!1}return!0}function Hu(C,L){return $r(C,Ho)?C.name||L||qu:((C||{})[bd]||{}).name||L||qu}function oa(C,L,B,X){$r(C,Ho)||wu("theClass is an invalid class definition.");var ae=C[Ho];Uu(ae,L)||wu("["+Hu(C)+"] not in hierarchy of ["+Hu(L)+"]");var Ce=null;$r(ae,wd)?Ce=ae[wd]:(Ce=vh+Hu(C,"_")+"$"+Za.n,Za.n++,ae[wd]=Ce);var Te=oa[dp],Xe=!!Te[pf];Xe&&X&&X[pf]!==void 0&&(Xe=!!X[pf]);var lt=ll(L),gt=Ec(ae,L,lt,Xe);B(L,gt);var jt=!!Ta&&!!Te[Cd];jt&&X&&(jt=!!X[Cd]),tu(ae,Ce,L,lt,jt!==!1)}oa[dp]=Za.o;var Dg=Je,ec=Dg({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),dl="toLowerCase",Bo="blkVal",Wo="length",mf="rdOnly",Bu="notify",gf="warnToConsole",qo="throwInternal",jl="setDf",vf="watch",pa="logger",Su="apply",sa="push",As="splice",zl="hdlr",Fv="cancel",ps="initialize",ru="identifier",fl="isInitialized",bh="getPlugin",Dd="name",hp="time",tc="processNext",mm="getProcessTelContext",zi="unload",rs="loggingLevelConsole",Wu="createNew",Pc="teardown",Rc="messageId",aa="message",hl="isAsync",Gi="diagLog",yf="_doTeardown",wi="update",Ea="getNext",Bn="setNextPlugin",Td="userAgent",Ul="split",xc="nodeType",$o="replace",rc="logInternalMessage",ca="type",uo="handler",Cu="isChildEvt",Fn="getCtx",nu="setCtx",xo="complete",ai;function Hl(C,L){ai||(ai=Ll("AggregationError",function(X,ae){ae[Wo]>1&&(X.errors=ae[1])}));var B=C||"One or more errors occurred.";throw si(L,function(X,ae){B+=`
`.concat(ae," > ").concat(Fe(X))}),new ai(B,L||[])}var Pa=["pending","resolving","resolved","rejected"],ma="dispatchEvent",ua;function Bl(C,L,B,X){var ae=Vi();!ua&&(ua=Bi(function(){var lt;return ae&&ae.createEvent&&(lt=ae.createEvent("Event")),!!lt&&lt.initEvent},null));var Ce=ua.v?ae.createEvent("Event"):X?new Event(L):{};if(B&&B(Ce),ua.v&&Ce.initEvent(L,!1,!0),Ce&&C[ma])C[ma](Ce);else{var Te=C["on"+L];if(Te)Te(Ce);else{var Xe=ji("console");Xe&&(Xe.error||Xe.log)(L,Fe(Ce))}}}var nc="Promise",Ed="unhandledRejection",Ds=Ed.toLowerCase(),iu=10,pl;function Wl(C){return xt(C)?C.toString():Fe(C)}function Pd(C,L,B){var X=Qc(arguments,3),ae=0,Ce=!1,Te,Xe=[],lt=!1,gt=null,jt;!pl&&(pl=Nn(nc+"RejectionEvent"));var Pr=function(yr,hn){try{lt=!0,gt&&gt.cancel(),gt=null;var pi=C(function(ci,fo){Xe.push(function(){try{var Go=ae===2?yr:hn,Oo=tt(Go)?Te:xt(Go)?Go(Te):Go;Or(Oo)?Oo.then(ci,fo):Go?ci(Oo):ae===3?fo(Oo):ci(Oo)}catch(Fs){fo(Fs)}}),Ce&&qt()},X);return pi}finally{}},wr=function(yr){return Pr(void 0,yr)},Lt=function(yr){var hn=yr,pi=yr;return xt(yr)&&(hn=function(ci){return yr&&yr(),ci},pi=function(ci){throw yr&&yr(),ci}),Pr(hn,pi)},Pt=function(){return Pa[ae]},qt=function(){if(Xe.length>0){var yr=Xe.slice();Xe=[],lt=!0,L(yr),gt&&gt.cancel(),gt=null}},Et=function(yr,hn){return function(pi){if(ae===hn){if(yr===2&&Or(pi)){ae=1,pi.then(Et(2,1),Et(3,1));return}ae=yr,Ce=!0,Te=pi,qt(),!lt&&yr===3&&!gt&&(gt=ul(ur,iu))}}},ur=function(){if(!lt)if(al())process.emit(Ed,Te,jt);else{var yr=mu()||ao();Bl(yr,Ds,function(hn){return Ue(hn,"promise",{g:function(){return jt}}),hn.reason=Te,hn},!!pl.v)}};jt={then:Pr,catch:wr,finally:Lt},H(jt,"state",{get:Pt}),cl()&&(jt[Dc(11)]="IPromise");var nr=function(){return"IPromise "+Pt()+(Ce?" - "+Wl(Te):"")};return jt.toString=nr,function(){xt(B)||Ri(nc+": executor is not a function - "+Wl(B));var hn=Et(3,0);try{B.call(jt,Et(2,0),hn)}catch(pi){hn(pi)}}(),jt}var g=function(C){si(C,function(L){try{L()}catch{}})};function v(C){var L=on(C)?C:0;return function(B){ul(function(){g(B)},L)}}function P(C,L){return Pd(P,v(L),C,L)}var O;function F(C,L){!O&&(O=Nn(nc));var B=O.v;if(!B)return P(C);xt(C)||Ri(nc+": executor is not a function - "+Fe(C));var X=0;function ae(){return Pa[X]}var Ce=new B(function(Te,Xe){function lt(jt){X=2,Te(jt)}function gt(jt){X=3,Xe(jt)}C(lt,gt)});return H(Ce,"state",{get:ae}),Ce}var J;function Z(C,L){return!J&&(J=so(function(){return F})),J.v.call(this,C,L)}var pe=void 0,ke="",Qe="core",ht="disabled",Ut="extensionConfig",Sr="processTelemetry",sn="priority",jr="getPerfMgr",Wn="Not dynamic - ",Js=/-([a-z])/g,ic=/([^\w\d_$])/g,Du=/^(\d+[\w\d_$])/;function pp(C){return!fr(C)}function gm(C){var L=C;return L&&cr(L)&&(L=L[$o](Js,function(B,X){return X.toUpperCase()}),L=L[$o](ic,"_"),L=L[$o](Du,function(B,X){return"_"+X})),L}function Ra(C,L){return C&&L?lf(C,L)!==-1:!1}function mp(C,L){var B=null,X=null;return xt(C)?B=C:X=C,function(){var ae=arguments;if(B&&(X=B()),X)return X[L][Su](X,ae)}}function wh(C,L,B,X,ae){C&&L&&B&&(ae!==!1||tt(C[L]))&&(C[L]=mp(B,X))}function Rd(C,L,B,X){return C&&L&&hr(C)&&Mt(B)&&si(B,function(ae){cr(ae)&&wh(C,ae,L,ae,X)}),C}function Tu(C){return C&&fn&&(C=c(fn({},C))),C}var Tg="location",Qy="console",gp="JSON",vp="crypto",Zy="msCrypto",e_="ReactNative",t_="msie",Eb="trident/",vm="XMLHttpRequest",qv=null,r_=null,n_=!1,ym=null,yp=null;function Pb(C,L){var B=!1;if(C){try{if(B=L in C,!B){var X=C[a];X&&(B=L in X)}}catch{}if(!B)try{var ae=new C;B=!tt(ae[L])}catch{}}return B}function i_(C){if(C&&n_){var L=ji("__mockLocation");if(L)return L}return typeof location===o&&location?location:ji(Tg)}function _p(){return typeof console!==s?console:ji(Qy)}function jv(){return!!(typeof JSON===o&&JSON||ji(gp)!==null)}function xd(){return jv()?JSON||ji(gp):null}function Xi(){return ji(vp)}function _m(){return ji(Zy)}function lo(){var C=yo();return C&&C.product?C.product===e_:!1}function o_(){var C=yo();if(C&&(C[Td]!==r_||qv===null)){r_=C[Td];var L=(r_||ke)[dl]();qv=Ra(L,t_)||Ra(L,Eb)}return qv}function zv(C){return(yp===null||C===!1)&&(yp=ts()&&!!yo().sendBeacon),yp}function Od(C){var L=!1;try{L=!!ji("fetch");var B=ji("Request");L&&C&&B&&(L=Pb(B,"keepalive"))}catch{}return L}function bp(){return ym===null&&(ym=typeof XDomainRequest!==s,ym&&ou()&&(ym=ym&&!Pb(ji(vm),"withCredentials"))),ym}function ou(){var C=!1;try{var L=ji(vm);C=!!L}catch{}return C}var Id=4294967296,kd=4294967295,Ls=123456789,fi=987654321,Eu=!1,ns=Ls,Ad=fi;function bm(C){C<0&&(C>>>=0),ns=Ls+C&kd,Ad=fi-C&kd,Eu=!0}function wp(){try{var C=co()&2147483647;bm((Math.random()*Id^C)+C)}catch{}}function Sp(C){var L=0,B=Xi()||_m();return B&&B.getRandomValues&&(L=B.getRandomValues(new Uint32Array(1))[0]&kd),L===0&&o_()&&(Eu||wp(),L=_f()&kd),L===0&&(L=Math.floor(Id*Math.random()|0)),C||(L>>>=0),L}function _f(C){Ad=36969*(Ad&65535)+(Ad>>16)&kd,ns=18e3*(ns&65535)+(ns>>16)&kd;var L=(Ad<<16)+(ns&65535)>>>0&kd|0;return C||(L>>>=0),L}function s_(C){C===void 0&&(C=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=Sp()>>>0,X=0,ae=ke;ae[Wo]<C;)X++,ae+=L.charAt(B&63),B>>>=6,X===5&&(B=(Sp()<<2&4294967295|B&3)>>>0,X=0);return ae}var wm="3.0.5",Sm="."+s_(6),xa=0;function Ld(C){return C[xc]===1||C[xc]===9||!+C[xc]}function Oc(C,L){var B=L[C.id];if(!B){B={};try{Ld(L)&&Ue(L,C.id,{e:!1,v:B})}catch{}}return B}function Pu(C,L){return L===void 0&&(L=!1),gm(C+xa+++(L?"."+wm:ke)+Sm)}function Cm(C){var L={id:Pu("_aiData-"+(C||ke)+"."+wm),accept:function(B){return Ld(B)},get:function(B,X,ae,Ce){var Te=B[L.id];return Te?Te[gm(X)]:(Ce&&(Te=Oc(L,B),Te[gm(X)]=ae),ae)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return L}function ml(C){return C&&hr(C)&&(C.isVal||C.fb||dn(C,"v")||dn(C,"mrg")||dn(C,"ref")||C.set)}function Dm(C,L,B){var X,ae=B.dfVal||zr;if(L&&B.fb){var Ce=B.fb;Mt(Ce)||(Ce=[Ce]);for(var Te=0;Te<Ce[Wo];Te++){var Xe=Ce[Te],lt=L[Xe];if(ae(lt)?X=lt:C&&(lt=C.cfg[Xe],ae(lt)&&(X=lt),C.set(C.cfg,rr(Xe),lt)),ae(X))break}}return!ae(X)&&ae(B.v)&&(X=B.v),X}function Eg(C,L,B){var X=B;if(B&&ml(B)&&(X=Dm(C,L,B)),X){ml(X)&&(X=Eg(C,L,X));var ae;Mt(X)?(ae=[],ae[Wo]=X[Wo]):Ml(X)&&(ae={}),ae&&(Vr(X,function(Ce,Te){Te&&ml(Te)&&(Te=Eg(C,L,Te)),ae[Ce]=Te}),X=ae)}return X}function Cp(C,L,B,X){var ae,Ce,Te,Xe=X,lt,gt,jt,Pr;ml(Xe)?(ae=Xe.isVal,Ce=Xe.set,jt=Xe[mf],Pr=Xe[Bo],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),Te=Dm(C,L,Xe)):Te=X,Pr&&C[Bo](L,B);var wr,Lt=!0,Pt=L[B];(Pt||!fr(Pt))&&(wr=Pt,Lt=!1,ae&&wr!==Te&&!ae(wr)&&(wr=Te,Lt=!0),Ce&&(wr=Ce(wr,Te,L),Lt=wr===Te)),Lt?Te?wr=Eg(C,L,Te):wr=Te:(Ml(wr)||Mt(Te))&&lt&&Te&&(Ml(Te)||Mt(Te))&&Vr(Te,function(qt,Et){Cp(C,wr,qt,Et)}),C.set(L,B,wr),gt&&C.ref(L,B),jt&&C[mf](L,B)}var En=gu("[[ai_dynCfg_1]]"),Md=gu("[[ai_blkDynCfg_1]]"),Ms=gu("[[ai_frcDynCfg_1]]");function bf(C){if(C){var L;if(Mt(C)?(L=[],L[Wo]=C[Wo]):Ml(C)&&(L={}),L)return Vr(C,function(B,X){L[B]=bf(X)}),L}return C}function Uv(C){if(C){var L=C[En]||C;if(L.cfg&&(L.cfg===C||L.cfg[En]===L))return L}return null}function oc(C){if(C&&(Ml(C)||Mt(C)))try{C[Md]=!0}catch{}return C}function Nd(C,L,B){var X=!1;return B&&!C[L.blkVal]&&(X=B[Ms],!X&&!B[Md]&&(X=Ml(B)||Mt(B))),X}function Dp(C){Ri("InvalidAccess:"+C)}var Hv=["push","pop","shift","unshift","splice"],gl=function(C,L,B,X){C&&C[qo](3,108,"".concat(B," [").concat(L,"] failed - ")+Fe(X))};function Pg(C,L,B){Mt(L)&&si(Hv,function(X){var ae=L[X];L[X]=function(){for(var Ce=[],Te=0;Te<arguments.length;Te++)Ce[Te]=arguments[Te];var Xe=ae[Su](this,Ce);return wf(C,L,B,"Patching"),Xe}})}function Tm(C,L){var B=Hn(C,L);return B&&B.get}function Bv(C,L,B,X){var ae={n:B,h:[],trk:function(gt){gt&&gt.fn&&(Da(ae.h,gt)===-1&&ae.h[sa](gt),C.trk(gt,ae))},clr:function(gt){var jt=Da(ae.h,gt);jt!==-1&&ae.h[As](jt,1)}},Ce=!0,Te=!1;function Xe(){Ce&&(Te=Te||Nd(Xe,C,X),X&&!X[En]&&Te&&(X=wf(C,X,B,"Converting")),Ce=!1);var gt=C.act;return gt&&ae.trk(gt),X}Xe[C.prop]={chng:function(){C.add(ae)}};function lt(gt){if(X!==gt){Xe[C.ro]&&!C.upd&&Dp("["+B+"] is read-only:"+Fe(L)),Ce&&(Te=Te||Nd(Xe,C,X),Ce=!1);var jt=Te&&Xe[C.rf];if(Te)if(jt){Vr(X,function(wr){X[wr]=gt?gt[wr]:pe});try{Vr(gt,function(wr,Lt){Rg(C,X,wr,Lt)}),gt=X}catch(wr){gl((C.hdlr||{})[pa],B,"Assigning",wr),Te=!1}}else X&&X[En]&&Vr(X,function(wr){var Lt=Tm(X,wr);if(Lt){var Pt=Lt[C.prop];Pt&&Pt.chng()}});if(gt!==X){var Pr=gt&&Nd(Xe,C,gt);!jt&&Pr&&(gt=wf(C,gt,B,"Converting")),X=gt,Te=Pr}C.add(ae)}}Ue(L,ae.n,{g:Xe,s:lt})}function Rg(C,L,B,X){if(L){var ae=Tm(L,B),Ce=ae&&!!ae[C.prop];Ce?L[B]=X:Bv(C,L,B,X)}return L}function Fd(C,L,B,X){if(L){var ae=Tm(L,B),Ce=ae&&!!ae[C.prop],Te=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!Ce){if(lt)try{oc(L)}catch(gt){gl((C.hdlr||{})[pa],B,"Blocking",gt)}try{Rg(C,L,B,L[B]),ae=Tm(L,B)}catch(gt){gl((C.hdlr||{})[pa],B,"State",gt)}}Te&&(ae[C.rf]=Te),Xe&&(ae[C.ro]=Xe),lt&&(ae[C.blkVal]=!0)}return L}function wf(C,L,B,X){try{Vr(L,function(ae,Ce){Rg(C,L,ae,Ce)}),L[En]||(H(L,En,{get:function(){return C[zl]}}),Pg(C,L,B))}catch(ae){gl((C.hdlr||{})[pa],B,X,ae)}return L}var Em="[[ai_",Tp="]]";function xg(C){var L,B=ra(Em+"get"+C.uid+Tp),X=ra(Em+"ro"+C.uid+Tp),ae=ra(Em+"rf"+C.uid+Tp),Ce=ra(Em+"blkVal"+C.uid+Tp),Te=ra(Em+"dtl"+C.uid+Tp),Xe=null,lt=null,gt;function jt(Pt,qt){var Et=gt.act;try{gt.act=Pt,Pt&&Pt[Te]&&(si(Pt[Te],function(nr){nr.clr(Pt)}),Pt[Te]=[]),qt({cfg:C.cfg,set:C.set.bind(C),setDf:C[jl].bind(C),ref:C.ref.bind(C),rdOnly:C[mf].bind(C)})}catch(nr){var ur=C[pa];throw ur&&ur[qo](1,107,Fe(nr)),nr}finally{gt.act=Et||null}}function Pr(){if(Xe){var Pt=Xe;Xe=null,lt&&lt[Fv](),lt=null;var qt=[];if(si(Pt,function(Et){if(Et&&(Et[Te]&&(si(Et[Te],function(ur){ur.clr(Et)}),Et[Te]=null),Et.fn))try{jt(Et,Et.fn)}catch(ur){qt[sa](ur)}}),Xe)try{Pr()}catch(Et){qt[sa](Et)}qt[Wo]>0&&Hl("Watcher error(s): ",qt)}}function wr(Pt){if(Pt&&Pt.h[Wo]>0){Xe||(Xe=[]),lt||(lt=ul(function(){lt=null,Pr()},0));for(var qt=0;qt<Pt.h[Wo];qt++){var Et=Pt.h[qt];Et&&Da(Xe,Et)===-1&&Xe[sa](Et)}}}function Lt(Pt,qt){if(Pt){var Et=Pt[Te]=Pt[Te]||[];Da(Et,qt)===-1&&Et[sa](qt)}}return gt=(L={prop:B,ro:X,rf:ae},L[Bo]=Ce,L[zl]=C,L.add=wr,L[Bu]=Pr,L.use=jt,L.trk=Lt,L),gt}function su(C,L){var B={fn:L,rm:function(){B.fn=null,C=null,L=null}};return C.use(B,L),B}function sc(C,L,B){var X,ae=Uv(L);if(ae)return ae;var Ce=Pu("dyncfg",!0),Te=L&&B!==!1?L:bf(L),Xe;function lt(){Xe[Bu]()}function gt(ur,nr,yr){try{ur=Rg(Xe,ur,nr,yr)}catch(hn){gl(C,nr,"Setting value",hn)}return ur[nr]}function jt(ur){return su(Xe,ur)}function Pr(ur,nr){Xe.use(null,function(yr){var hn=Xe.upd;try{tt(nr)||(Xe.upd=nr),ur(yr)}finally{Xe.upd=hn}})}function wr(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[0]=!0,yr))[nr]}function Lt(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[1]=!0,yr))[nr]}function Pt(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[2]=!0,yr))[nr]}function qt(ur,nr){return nr&&Vr(nr,function(yr,hn){Cp(Et,ur,yr,hn)}),ur}var Et=(X={uid:null,cfg:Te},X[pa]=C,X[Bu]=lt,X.set=gt,X[jl]=qt,X[vf]=jt,X.ref=wr,X[mf]=Lt,X[Bo]=Pt,X._block=Pr,X);return Ue(Et,"uid",{c:!1,e:!1,w:!1,v:Ce}),Xe=xg(Et),wf(Xe,Te,"config","Creating"),Et}function Sf(C,L){C?(C[gf](L),C[qo](2,108,L)):Dp(L)}function $u(C,L,B,X){var ae=sc(B,C||{},X);return L&&ae[jl](ae.cfg,L),ae}function Ru(C,L,B){var X=C[En]||C;return X.cfg&&(X.cfg===C||X.cfg[En]===X)?X[vf](L):(Sf(B,Wn+Fe(C)),$u(C,null,B)[vf](L))}var Sh=null;function qd(){var C=ji("Microsoft");return C&&(Sh=C.ApplicationInsights),Sh}function Og(C){var L=Sh;return!L&&C.disableDbgExt!==!0&&(L=Sh||qd()),L?L.ChromeDbgExt:null}var Ep,Pp="warnToConsole",Ch="AI (Internal): ",jd="AI: ",Pm="AITR_",Rp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Rm=(Ep={},Ep[0]=null,Ep[1]="errorToConsole",Ep[2]=Pp,Ep[3]="debugToConsole",Ep);function Cf(C){return C?'"'+C[$o](/\"/g,ke)+'"':ke}function Dh(C,L){var B=_p();if(B){var X="log";B[C]&&(X=C),xt(B[X])&&B[X](L)}}var xm=function(){function C(L,B,X,ae){X===void 0&&(X=!1);var Ce=this;Ce[Rc]=L,Ce[aa]=(X?jd:Ch)+L;var Te=ke;jv()&&(Te=xd().stringify(ae));var Xe=(B?" message:"+Cf(B):ke)+(ae?" props:"+Cf(Te):ke);Ce[aa]+=Xe}return C.dataType="MessageData",C}();function Rb(C,L){return(C||{})[pa]||new ac(L)}var ac=function(){function C(L){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},ae,Ce,Te,Xe,lt;oa(C,this,function(gt){lt=Pr(L||{}),gt.consoleLoggingLevel=function(){return ae},gt[qo]=function(Pt,qt,Et,ur,nr){nr===void 0&&(nr=!1);var yr=new xm(qt,Et,nr,ur);if(Xe)throw Fe(yr);var hn=Rm[Pt]||Pp;if(tt(yr[aa]))Lt("throw"+(Pt===1?"Critical":"Warning"),yr);else{if(nr){var pi=+yr[Rc];!X[pi]&&ae>=Pt&&(gt[hn](yr[aa]),X[pi]=!0)}else ae>=Pt&&gt[hn](yr[aa]);jt(Pt,yr)}},gt.debugToConsole=function(Pt){Dh("debug",Pt),Lt("warning",Pt)},gt[gf]=function(Pt){Dh("warn",Pt),Lt("warning",Pt)},gt.errorToConsole=function(Pt){Dh("error",Pt),Lt("error",Pt)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[rc]=jt,gt[zi]=function(Pt){lt&&lt.rm(),lt=null};function jt(Pt,qt){if(!wr()){var Et=!0,ur=Pm+qt[Rc];if(X[ur]?Et=!1:X[ur]=!0,Et&&(Pt<=Ce&&(gt.queue[sa](qt),B++,Lt(Pt===1?"error":"warn",qt)),B===Te)){var nr="Internal events throttle limit per PageView reached for this app.",yr=new xm(23,nr,!1);gt.queue[sa](yr),Pt===1?gt.errorToConsole(nr):gt[gf](nr)}}}function Pr(Pt){return Ru($u(Pt,Rp,gt).cfg,function(qt){var Et=qt.cfg;ae=Et[rs],Ce=Et.loggingLevelTelemetry,Te=Et.maxMessageLimit,Xe=Et.enableDebug})}function wr(){return B>=Te}function Lt(Pt,qt){var Et=Og(L||{});Et&&Et[Gi]&&Et[Gi](Pt,qt)}})}return C.__ieDyn=1,C}();function Wv(C){return C||new ac}function zd(C,L,B,X,ae,Ce){Ce===void 0&&(Ce=!1),Wv(C)[qo](L,B,X,ae,Ce)}function Ig(C,L){Wv(C)[gf](L)}var Ud="ctx",Df="ParentContextKey",Om="ChildrenContextKey",kg=function(){function C(L,B,X){var ae=this;if(ae.start=co(),ae[Dd]=L,ae[hl]=X,ae[Cu]=function(){return!1},xt(B)){var Ce;Ue(ae,"payload",{g:function(){return!Ce&&xt(B)&&(Ce=B(),B=null),Ce}})}ae[Fn]=function(Te){return Te?Te===C[Df]||Te===C[Om]?ae[Te]:(ae[Ud]||{})[Te]:null},ae[nu]=function(Te,Xe){if(Te)if(Te===C[Df])ae[Te]||(ae[Cu]=function(){return!0}),ae[Te]=Xe;else if(Te===C[Om])ae[Te]=Xe;else{var lt=ae[Ud]=ae[Ud]||{};lt[Te]=Xe}},ae[xo]=function(){var Te=0,Xe=ae[Fn](C[Om]);if(Mt(Xe))for(var lt=0;lt<Xe[Wo];lt++){var gt=Xe[lt];gt&&(Te+=gt[hp])}ae[hp]=co()-ae.start,ae.exTime=ae[hp]-Te,ae[xo]=function(){}}}return C.ParentContextKey="parent",C.ChildrenContextKey="childEvts",C}(),Ic="CoreUtils.doPerf";function vl(C,L,B,X,ae){if(C){var Ce=C;if(Ce[jr]&&(Ce=Ce[jr]()),Ce){var Te=void 0,Xe=Ce[Fn](Ic);try{if(Te=Ce.create(L(),X,ae),Te){if(Xe&&Te[nu]&&(Te[nu](kg[Df],Xe),Xe[Fn]&&Xe[nu])){var lt=Xe[Fn](kg[Om]);lt||(lt=[],Xe[nu](kg[Om],lt)),lt[sa](Te)}return Ce[nu](Ic,Te),B(Te)}}catch(gt){Te&&Te[nu]&&Te[nu]("exception",gt)}finally{Te&&Ce.fire(Te),Ce[nu](Ic,Xe)}}}return B()}var Ag=Cm("plugin");function $v(C){return Ag.get(C,"state",{},!0)}var Hd="TelemetryPluginChain",xp="_hasRun",Th="_getTelCtx",xb=0;function xS(C,L,B){for(;C;){if(C[bh]()===B)return C;C=C[Ea]()}return Lg([B],L.config||{},L)}function Bd(C,L,B,X){var ae=null,Ce=[];L||(L=$u({},null,B[pa])),X!==null&&(ae=X?xS(C,B,X):C);var Te={_next:lt,ctx:{core:function(){return B},diagLog:function(){return Rb(B,L.cfg)},getCfg:function(){return L.cfg},getExtCfg:jt,getConfig:Pr,hasNext:function(){return!!ae},getNext:function(){return ae},setNext:function(Lt){ae=Lt},iterate:wr,onComplete:Xe}};function Xe(Lt,Pt){for(var qt=[],Et=2;Et<arguments.length;Et++)qt[Et-2]=arguments[Et];Lt&&Ce[sa]({func:Lt,self:tt(Pt)?Te.ctx:Pt,args:qt})}function lt(){var Lt=ae;if(ae=Lt?Lt[Ea]():null,!Lt){var Pt=Ce;Pt&&Pt[Wo]>0&&(si(Pt,function(qt){try{qt.func.call(qt.self,qt.args)}catch(Et){zd(B[pa],2,73,"Unexpected Exception during onComplete - "+Fe(Et))}}),Ce=[])}return Lt}function gt(Lt,Pt){var qt=null,Et=L.cfg;if(Et&&Lt){var ur=Et[Ut];!ur&&Pt&&(ur={}),Et[Ut]=ur,ur=L.ref(Et,Ut),ur&&(qt=ur[Lt],!qt&&Pt&&(qt={}),ur[Lt]=qt,qt=L.ref(ur,Lt))}return qt}function jt(Lt,Pt){var qt=gt(Lt,!0);return Pt&&Vr(Pt,function(Et,ur){if(fr(qt[Et])){var nr=L.cfg[Et];(nr||!fr(nr))&&(qt[Et]=nr)}Cp(L,qt,Et,ur)}),L[jl](qt,Pt)}function Pr(Lt,Pt,qt){qt===void 0&&(qt=!1);var Et,ur=gt(Lt,!1),nr=L.cfg;return ur&&(ur[Pt]||!fr(ur[Pt]))?Et=ur[Pt]:(nr[Pt]||!fr(nr[Pt]))&&(Et=nr[Pt]),Et||!fr(Et)?Et:qt}function wr(Lt){for(var Pt;Pt=Te._next();){var qt=Pt[bh]();qt&&Lt(qt)}}return Te}function Vv(C,L,B,X){var ae=$u(L),Ce=Bd(C,ae,B,X),Te=Ce.ctx;function Xe(gt){var jt=Ce._next();return jt&&jt[Sr](gt,Te),!jt}function lt(gt,jt){return gt===void 0&&(gt=null),Mt(gt)&&(gt=Lg(gt,ae.cfg,B,jt)),Vv(gt||Te[Ea](),ae.cfg,B,jt)}return Te[tc]=Xe,Te[Wu]=lt,Te}function Gv(C,L,B){var X=$u(L.config),ae=Bd(C,X,L,B),Ce=ae.ctx;function Te(lt){var gt=ae._next();return gt&&gt[zi](Ce,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=Lg(lt,X.cfg,L,gt)),Gv(lt||Ce[Ea](),L,gt)}return Ce[tc]=Te,Ce[Wu]=Xe,Ce}function Kv(C,L,B){var X=$u(L.config),ae=Bd(C,X,L,B),Ce=ae.ctx;function Te(lt){return Ce.iterate(function(gt){xt(gt[wi])&&gt[wi](Ce,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=Lg(lt,X.cfg,L,gt)),Kv(lt||Ce[Ea](),L,gt)}return Ce[tc]=Te,Ce[Wu]=Xe,Ce}function Lg(C,L,B,X){var ae=null,Ce=!X;if(Mt(C)&&C[Wo]>0){var Te=null;si(C,function(Xe){if(!Ce&&X===Xe&&(Ce=!0),Ce&&Xe&&xt(Xe[Sr])){var lt=TD(Xe,L,B);ae||(ae=lt),Te&&Te._setNext(lt),Te=lt}})}return X&&!ae?Lg([X],L,B):ae}function TD(C,L,B){var X=null,ae=xt(C[Sr]),Ce=xt(C[Bn]),Te;C?Te=C[ru]+"-"+C[sn]+"-"+xb++:Te="Unknown-0-"+xb++;var Xe={getPlugin:function(){return C},getNext:function(){return X},processTelemetry:jt,unload:Pr,update:wr,_id:Te,_setNext:function(Lt){X=Lt}};function lt(){var Lt;return C&&xt(C[Th])&&(Lt=C[Th]()),Lt||(Lt=Vv(Xe,L,B)),Lt}function gt(Lt,Pt,qt,Et,ur){var nr=!1,yr=C?C[ru]:Hd,hn=Lt[xp];return hn||(hn=Lt[xp]={}),Lt.setNext(X),C&&vl(Lt[Qe](),function(){return yr+":"+qt},function(){hn[Te]=!0;try{var pi=X?X._id:ke;pi&&(hn[pi]=!1),nr=Pt(Lt)}catch(fo){var ci=X?hn[X._id]:!0;ci&&(nr=!0),(!X||!ci)&&zd(Lt[Gi](),1,73,"Plugin ["+yr+"] failed during "+qt+" - "+Fe(fo)+", run flags: "+Fe(hn))}},Et,ur),nr}function jt(Lt,Pt){Pt=Pt||lt();function qt(Et){if(!C||!ae)return!1;var ur=$v(C);return ur[Pc]||ur[ht]?!1:(Ce&&C[Bn](X),C[Sr](Lt,Et),!0)}gt(Pt,qt,"processTelemetry",function(){return{item:Lt}},!Lt.sync)||Pt[tc](Lt)}function Pr(Lt,Pt){function qt(){var Et=!1;if(C){var ur=$v(C),nr=C[Qe]||ur[Qe];C&&(!nr||nr===Lt.core())&&!ur[Pc]&&(ur[Qe]=null,ur[Pc]=!0,ur[fl]=!1,C[Pc]&&C[Pc](Lt,Pt)===!0&&(Et=!0))}return Et}gt(Lt,qt,"unload",function(){},Pt[hl])||Lt[tc](Pt)}function wr(Lt,Pt){function qt(){var Et=!1;if(C){var ur=$v(C),nr=C[Qe]||ur[Qe];C&&(!nr||nr===Lt.core())&&!ur[Pc]&&C[wi]&&C[wi](Lt,Pt)===!0&&(Et=!0)}return Et}gt(Lt,qt,"update",function(){},!1)||Lt[tc](Pt)}return Q(Xe)}function Mg(){var C=[];function L(X){X&&C[sa](X)}function B(X,ae){si(C,function(Ce){try{Ce(X,ae)}catch(Te){zd(X[Gi](),2,73,"Unexpected error calling unload handler - "+Fe(Te))}}),C=[]}return{add:L,run:B}}function ED(){var C=[];function L(X){var ae=C;C=[],si(ae,function(Ce){try{(Ce.rm||Ce.remove).call(Ce)}catch(Te){zd(X,2,73,"Unloading:"+Fe(Te))}})}function B(X){X&&vu(C,X)}return{run:L,add:B}}var $l,Eh="getPlugin",Im=($l={},$l[Ut]={isVal:pp,v:{}},$l),a_=function(){function C(){var L=this,B,X,ae,Ce,Te;gt(),oa(C,L,function(jt){jt[ps]=function(Pr,wr,Lt,Pt){lt(Pr,wr,Pt),B=!0},jt[Pc]=function(Pr,wr){var Lt,Pt=jt[Qe];if(!Pt||Pr&&Pt!==Pr[Qe]())return;var qt,Et=!1,ur=Pr||Gv(null,Pt,ae&&ae[Eh]?ae[Eh]():ae),nr=wr||(Lt={reason:0},Lt[hl]=!1,Lt);function yr(){Et||(Et=!0,Ce.run(ur,wr),Te.run(ur[Gi]()),qt===!0&&ur[tc](nr),gt())}return!jt[yf]||jt[yf](ur,nr,yr)!==!0?yr():qt=!0,qt},jt[wi]=function(Pr,wr){var Lt=jt[Qe];if(!Lt||Pr&&Lt!==Pr[Qe]())return;var Pt,qt=!1,Et=Pr||Kv(null,Lt,ae&&ae[Eh]?ae[Eh]():ae),ur=wr||{reason:0};function nr(){qt||(qt=!0,lt(Et.getCfg(),Et.core(),Et[Ea]()))}return!jt._doUpdate||jt._doUpdate(Et,ur,nr)!==!0?nr():Pt=!0,Pt},wh(jt,"_addUnloadCb",function(){return Ce},"add"),wh(jt,"_addHook",function(){return Te},"add"),Ue(jt,"_unloadHooks",{g:function(){return Te}})}),L[Gi]=function(jt){return Xe(jt)[Gi]()},L[fl]=function(){return B},L.setInitialized=function(jt){B=jt},L[Bn]=function(jt){ae=jt},L[tc]=function(jt,Pr){Pr?Pr[tc](jt):ae&&xt(ae[Sr])&&ae[Sr](jt,null)},L._getTelCtx=Xe;function Xe(jt){jt===void 0&&(jt=null);var Pr=jt;if(!Pr){var wr=X||Vv(null,{},L[Qe]);ae&&ae[Eh]?Pr=wr[Wu](null,ae[Eh]):Pr=wr[Wu](null,ae)}return Pr}function lt(jt,Pr,wr){$u(jt,Im,Rb(Pr)),!wr&&Pr&&(wr=Pr[mm]()[Ea]());var Lt=ae;ae&&ae[Eh]&&(Lt=ae[Eh]()),L[Qe]=Pr,X=Vv(wr,jt,Pr,Lt)}function gt(){B=!1,L[Qe]=null,X=null,ae=null,Te=ED(),Ce=Mg()}}return C.__ieDyn=1,C}(),km="on",Vl="attachEvent",yl="addEventListener",Tf="detachEvent",Ef="removeEventListener",Yv="events",Op="visibilitychange",Oa="pagehide",Ph="pageshow",Rh="unload",c_="beforeunload",OS=Pu("aiEvtPageHide"),xh=Pu("aiEvtPageShow"),IS=/\.[\.]+/g,Am=/[\.]+$/,Oh=1,Gl=Cm("events"),Ng=/^([^.]*)(?:\.(.+)|)/;function Ip(C){return C&&C[$o]?C[$o](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ke):C}function Lm(C,L){var B;if(L){var X=ke;Mt(L)?(X=ke,si(L,function(Ce){Ce=Ip(Ce),Ce&&(Ce[0]!=="."&&(Ce="."+Ce),X+=Ce)})):X=Ip(L),X&&(X[0]!=="."&&(X="."+X),C=(C||ke)+X)}var ae=Ng.exec(C||ke)||[];return B={},B[ca]=ae[1],B.ns=(ae[2]||ke).replace(IS,".").replace(Am,ke)[Ul](".").sort().join("."),B}function Fg(C,L,B){B===void 0&&(B=!0);var X=Gl.get(C,Yv,{},B),ae=X[L];return ae||(ae=X[L]=[]),ae}function Ob(C,L,B,X){C&&L&&L[ca]&&(C[Ef]?C[Ef](L[ca],B,X):C[Tf]&&C[Tf](km+L[ca],B))}function PD(C,L,B,X){var ae=!1;return C&&L&&L[ca]&&B&&(C[yl]?(C[yl](L[ca],B,X),ae=!0):C[Vl]&&(C[Vl](km+L[ca],B),ae=!0)),ae}function Mm(C,L,B,X){for(var ae=L[Wo];ae--;){var Ce=L[ae];Ce&&(!B.ns||B.ns===Ce.evtName.ns)&&(!X||X(Ce))&&(Ob(C,Ce.evtName,Ce[uo],Ce.capture),L[As](ae,1))}}function kS(C,L,B){if(L[ca])Mm(C,Fg(C,L[ca]),L,B);else{var X=Gl.get(C,Yv,{});Vr(X,function(ae,Ce){Mm(C,Ce,L,B)}),Oe(X)[Wo]===0&&Gl.kill(C,Yv)}}function cc(C,L){var B;return L?(Mt(L)?B=[C].concat(L):B=[C,L],B=Lm("xx",B).ns[Ul](".")):B=C,B}function Nm(C,L,B,X,ae){var Ce;ae===void 0&&(ae=!1);var Te=!1;if(C)try{var Xe=Lm(L,X);if(Te=PD(C,Xe,B,ae),Te&&Gl.accept(C)){var lt=(Ce={guid:Oh++,evtName:Xe},Ce[uo]=B,Ce.capture=ae,Ce);Fg(C,Xe.type)[sa](lt)}}catch{}return Te}function Fm(C,L,B,X,ae){if(ae===void 0&&(ae=!1),C)try{var Ce=Lm(L,X),Te=!1;kS(C,Ce,function(Xe){return Ce.ns&&!B||Xe[uo]===B?(Te=!0,!0):!1}),Te||Ob(C,Ce,B,ae)}catch{}}function AS(C,L,B){var X=!1,ae=mu();ae&&(X=Nm(ae,C,L,B),X=Nm(ae.body,C,L,B)||X);var Ce=Vi();return Ce&&(X=Nm(Ce,C,L,B)||X),X}function RD(C,L,B){var X=mu();X&&(Fm(X,C,L,B),Fm(X.body,C,L,B));var ae=Vi();ae&&Fm(ae,C,L,B)}function Kl(C,L,B,X){var ae=!1;return L&&C&&C[Wo]>0&&si(C,function(Ce){Ce&&(!B||Da(B,Ce)===-1)&&(ae=AS(Ce,L,X)||ae)}),ae}function uc(C,L,B,X){var ae=!1;return L&&C&&Mt(C)&&(ae=Kl(C,L,B,X),!ae&&B&&B[Wo]>0&&(ae=Kl(C,L,null,X))),ae}function Yl(C,L,B){C&&Mt(C)&&si(C,function(X){X&&RD(X,L,B)})}function qm(C,L,B){return uc([c_,Rh,Oa],C,L,B)}function qg(C,L){Yl([c_,Rh,Oa],C,L)}function u_(C,L,B){function X(Te){var Xe=Vi();C&&Xe&&Xe.visibilityState==="hidden"&&C(Te)}var ae=cc(OS,B),Ce=Kl([Oa],C,L,ae);return(!L||Da(L,Op)===-1)&&(Ce=Kl([Op],X,L,ae)||Ce),!Ce&&L&&(Ce=u_(C,null,B)),Ce}function bn(C,L){var B=cc(OS,L);Yl([Oa],C,B),Yl([Op],null,B)}function Jv(C,L,B){function X(Te){var Xe=Vi();C&&Xe&&Xe.visibilityState==="visible"&&C(Te)}var ae=cc(xh,B),Ce=Kl([Ph],C,L,ae);return Ce=Kl([Op],X,L,ae)||Ce,!Ce&&L&&(Ce=Jv(C,null,B)),Ce}function kp(C,L){var B=cc(xh,L);Yl([Ph],C,B),Yl([Op],null,B)}var Pf="",jm="timings",Ia="value",l_="kind",jg="length",d_="processTelemetryStart",Jl,zm="4.0.4",Ih="1DS-Web-JS-"+zm,zg=u.hasOwnProperty,Um="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xu="withCredentials",Wd="timeout",Ib=(Jl={},Jl[0]=0,Jl[2]=6,Jl[1]=1,Jl[3]=7,Jl[4098]=6,Jl[4097]=1,Jl[4099]=7,Jl);Po(),Jn();function Xl(C){return!(C===Pf||fr(C))}function Xv(C){if(C){var L=lf(C,"-");if(L>-1)return Dr(C,L)}return Pf}function Ql(C,L,B){if(!L&&!Xl(L)||typeof C!="string")return null;var X=typeof L;if(X==="string"||X==="number"||X==="boolean"||Mt(L))L={value:L};else if(X==="object"&&!zg.call(L,"value"))L={value:B?JSON.stringify(L):L};else if(fr(L[Ia])||L[Ia]===Pf||!cr(L[Ia])&&!on(L[Ia])&&!ln(L[Ia])&&!Mt(L[Ia]))return null;if(Mt(L[Ia])&&!f_(L[Ia]))return null;if(!fr(L[l_])){if(Mt(L[Ia])||!Ab(L[l_]))return null;L[Ia]=L[Ia].toString()}return L}function kb(C,L,B){var X=-1;if(!tt(C))if(L>0&&(L===32?X=8192:L<=13&&(X=L<<5)),Lb(B))X===-1&&(X=0),X|=B;else{var ae=Ib[Hm(C)]||-1;X!==-1&&ae!==-1?X|=ae:ae===6&&(X=ae)}return X}function Qv(C,L,B,X,ae){var Ce={},Te=!1,Xe=0,lt=arguments[jg],gt=arguments;for(ln(gt[0])&&(Te=gt[0],Xe++);Xe<lt;Xe++){var C=gt[Xe];Vr(C,function(Pr,wr){Te&&wr&&hr(wr)?Mt(wr)?(Ce[Pr]=Ce[Pr]||[],si(wr,function(Lt,Pt){Lt&&hr(Lt)?Ce[Pr][Pt]=Qv(!0,Ce[Pr][Pt],Lt):Ce[Pr][Pt]=Lt})):Ce[Pr]=Qv(!0,Ce[Pr],wr):Ce[Pr]=wr})}return Ce}var Zl=_d;function Ab(C){return C===0||C>0&&C<=13||C===32}function Lb(C){return C>=0&&C<=9}function f_(C){return C[jg]>0}function Rf(C,L){var B=C;B[jm]=B[jm]||{},B[jm][d_]=B[jm][d_]||{},B[jm][d_][L]=Zl()}function Hm(C){var L=0;if(C!=null){var B=typeof C;B==="string"?L=1:B==="number"?L=2:B==="boolean"?L=3:B===o&&(L=4,Mt(C)?(L=4096,C[jg]>0&&(L|=Hm(C[0]))):zg.call(C,"value")&&(L=8192|Hm(C[Ia])))}return L}function Mb(){return!!ji("chrome")}function xf(C,L,B,X,ae,Ce){X===void 0&&(X=!1),ae===void 0&&(ae=!1);function Te(lt,gt,jt){try{lt[gt]=jt}catch{}}var Xe=new XMLHttpRequest;return X&&Te(Xe,Um,X),B&&Te(Xe,xu,B),Xe.open(C,L,!ae),B&&Te(Xe,xu,B),!ae&&Ce&&Te(Xe,Wd,Ce),Xe}function lc(C){return C>0}var Vo="",_l="POST",Ug="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ed="drop",Of="send",Ou="requeue",Hg="rspFail",Zv="oth",Nb="no-cache, no-store",h_="application/x-json-stream",Ap="cache-control",Bg="content-type",LS="kill-tokens",Fb="kill-duration",qb="kill-duration-seconds",MS="time-delta-millis",D="client-version",k="client-id",z="time-delta-to-apply-millis",Y="upload-time",ve="apikey",We="AuthMsaDeviceTicket",Ze="AuthXToken",ct="NoResponseBody",Tt="msfpc",Kt="trace",Ar="user",jn="allowRequestSending",In="firstRequestSent",Qn="shouldAddClockSkewHeaders",Qr="getClockSkewHeaderValue",Zn="setClockSkew",br="length",Si="concat",$n="iKey",Pn="count",is="events",dc="push",ka="split",Wg="splice",Bm="toLowerCase",ey="hdrs",td="useHdrs",kh="initialize",ty="setTimeoutOverride",ry="clearTimeoutOverride",or="payloadPreprocessor",un="overrideEndpointUrl",hi="avoidOptions",os="disableEventTimings",Ts="stringifyObjects",Es="enableCompoundKey",Ns="disableXhrSync",Wm="disableFetchKeepAlive",Lp="useSendBeacon",Mp="alwaysUseXhrOverride",jb="unloadTransports",$m="urlString",Ah="timeout",ny="ontimeout",Iu="data",Vm="_sendReason",Lh="headers",$g="getResponseHeader",U0="getAllResponseHeaders",Vg="_thePayload",Vu="batches",bl="sendType",iy="canSendRequest",If="sendQueuedRequests",xD="isCompletelyIdle",NS="setUnloading",H0="isTenantKilled",B0="sendSynchronousBatch",FS="_transport",kf="getWParam",OD="isBeacon",p_="timings",zb="isTeardown",Ub="isSync",Hb="sendPOST",qS="setKillSwitchTenants",m_="_backOffTransmission",Af="identifier",g_="disableOptimizeObj",Bb="ignoreMc1Ms0CookieProcessing",to="eventsLimitInMem",jS="autoFlushEventsLimit",Gg="disableAutoBatchFlushLimit",oy="overrideInstrumentationKey",W0="disableTelemetry",Lf="sendAttempt",rd="latency",zS="baseData",Mh="sync";function Kg(C){var L=(C.ext||{}).intweb;return L&&Xl(L[Tt])?L[Tt]:null}function Np(C){for(var L=null,B=0;L===null&&B<C[br];B++)L=Kg(C[B]);return L}var wl=function(){function C(L,B){var X=B?[][Si](B):[],ae=this,Ce=Np(X);ae[$n]=function(){return L},ae.Msfpc=function(){return Ce||Vo},ae[Pn]=function(){return X[br]},ae[is]=function(){return X},ae.addEvent=function(Te){return Te?(X[dc](Te),Ce||(Ce=Kg(Te)),!0):!1},ae[ka]=function(Te,Xe){var lt;if(Te<X[br]){var gt=X[br]-Te;fr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[Wg](Te,gt),Ce=Np(X)}return new C(L,lt)}}return C.create=function(L,B){return new C(L,B)},C}(),Nh=function(){function C(){var L=!0,B=!0,X=!0,ae="use-collector-delta",Ce=!1;oa(C,this,function(Te){Te[jn]=function(){return L},Te[In]=function(){X&&(X=!1,Ce||(L=!1))},Te[Qn]=function(){return B},Te[Qr]=function(){return ae},Te[Zn]=function(Xe){Ce||(Xe?(ae=Xe,B=!0,Ce=!0):B=!1,L=!0)}})}return C.__ieDyn=1,C}(),Fp=1e3,Yg=function(){function C(){var L={};function B(X){var ae=[];return X&&si(X,function(Ce){ae[dc](yu(Ce))}),ae}oa(C,this,function(X){X[qS]=function(ae,Ce){if(ae&&Ce)try{var Te=B(ae[ka](","));if(Ce==="this-request-only")return Te;for(var Xe=parseInt(Ce,10)*Fp,lt=0;lt<Te[br];++lt)L[Te[lt]]=co()+Xe}catch{return[]}return[]},X[H0]=function(ae){var Ce=L,Te=yu(ae);return Ce[Te]!==void 0&&Ce[Te]>co()?!0:(delete Ce[Te],!1)}})}return C.__ieDyn=1,C}(),qp=.8,Wb=1.2,US=3e3,ID=6e5;function v_(C){return!(C>=300&&C<500&&C!=408&&C!=429||C==501||C==505)}function sy(C){var L=0,B=US*qp,X=US*Wb,ae=Math.floor(Math.random()*(X-B))+B;return L=Math.pow(2,C)*ae,Math.min(L,ID)}var Jg=20,ay=3984588,$b=65e3,Xg=2e6,y_=Math.min(Xg,$b),Vb="metadata",__="f",$0=/\./,Gb=function(){function C(L,B,X,ae){var Ce="data",Te="baseData",Xe="ext",lt=!!ae,gt=!0,jt=B,Pr={};oa(C,this,function(wr){wr.createPayload=function(qt,Et,ur,nr,yr,hn){return{apiKeys:[],payloadBlob:Vo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:qt,isTeardown:Et,isSync:ur,isBeacon:nr,sendType:hn,sendReason:yr}},wr.appendPayload=function(qt,Et,ur){var nr=qt&&Et&&!qt.overflow;return nr&&vl(L,function(){return"Serializer:appendPayload"},function(){for(var yr=Et.events(),hn=qt.payloadBlob,pi=qt.numEvents,ci=!1,fo=[],Go=[],Oo=qt.isBeacon,Fs=Oo?$b:ay,fc=Oo?y_:Xg,Qi=0,kc=0;Qi<yr.length;){var Ac=yr[Qi];if(Ac){if(pi>=ur){qt.overflow=Et.split(Qi);break}var la=wr.getEventBlob(Ac);if(la&&la.length<=fc){var Sl=la.length,ga=hn.length;if(ga+Sl>Fs){qt.overflow=Et.split(Qi);break}hn&&(hn+=`
`),hn+=la,kc++,kc>Jg&&(fe(hn,0,1),kc=0),ci=!0,pi++}else la?fo.push(Ac):Go.push(Ac),yr.splice(Qi,1),Qi--}Qi++}if(fo.length>0&&qt.sizeExceed.push(wl.create(Et.iKey(),fo)),Go.length>0&&qt.failedEvts.push(wl.create(Et.iKey(),Go)),ci){qt.batches.push(Et),qt.payloadBlob=hn,qt.numEvents=pi;var va=Et.iKey();Da(qt.apiKeys,va)===-1&&qt.apiKeys.push(va)}},function(){return{payload:qt,theBatch:{iKey:Et.iKey(),evts:Et.events()},max:ur}}),nr},wr.getEventBlob=function(qt){try{return vl(L,function(){return"Serializer.getEventBlob"},function(){var Et={};Et.name=qt.name,Et.time=qt.time,Et.ver=qt.ver,Et.iKey="o:"+Xv(qt.iKey);var ur={},nr=qt[Xe];nr&&(Et[Xe]=ur,Vr(nr,function(pi,ci){var fo=ur[pi]={};Pt(ci,fo,"ext."+pi,!0,null,null,!0)}));var yr=Et[Ce]={};yr.baseType=qt.baseType;var hn=yr[Te]={};return Pt(qt.baseData,hn,Te,!1,[Te],function(pi,ci,fo){Aa(ur,pi,ci,fo)},gt),Pt(qt.data,yr,Ce,!1,[],function(pi,ci,fo){Aa(ur,pi,ci,fo)},gt),JSON.stringify(Et)},function(){return{item:qt}})}catch{return null}};function Lt(qt,Et){var ur=Pr[qt];return ur===void 0&&(qt.length>=7&&(ur=Wr(qt,"ext.metadata")||Wr(qt,"ext.web")),Pr[qt]=ur),ur}function Pt(qt,Et,ur,nr,yr,hn,pi){Vr(qt,function(ci,fo){var Go=null;if(fo||Xl(fo)){var Oo=ur,Fs=ci,fc=yr,Qi=Et;if(lt&&!nr&&$0.test(ci)){var kc=ci.split("."),Ac=kc.length;if(Ac>1){fc&&(fc=fc.slice());for(var la=0;la<Ac-1;la++){var Sl=kc[la];Qi=Qi[Sl]=Qi[Sl]||{},Oo+="."+Sl,fc&&fc.push(Sl)}Fs=kc[Ac-1]}}var ga=nr&&Lt(Oo);if(!ga&&jt&&jt.handleField(Oo,Fs)?Go=jt.value(Oo,Fs,fo,X):Go=Ql(Fs,fo,X),Go){var va=Go.value;if(Qi[Fs]=va,hn&&hn(fc,Fs,Go),pi&&typeof va=="object"&&!Mt(va)){var Ci=fc;Ci&&(Ci=Ci.slice(),Ci.push(Fs)),Pt(fo,va,Oo+"."+Fs,nr,Ci,hn,pi)}}}})}})}return C.__ieDyn=1,C}();function Aa(C,L,B,X){if(X&&C){var ae=kb(X.value,X.kind,X.propertyType);if(ae>-1){var Ce=C[Vb];Ce||(Ce=C[Vb]={f:{}});var Te=Ce[__];if(Te||(Te=Ce[__]={}),L)for(var Xe=0;Xe<L.length;Xe++){var lt=L[Xe];Te[lt]||(Te[lt]={f:{}});var gt=Te[lt][__];gt||(gt=Te[lt][__]={}),Te=gt}Te=Te[B]={},Mt(X.value)?Te.a={t:ae}:Te.t=ae}}}function jp(C,L){return{set:function(B,X){for(var ae=[],Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return _u([C,L],B,X,ae)}}}var Qg,kD="sendAttempt",Gm="&"+ct+"=true",Zg="?cors=true&"+Bg[Bm]()+"="+h_,b_=(Qg={},Qg[1]=Ou,Qg[100]=Ou,Qg[200]="sent",Qg[8004]=ed,Qg[8003]=ed,Qg),Kb={},ev={};function tv(C,L,B){Kb[C]=L,B!==!1&&(ev[L]=C)}tv(We,We,!1),tv(D,D),tv(k,"Client-Id"),tv(ve,ve),tv(z,z),tv(Y,Y),tv(Ze,Ze);function AD(C){try{return C.responseText}catch{}return Vo}function LD(C,L){var B=!1;if(C&&L){var X=Oe(C);if(X&&X[br]>0)for(var ae=L[Bm](),Ce=0;Ce<X[br];Ce++){var Te=X[Ce];if(Te&&$r(L,Te)&&Te[Bm]()===ae){B=!0;break}}}return B}function w_(C,L,B,X){L&&B&&B[br]>0&&(X&&Kb[L]?(C[ey][Kb[L]]=B,C[td]=!0):C.url+="&"+L+"="+B)}function MD(C,L){return L&&(on(L)?C=[L][Si](C):Mt(L)&&(C=L[Si](C))),C}function KO(C,L,B){for(var X=0;X<C[br];X++)if(C[X].name===L){C[X].value=B;return}C[dc]({name:L,value:B})}function YO(C,L){for(var B=0;B<C[br];B++)if(C[B].name===L){C[Wg](B,1);return}}var Km=function(){function C(L,B,X,ae){var Ce,Te=new Yg,Xe=!1,lt=new Nh,gt=!1,jt=0,Pr,wr,Lt,Pt,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi,ci=!1,fo=!1,Go,Oo,Fs,fc,Qi,kc=[],Ac,la,Sl=[],ga,va;oa(C,this,function(Ci){zp();var ro=!0;Ci[kh]=function(Ge,At,Zt){ga||(Pt=At,pi=At.getCookieMgr(),Pr=Zt,wr=Pr.diagLog(),vu(kc,Ru(Ge,function(lr){var rn,ei=lr.cfg,St=lr.cfg.extensionConfig[Zt.identifier];va=jp(St[ty],St[ry]),Xl(ei.anonCookieName)?KO(Et,"anoncknm",ei.anonCookieName):YO(Et,"anoncknm"),Ac=St[or],la=St.payloadListener;var nt=St.httpXHROverride,Dt=St[un]?St[un]:ei.endpointUrl;Ce=Dt+Zg,fo=tt(St[hi])?!0:!St[hi],hn=!St[os];var Ot=St.valueSanitizer,gr=St[Ts],xr=!!ei[Es];tt(St[Es])||(xr=!!St[Es]),Go=St.xhrTimeout,Oo=!!St[Ns],Fs=!!St[Wm],Qi=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(Fs=!0),gt=!lo(),yr=new Gb(Pt,Ot,gr,xr),fr(St[Lp])||(gt=!!St[Lp]);var Nr=nt,ti=St[Mp]?nt:null,Ko=St[Mp]?nt:null,bo=[3,2];if(!nt){qt=!1;var qh=i_();qh&&qh.protocol&&qh.protocol[Bm]()==="file:"&&(ro=!1);var $d=[];lo()?($d=[2,1],bo=[2,1,3]):$d=[1,2,3],$d=MD($d,St.transports),nt=nd($d,!1),nt||Ig(wr,"No available transport to send events"),Nr=nd($d,!0)}ti||(bo=MD(bo,St[jb]),ti=nd(bo,!0)),fc=!qt&&(gt&&zv()||!Fs&&Od(!0)),Lt=(rn={},rn[0]=nt,rn[1]=Nr||nd([1,2,3],!0),rn[2]=ti||Nr||nd([1],!0),rn[3]=Ko||nd([2,3],!0)||Nr||nd([1],!0),rn)})),ga=!0)},Ci.addResponseHandler=function(Ge){return Sl[dc](Ge),{rm:function(){var At=Sl.indexOf(Ge);At>=0&&Sl[Wg](At,1)}}};function nd(Ge,At){for(var Zt=0,lr=null,rn=0;lr==null&&rn<Ge[br];)Zt=Ge[rn],Zt===1?bp()?lr=S_:ou()&&(lr=p):Zt===2&&Od(At)&&(!At||At&&!Fs)?lr=Up:gt&&Zt===3&&zv()&&(lr=I),rn++;return lr?{_transport:Zt,_isSync:At,sendPOST:lr}:null}Ci._getDbgPlgTargets=function(){return[Lt[0],Te,yr,Lt]};function S_(Ge,At,Zt){var lr=new XDomainRequest;lr.open(_l,Ge[$m]),Ge[Ah]&&(lr[Ah]=Ge[Ah]),lr.onload=function(){var rn=AD(lr);b(At,200,{},rn),Mn(rn)},lr.onerror=function(){b(At,400,{})},lr[ny]=function(){b(At,500,{})},lr.onprogress=function(){},Zt?lr.send(Ge[Iu]):va.set(function(){lr.send(Ge[Iu])},0)}function zp(){var Ge;Ce=null,Te=new Yg,Xe=!1,lt=new Nh,gt=!1,jt=0,Pr=null,wr=null,Lt=null,Pt=null,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi=null,ci=!1,fo=!1,Go=Ge,Oo=Ge,Fs=Ge,fc=Ge,Qi=Ge,kc=[],Ac=Ge,la=Ge,Sl=[],ga=!1,va=jp()}function Up(Ge,At,Zt){var lr,rn=Ge[$m],ei=!1,St=!1,nt=(lr={body:Ge[Iu],method:_l},lr[Ug]=!0,lr);Zt&&(nt.keepalive=!0,Ge[Vm]===2&&(ei=!0,Qi&&(rn+=Gm))),ro&&(nt.credentials="include"),Ge.headers&&Oe(Ge.headers)[br]>0&&(nt[Lh]=Ge[Lh]);var Dt=function(gr,xr,Nr){St||(St=!0,b(At,gr,xr,Nr),Mn(Nr))},Ot=function(){St||(St=!0,b(At,0,{}))};fetch(rn,nt).then(function(gr){var xr={},Nr=Vo,ti=gr[Lh];ti&&ti.forEach(function(Ko,bo){xr[bo]=Ko}),gr.body?gr.text().then(function(Ko){Nr=Ko,Dt(gr.status,xr,Nr)},Ot):Dt(gr.status,xr,"")}).catch(Ot),ei&&!St&&(St=!0,b(At,200,{})),!St&&Ge[Ah]>0&&va.set(function(){St||(St=!0,b(At,500,{}))},Ge[Ah])}function p(Ge,At,Zt){var lr=Ge[$m];function rn(Dt,Ot,gr){if(!Dt[gr]&&Ot&&Ot[$g]){var xr=Ot[$g](gr);xr&&(Dt[gr]=yu(xr))}return Dt}function ei(Dt){var Ot={};return Dt[U0]?Ot=Rr(Dt[U0]()):(Ot=rn(Ot,Dt,MS),Ot=rn(Ot,Dt,Fb),Ot=rn(Ot,Dt,qb)),Ot}function St(Dt,Ot){b(At,Dt.status,ei(Dt),Ot)}Zt&&Ge[Ns]&&(Zt=!1);var nt=xf(_l,lr,ro,!0,Zt,Ge[Ah]);Vr(Ge[Lh],function(Dt,Ot){nt.setRequestHeader(Dt,Ot)}),nt.onload=function(){var Dt=AD(nt);St(nt,Dt),Mn(Dt)},nt.onerror=function(){St(nt)},nt[ny]=function(){St(nt)},nt.send(Ge[Iu])}function b(Ge,At,Zt,lr){try{Ge(At,Zt,lr)}catch(rn){zd(wr,2,518,Fe(rn))}}function I(Ge,At,Zt){var lr=Ge,rn=200,ei=lr[Vg],St=Ge[$m]+(Qi?Gm:Vo);try{var nt=yo();if(!nt.sendBeacon(St,Ge[Iu]))if(ei){var Dt=!!Pt.getPlugin("LocalStorage"),Ot=[],gr=[];si(ei[Vu],function(xr){if(Ot&&xr&&xr[Pn]()>0)for(var Nr=xr[is](),ti=0;ti<Nr[br];ti++)if(nt.sendBeacon(St,yr.getEventBlob(Nr[ti])))gr[dc](xr[ti]);else{Ot[dc](xr[ka](ti));break}else Ot[dc](xr[ka](0))}),gr[br]>0&&(ei.sentEvts=gr),Dt||Oi(Ot,8003,ei[bl],!0)}else rn=0}catch(xr){Ig(wr,"Failed to send telemetry using sendBeacon API. Ex:"+Fe(xr)),rn=0}finally{b(At,rn,{},Vo)}}function j(Ge){return Ge===2||Ge===3}function $(Ge){return ci&&j(Ge)&&(Ge=2),Ge}Ci.addHeader=function(Ge,At){ur[Ge]=At},Ci[iy]=function(){return ie()&&lt[jn]()},Ci[If]=function(Ge,At){tt(Ge)&&(Ge=0),ci&&(Ge=$(Ge),At=2),Ie(nr,Ge,0)&&et(ge(),0,!1,Ge,At||0)},Ci[xD]=function(){return!Xe&&jt===0&&nr[br]===0},Ci[NS]=function(Ge){ci=Ge},Ci.addBatch=function(Ge){if(Ge&&Ge[Pn]()>0){if(Te.isTenantKilled(Ge[$n]()))return!1;nr[dc](Ge)}return!0},Ci.teardown=function(){nr[br]>0&&et(ge(),0,!0,2,2),si(kc,function(Ge){Ge&&Ge.rm&&Ge.rm()}),kc=[]},Ci.pause=function(){Xe=!0},Ci.resume=function(){Xe=!1,Ci[If](0,4)},Ci[B0]=function(Ge,At,Zt){Ge&&Ge[Pn]()>0&&(fr(At)&&(At=1),ci&&(At=$(At),Zt=2),et([Ge],0,!1,At,Zt||0))};function ie(){return!Xe&&jt<B}function ge(){var Ge=nr;return nr=[],Ge}function Ie(Ge,At,Zt){var lr=!1;return Ge&&Ge[br]>0&&!Xe&&Lt[At]&&yr&&(lr=At!==0||ie()&&(Zt>0||lt[jn]())),lr}function Be(Ge){var At={};return Ge&&si(Ge,function(Zt,lr){At[lr]={iKey:Zt[$n](),evts:Zt[is]()}}),At}function et(Ge,At,Zt,lr,rn){if(!(!Ge||Ge[br]===0)){if(Xe){Oi(Ge,1,lr);return}lr=$(lr);try{var ei=Ge,St=lr!==0;vl(Pt,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ge=Ge.slice(0));for(var Dt=[],Ot=null,gr=Zl(),xr=Lt[lr]||(St?Lt[1]:Lt[0]),Nr=xr&&xr[FS],ti=fc&&(ci||j(lr)||Nr===3||xr._isSync&&Nr===2);Ie(Ge,lr,At);){var Ko=Ge.shift();Ko&&Ko[Pn]()>0&&(Te.isTenantKilled(Ko[$n]())?Dt[dc](Ko):(Ot=Ot||yr.createPayload(At,Zt,St,ti,rn,lr),yr.appendPayload(Ot,Ko,L)?Ot.overflow!==null&&(Ge=[Ot.overflow][Si](Ge),Ot.overflow=null,ot(Ot,gr,Zl(),rn),gr=Zl(),Ot=null):(ot(Ot,gr,Zl(),rn),gr=Zl(),Ge=[Ko][Si](Ge),Ot=null)))}Ot&&ot(Ot,gr,Zl(),rn),Ge[br]>0&&(nr=Ge[Si](nr)),Oi(Dt,8004,lr)},function(){return{batches:Be(ei),retryCount:At,isTeardown:Zt,isSynchronous:St,sendReason:rn,useSendBeacon:j(lr),sendType:lr}},!St)}catch(nt){zd(wr,2,48,"Unexpected Exception sending batch: "+Fe(nt))}}}function Ve(Ge,At){var Zt={url:Ce,hdrs:{},useHdrs:!1};At?(Zt[ey]=Qv(Zt[ey],ur),Zt.useHdrs=Oe(Zt.hdrs)[br]>0):Vr(ur,function(nt,Dt){ev[nt]?w_(Zt,ev[nt],Dt,!1):(Zt[ey][nt]=Dt,Zt[td]=!0)}),w_(Zt,k,"NO_AUTH",At),w_(Zt,D,Ih,At);var lr=Vo;si(Ge.apiKeys,function(nt){lr[br]>0&&(lr+=","),lr+=nt}),w_(Zt,ve,lr,At),w_(Zt,Y,co().toString(),At);var rn=Ir(Ge);if(Xl(rn)&&(Zt.url+="&ext.intweb.msfpc="+rn),lt[Qn]()&&w_(Zt,z,lt[Qr](),At),Pt[kf]){var ei=Pt[kf]();ei>=0&&(Zt.url+="&w="+ei)}for(var St=0;St<Et[br];St++)Zt.url+="&"+Et[St].name+"="+Et[St].value;return Zt}function wt(Ge,At,Zt){Ge[At]=Ge[At]||{},Ge[At][Pr.identifier]=Zt}function ot(Ge,At,Zt,lr){if(Ge&&Ge.payloadBlob&&Ge.payloadBlob[br]>0){var rn=!!Ac,ei=Lt[Ge.sendType];!j(Ge[bl])&&Ge[OD]&&Ge.sendReason===2&&(ei=Lt[2]||Lt[3]||ei);var St=fo;(Ge.isBeacon||ei[FS]===3)&&(St=!1);var nt=Ve(Ge,St);St=St||nt[td];var Dt=Zl();vl(Pt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ot=0;Ot<Ge.batches[br];Ot++)for(var gr=Ge[Vu][Ot],xr=gr[is](),Nr=0;Nr<xr[br];Nr++){var ti=xr[Nr];if(hn){var Ko=ti[p_]=ti[p_]||{};wt(Ko,"sendEventStart",Dt),wt(Ko,"serializationStart",At),wt(Ko,"serializationCompleted",Zt)}ti[kD]>0?ti[kD]++:ti[kD]=1}Oi(Ge[Vu],1e3+(lr||0),Ge[bl],!0);var bo={data:Ge.payloadBlob,urlString:nt.url,headers:nt[ey],_thePayload:Ge,_sendReason:lr,timeout:Go,disableXhrSync:Oo,disableFetchKeepAlive:Fs};St&&(LD(bo[Lh],Ap)||(bo[Lh][Ap]=Nb),LD(bo[Lh],Bg)||(bo[Lh][Bg]=h_));var qh=null;ei&&(qh=function($d){lt[In]();var C_=function(Hp,zD){it(Hp,zD,Ge,lr)},Mf=Ge[zb]||Ge[Ub];try{ei[Hb]($d,C_,Mf),la&&la(bo,$d,Mf,Ge[OD])}catch(Hp){Ig(wr,"Unexpected exception sending payload. Ex:"+Fe(Hp)),b(C_,0,{})}}),vl(Pt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(qh)if(Ge[bl]===0&&jt++,rn&&!Ge.isBeacon&&ei[FS]!==3){var $d={data:bo[Iu],urlString:bo[$m],headers:Qv({},bo[Lh]),timeout:bo[Ah],disableXhrSync:bo[Ns],disableFetchKeepAlive:bo[Wm]},C_=!1;vl(Pt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Ac($d,function(Mf){C_=!0,!qt&&!Mf[Vg]&&(Mf[Vg]=Mf[Vg]||bo[Vg],Mf[Vm]=Mf[Vm]||bo[Vm]),qh(Mf)},Ge.isSync||Ge[zb])}catch{C_||qh(bo)}})}else qh(bo)})},function(){return{thePayload:Ge,serializationStart:At,serializationCompleted:Zt,sendReason:lr}},Ge[Ub])}Ge.sizeExceed&&Ge.sizeExceed[br]>0&&Oi(Ge.sizeExceed,8003,Ge[bl]),Ge.failedEvts&&Ge.failedEvts[br]>0&&Oi(Ge.failedEvts,8002,Ge[bl])}function _t(Ge,At){hn&&si(Ge,function(Zt){var lr=Zt[p_]=Zt[p_]||{};wt(lr,"sendEventCompleted",At)})}function it(Ge,At,Zt,lr){var rn=9e3,ei=null,St=!1,nt=!1;try{var Dt=!0;if(typeof Ge!==s){if(At){lt[Zn](At[MS]);var Ot=At[Fb]||At["kill-duration-seconds"];si(Te[qS](At[LS],Ot),function(xr){si(Zt[Vu],function(Nr){if(Nr[$n]()===xr){ei=ei||[];var ti=Nr[ka](0);Zt.numEvents-=ti[Pn](),ei[dc](ti)}})})}if(Ge==200||Ge==204){rn=200;return}(!v_(Ge)||Zt.numEvents<=0)&&(Dt=!1),rn=9e3+Ge%1e3}if(Dt){rn=100;var gr=Zt.retryCnt;Zt[bl]===0&&(gr<X?(St=!0,_r(function(){Zt[bl]===0&&jt--,et(Zt[Vu],gr+1,Zt[zb],ci?2:Zt[bl],5)},ci,sy(gr))):(nt=!0,ci&&(rn=8001)))}}finally{St||(lt[Zn](),Qt(Zt,rn,lr,nt)),Oi(ei,8004,Zt[bl])}}function Qt(Ge,At,Zt,lr){try{lr&&Pr[m_]();var rn=Ge[Vu];At===200&&(rn=Ge.sentEvts||Ge[Vu],!lr&&!Ge[Ub]&&Pr._clearBackOff(),Vt(rn)),Oi(rn,At,Ge[bl],!0)}finally{Ge[bl]===0&&(jt--,Zt!==5&&Ci.sendQueuedRequests(Ge[bl],Zt))}}function Vt(Ge){if(hn){var At=Zl();si(Ge,function(Zt){Zt&&Zt[Pn]()>0&&_t(Zt[is](),At)})}}function _r(Ge,At,Zt){At?Ge():va.set(Ge,Zt)}function Rr(Ge){var At={};if(cr(Ge)){var Zt=yu(Ge)[ka](/[\r\n]+/);si(Zt,function(lr){if(lr){var rn=lr.indexOf(": ");if(rn!==-1){var ei=yu(lr.substring(0,rn))[Bm](),St=yu(lr.substring(rn+1));At[ei]=St}else At[yu(lr)]=1}})}return At}function Ir(Ge){for(var At=0;At<Ge.batches[br];At++){var Zt=Ge[Vu][At].Msfpc();if(Zt)return encodeURIComponent(Zt)}return Vo}function Mn(Ge){var At=Sl;try{for(var Zt=0;Zt<At[br];Zt++)try{At[Zt](Ge)}catch(rn){zd(wr,1,519,"Response handler failed: "+rn)}if(Ge){var lr=JSON.parse(Ge);Xl(lr.webResult)&&Xl(lr.webResult[Tt])&&pi.set("MSFPC",lr.webResult[Tt],365*86400)}}catch{}}function Oi(Ge,At,Zt,lr){if(Ge&&Ge[br]>0&&ae){var rn=ae[Io(At)];if(rn){var ei=Zt!==0;vl(Pt,function(){return"HttpManager:_sendBatchesNotification"},function(){_r(function(){try{rn.call(ae,Ge,At,ei,Zt)}catch(St){zd(wr,1,74,"send request notification failed: "+St)}},lr||ei,0)},function(){return{batches:Be(Ge),reason:At,isSync:ei,sendSync:lr,sendType:Zt}},!ei)}}}function Io(Ge){var At=b_[Ge];return Xl(At)||(At=Zv,Ge>=9e3&&Ge<=9999?At=Hg:Ge>=8e3&&Ge<=8999?At=ed:Ge>=1e3&&Ge<=1999&&(At=Of)),At}})}return C.__ieDyn=1,C}(),JO=.25,Yb=500,cy=20,HS=6,BS=2,Jb=4,Ym=2,ND=1,Xs=1e4,Fh="eventsDiscarded",Qs=void 0,FD=oe({eventsLimitInMem:{isVal:lc,v:Xs},immediateEventLimit:{isVal:lc,v:500},autoFlushEventsLimit:{isVal:lc,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:qD,v:Qs},overrideInstrumentationKey:Qs,overrideEndpointUrl:Qs,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Qs,clearTimeoutOverride:Qs,payloadPreprocessor:Qs,payloadListener:Qs,disableEventTimings:Qs,valueSanitizer:Qs,stringifyObjects:Qs,enableCompoundKey:Qs,disableOptimizeObj:!1,transports:Qs,unloadTransports:Qs,useSendBeacon:Qs,disableFetchKeepAlive:Qs,avoidOptions:!1,xhrTimeout:Qs,disableXhrSync:Qs,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:on,v:HS},maxUnloadEventRetryAttempts:{isVal:on,v:BS},addNoResponse:Qs});function qD(C){return C&&C[Hb]}var jD=function(C){Xy(L,C);function L(){var B=C.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,ae=!1,Ce=[],Te,Xe=!1,lt=0,gt,jt=0,Pr,wr={},Lt=e,Pt,qt,Et,ur,nr,yr,hn,pi,ci,fo,Go,Oo,Fs,fc,Qi,kc,Ac,la,Sl,ga,va,Ci;return oa(L,B,function(ro,nd){ie(),ro._getDbgPlgTargets=function(){return[nr,X]},ro[kh]=function(nt,Dt,Ot){vl(Dt,function(){return"PostChannel:initialize"},function(){nd[kh](nt,Dt,Ot),Sl=Dt.getNotifyMgr();try{Qi=cc(Pu(ro[Af]),Dt.evtNamespace&&Dt.evtNamespace()),ro._addHook(Ru(nt,function(gr){var xr=gr.cfg,Nr=Vv(null,xr,Dt);X=Nr.getExtCfg(ro[Af],FD),kc=jp(X[ty],X[ry]),Go=!X[g_]&&Mb(),Ac=X[Bb],zp(Dt),Pr=X[to],gt=X.immediateEventLimit,hn=X[jS],Fs=X.maxEventRetryAttempts,fc=X.maxUnloadEventRetryAttempts,la=X[Gg],St(),va=X[oy],Ci=!!X[W0],ga&&S_();var ti=xr.disablePageUnloadEvents||[];ga=qm(Up,ti,Qi),ga=u_(Up,ti,Qi)||ga,ga=Jv(p,xr.disablePageShowEvents,Qi)||ga})),nr[kh](nt,ro.core,ro)}catch(gr){throw ro.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Dt,extensions:Ot}})},ro.processTelemetry=function(nt,Dt){Rf(nt,ro[Af]),Dt=Dt||ro._getTelCtx(Dt);var Ot=nt;!Ci&&!ae&&(va&&(Ot[$n]=va),b(Ot,!0),Oo?Be(2,2):$()),ro.processNext(Ot,Dt)},ro._doTeardown=function(nt,Dt){Be(2,2),ae=!0,nr.teardown(),S_(),ie()};function S_(){qg(null,Qi),bn(null,Qi),kp(null,Qi)}function zp(nt){var Dt=nt[kf];nt[kf]=function(){var Ot=0;return Ac&&(Ot=Ot|2),Ot|Dt.call(nt)}}function Up(nt){var Dt=nt||mu().event;Dt.type!=="beforeunload"&&(Oo=!0,nr[NS](Oo)),Be(2,2)}function p(nt){Oo=!1,nr[NS](Oo)}function b(nt,Dt){if(nt[Lf]||(nt[Lf]=0),nt[rd]||(nt[rd]=1),nt.ext&&nt.ext[Kt]&&delete nt.ext[Kt],nt.ext&&nt.ext[Ar]&&nt.ext[Ar].id&&delete nt.ext[Ar].id,Go&&(nt.ext=Tu(nt.ext),nt[zS]&&(nt[zS]=Tu(nt[zS])),nt[Iu]&&(nt[Iu]=Tu(nt[Iu]))),nt[Mh]){if(Et||Xe)nt[rd]=3,nt[Mh]=!1;else if(nr){Go&&(nt=Tu(nt)),nr[B0](wl.create(nt[$n],[nt]),nt[Mh]===!0?1:nt[Mh],3);return}}var Ot=nt[rd],gr=jt,xr=Pr;Ot===4&&(gr=lt,xr=gt);var Nr=!1;if(gr<xr)Nr=!ot(nt,Dt);else{var ti=1,Ko=cy;Ot===4&&(ti=4,Ko=1),Nr=!0,_t(nt[$n],nt[rd],ti,Ko)&&(Nr=!ot(nt,Dt))}Nr&&Io(Fh,[nt],ec.QueueFull)}ro.setEventQueueLimits=function(nt,Dt){X[to]=Pr=lc(nt)?nt:Xs,X[jS]=hn=lc(Dt)?Dt:0,St();var Ot=jt>nt;if(!Ot&&pi>0)for(var gr=1;!Ot&&gr<=3;gr++){var xr=yr[gr];xr&&xr[Vu]&&si(xr[Vu],function(Nr){Nr&&Nr[Pn]()>=pi&&(Ot=!0)})}wt(!0,Ot)},ro.pause=function(){Ie(),Xe=!0,nr.pause()},ro.resume=function(){Xe=!1,nr.resume(),$()},ro._loadTransmitProfiles=function(nt){Rr(),Vr(nt,function(Dt,Ot){var gr=Ot[br];if(gr>=2){var xr=gr>2?Ot[2]:0;if(Ot[Wg](0,gr-2),Ot[1]<0&&(Ot[0]=-1),Ot[1]>0&&Ot[0]>0){var Nr=Ot[0]/Ot[1];Ot[0]=Math.ceil(Nr)*Ot[1]}xr>=0&&Ot[1]>=0&&xr>Ot[1]&&(xr=Ot[1]),Ot[dc](xr),wr[Dt]=Ot}})},ro.flush=function(nt,Dt,Ot){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Ot=Ot||1,nt)Dt||(gr=Z(function(Nr){Dt=Nr})),Te==null?(Ie(),Qt(1,0,Ot),Te=ge(function(){Te=null,Vt(Dt,Ot)},0)):Ce[dc](Dt);else{var xr=Ie();I(1,1,Ot),Dt&&Dt(),xr&&$()}return gr},ro.setMsaAuthTicket=function(nt){nr.addHeader(We,nt)},ro.hasEvents=j,ro._setTransmitProfile=function(nt){Lt!==nt&&wr[nt]!==void 0&&(Ie(),Lt=nt,$())},Rd(ro,function(){return nr},["addResponseHandler"]);function I(nt,Dt,Ot){var gr=Qt(nt,Dt,Ot);return nr[If](Dt,Ot),gr}function j(){return jt>0}function $(){if(ci>=0&&Qt(ci,0,fo)&&nr[If](0,fo),lt>0&&!qt&&!Xe){var nt=wr[Lt][2];nt>=0&&(qt=ge(function(){qt=null,I(4,0,1),$()},nt))}var Dt=wr[Lt][1];!Pt&&!Te&&Dt>=0&&!Xe&&(j()?Pt=ge(function(){Pt=null,I(ur===0?3:1,0,1),ur++,ur%=2,$()},Dt):ur=0)}ro[m_]=function(){Et<Jb&&(Et++,Ie(),$())},ro._clearBackOff=function(){Et&&(Et=0,Ie(),$())};function ie(){X=null,ae=!1,Ce=[],Te=null,Xe=!1,lt=0,gt=500,jt=0,Pr=Xs,wr={},Lt=e,Pt=null,qt=null,Et=0,ur=0,yr={},hn=0,ga=!1,pi=0,ci=-1,fo=null,Go=!0,Oo=!1,Fs=HS,fc=BS,Qi=null,va=null,Ci=!1,kc=jp(),nr=new Km(Yb,Ym,ND,{requeue:Mn,send:At,sent:Zt,drop:lr,rspFail:rn,oth:ei}),Ir(),et(),St()}function ge(nt,Dt){Dt===0&&Et&&(Dt=1);var Ot=1e3;return Et&&(Ot=sy(Et-1)),kc.set(nt,Dt*Ot)}function Ie(){return Pt!==null?(Pt.cancel(),Pt=null,ur=0,!0):!1}function Be(nt,Dt){Ie(),Te&&(Te.cancel(),Te=null),Xe||I(1,nt,Dt)}function et(){yr[4]={batches:[],iKeyMap:{}},yr[3]={batches:[],iKeyMap:{}},yr[2]={batches:[],iKeyMap:{}},yr[1]={batches:[],iKeyMap:{}}}function Ve(nt,Dt,Ot){var gr=yr[Dt];gr||(Dt=1,gr=yr[Dt]);var xr=gr.iKeyMap[nt];return!xr&&Ot&&(xr=wl.create(nt),gr.batches[dc](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Dt){nr[iy]()&&!Et&&(hn>0&&jt>hn&&(Dt=!0),Dt&&Te==null&&ro.flush(nt,function(){},20))}function ot(nt,Dt){Go&&(nt=Tu(nt));var Ot=nt[rd],gr=Ve(nt[$n],Ot,!0);return gr.addEvent(nt)?(Ot!==4?(jt++,Dt&&nt[Lf]===0&&wt(!nt.sync,pi>0&&gr[Pn]()>=pi)):lt++,!0):!1}function _t(nt,Dt,Ot,gr){for(;Ot<=Dt;){var xr=Ve(nt,Dt,!0);if(xr&&xr[Pn]()>0){var Nr=xr[ka](0,gr),ti=Nr[Pn]();if(ti>0)return Ot===4?lt-=ti:jt-=ti,Ge(Fh,[Nr],ec.QueueFull),!0}Ot++}return it(),!1}function it(){for(var nt=0,Dt=0,Ot=function(xr){var Nr=yr[xr];Nr&&Nr[Vu]&&si(Nr[Vu],function(ti){xr===4?nt+=ti[Pn]():Dt+=ti[Pn]()})},gr=1;gr<=4;gr++)Ot(gr);jt=Dt,lt=nt}function Qt(nt,Dt,Ot){var gr=!1,xr=Dt===0;return!xr||nr[iy]()?vl(ro.core,function(){return"PostChannel._queueBatches"},function(){for(var Nr=[],ti=4;ti>=nt;){var Ko=yr[ti];Ko&&Ko.batches&&Ko.batches[br]>0&&(si(Ko[Vu],function(bo){nr.addBatch(bo)?gr=gr||bo&&bo[Pn]()>0:Nr=Nr[Si](bo[is]()),ti===4?lt-=bo[Pn]():jt-=bo[Pn]()}),Ko[Vu]=[],Ko.iKeyMap={}),ti--}Nr[br]>0&&Io(Fh,Nr,ec.KillSwitch),gr&&ci>=nt&&(ci=-1,fo=0)},function(){return{latency:nt,sendType:Dt,sendReason:Ot}},!xr):(ci=ci>=0?Math.min(ci,nt):nt,fo=Math.max(fo,Ot)),gr}function Vt(nt,Dt){I(1,0,Dt),it(),_r(function(){nt&&nt(),Ce[br]>0?Te=ge(function(){Te=null,Vt(Ce.shift(),Dt)},0):(Te=null,$())})}function _r(nt){nr[xD]()?nt():Te=ge(function(){Te=null,_r(nt)},JO)}function Rr(){Ie(),Ir(),Lt=e,$()}function Ir(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function Mn(nt,Dt){var Ot=[],gr=Fs;Oo&&(gr=fc),si(nt,function(xr){xr&&xr[Pn]()>0&&si(xr[is](),function(Nr){Nr&&(Nr[Mh]&&(Nr[rd]=4,Nr[Mh]=!1),Nr[Lf]<gr?(Rf(Nr,ro[Af]),b(Nr,!1)):Ot[dc](Nr))})}),Ot[br]>0&&Io(Fh,Ot,ec.NonRetryableStatus),Oo&&Be(2,2)}function Oi(nt,Dt){var Ot=Sl||{},gr=Ot[nt];if(gr)try{gr.apply(Ot,Dt)}catch(xr){zd(ro.diagLog(),1,74,nt+" notification failed: "+xr)}}function Io(nt,Dt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Dt&&Dt[br]>0&&Oi(nt,[Dt][Si](Ot))}function Ge(nt,Dt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Dt&&Dt[br]>0&&si(Dt,function(xr){xr&&xr[Pn]()>0&&Oi(nt,[xr.events()][Si](Ot))})}function At(nt,Dt,Ot){nt&&nt[br]>0&&Oi("eventsSendRequest",[Dt>=1e3&&Dt<=1999?Dt-1e3:0,Ot!==!0])}function Zt(nt,Dt){Ge("eventsSent",nt,Dt),$()}function lr(nt,Dt){Ge(Fh,nt,Dt>=8e3&&Dt<=8999?Dt-8e3:ec.Unknown)}function rn(nt){Ge(Fh,nt,ec.NonRetryableStatus),$()}function ei(nt,Dt){Ge(Fh,nt,ec.Unknown),$()}function St(){la?pi=0:pi=Math.max(Yb*(Ym+1),Pr/6)}}),B}return L.__ieDyn=1,L}(a_);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=jD,r.RT_PROFILE=e})});var ave=E(I_=>{"use strict";var E7e=I_&&I_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),P7e=I_&&I_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sve=I_&&I_.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&E7e(e,r,t);return P7e(e,r),e};Object.defineProperty(I_,"__esModule",{value:!0});I_.oneDataSystemClientFactory=void 0;var R7e=async(r,e,t)=>{let n=await Promise.resolve().then(()=>sve(nve())),i=await Promise.resolve().then(()=>sve(ove())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},x7e=async(r,e,t)=>{let n=await R7e(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};I_.oneDataSystemClientFactory=x7e});var uve=E((pq,cve)=>{(function(r,e){typeof pq=="object"&&typeof cve<"u"?e(pq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(pq,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",m="_polyfill",_="indexOf",T="length",x="value",M="name",A="slice",U=Object,ne=U[a],de=String,ye=de[a],V=Math,W=Array,ee=W[a];function Se(D,k){var z=k;try{z=D()}catch{}return z}function se(D){return function(k){return typeof k===D}}function ce(D){var k="[object "+D+"]";return function(z){return!!(z&&qe(z)===k)}}function qe(D){return ne.toString.call(D)}function Ne(D){return typeof D===l||D===l}function ue(D){return D===t||Ne(D)}function De(D){return!!D||D!==e}var we=se(u),xe=se(i);function Me(D){return!D&&ue(D)?!1:!!D&&typeof D===s}var $e=W.isArray,Ct=se(o),ze=ce("Error"),st=U.getOwnPropertyDescriptor;function at(D,k){return D&&ne.hasOwnProperty.call(D,k)}var tt=U.hasOwn||fr;function fr(D,k){return at(D,k)||!!st(D,k)}function Lr(D,k,z){if(D&&Me(D)){for(var Y in D)if(tt(D,Y)&&k.call(z||D,Y,D[Y])===-1)break}}function zr(D,k,z,Y){var ve={};return Lr(D,function(We,Ze){ve[We]=k?Ze:We,ve[Ze]=z?Ze:We}),Y(ve)}function cr(D){throw new Error(D)}function xt(D){throw new TypeError(D)}var hr=U.freeze,Mt=function(D){return D},on=function(D){return D[c]||t},ln=U.assign;function On(D){return(!Me(D)||D===t)&&xt("objKeys called on non-object"),U.keys(D)}function Or(D){return hr&&Lr(D,function(k,z){($e(z)||Me(z))&&hr(z)}),Hn(D)}var Hn=hr||Mt,$r=U.getPrototypeOf||on;function dn(D){return zr(D,1,0,Or)}function ii(D){var k={};return Lr(D,function(z,Y){k[z]=Y[1],k[Y[0]]=Y[1]}),Or(k)}function Vr(D){return ii(D)}var An=de,Ri="__tsUtils$gblCfg",Gr;function Ji(){var D;return typeof globalThis!==l&&(D=globalThis),!D&&typeof self!==l&&(D=self),!D&&typeof window!==l&&(D=window),!D&&typeof global!==l&&(D=global),D}function oi(){if(!Gr){var D=Ji()||{};Gr=D[Ri]=D[Ri]||{}}return Gr}function fn(D,k){var z=n;if(ze(D))z="{ stack: '"+D.stack+"', message: '"+D.message+"', name: '"+D.name+"'";else try{z=JSON.stringify(D,t,k?Ct(k)?k:4:e)}catch(Y){z=" - "+fn(Y,k)}return qe(D)+": "+z}var Oe=ee[A],oe=function(D,k){xt("'"+An(D)+"' not defined for "+fn(k))},Q=function(D){return function(k){return k[D].apply(k,Oe.call(arguments,1))}},_e=function(D,k){var z=k&&k[D];return function(Y){var ve=Y&&Y[D]||z;if(ve)return ve.apply(Y,Oe.call(arguments,1));oe(D,Y)}},Je=function(D,k,z){var Y=k&&k[D];return function(ve){var We=ve&&ve[D]||Y;if(We||z){var Ze=arguments;return(We||z).apply(ve,We?Oe.call(Ze,1):Ze)}oe(D,ve)}},ft=V.max,Yt=_e(A,ye),rr=_e("substring",ye),Jt=Je("substr",ye,$t);function $t(D,k,z){return ue(D)&&xt("'polyStrSubstr called with invalid "+fn(D)),z<0?n:(k=k||0,k<0&&(k=ft(k+D[T],0)),Ne(z)?Yt(D,k):Yt(D,k,k+z))}function kt(D,k){return rr(D,0,k)}var K="_urid",Fe;function Ht(){if(!Fe){var D=oi();Fe=D.gblSym=D.gblSym||{k:{},s:{}}}return Fe}function Tr(D){var k={description:An(D),toString:function(){return f+"("+D+")"}};return k[m]=!0,k}function He(D){var k=Ht();if(!tt(k.k,D)){var z=Tr(D),Y=On(k.s).length;z[K]=function(){return Y+"_"+z.toString()},k.k[D]=z,k.s[z[K]()]=An(D)}return k.k[D]}var re={e:"enumerable",c:"configurable",v:x,w:"writable",g:"get",s:"set"};function Re(D){var k={};if(k[re.c]=!0,k[re.e]=!0,D.l){k.get=function(){return D.l.v};var z=st(D.l,"v");z&&z.set&&(k.set=function(Y){D.l.v=Y})}return Lr(D,function(Y,ve){k[re[Y]]=Ne(ve)?k[re[Y]]:ve}),k}var je=U.defineProperty;function he(D,k,z){return je(D,k,Re(z))}var S,fe=function(){S=oi(),fe=t};function Ye(D){var k={};return fe&&fe(),k.b=S.lzy,je(k,"v",{configurable:!0,get:function(){var z=D();return S.lzy||(je(k,"v",{value:z}),k.b&&delete k.b),S.lzy&&k.b!==S.lzy&&(k.b=S.lzy),z}}),k}function Dr(D,k){return Ye(function(){return Se(D,k)})}var Wr="window",Xr,qn,xi,ks,Sn=function(D){return Dr(function(){return Bs(D)||e},e)},es=function(D){return(!Xr||D===!1||S&&S.lzy&&!Xr.b)&&(Xr=Dr(Ji,t)),Xr.v},Bs=function(D,k){var z=!Xr||k===!1?es(k):Xr.v;return z&&z[D]?z[D]:D===Wr&&qn?qn.v:t},ta=function(){return(!xi||S&&S.lzy&&!xi.b)&&(xi=Sn("document")),xi.v},Fo=function(){return!!Eo()},Eo=function(){return(!qn||S&&S.lzy&&!qn.b)&&(qn=Sn(Wr)),qn.v},H=function(){return!!Ue()},Ue=function(){return(!ks||S&&S.lzy&&!ks.b)&&(ks=Sn("navigator")),ks.v},vt,Fr,so;function Bi(D){return Dr(function(){return vt.v?vt.v[D]:e},e)}function N(){var D=!vt||S&&S.lzy&&!vt.b;return D&&(vt=Sn(f)),(!Fr||D)&&(Fr=Bi("for")),(!so||D)&&(so=Bi("keyFor")),vt.v}function Le(D,k){return(!vt||S.lzy&&!vt.b)&&N(),vt.v?vt.v(D):k?t:Tr(D)}function rt(D){return(!Fr||S.lzy&&!vt.b)&&N(),(Fr.v||He)(D)}var zt=Q("apply");function Ln(D,k,z){if(D)for(var Y=D[T]>>>0,ve=0;ve<Y&&!(ve in D&&k.call(z||D,D[ve],ve,D)===-1);ve++);}var Cn=_e(_,ee),Nn=_e("map",ee),ao=_e(A,ee),ji=Q("call"),Po=_e("reduce",ee),Vi=U.create,Jn=Vi||mu;function mu(D){if(!D)return{};var k=typeof D;if(k!==s&&k!==i)throw new TypeError("Prototype must be an Object or function: "+fn(D));function z(){}return z[a]=D,new z}var ts;function yo(D,k){var z=U.setPrototypeOf||function(Y,ve){!ts&&(ts=Ye(function(){var We;return We={},We[c]=[],We instanceof Array})),ts.v?Y[c]=ve:Lr(ve,function(We,Ze){return Y[We]=Ze})};return z(D,k)}var al=function(D,k,z){Xa(k,D),k=yo(k,z);function Y(){this.constructor=k,Xa(this,D)}return k[a]=z===t?Jn(z):(Y[a]=z[a],new Y),k},Mi=function(D,k){try{k&&(D[M]=k)}catch{}},Xa=function(D,k){try{he(D,M,{v:k,c:!0,e:!1})}catch{}};function Qa(D,k,z){var Y=z||Error,ve=Y[a][M],We=Error.captureStackTrace;return al(D,function(){var Ze=this;try{Mi(Y,D);var ct=zt(Y,Ze,ao(arguments))||Ze;if(ct!==Ze){var Tt=$r(Ze);Tt!==$r(ct)&&yo(ct,Tt)}return We&&We(ct,Ze[d]),k&&k(ct,arguments),ct}finally{Mi(Y,ve)}},Y)}function ha(){return(Date.now||cl)()}function cl(){return new Date().getTime()}function lh(D){return function(z){return ue(z)&&xt("strTrim called ["+fn(z)+"]"),z&&z.replace&&(z=z.replace(D,n)),z}}var Dc=lh(/^\s+|(?=\s)\s+$/g),ra=Je("trim",ye,Dc),gu,dh,Uo;function Ws(D){if(!D||typeof D!==s)return!1;Uo||(Uo=Fo()?Eo():!0);var k=!1;if(D!==Uo){dh||(gu=Function[a].toString,dh=ji(gu,U));try{var z=$r(D);k=!z,k||(at(z,d)&&(z=z[d]),k=z&&typeof z===i&&gu.call(z)===dh)}catch{}}return k}var Tn;function $s(){return(!Tn||!Tn.b&&S&&S.lzy)&&(Tn=Sn("performance")),Tn.v}var vu=Je("endsWith",ye,si);function si(D,k,z){we(D)||xt("'"+fn(D)+"' is not a string");var Y=we(k)?k:An(k),ve=Y[T],We=D[T],Ze=!Ne(z)&&z<We?z:We;return rr(D,Ze-ve,Ze)===Y}var Da=_e(_,ye),Qc="ref",fh="un"+Qc,af="hasRef",ap="enabled";function cf(D,k,z){var Y,ve=!0,We=D?k(t):t,Ze,ct=function(){return ve=!1,We&&We[fh]&&We[fh](),Ze},Tt=function(){return ve=!0,We&&We[Qc]&&We[Qc](),Ze},Kt=function(){return We&&We[af]?We[af]():ve},Ar=function(){return We=k(We),ve||ct(),Ze},jn=function(){We&&z(We),We=t},In=function(Qn){!Qn&&We&&jn(),Qn&&!We&&Ar()};return Ze=(Y={cancel:jn,refresh:Ar},Y[af]=Kt,Y[Qc]=Tt,Y[fh]=ct,Y[ap]=!1,Y),je(Ze,ap,{get:function(){return!!We},set:In}),{h:Ze,dn:function(){We=t}}}function cp(D,k,z,Y){var ve=$e(z),We=ve?z.length:0,Ze=(We>0?z[0]:ve?e:z)||setTimeout,ct=(We>1?z[1]:e)||clearTimeout,Tt=Y[0];Y[0]=function(){Kt.dn(),zt(Tt,D,ao(arguments))};var Kt=cf(k,function(Ar){if(Ar){if(Ar.refresh)return Ar.refresh(),Ar;zt(ct,D,[Ar])}return zt(Ze,D,Y)},function(Ar){zt(ct,D,[Ar])});return Kt.h}function uf(D,k){return cp(this,!0,e,ao(arguments))}var Al=dn,Xn=Vr,Vs="toLowerCase",Ll="blkVal",co="length",hh="rdOnly",ph="notify",Gs="warnToConsole",yu="throwInternal",mh="setDf",yd="watch",Ss="logger",Ml="apply",Zc="push",pm="splice",_d="hdlr",lf="cancel",df="name",Tc="unload",_o="version",up="loggingLevelConsole",ff="messageId",na="message",ul="diagLog",_u="userAgent",Nv="split",ia="replace",Xy="logInternalMessage",Fu="traceId",bd="spanId",Ho="traceFlags",Nl;function gh(D,k){Nl||(Nl=Qa("AggregationError",function(Y,ve){ve[co]>1&&(Y.errors=ve[1])}));var z=D||"One or more errors occurred.";throw Ln(k,function(Y,ve){z+=`
`.concat(ve," > ").concat(fn(Y))}),new Nl(z,k||[])}var Sg="function",wd="object",vh="undefined",lp="prototype",Fl=Object,dp=Fl[lp];(es()||{}).Symbol,(es()||{}).Reflect;var qu="hasOwnProperty",yh=function(D){for(var k,z=1,Y=arguments.length;z<Y;z++){k=arguments[z];for(var ve in k)dp[qu].call(k,ve)&&(D[ve]=k[ve])}return D},bu=ln||yh,hf=function(D,k){return hf=Fl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Y){z.__proto__=Y}||function(z,Y){for(var ve in Y)Y[qu](ve)&&(z[ve]=Y[ve])},hf(D,k)};function Sd(D,k){typeof k!==Sg&&k!==null&&xt("Class extends value "+String(k)+" is not a constructor or null"),hf(D,k);function z(){this.constructor=D}D[lp]=k===null?Jn(k):(z[lp]=k[lp],new z)}var pf,Cd="constructor",Ks="prototype",Ta="function",Ro="_dynInstFuncs",eu="_isDynProxy",Za="_dynClass",Cg="_dynCls$",ju="_dynInstChk",Ys=ju,ql="_dfOpts",fp="_unknown_",wu="__proto__",ll="_dyn"+wu,_h="__dynProto$Gbl",Ec="_dynInstProto",zu="useBaseInst",Cs="setInstFuncs",tu=Object,Uu=tu.getPrototypeOf,Hu=tu.getOwnPropertyNames,oa=es(),Dg=oa[_h]||(oa[_h]={o:(pf={},pf[Cs]=!0,pf[zu]=!0,pf),n:1e3});function ec(D){return D&&(D===tu[Ks]||D===Array[Ks])}function dl(D){return ec(D)||D===Function[Ks]}function Bo(D){var k;if(D){if(Uu)return Uu(D);var z=D[wu]||D[Ks]||(D[Cd]?D[Cd][Ks]:null);k=D[ll]||z,at(D,ll)||(delete D[Ec],k=D[ll]=D[Ec]||D[ll],D[Ec]=z)}return k}function Wo(D,k){var z=[];if(Hu)z=Hu(D);else for(var Y in D)typeof Y=="string"&&at(D,Y)&&z.push(Y);if(z&&z.length>0)for(var ve=0;ve<z.length;ve++)k(z[ve])}function mf(D,k,z){return k!==Cd&&typeof D[k]===Ta&&(z||at(D,k))}function Bu(D){xt("DynamicProto: "+D)}function gf(D){var k={};return Wo(D,function(z){!k[z]&&mf(D,z,!1)&&(k[z]=D[z])}),k}function qo(D,k){for(var z=D.length-1;z>=0;z--)if(D[z]===k)return!0;return!1}function jl(D,k,z,Y){function ve(Tt,Kt,Ar){var jn=Kt[Ar];if(jn[eu]&&Y){var In=Tt[Ro]||{};In[Ys]!==!1&&(jn=(In[Kt[Za]]||{})[Ar]||jn)}return function(){return jn.apply(Tt,arguments)}}var We={};Wo(z,function(Tt){We[Tt]=ve(k,z,Tt)});for(var Ze=Bo(D),ct=[];Ze&&!dl(Ze)&&!qo(ct,Ze);)Wo(Ze,function(Tt){!We[Tt]&&mf(Ze,Tt,!Uu)&&(We[Tt]=ve(k,Ze,Tt))}),ct.push(Ze),Ze=Bo(Ze);return We}function vf(D,k,z,Y){var ve=null;if(D&&at(z,Za)){var We=D[Ro]||{};if(ve=(We[z[Za]]||{})[k],ve||Bu("Missing ["+k+"] "+Ta),!ve[ju]&&We[Ys]!==!1){for(var Ze=!at(D,k),ct=Bo(D),Tt=[];Ze&&ct&&!dl(ct)&&!qo(Tt,ct);){var Kt=ct[k];if(Kt){Ze=Kt===Y;break}Tt.push(ct),ct=Bo(ct)}try{Ze&&(D[k]=ve),ve[ju]=1}catch{We[Ys]=!1}}}return ve}function pa(D,k,z){var Y=k[D];return Y===z&&(Y=Bo(k)[D]),typeof Y!==Ta&&Bu("["+D+"] is not a "+Ta),Y}function Su(D,k,z,Y,ve){function We(Tt,Kt){var Ar=function(){var jn=vf(this,Kt,Tt,Ar)||pa(Kt,Tt,Ar);return jn.apply(this,arguments)};return Ar[eu]=1,Ar}if(!ec(D)){var Ze=z[Ro]=z[Ro]||{},ct=Ze[k]=Ze[k]||{};Ze[Ys]!==!1&&(Ze[Ys]=!!ve),Wo(z,function(Tt){mf(z,Tt,!1)&&z[Tt]!==Y[Tt]&&(ct[Tt]=z[Tt],delete z[Tt],(!at(D,Tt)||D[Tt]&&!D[Tt][eu])&&(D[Tt]=We(D,Tt)))})}}function sa(D,k){if(Uu){for(var z=[],Y=Bo(k);Y&&!dl(Y)&&!qo(z,Y);){if(Y===D)return!0;z.push(Y),Y=Bo(Y)}return!1}return!0}function As(D,k){return at(D,Ks)?D.name||k||fp:((D||{})[Cd]||{}).name||k||fp}function zl(D,k,z,Y){at(D,Ks)||Bu("theClass is an invalid class definition.");var ve=D[Ks];sa(ve,k)||Bu("["+As(D)+"] not in hierarchy of ["+As(k)+"]");var We=null;at(ve,Za)?We=ve[Za]:(We=Cg+As(D,"_")+"$"+Dg.n,Dg.n++,ve[Za]=We);var Ze=zl[ql],ct=!!Ze[zu];ct&&Y&&Y[zu]!==void 0&&(ct=!!Y[zu]);var Tt=gf(k),Kt=jl(ve,k,Tt,ct);z(k,Kt);var Ar=!!Uu&&!!Ze[Cs];Ar&&Y&&(Ar=!!Y[Cs]),Su(ve,We,k,Tt,Ar!==!1)}zl[ql]=Dg.o;var Fv=void 0,ps="",ru="Not dynamic - ",fl=/-([a-z])/g,bh=/([^\w\d_$])/g,Dd=/^(\d+[\w\d_$])/;function hp(D){return!ue(D)}function tc(D){var k=D;return k&&we(k)&&(k=k[ia](fl,function(z,Y){return Y.toUpperCase()}),k=k[ia](bh,"_"),k=k[ia](Dd,function(z,Y){return"_"+Y})),k}function mm(D,k){return D&&k?Da(D,k)!==-1:!1}function zi(D){return D&&D.toISOString()||""}function rs(D){return ze(D)?D[df]:ps}function Wu(D){return function(){function k(){var z=this;D&&Lr(D,function(Y,ve){z[Y]=ve})}return k}()}var Pc="console",Rc="JSON",aa="crypto",hl="msCrypto",Gi="msie",yf="trident/",wi=null,Ea=null,Bn=null;function Td(){return typeof console!==vh?console:Bs(Pc)}function Ul(){return!!(typeof JSON===wd&&JSON||Bs(Rc)!==null)}function xc(){return Ul()?JSON||Bs(Rc):null}function $o(){return Bs(aa)}function rc(){return Bs(hl)}function ca(){var D=Ue();if(D&&(D[_u]!==Ea||wi===null)){Ea=D[_u];var k=(Ea||ps)[Vs]();wi=mm(k,Gi)||mm(k,yf)}return wi}function uo(D){return(Bn===null||D===!1)&&(Bn=H()&&!!Ue().sendBeacon),Bn}function Cu(D,k){if(D)for(var z=0;z<D[co];z++){var Y=D[z];if(Y[df]&&Y[df]===k)return Y}return{}}function Fn(D){var k=ta();return k&&D?Cu(k.querySelectorAll("meta"),D).content:null}function nu(D){var k,z=$s();if(z){var Y=z.getEntriesByType("navigation")||[];k=Cu((Y[co]>0?Y[0]:{}).serverTiming,D).description}return k}var xo=4294967296,ai=4294967295,Hl=123456789,Pa=987654321,ma=!1,ua=Hl,Bl=Pa;function nc(D){D<0&&(D>>>=0),ua=Hl+D&ai,Bl=Pa-D&ai,ma=!0}function Ed(){try{var D=ha()&2147483647;nc((Math.random()*xo^D)+D)}catch{}}function Ds(D){return D>0?Math.floor(iu()/ai*(D+1))>>>0:0}function iu(D){var k=0,z=$o()||rc();return z&&z.getRandomValues&&(k=z.getRandomValues(new Uint32Array(1))[0]&ai),k===0&&ca()&&(ma||Ed(),k=pl()&ai),k===0&&(k=Math.floor(xo*Math.random()|0)),D||(k>>>=0),k}function pl(D){Bl=36969*(Bl&65535)+(Bl>>16)&ai,ua=18e3*(ua&65535)+(ua>>16)&ai;var k=(Bl<<16)+(ua&65535)>>>0&ai|0;return D||(k>>>=0),k}function Wl(D){D===void 0&&(D=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=iu()>>>0,Y=0,ve=ps;ve[co]<D;)Y++,ve+=k.charAt(z&63),z>>>=6,Y===5&&(z=(iu()<<2&4294967295|z&3)>>>0,Y=0);return ve}var Pd="3.0.5",g="."+Wl(6),v=0;function P(D,k){return k===void 0&&(k=!1),tc(D+v+++(k?"."+Pd:ps)+g)}function O(D){return D&&Me(D)&&(D.isVal||D.fb||tt(D,"v")||tt(D,"mrg")||tt(D,"ref")||D.set)}function F(D,k,z){var Y,ve=z.dfVal||De;if(k&&z.fb){var We=z.fb;$e(We)||(We=[We]);for(var Ze=0;Ze<We[co];Ze++){var ct=We[Ze],Tt=k[ct];if(ve(Tt)?Y=Tt:D&&(Tt=D.cfg[ct],ve(Tt)&&(Y=Tt),D.set(D.cfg,An(ct),Tt)),ve(Y))break}}return!ve(Y)&&ve(z.v)&&(Y=z.v),Y}function J(D,k,z){var Y=z;if(z&&O(z)&&(Y=F(D,k,z)),Y){O(Y)&&(Y=J(D,k,Y));var ve;$e(Y)?(ve=[],ve[co]=Y[co]):Ws(Y)&&(ve={}),ve&&(Lr(Y,function(We,Ze){Ze&&O(Ze)&&(Ze=J(D,k,Ze)),ve[We]=Ze}),Y=ve)}return Y}function Z(D,k,z,Y){var ve,We,Ze,ct=Y,Tt,Kt,Ar,jn;O(ct)?(ve=ct.isVal,We=ct.set,Ar=ct[hh],jn=ct[Ll],Tt=ct.mrg,Kt=ct.ref,!Kt&&Ne(Kt)&&(Kt=!!Tt),Ze=F(D,k,ct)):Ze=Y,jn&&D[Ll](k,z);var In,Qn=!0,Qr=k[z];(Qr||!ue(Qr))&&(In=Qr,Qn=!1,ve&&In!==Ze&&!ve(In)&&(In=Ze,Qn=!0),We&&(In=We(In,Ze,k),Qn=In===Ze)),Qn?Ze?In=J(D,k,Ze):In=Ze:(Ws(In)||$e(Ze))&&Tt&&Ze&&(Ws(Ze)||$e(Ze))&&Lr(Ze,function(Zn,br){Z(D,In,Zn,br)}),D.set(k,z,In),Kt&&D.ref(k,z),Ar&&D[hh](k,z)}var pe=rt("[[ai_dynCfg_1]]"),ke=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function ht(D){if(D){var k;if($e(D)?(k=[],k[co]=D[co]):Ws(D)&&(k={}),k)return Lr(D,function(z,Y){k[z]=ht(Y)}),k}return D}function Ut(D){if(D){var k=D[pe]||D;if(k.cfg&&(k.cfg===D||k.cfg[pe]===k))return k}return null}function Sr(D){if(D&&(Ws(D)||$e(D)))try{D[ke]=!0}catch{}return D}function sn(D,k,z){var Y=!1;return z&&!D[k.blkVal]&&(Y=z[Qe],!Y&&!z[ke]&&(Y=Ws(z)||$e(z))),Y}function jr(D){xt("InvalidAccess:"+D)}var Wn=["push","pop","shift","unshift","splice"],Js=function(D,k,z,Y){D&&D[yu](3,108,"".concat(z," [").concat(k,"] failed - ")+fn(Y))};function ic(D,k,z){$e(k)&&Ln(Wn,function(Y){var ve=k[Y];k[Y]=function(){for(var We=[],Ze=0;Ze<arguments.length;Ze++)We[Ze]=arguments[Ze];var ct=ve[Ml](this,We);return mp(D,k,z,"Patching"),ct}})}function Du(D,k){var z=st(D,k);return z&&z.get}function pp(D,k,z,Y){var ve={n:z,h:[],trk:function(Kt){Kt&&Kt.fn&&(Cn(ve.h,Kt)===-1&&ve.h[Zc](Kt),D.trk(Kt,ve))},clr:function(Kt){var Ar=Cn(ve.h,Kt);Ar!==-1&&ve.h[pm](Ar,1)}},We=!0,Ze=!1;function ct(){We&&(Ze=Ze||sn(ct,D,Y),Y&&!Y[pe]&&Ze&&(Y=mp(D,Y,z,"Converting")),We=!1);var Kt=D.act;return Kt&&ve.trk(Kt),Y}ct[D.prop]={chng:function(){D.add(ve)}};function Tt(Kt){if(Y!==Kt){ct[D.ro]&&!D.upd&&jr("["+z+"] is read-only:"+fn(k)),We&&(Ze=Ze||sn(ct,D,Y),We=!1);var Ar=Ze&&ct[D.rf];if(Ze)if(Ar){Lr(Y,function(In){Y[In]=Kt?Kt[In]:Fv});try{Lr(Kt,function(In,Qn){gm(D,Y,In,Qn)}),Kt=Y}catch(In){Js((D.hdlr||{})[Ss],z,"Assigning",In),Ze=!1}}else Y&&Y[pe]&&Lr(Y,function(In){var Qn=Du(Y,In);if(Qn){var Qr=Qn[D.prop];Qr&&Qr.chng()}});if(Kt!==Y){var jn=Kt&&sn(ct,D,Kt);!Ar&&jn&&(Kt=mp(D,Kt,z,"Converting")),Y=Kt,Ze=jn}D.add(ve)}}he(k,ve.n,{g:ct,s:Tt})}function gm(D,k,z,Y){if(k){var ve=Du(k,z),We=ve&&!!ve[D.prop];We?k[z]=Y:pp(D,k,z,Y)}return k}function Ra(D,k,z,Y){if(k){var ve=Du(k,z),We=ve&&!!ve[D.prop],Ze=Y&&Y[0],ct=Y&&Y[1],Tt=Y&&Y[2];if(!We){if(Tt)try{Sr(k)}catch(Kt){Js((D.hdlr||{})[Ss],z,"Blocking",Kt)}try{gm(D,k,z,k[z]),ve=Du(k,z)}catch(Kt){Js((D.hdlr||{})[Ss],z,"State",Kt)}}Ze&&(ve[D.rf]=Ze),ct&&(ve[D.ro]=ct),Tt&&(ve[D.blkVal]=!0)}return k}function mp(D,k,z,Y){try{Lr(k,function(ve,We){gm(D,k,ve,We)}),k[pe]||(je(k,pe,{get:function(){return D[_d]}}),ic(D,k,z))}catch(ve){Js((D.hdlr||{})[Ss],z,Y,ve)}return k}var wh="[[ai_",Rd="]]";function Tu(D){var k,z=Le(wh+"get"+D.uid+Rd),Y=Le(wh+"ro"+D.uid+Rd),ve=Le(wh+"rf"+D.uid+Rd),We=Le(wh+"blkVal"+D.uid+Rd),Ze=Le(wh+"dtl"+D.uid+Rd),ct=null,Tt=null,Kt;function Ar(Qr,Zn){var br=Kt.act;try{Kt.act=Qr,Qr&&Qr[Ze]&&(Ln(Qr[Ze],function($n){$n.clr(Qr)}),Qr[Ze]=[]),Zn({cfg:D.cfg,set:D.set.bind(D),setDf:D[mh].bind(D),ref:D.ref.bind(D),rdOnly:D[hh].bind(D)})}catch($n){var Si=D[Ss];throw Si&&Si[yu](1,107,fn($n)),$n}finally{Kt.act=br||null}}function jn(){if(ct){var Qr=ct;ct=null,Tt&&Tt[lf](),Tt=null;var Zn=[];if(Ln(Qr,function(br){if(br&&(br[Ze]&&(Ln(br[Ze],function(Si){Si.clr(br)}),br[Ze]=null),br.fn))try{Ar(br,br.fn)}catch(Si){Zn[Zc](Si)}}),ct)try{jn()}catch(br){Zn[Zc](br)}Zn[co]>0&&gh("Watcher error(s): ",Zn)}}function In(Qr){if(Qr&&Qr.h[co]>0){ct||(ct=[]),Tt||(Tt=uf(function(){Tt=null,jn()},0));for(var Zn=0;Zn<Qr.h[co];Zn++){var br=Qr.h[Zn];br&&Cn(ct,br)===-1&&ct[Zc](br)}}}function Qn(Qr,Zn){if(Qr){var br=Qr[Ze]=Qr[Ze]||[];Cn(br,Zn)===-1&&br[Zc](Zn)}}return Kt=(k={prop:z,ro:Y,rf:ve},k[Ll]=We,k[_d]=D,k.add=In,k[ph]=jn,k.use=Ar,k.trk=Qn,k),Kt}function Tg(D,k){var z={fn:k,rm:function(){z.fn=null,D=null,k=null}};return D.use(z,k),z}function Qy(D,k,z){var Y,ve=Ut(k);if(ve)return ve;var We=P("dyncfg",!0),Ze=k&&z!==!1?k:ht(k),ct;function Tt(){ct[ph]()}function Kt(Si,$n,Pn){try{Si=gm(ct,Si,$n,Pn)}catch(is){Js(D,$n,"Setting value",is)}return Si[$n]}function Ar(Si){return Tg(ct,Si)}function jn(Si,$n){ct.use(null,function(Pn){var is=ct.upd;try{Ne($n)||(ct.upd=$n),Si(Pn)}finally{ct.upd=is}})}function In(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[0]=!0,Pn))[$n]}function Qn(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[1]=!0,Pn))[$n]}function Qr(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[2]=!0,Pn))[$n]}function Zn(Si,$n){return $n&&Lr($n,function(Pn,is){Z(br,Si,Pn,is)}),Si}var br=(Y={uid:null,cfg:Ze},Y[Ss]=D,Y[ph]=Tt,Y.set=Kt,Y[mh]=Zn,Y[yd]=Ar,Y.ref=In,Y[hh]=Qn,Y[Ll]=Qr,Y._block=jn,Y);return he(br,"uid",{c:!1,e:!1,w:!1,v:We}),ct=Tu(br),mp(ct,Ze,"config","Creating"),br}function gp(D,k){D?(D[Gs](k),D[yu](2,108,k)):jr(k)}function vp(D,k,z,Y){var ve=Qy(z,D||{},Y);return k&&ve[mh](ve.cfg,k),ve}function Zy(D,k,z){var Y=D[pe]||D;return Y.cfg&&(Y.cfg===D||Y.cfg[pe]===Y)?Y[yd](k):(gp(z,ru+fn(D)),vp(D,null,z)[yd](k))}var e_=null;function t_(){var D=Bs("Microsoft");return D&&(e_=D.ApplicationInsights),e_}function Eb(D){var k=e_;return!k&&D.disableDbgExt!==!0&&(k=e_||t_()),k?k.ChromeDbgExt:null}var vm,qv="warnToConsole",r_="AI (Internal): ",n_="AI: ",ym="AITR_",yp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Pb=(vm={},vm[0]=null,vm[1]="errorToConsole",vm[2]=qv,vm[3]="debugToConsole",vm);function i_(D){return D?'"'+D[ia](/\"/g,ps)+'"':ps}function _p(D,k){var z=Td();if(z){var Y="log";z[D]&&(Y=D),xe(z[Y])&&z[Y](k)}}var jv=function(){function D(k,z,Y,ve){Y===void 0&&(Y=!1);var We=this;We[ff]=k,We[na]=(Y?n_:r_)+k;var Ze=ps;Ul()&&(Ze=xc().stringify(ve));var ct=(z?" message:"+i_(z):ps)+(ve?" props:"+i_(Ze):ps);We[na]+=ct}return D.dataType="MessageData",D}();function xd(D,k){return(D||{})[Ss]||new Xi(k)}var Xi=function(){function D(k){this.identifier="DiagnosticLogger",this.queue=[];var z=0,Y={},ve,We,Ze,ct,Tt;zl(D,this,function(Kt){Tt=jn(k||{}),Kt.consoleLoggingLevel=function(){return ve},Kt[yu]=function(Qr,Zn,br,Si,$n){$n===void 0&&($n=!1);var Pn=new jv(Zn,br,$n,Si);if(ct)throw fn(Pn);var is=Pb[Qr]||qv;if(Ne(Pn[na]))Qn("throw"+(Qr===1?"Critical":"Warning"),Pn);else{if($n){var dc=+Pn[ff];!Y[dc]&&ve>=Qr&&(Kt[is](Pn[na]),Y[dc]=!0)}else ve>=Qr&&Kt[is](Pn[na]);Ar(Qr,Pn)}},Kt.debugToConsole=function(Qr){_p("debug",Qr),Qn("warning",Qr)},Kt[Gs]=function(Qr){_p("warn",Qr),Qn("warning",Qr)},Kt.errorToConsole=function(Qr){_p("error",Qr),Qn("error",Qr)},Kt.resetInternalMessageCount=function(){z=0,Y={}},Kt[Xy]=Ar,Kt[Tc]=function(Qr){Tt&&Tt.rm(),Tt=null};function Ar(Qr,Zn){if(!In()){var br=!0,Si=ym+Zn[ff];if(Y[Si]?br=!1:Y[Si]=!0,br&&(Qr<=We&&(Kt.queue[Zc](Zn),z++,Qn(Qr===1?"error":"warn",Zn)),z===Ze)){var $n="Internal events throttle limit per PageView reached for this app.",Pn=new jv(23,$n,!1);Kt.queue[Zc](Pn),Qr===1?Kt.errorToConsole($n):Kt[Gs]($n)}}}function jn(Qr){return Zy(vp(Qr,yp,Kt).cfg,function(Zn){var br=Zn.cfg;ve=br[up],We=br.loggingLevelTelemetry,Ze=br.maxMessageLimit,ct=br.enableDebug})}function In(){return z>=Ze}function Qn(Qr,Zn){var br=Eb(k||{});br&&br[ul]&&br[ul](Qr,Zn)}})}return D.__ieDyn=1,D}();function _m(D){return D||new Xi}function lo(D,k,z,Y,ve,We){We===void 0&&(We=!1),_m(D)[yu](k,z,Y,ve,We)}function o_(){for(var D=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=ps,z,Y=0;Y<4;Y++)z=iu(),k+=D[z&15]+D[z>>4&15]+D[z>>8&15]+D[z>>12&15]+D[z>>16&15]+D[z>>20&15]+D[z>>24&15]+D[z>>28&15];var ve=D[8+(iu()&3)|0];return Jt(k,0,8)+Jt(k,9,4)+"4"+Jt(k,13,3)+ve+Jt(k,16,3)+Jt(k,19,12)}var zv=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Od="00",bp="ff",ou="00000000000000000000000000000000",Id="0000000000000000",kd=1;function Ls(D,k,z){return D&&D[co]===k&&D!==z?!!D.match(/^[\da-f]*$/i):!1}function fi(D,k,z){return Ls(D,k)?D:z}function Eu(D){(isNaN(D)||D<0||D>255)&&(D=1);for(var k=D.toString(16);k[co]<2;)k="0"+k;return k}function ns(D,k,z,Y){var ve;return ve={},ve[_o]=Ls(Y,2,bp)?Y:Od,ve[Fu]=bm(D)?D:o_(),ve[bd]=wp(k)?k:kt(o_(),16),ve.traceFlags=z>=0&&z<=255?z:1,ve}function Ad(D,k){var z;if(!D||($e(D)&&(D=D[0]||""),!D||!we(D)||D[co]>8192))return null;if(D.indexOf(",")!==-1){var Y=D[Nv](",");D=Y[k>0&&Y[co]>k?k:0]}var ve=zv.exec(ra(D));return!ve||ve[1]===bp||ve[2]===ou||ve[3]===Id?null:(z={version:(ve[1]||ps)[Vs](),traceId:(ve[2]||ps)[Vs](),spanId:(ve[3]||ps)[Vs]()},z[Ho]=parseInt(ve[4],16),z)}function bm(D){return Ls(D,32,ou)}function wp(D){return Ls(D,16,Id)}function Sp(D){return!(!D||!Ls(D[_o],2,bp)||!Ls(D[Fu],32,ou)||!Ls(D[bd],16,Id)||!Ls(Eu(D[Ho]),2))}function _f(D){return Sp(D)?(D[Ho]&kd)===kd:!1}function s_(D){if(D){var k=Eu(D[Ho]);Ls(k,2)||(k="01");var z=D[_o]||Od;return z!=="00"&&z!=="ff"&&(z=Od),"".concat(z.toLowerCase(),"-").concat(fi(D.traceId,32,ou).toLowerCase(),"-").concat(fi(D.spanId,16,Id).toLowerCase(),"-").concat(k.toLowerCase())}return""}function wm(D){var k="traceparent",z=Ad(Fn(k),D);return z||(z=Ad(nu(k),D)),z}var Sm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xa="sampleRate",Ld="ProcessLegacy",Oc="http.method",Pu="https://dc.services.visualstudio.com",Cm="/v2/track",ml="not_specified",Dm="iKey",Eg=Xn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Cp="split",En="length",Md="toLowerCase",Ms="ingestionendpoint",bf="toString",Uv="removeItem",oc="name",Nd="message",Dp="count",Hv="preTriggerDate",gl="disabled",Pg="interval",Tm="daysOfMonth",Bv="date",Rg="getUTCDate",Fd="stringify",wf="pathname",Em="correlationHeaderExcludePatterns",Tp="extensionConfig",xg="exceptions",su="parsedStack",sc="properties",Sf="measurements",$u="sizeInBytes",Ru="typeName",Sh="severityLevel",qd="problemGroup",Og="isManual",Ep="CreateFromInterface",Pp="assembly",Ch="fileName",jd="hasFullStack",Pm="level",Rp="method",Rm="line",Cf="duration",Dh="receivedResponse";function xm(D,k,z){var Y=k[En],ve=Rb(D,k);if(ve[En]!==Y){for(var We=0,Ze=ve;z[Ze]!==void 0;)We++,Ze=rr(ve,0,147)+Ic(We);ve=Ze}return ve}function Rb(D,k){var z;return k&&(k=ra(An(k)),k[En]>150&&(z=rr(k,0,150),lo(D,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),z||k}function ac(D,k,z){z===void 0&&(z=1024);var Y;return k&&(z=z||1024,k=ra(An(k)),k[En]>z&&(Y=rr(k,0,z),lo(D,2,61,"string value is too long. It has been truncated to "+z+" characters.",{value:k},!0))),Y||k}function Wv(D,k){return kg(D,k,2048,66)}function zd(D,k){var z;return k&&k[En]>32768&&(z=rr(k,0,32768),lo(D,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),z||k}function Ig(D,k){var z;if(k){var Y=""+k;Y[En]>32768&&(z=rr(Y,0,32768),lo(D,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return z||k}function Ud(D,k){if(k){var z={};Lr(k,function(Y,ve){if(Me(ve)&&Ul())try{ve=xc()[Fd](ve)}catch(We){lo(D,2,49,"custom property is not valid",{exception:We},!0)}ve=ac(D,ve,8192),Y=xm(D,Y,z),z[Y]=ve}),k=z}return k}function Df(D,k){if(k){var z={};Lr(k,function(Y,ve){Y=xm(D,Y,z),z[Y]=ve}),k=z}return k}function Om(D,k){return k&&kg(D,k,128,69)[bf]()}function kg(D,k,z,Y){var ve;return k&&(k=ra(An(k)),k[En]>z&&(ve=rr(k,0,z),lo(D,2,Y,"input is too long, it has been truncated to "+z+" characters.",{data:k},!0))),ve||k}function Ic(D){var k="00"+D;return Jt(k,k[En]-3)}var vl=ta()||{},Ag=0,$v=[null,null,null,null,null];function Hd(D){var k=Ag,z=$v,Y=z[k];return vl.createElement?z[k]||(Y=z[k]=vl.createElement("a")):Y={host:xS(D,!0)},Y.href=D,k++,k>=z[En]&&(k=0),Ag=k,Y}function xp(D){var k,z=Hd(D);return z&&(k=z.href),k}function Th(D){var k,z=Hd(D);return z&&(k=z[wf]),k}function xb(D,k){return D?D.toUpperCase()+" "+k:k}function xS(D,k){var z=Bd(D,k)||"";if(z){var Y=z.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>3&&we(Y[2])&&Y[2][En]>0)return Y[2]+(Y[3]||"")}return z}function Bd(D,k){var z=null;if(D){var Y=D.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>2&&we(Y[2])&&Y[2][En]>0&&(z=Y[2]||"",k&&Y[En]>2)){var ve=(Y[1]||"")[Md](),We=Y[3]||"";(ve==="http"&&We===":80"||ve==="https"&&We===":443")&&(We=""),z+=We}}return z}var Vv=[Pu+Cm,"https://breeze.aimon.applicationinsights.io"+Cm,"https://dc-int.services.visualstudio.com"+Cm],Gv="cid-v1:";function Kv(D){return Cn(Vv,D[Md]())!==-1}function Lg(D){Gv=D}function TD(){return Gv}function Mg(D,k,z){if(!k||D&&D.disableCorrelationHeaders)return!1;if(D&&D[Em]){for(var Y=0;Y<D.correlationHeaderExcludePatterns[En];Y++)if(D[Em][Y].test(k))return!1}var ve=Hd(k).host[Md]();if(ve&&(Da(ve,":443")!==-1||Da(ve,":80")!==-1)&&(ve=(Bd(k,!0)||"")[Md]()),(!D||!D.enableCorsCorrelation)&&ve&&ve!==z)return!1;var We=D&&D.correlationHeaderDomains;if(We){var Ze;if(Ln(We,function(Kt){var Ar=new RegExp(Kt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||Ar.test(ve)}),!Ze)return!1}var ct=D&&D.correlationHeaderExcludedDomains;if(!ct||ct[En]===0)return!0;for(var Y=0;Y<ct[En];Y++){var Tt=new RegExp(ct[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Tt.test(ve))return!1}return ve&&ve[En]>0}function ED(D){if(D){var k=$l(D,Eg[1]);if(k&&k!==Gv)return k}}function $l(D,k){if(D)for(var z=D[Cp](","),Y=0;Y<z[En];++Y){var ve=z[Y][Cp]("=");if(ve[En]===2&&ve[0]===k)return ve[1]}}function Eh(D,k,z,Y){var ve,We=Y,Ze=Y;if(k&&k[En]>0){var ct=Hd(k);if(ve=ct.host,!We)if(ct[wf]!=null){var Tt=ct.pathname[En]===0?"/":ct[wf];Tt.charAt(0)!=="/"&&(Tt="/"+Tt),Ze=ct[wf],We=ac(D,z?z+" "+Tt:Tt)}else We=ac(D,k)}else ve=Y,We=Y;return{target:ve,name:We,data:Ze}}function Im(){var D=$s();if(D&&D.now&&D.timing){var k=D.now()+D.timing.navigationStart;if(k>0)return k}return ha()}function a_(D,k){var z=null;return D!==0&&k!==0&&!ue(D)&&!ue(k)&&(z=k-D),z}function km(D,k){var z=D||{};return{getName:function(){return z[oc]},setName:function(Y){k&&k.setName(Y),z[oc]=Y},getTraceId:function(){return z.traceID},setTraceId:function(Y){k&&k.setTraceId(Y),bm(Y)&&(z.traceID=Y)},getSpanId:function(){return z.parentID},setSpanId:function(Y){k&&k.setSpanId(Y),wp(Y)&&(z.parentID=Y)},getTraceFlags:function(){return z.traceFlags},setTraceFlags:function(Y){k&&k.setTraceFlags(Y),z.traceFlags=Y}}}var Vl=Al({LocalStorage:0,SessionStorage:1}),yl=Al({AI:0,AI_AND_W3C:1,W3C:2}),Tf=void 0,Ef=void 0,Yv="";function Op(){return xh()?Oa(Vl.LocalStorage):null}function Oa(D){try{if(ue(es()))return null;var k=new Date()[bf](),z=Bs(D===Vl.LocalStorage?"localStorage":"sessionStorage"),Y=Yv+k;z.setItem(Y,k);var ve=z.getItem(Y)!==k;if(z[Uv](Y),!ve)return z}catch{}return null}function Ph(){return Gl()?Oa(Vl.SessionStorage):null}function Rh(){Tf=!1,Ef=!1}function c_(D){Yv=D||""}function OS(){Tf=xh(!0),Ef=Gl(!0)}function xh(D){return(D||Tf===void 0)&&(Tf=!!Oa(Vl.LocalStorage)),Tf}function IS(D,k){var z=Op();if(z!==null)try{return z.getItem(k)}catch(Y){Tf=!1,lo(D,2,1,"Browser failed read of local storage. "+rs(Y),{exception:fn(Y)})}return null}function Am(D,k,z){var Y=Op();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){Tf=!1,lo(D,2,3,"Browser failed write to local storage. "+rs(ve),{exception:fn(ve)})}return!1}function Oh(D,k){var z=Op();if(z!==null)try{return z[Uv](k),!0}catch(Y){Tf=!1,lo(D,2,5,"Browser failed removal of local storage item. "+rs(Y),{exception:fn(Y)})}return!1}function Gl(D){return(D||Ef===void 0)&&(Ef=!!Oa(Vl.SessionStorage)),Ef}function Ng(){var D=[];return Gl()&&Lr(Bs("sessionStorage"),function(k){D.push(k)}),D}function Ip(D,k){var z=Ph();if(z!==null)try{return z.getItem(k)}catch(Y){Ef=!1,lo(D,2,2,"Browser failed read of session storage. "+rs(Y),{exception:fn(Y)})}return null}function Lm(D,k,z){var Y=Ph();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){Ef=!1,lo(D,2,4,"Browser failed write to session storage. "+rs(ve),{exception:fn(ve)})}return!1}function Fg(D,k){var z=Ph();if(z!==null)try{return z[Uv](k),!0}catch(Y){Ef=!1,lo(D,2,6,"Browser failed removal of session storage item. "+rs(Y),{exception:fn(Y)})}return!1}var Ob="appInsightsThrottle",PD=function(){function D(k,z){var Y=this,ve,We,Ze,ct,Tt,Kt,Ar,jn=!1,In=!1;Qr(),Y._getDbgPlgTargets=function(){return[Ar]},Y.getConfig=function(){return Ze},Y.canThrottle=function(or){var un=kh(or),hi=Zn(or);return $n(hi,ve,un)},Y.isTriggered=function(or){return ty(or)},Y.isReady=function(){return jn},Y.flush=function(or){try{var un=ry(or);if(un&&un[En]>0){var hi=un.slice(0);return Ar[or]=[],Ln(hi,function(os){Qn(os.msgID,os[Nd],os.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(Ar){var or=!0;return Lr(Ar,function(un){var hi=Y.flush(parseInt(un));or=or&&hi}),or}}catch{}return!1},Y.onReadyState=function(or,un){return un===void 0&&(un=!0),jn=ue(or)?!0:or,jn&&un?Y.flushAll():null},Y.sendMessage=function(or,un,hi){return Qn(or,un,hi,!0)};function Qn(or,un,hi,os){if(jn){var Ts=td(or);if(!Ts)return;var Es=Zn(or),Ns=kh(or),Wm=$n(Es,ve,Ns),Lp=!1,Mp=0,jb=ty(or);try{Wm&&!jb?(Mp=Math.min(Es.limit.maxSendNumber,Ns[Dp]+1),Ns[Dp]=0,Lp=!0,Tt[or]=!0,Ns[Hv]=new Date):(Tt[or]=Wm,Ns[Dp]+=1);var $m=Pn(or);Wg(We,$m,Ns);for(var Ah=0;Ah<Mp;Ah++)ey(or,We,un,hi)}catch{}return{isThrottled:Lp,throttleNum:Mp}}else if(os){var ny=ry(or);ny.push({msgID:or,message:un,severity:hi})}return null}function Qr(){We=xd(k),Tt={},ct={},Ar={},Ze={},br(109),Kt=hp(z)?z:"",k.addUnloadHook(Zy(k.config,function(or){var un=or.cfg;ve=xh();var hi=un.throttleMgrCfg||{};Lr(hi,function(os,Ts){br(parseInt(os),Ts)})}))}function Zn(or){return Ze[or]||Ze[109]}function br(or,un){var hi,os;try{var Ts=un||{},Es={};Es[gl]=!!Ts[gl];var Ns=Ts[Pg]||{};In=Ns?.daysOfMonth&&Ns?.daysOfMonth[En]>0,Es[Pg]=Si(Ns);var Wm={samplingRate:((hi=Ts.limit)===null||hi===void 0?void 0:hi.samplingRate)||100,maxSendNumber:((os=Ts.limit)===null||os===void 0?void 0:os.maxSendNumber)||1};Es.limit=Wm,Ze[or]=Es}catch{}}function Si(or){or=or||{};var un=or?.monthInterval,hi=or?.dayInterval;return ue(un)&&ue(hi)&&(or.monthInterval=3,In||(or[Tm]=[28],In=!0)),or={monthInterval:or?.monthInterval,dayInterval:or?.dayInterval,daysOfMonth:or?.daysOfMonth},or}function $n(or,un,hi){if(or&&!or[gl]&&un&&hp(hi)){var os=ka(),Ts=hi[Bv],Es=or[Pg],Ns=1;if(Es?.monthInterval){var Wm=(os.getUTCFullYear()-Ts.getUTCFullYear())*12+os.getUTCMonth()-Ts.getUTCMonth();Ns=Bm(Es.monthInterval,0,Wm)}var Lp=1;if(In)Lp=Cn(Es[Tm],os[Rg]());else if(Es?.dayInterval){var Mp=Math.floor((os.getTime()-Ts.getTime())/864e5);Lp=Bm(Es.dayInterval,0,Mp)}return Ns>=0&&Lp>=0}return!1}function Pn(or,un){var hi=hp(un)?un:"";return or?Ob+hi+"-"+or:null}function is(or){try{if(or){var un=new Date;return or.getUTCFullYear()===un.getUTCFullYear()&&or.getUTCMonth()===un.getUTCMonth()&&or[Rg]()===un[Rg]()}}catch{}return!1}function dc(or,un,hi){try{var os={date:ka(),count:0};if(or){var Ts=JSON.parse(or),Es={date:ka(Ts[Bv])||os[Bv],count:Ts[Dp]||os[Dp],preTriggerDate:Ts.preTriggerDate?ka(Ts[Hv]):void 0};return Es}else return Wg(un,hi,os),os}catch{}return null}function ka(or){try{if(or){var un=new Date(or);if(!isNaN(un.getDate()))return un}else return new Date}catch{}return null}function Wg(or,un,hi){try{return Am(or,un,ra(JSON[Fd](hi)))}catch{}return!1}function Bm(or,un,hi){return or<=0?1:hi>=un&&(hi-un)%or==0?Math.floor((hi-un)/or)+1:-1}function ey(or,un,hi,os){lo(un,os||1,or,hi)}function td(or){try{var un=Zn(or);return Ds(1e6)<=un.limit.samplingRate}catch{}return!1}function kh(or){try{var un=ct[or];if(!un){var hi=Pn(or,Kt);un=dc(IS(We,hi),We,hi),ct[or]=un}return ct[or]}catch{}return null}function ty(or){var un=Tt[or];if(ue(un)){un=!1;var hi=kh(or);hi&&(un=is(hi[Hv])),Tt[or]=un}return Tt[or]}function ry(or){return Ar=Ar||{},ue(Ar[or])&&(Ar[or]=[]),Ar[or]}}return D}(),Mm=";",kS="=";function cc(D){if(!D)return{};var k=D[Cp](Mm),z=Po(k,function(ve,We){var Ze=We[Cp](kS);if(Ze[En]===2){var ct=Ze[0][Md](),Tt=Ze[1];ve[ct]=Tt}return ve},{});if(On(z)[En]>0){if(z.endpointsuffix){var Y=z.location?z.location+".":"";z[Ms]=z[Ms]||"https://"+Y+"dc."+z.endpointsuffix}z[Ms]=z[Ms]||Pu,vu(z[Ms],"/")&&(z[Ms]=z[Ms].slice(0,-1))}return z}var Nm={parse:cc},Fm=function(){function D(k,z,Y){var ve=this,We=this;We.ver=1,We.sampleRate=100,We.tags={},We[oc]=ac(k,Y)||ml,We.data=z,We.time=zi(new Date),We.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ve.sampleRate===100?4:1},tags:1,data:1}}return D}(),AS=function(){function D(k,z,Y,ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var We=this;We.ver=2,We[oc]=ac(k,z)||ml,We[sc]=Ud(k,Y),We[Sf]=Df(k,ve)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Event",D.dataType="EventData",D}(),RD="<no_method>",Kl="error",uc="stack",Yl="stackDetails",qm="errorSrc",qg="message",u_="description";function bn(D,k){var z=D;return z&&!we(z)&&(JSON&&JSON[Fd]?(z=JSON[Fd](D),k&&(!z||z==="{}")&&(xe(D[bf])?z=D[bf]():z=""+D)):z=""+D+" - (Missing JSON.stringify)"),z||""}function Jv(D,k){var z=D;return D&&(z&&!we(z)&&(z=D[qg]||D[u_]||z),z&&!we(z)&&(z=bn(z,!0)),D.filename&&(z=z+" @"+(D.filename||"")+":"+(D.lineno||"?")+":"+(D.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Da(z||"",k)===-1&&(z=k+": "+z),z||""}function kp(D){try{if(Me(D))return"hasFullStack"in D&&"typeName"in D}catch{}return!1}function Pf(D){try{if(Me(D))return"ver"in D&&"exceptions"in D&&"properties"in D}catch{}return!1}function jm(D){return D&&D.src&&we(D.src)&&D.obj&&$e(D.obj)}function Ia(D){var k=D||"";we(k)||(we(k[uc])?k=k[uc]:k=""+k);var z=k[Cp](`
`);return{src:k,obj:z}}function l_(D){for(var k=[],z=D[Cp](`
`),Y=0;Y<z[En];Y++){var ve=z[Y];z[Y+1]&&(ve+="@"+z[Y+1],Y++),k.push(ve)}return{src:D,obj:k}}function jg(D){var k=null;if(D)try{if(D[uc])k=Ia(D[uc]);else if(D[Kl]&&D[Kl][uc])k=Ia(D[Kl][uc]);else if(D.exception&&D.exception[uc])k=Ia(D.exception[uc]);else if(jm(D))k=D;else if(jm(D[Yl]))k=D[Yl];else if(Eo()&&Eo().opera&&D[qg])k=l_(D[Nd]);else if(D.reason&&D.reason[uc])k=Ia(D.reason[uc]);else if(we(D))k=Ia(D);else{var z=D[qg]||D[u_]||"";we(D[qm])&&(z&&(z+=`
`),z+=" from "+D[qm]),z&&(k=Ia(z))}}catch(Y){k=Ia(Y)}return k||{src:"",obj:null}}function d_(D){var k="";return D&&(D.obj?Ln(D.obj,function(z){k+=z+`
`}):k=D.src||""),k}function Jl(D){var k,z=D.obj;if(z&&z[En]>0){k=[];var Y=0,ve=0;Ln(z,function(Qr){var Zn=Qr[bf]();if(xu.regex.test(Zn)){var br=new xu(Zn,Y++);ve+=br[$u],k.push(br)}});var We=32*1024;if(ve>We)for(var Ze=0,ct=k[En]-1,Tt=0,Kt=Ze,Ar=ct;Ze<ct;){var jn=k[Ze][$u],In=k[ct][$u];if(Tt+=jn+In,Tt>We){var Qn=Ar-Kt+1;k.splice(Kt,Qn);break}Kt=Ze,Ar=ct,Ze++,ct--}}return k}function zm(D){var k="";if(D&&(k=D.typeName||D[oc]||"",!k))try{var z=/function (.{1,200})\(/,Y=z.exec(D.constructor[bf]());k=Y&&Y[En]>1?Y[1]:""}catch{}return k}function Ih(D){if(D)try{if(!we(D)){var k=zm(D),z=bn(D,!1);return(!z||z==="{}")&&(D[Kl]&&(D=D[Kl],k=zm(D)),z=bn(D,!0)),Da(z,k)!==0&&k!=="String"?k+":"+z:z}}catch{}return""+(D||"")}var zg=function(){function D(k,z,Y,ve,We,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ct=this;ct.ver=2,Pf(z)?(ct[xg]=z[xg]||[],ct[sc]=z[sc],ct[Sf]=z[Sf],z[Sh]&&(ct[Sh]=z[Sh]),z.id&&(ct.id=z.id),z[qd]&&(ct[qd]=z[qd]),ue(z[Og])||(ct[Og]=z[Og])):(Y||(Y={}),ct[xg]=[new Um(k,z,Y)],ct[sc]=Ud(k,Y),ct[Sf]=Df(k,ve),We&&(ct[Sh]=We),Ze&&(ct.id=Ze))}return D.CreateAutoException=function(k,z,Y,ve,We,Ze,ct,Tt){var Kt,Ar=zm(We||Ze||k);return Kt={},Kt[Nd]=Jv(k,Ar),Kt.url=z,Kt.lineNumber=Y,Kt.columnNumber=ve,Kt.error=Ih(We||Ze||k),Kt.evt=Ih(Ze||k),Kt[Ru]=Ar,Kt.stackDetails=jg(ct||We||Ze),Kt.errorSrc=Tt,Kt},D.CreateFromInterface=function(k,z,Y,ve){var We=z[xg]&&Nn(z[xg],function(ct){return Um[Ep](k,ct)}),Ze=new D(k,bu(bu({},z),{exceptions:We}),Y,ve);return Ze},D.prototype.toInterface=function(){var k,z=this,Y=z.exceptions,ve=z.properties,We=z.measurements,Ze=z.severityLevel,ct=z.problemGroup,Tt=z.id,Kt=z.isManual,Ar=Y instanceof Array&&Nn(Y,function(jn){return jn.toInterface()})||void 0;return k={ver:"4.0"},k[xg]=Ar,k.severityLevel=Ze,k.properties=ve,k.measurements=We,k.problemGroup=ct,k.id=Tt,k.isManual=Kt,k},D.CreateSimpleException=function(k,z,Y,ve,We,Ze){var ct;return{exceptions:[(ct={},ct[jd]=!0,ct.message=k,ct.stack=We,ct.typeName=z,ct)]}},D.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",D.dataType="ExceptionData",D.formatError=Ih,D}(),Um=function(){function D(k,z,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ve=this;if(kp(z))ve[Ru]=z[Ru],ve[Nd]=z[Nd],ve[uc]=z[uc],ve[su]=z[su]||[],ve[jd]=z[jd];else{var We=z,Ze=We&&We.evt;ze(We)||(We=We[Kl]||Ze||We),ve[Ru]=ac(k,zm(We))||ml,ve[Nd]=zd(k,Jv(z||We,ve[Ru]))||ml;var ct=z[Yl]||jg(z);ve[su]=Jl(ct),$e(ve[su])&&Nn(ve[su],function(Tt){Tt[Pp]=ac(k,Tt[Pp]),Tt[Ch]=ac(k,Tt[Ch])}),ve[uc]=Ig(k,d_(ct)),ve.hasFullStack=$e(ve.parsedStack)&&ve.parsedStack[En]>0,Y&&(Y[Ru]=Y[Ru]||ve[Ru])}}return D.prototype.toInterface=function(){var k,z=this,Y=z[su]instanceof Array&&Nn(z[su],function(We){return We.toInterface()}),ve=(k={id:z.id,outerId:z.outerId,typeName:z[Ru],message:z[Nd],hasFullStack:z[jd],stack:z[uc]},k[su]=Y||void 0,k);return ve},D.CreateFromInterface=function(k,z){var Y=z[su]instanceof Array&&Nn(z[su],function(We){return xu[Ep](We)})||z[su],ve=new D(k,bu(bu({},z),{parsedStack:Y}));return ve},D}(),xu=function(){function D(k,z){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[$u]=0,typeof k=="string"){var ve=k;Y[Pm]=z,Y[Rp]=RD,Y[Pp]=ra(ve),Y[Ch]="",Y[Rm]=0;var We=ve.match(D.regex);We&&We[En]>=5&&(Y[Rp]=ra(We[2])||Y[Rp],Y[Ch]=ra(We[4]),Y[Rm]=parseInt(We[5])||0)}else Y[Pm]=k[Pm],Y[Rp]=k[Rp],Y[Pp]=k[Pp],Y[Ch]=k[Ch],Y[Rm]=k[Rm],Y[$u]=0;Y.sizeInBytes+=Y.method[En],Y.sizeInBytes+=Y.fileName[En],Y.sizeInBytes+=Y.assembly[En],Y[$u]+=D.baseSize,Y.sizeInBytes+=Y.level.toString()[En],Y.sizeInBytes+=Y.line.toString()[En]}return D.CreateFromInterface=function(k){return new D(k,null)},D.prototype.toInterface=function(){var k=this;return{level:k[Pm],method:k[Rp],assembly:k[Pp],fileName:k[Ch],line:k[Rm]}},D.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,D.baseSize=58,D}(),Wd=function(){function D(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return D}(),Ib=function(){function D(k,z,Y,ve,We,Ze,ct,Tt,Kt){this.aiDataContract={ver:1,metrics:1,properties:0};var Ar=this;Ar.ver=2;var jn=new Wd;jn[Dp]=ve>0?ve:void 0,jn.max=isNaN(Ze)||Ze===null?void 0:Ze,jn.min=isNaN(We)||We===null?void 0:We,jn[oc]=ac(k,z)||ml,jn.value=Y,jn.stdDev=isNaN(ct)||ct===null?void 0:ct,Ar.metrics=[jn],Ar[sc]=Ud(k,Tt),Ar[Sf]=Df(k,Kt)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",D.dataType="MetricData",D}(),Xl="";function Xv(D,k){return k===void 0&&(k=!1),D==null?k:D.toString()[Md]()==="true"}function Ql(D){(isNaN(D)||D<0)&&(D=0),D=Math.round(D);var k=Xl+D%1e3,z=Xl+Math.floor(D/1e3)%60,Y=Xl+Math.floor(D/(1e3*60))%60,ve=Xl+Math.floor(D/(1e3*60*60))%24,We=Math.floor(D/(1e3*60*60*24));return k=k[En]===1?"00"+k:k[En]===2?"0"+k:k,z=z[En]<2?"0"+z:z,Y=Y[En]<2?"0"+Y:Y,ve=ve[En]<2?"0"+ve:ve,(We>0?We+".":Xl)+ve+":"+Y+":"+z+"."+k}function kb(D,k){var z=null;return Ln(D,function(Y){if(Y.identifier===k)return z=Y,-1}),z}function Qv(D,k,z,Y,ve){return!ve&&we(D)&&(D==="Script error."||D==="Script error")}var Zl=function(){function D(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Tt=this;Tt.ver=2,Tt.id=Om(k,ct),Tt.url=Wv(k,Y),Tt[oc]=ac(k,z)||ml,isNaN(ve)||(Tt[Cf]=Ql(ve)),Tt[sc]=Ud(k,We),Tt[Sf]=Df(k,Ze)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",D.dataType="PageviewData",D}(),Ab=function(){function D(k,z,Y,ve,We,Ze,ct,Tt,Kt,Ar,jn,In){Kt===void 0&&(Kt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Qn=this;Qn.ver=2,Qn.id=z,Qn[Cf]=Ql(We),Qn.success=Ze,Qn.resultCode=ct+"",Qn.type=ac(k,Kt);var Qr=Eh(k,Y,Tt,ve);Qn.data=Wv(k,ve)||Qr.data,Qn.target=ac(k,Qr.target),Ar&&(Qn.target="".concat(Qn.target," | ").concat(Ar)),Qn[oc]=ac(k,Qr[oc]),Qn[sc]=Ud(k,jn),Qn[Sf]=Df(k,In)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",D.dataType="RemoteDependencyData",D}(),Lb=function(){function D(k,z,Y,ve,We){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,z=z||ml,Ze[Nd]=zd(k,z),Ze[sc]=Ud(k,ve),Ze[Sf]=Df(k,We),Y&&(Ze[Sh]=Y)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Message",D.dataType="MessageData",D}(),f_=function(){function D(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Tt=this;Tt.ver=2,Tt.url=Wv(k,Y),Tt[oc]=ac(k,z)||ml,Tt[sc]=Ud(k,We),Tt[Sf]=Df(k,Ze),ct&&(Tt.domProcessing=ct.domProcessing,Tt[Cf]=ct[Cf],Tt.networkConnect=ct.networkConnect,Tt.perfTotal=ct.perfTotal,Tt[Dh]=ct[Dh],Tt.sentRequest=ct.sentRequest)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",D.dataType="PageviewPerformanceData",D}(),Rf=function(){function D(k,z){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=z}return D}(),Hm=Al({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Mb=function(){function D(){}return D.getConfig=function(k,z,Y,ve){ve===void 0&&(ve=!1);var We;return Y&&k[Tp]&&k[Tp][Y]&&!ue(k[Tp][Y][z])?We=k[Tp][Y][z]:We=k[z],ue(We)?ve:We},D}();function xf(D){var k="ai."+D+".";return function(z){return k+z}}var lc=xf("application"),Vo=xf("device"),_l=xf("location"),Ug=xf("operation"),ed=xf("session"),Of=xf("user"),Ou=xf("cloud"),Hg=xf("internal"),Zv=function(D){Sd(k,D);function k(){return D.call(this)||this}return k}(Wu({applicationVersion:lc("ver"),applicationBuild:lc("build"),applicationTypeId:lc("typeId"),applicationId:lc("applicationId"),applicationLayer:lc("layer"),deviceId:Vo("id"),deviceIp:Vo("ip"),deviceLanguage:Vo("language"),deviceLocale:Vo("locale"),deviceModel:Vo("model"),deviceFriendlyName:Vo("friendlyName"),deviceNetwork:Vo("network"),deviceNetworkName:Vo("networkName"),deviceOEMName:Vo("oemName"),deviceOS:Vo("os"),deviceOSVersion:Vo("osVersion"),deviceRoleInstance:Vo("roleInstance"),deviceRoleName:Vo("roleName"),deviceScreenResolution:Vo("screenResolution"),deviceType:Vo("type"),deviceMachineName:Vo("machineName"),deviceVMName:Vo("vmName"),deviceBrowser:Vo("browser"),deviceBrowserVersion:Vo("browserVersion"),locationIp:_l("ip"),locationCountry:_l("country"),locationProvince:_l("province"),locationCity:_l("city"),operationId:Ug("id"),operationName:Ug("name"),operationParentId:Ug("parentId"),operationRootId:Ug("rootId"),operationSyntheticSource:Ug("syntheticSource"),operationCorrelationVector:Ug("correlationVector"),sessionId:ed("id"),sessionIsFirst:ed("isFirst"),sessionIsNew:ed("isNew"),userAccountAcquisitionDate:Of("accountAcquisitionDate"),userAccountId:Of("accountId"),userAgent:Of("userAgent"),userId:Of("id"),userStoreRegion:Of("storeRegion"),userAuthUserId:Of("authUserId"),userAnonymousUserAcquisitionDate:Of("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Of("authUserAcquisitionDate"),cloudName:Ou("name"),cloudRole:Ou("role"),cloudRoleVer:Ou("roleVer"),cloudRoleInstance:Ou("roleInstance"),cloudEnvironment:Ou("environment"),cloudLocation:Ou("location"),cloudDeploymentUnit:Ou("deploymentUnit"),internalNodeName:Hg("nodeName"),internalSdkVersion:Hg("sdkVersion"),internalAgentVersion:Hg("agentVersion"),internalSnippet:Hg("snippet"),internalSdkSrc:Hg("sdkSrc")}));function Nb(D,k,z,Y,ve,We){var Ze;z=ac(Y,z)||ml,(ue(D)||ue(k)||ue(z))&&cr("Input doesn't contain all required fields");var ct="";D[Dm]&&(ct=D[Dm],delete D[Dm]);var Tt=(Ze={},Ze[oc]=z,Ze.time=zi(new Date),Ze.iKey=ct,Ze.ext=We||{},Ze.tags=[],Ze.data={},Ze.baseType=k,Ze.baseData=D,Ze);return ue(ve)||Lr(ve,function(Kt,Ar){Tt.data[Kt]=Ar}),Tt}var h_=function(){function D(){}return D.create=Nb,D}(),Ap={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Bg=new Zv;function LS(D){var k=null;if(xe(Event))k=new Event(D);else{var z=ta();z&&z.createEvent&&(k=z.createEvent("Event"),k.initEvent(D,!0,!0))}return k}var Fb="AppInsightsPropertiesPlugin",qb="AppInsightsChannelPlugin",MS="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=MS,r.BreezeChannelIdentifier=qb,r.ConfigurationManager=Mb,r.ConnectionStringParser=Nm,r.ContextTagKeys=Zv,r.CtxTagKeys=Bg,r.DEFAULT_BREEZE_ENDPOINT=Pu,r.DEFAULT_BREEZE_PATH=Cm,r.Data=Rf,r.DisabledPropertyName=Sm,r.DistributedTracingModes=yl,r.Envelope=Fm,r.Event=AS,r.Exception=zg,r.Extensions=Ap,r.HttpMethod=Oc,r.Metric=Ib,r.PageView=Zl,r.PageViewPerformance=f_,r.ProcessLegacy=Ld,r.PropertiesPluginIdentifier=Fb,r.RemoteDependencyData=Ab,r.RequestHeaders=Eg,r.SampleRate=xa,r.SeverityLevel=Hm,r.TelemetryItemCreator=h_,r.ThrottleMgr=PD,r.Trace=Lb,r.correlationIdCanIncludeCorrelationHeader=Mg,r.correlationIdGetCorrelationContext=ED,r.correlationIdGetCorrelationContextValue=$l,r.correlationIdGetPrefix=TD,r.correlationIdSetPrefix=Lg,r.createDistributedTraceContextFromTrace=km,r.createDomEvent=LS,r.createTelemetryItem=Nb,r.createTraceParent=ns,r.dataSanitizeException=Ig,r.dataSanitizeId=Om,r.dataSanitizeInput=kg,r.dataSanitizeKey=Rb,r.dataSanitizeKeyAndAddUniqueness=xm,r.dataSanitizeMeasurements=Df,r.dataSanitizeMessage=zd,r.dataSanitizeProperties=Ud,r.dataSanitizeString=ac,r.dataSanitizeUrl=Wv,r.dateTimeUtilsDuration=a_,r.dateTimeUtilsNow=Im,r.dsPadNumber=Ic,r.findW3cTraceParent=wm,r.formatTraceParent=s_,r.getExtensionByName=kb,r.isBeaconApiSupported=uo,r.isCrossOriginError=Qv,r.isInternalApplicationInsightsEndpoint=Kv,r.isSampledFlag=_f,r.isValidSpanId=wp,r.isValidTraceId=bm,r.isValidTraceParent=Sp,r.msToTimeSpan=Ql,r.parseConnectionString=cc,r.parseTraceParent=Ad,r.strNotSpecified=ml,r.stringToBoolOrDefault=Xv,r.urlGetAbsoluteUrl=xp,r.urlGetCompleteUrl=xb,r.urlGetPathName=Th,r.urlParseFullHost=Bd,r.urlParseHost=xS,r.urlParseUrl=Hd,r.utlCanUseLocalStorage=xh,r.utlCanUseSessionStorage=Gl,r.utlDisableStorage=Rh,r.utlEnableStorage=OS,r.utlGetLocalStorage=IS,r.utlGetSessionStorage=Ip,r.utlGetSessionStorageKeys=Ng,r.utlRemoveSessionStorage=Fg,r.utlRemoveStorage=Oh,r.utlSetLocalStorage=Am,r.utlSetSessionStorage=Lm,r.utlSetStoragePrefix=c_})});var dve=E((mq,lve)=>{(function(r,e){typeof mq=="object"&&typeof lve<"u"?e(mq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(mq,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",m="Symbol",_="_polyfill",T="indexOf",x="length",M="done",A="value",U="name",ne="slice",de=Object,ye=de[c],V=String,W=V[c],ee=Math,Se=Array,se=Se[c];function ce(h,y){var w=y;try{w=h()}catch{}return w}var qe=[l,s,i,d,"symbol","bigint"];function Ne(h){return function(y){return typeof y===h}}function ue(h){var y="[object "+h+"]";return function(w){return!!(w&&De(w)===y)}}function De(h){return ye.toString.call(h)}function we(h){return typeof h===d||h===d}function xe(h){return h===t||we(h)}function Me(h){return h===t||!$e(h)}function $e(h){return!!h||h!==e}var Ct=function(h){return h!==a&&qe.indexOf(h)!==-1},ze=Ne(l),st=Ne(o);function at(h){return!h&&xe(h)?!1:!!h&&typeof h===a}var tt=Se.isArray,fr=ue("Date"),Lr=Ne(s),zr=Ne(i),cr=ue("Error");function xt(h){return!!h&&st(h.then)}function hr(h){return!(!h||ce(function(){return!(h&&0+h)},!h))}var Mt=de.getOwnPropertyDescriptor;function on(h,y){return h&&ye.hasOwnProperty.call(h,y)}var ln=de.hasOwn||On;function On(h,y){return on(h,y)||!!Mt(h,y)}function Or(h,y,w){if(h&&at(h)){for(var R in h)if(ln(h,R)&&y.call(w||h,R,h[R])===-1)break}}function Hn(h,y,w,R){var q={};return Or(h,function(G,te){q[G]=y?te:G,q[te]=w?te:G}),R(q)}function $r(h){throw new Error(h)}function dn(h){throw new TypeError(h)}var ii=de.freeze,Vr=function(h){return h},An=function(h){return h[u]||t},Ri=de.assign;function Gr(h){return(!at(h)||h===t)&&dn("objKeys called on non-object"),de.keys(h)}function Ji(h){return ii&&Or(h,function(y,w){(tt(w)||at(w))&&ii(w)}),oi(h)}var oi=ii||Vr,fn=de.getPrototypeOf||An;function Oe(h){return Hn(h,1,0,Ji)}function oe(h){return Hn(h,0,0,Ji)}function Q(h){var y={};return Or(h,function(w,R){y[w]=R[1],y[R[0]]=R[1]}),Ji(y)}function _e(h){return Q(h)}var Je=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=V,Yt="__tsUtils$gblCfg",rr;function Jt(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}function $t(){if(!rr){var h=Jt()||{};rr=h[Yt]=h[Yt]||{}}return rr}function kt(h,y){var w=n;if(cr(h))w="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{w=JSON.stringify(h,t,y?Lr(y)?y:4:e)}catch(R){w=" - "+kt(R,y)}return De(h)+": "+w}var K=se[ne],Fe=function(h,y){dn("'"+ft(h)+"' not defined for "+kt(y))},Ht=function(h){return function(y){return y[h].apply(y,K.call(arguments,1))}},Tr=function(h,y){var w=y&&y[h];return function(R){var q=R&&R[h]||w;if(q)return q.apply(R,K.call(arguments,1));Fe(h,R)}},He=function(h,y,w){var R=y&&y[h];return function(q){var G=q&&q[h]||R;if(G||w){var te=arguments;return(G||w).apply(q,G?K.call(te,1):te)}Fe(h,q)}};function re(h){return function(y){return y[h]}}var Re=ee.max,je=Tr(ne,W),he=Tr("substring",W),S=He("substr",W,fe);function fe(h,y,w){return xe(h)&&dn("'polyStrSubstr called with invalid "+kt(h)),w<0?n:(y=y||0,y<0&&(y=Re(y+h[x],0)),we(w)?je(h,y):je(h,y,y+w))}function Ye(h,y){return he(h,0,y)}var Dr="_urid",Wr;function Xr(){if(!Wr){var h=$t();Wr=h.gblSym=h.gblSym||{k:{},s:{}}}return Wr}var qn={};function xi(h){var y={description:ft(h),toString:function(){return m+"("+h+")"}};return y[_]=!0,y}function ks(h){var y=Xr();if(!ln(y.k,h)){var w=xi(h),R=Gr(y.s).length;w[Dr]=function(){return R+"_"+w.toString()},y.k[h]=w,y.s[w[Dr]()]=ft(h)}return y.k[h]}function Sn(h){var y,w=Je[h];return w&&(y=qn[w]=qn[w]||xi(m+"."+w)),y}var es={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Bs(h){var y={};if(y[es.c]=!0,y[es.e]=!0,h.l){y.get=function(){return h.l.v};var w=Mt(h.l,"v");w&&w.set&&(y.set=function(R){h.l.v=R})}return Or(h,function(R,q){y[es[R]]=we(q)?y[es[R]]:q}),y}var ta=de.defineProperty;function Fo(h,y,w){return ta(h,y,Bs(w))}var Eo,H=function(){Eo=$t(),H=t};function Ue(h){var y={};return H&&H(),y.b=Eo.lzy,ta(y,"v",{configurable:!0,get:function(){var w=h();return Eo.lzy||(ta(y,"v",{value:w}),y.b&&delete y.b),Eo.lzy&&y.b!==Eo.lzy&&(y.b=Eo.lzy),w}}),y}function vt(h,y){return Ue(function(){return ce(h,y)})}var Fr="window",so,Bi,N,Le,rt,zt=function(h){return vt(function(){return Cn(h)||e},e)},Ln=function(h){return(!so||h===!1||Eo&&Eo.lzy&&!so.b)&&(so=vt(Jt,t)),so.v},Cn=function(h,y){var w=!so||y===!1?Ln(y):so.v;return w&&w[h]?w[h]:h===Fr&&Bi?Bi.v:t},Nn=function(){return!!ao()},ao=function(){return(!N||Eo&&Eo.lzy&&!N.b)&&(N=zt("document")),N.v},ji=function(){return!!Po()},Po=function(){return(!Bi||Eo&&Eo.lzy&&!Bi.b)&&(Bi=zt(Fr)),Bi.v},Vi=function(){return!!Jn()},Jn=function(){return(!Le||Eo&&Eo.lzy&&!Le.b)&&(Le=zt("navigator")),Le.v},mu=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},ts,yo,al;function Mi(h){return vt(function(){return ts.v?ts.v[h]:e},e)}function Xa(){return!!Qa()}function Qa(){var h=!ts||Eo&&Eo.lzy&&!ts.b;return h&&(ts=zt(m)),(!yo||h)&&(yo=Mi("for")),(!al||h)&&(al=Mi("keyFor")),ts.v}function ha(h,y){var w=Je[h];return(!ts||Eo.lzy&&!ts.b)&&Qa(),ts.v?ts.v[w||h]:y?e:Sn(h)}function cl(h,y){return(!ts||Eo.lzy&&!ts.b)&&Qa(),ts.v?ts.v(h):y?t:xi(h)}function lh(h){return(!yo||Eo.lzy&&!ts.b)&&Qa(),(yo.v||ks)(h)}function Dc(h){return!!h&&st(h.next)}function ra(h){return!Me(h)&&st(h[ha(3)])}var gu;function dh(h,y,w){if(h&&(Dc(h)||(!gu&&(gu=Ue(function(){return ha(3)})),h=h[gu.v]?h[gu.v]():null),Dc(h))){var R=void 0,q=void 0;try{for(var G=0;!(q=h.next())[M]&&y.call(w||h,q[A],G,h)!==-1;)G++}catch(te){R={e:te},h.throw&&(q=null,h.throw(R))}finally{try{q&&!q[M]&&h.return&&h.return(q)}finally{if(R)throw R.e}}}}var Uo=Ht("apply");function Ws(h,y){return!we(y)&&h&&(tt(y)?Uo(h.push,h,y):Dc(y)||ra(y)?dh(y,function(w){h.push(w)}):h.push(y)),h}function Tn(h,y,w){if(h)for(var R=h[x]>>>0,q=0;q<R&&!(q in h&&y.call(w||h,h[q],q,h)===-1);q++);}var $s=Tr(T,se),vu=Tr("map",se),si=Tr(ne,se),Da=Ht("call"),Qc=Tr("reduce",se),fh=de.create,af=fh||ap;function ap(h){if(!h)return{};var y=typeof h;if(y!==a&&y!==o)throw new TypeError("Prototype must be an Object or function: "+kt(h));function w(){}return w[c]=h,new w}var cf;function cp(h,y){var w=de.setPrototypeOf||function(R,q){!cf&&(cf=Ue(function(){var G;return G={},G[u]=[],G instanceof Array})),cf.v?R[u]=q:Or(q,function(G,te){return R[G]=te})};return w(h,y)}var uf=function(h,y,w){Xn(y,h),y=cp(y,w);function R(){this.constructor=y,Xn(this,h)}return y[c]=w===t?af(w):(R[c]=w[c],new R),y},Al=function(h,y){try{y&&(h[U]=y)}catch{}},Xn=function(h,y){try{Fo(h,U,{v:y,c:!0,e:!1})}catch{}};function Vs(h,y,w){var R=w||Error,q=R[c][U],G=Error.captureStackTrace;return uf(h,function(){var te=this;try{Al(R,h);var le=Uo(R,te,si(arguments))||te;if(le!==te){var Ee=fn(te);Ee!==fn(le)&&cp(le,Ee)}return G&&G(le,te[f]),y&&y(le,arguments),le}finally{Al(R,q)}},R)}function Ll(){return(Date.now||co)()}function co(){return new Date().getTime()}function hh(h){return function(w){return xe(w)&&dn("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(h,n)),w}}var ph=hh(/^\s+|(?=\s)\s+$/g),Gs=He("trim",W,ph),yu,mh,yd;function Ss(h){if(!h||typeof h!==a)return!1;yd||(yd=ji()?Po():!0);var y=!1;if(h!==yd){mh||(yu=Function[c].toString,mh=Da(yu,de));try{var w=fn(h);y=!w,y||(on(w,f)&&(w=w[f]),y=w&&typeof w===o&&yu.call(w)===mh)}catch{}}return y}var Ml=function(h){return h.value&&na(h),!0},Zc=[_o,na,ff,up];function pm(h,y,w,R){var q;return Tn(h,function(G){if(G.k===y)return q=G,-1}),q||(q={k:y,v:y},h.push(q),R(q)),q.v}function _d(h,y,w,R){var q=w.handler,G=w.path?R?w.path.concat(R):w.path:[],te={handler:w.handler,src:w.src,path:G},le=typeof y,Ee=!1,Ae=!1;y&&le===a?Ee=Ss(y):Ae=y===t||Ct(le);var Ke={type:le,isPrim:Ae,isPlain:Ee,value:y,result:y,path:G,origin:w.src,copy:function(bt,It){return _d(h,bt,It?te:w,It)},copyTo:function(bt,It){return lf(h,bt,It,te)}};return Ke.isPrim?q&&Da(q,w,Ke)?Ke.result:y:pm(h,y,G,function(bt){Fo(Ke,"result",{g:function(){return bt.v},s:function(ut){bt.v=ut}});for(var It=0,yt=q;!Da(yt||(It<Zc.length?Zc[It++]:Ml),w,Ke);)yt=t})}function lf(h,y,w,R){if(!xe(w))for(var q in w)y[q]=_d(h,w[q],R,q);return y}function df(h,y,w){var R={handler:w,src:y,path:[]};return lf([],h,y,R)}function Tc(h,y){var w={handler:y,src:h};return _d([],h,w)}function _o(h){var y=h.value;if(tt(y)){var w=h.result=[];return w.length=y.length,h.copyTo(w,y),!0}return!1}function up(h){var y=h.value;return fr(y)?(h.result=new Date(y.getTime()),!0):!1}function ff(h){return h.type===o}function na(h){var y=h.value;if(y&&h.isPlain){var w=h.result={};return h.copyTo(w,y),!0}return!1}function ul(h,y){return Tn(y,function(w){df(h,w)}),h}function _u(h,y,w,R,q,G,te){return ul(Tc(h)||{},si(arguments))}var Nv=re(x),ia=He("endsWith",W,Xy);function Xy(h,y,w){ze(h)||dn("'"+kt(h)+"' is not a string");var R=ze(y)?y:ft(y),q=R[x],G=h[x],te=!we(w)&&w<G?w:G;return he(h,te-q,te)===R}var Fu=Tr(T,W),bd="ref",Ho="un"+bd,Nl="hasRef",gh="enabled";function Sg(h,y,w){var R,q=!0,G=h?y(t):t,te,le=function(){return q=!1,G&&G[Ho]&&G[Ho](),te},Ee=function(){return q=!0,G&&G[bd]&&G[bd](),te},Ae=function(){return G&&G[Nl]?G[Nl]():q},Ke=function(){return G=y(G),q||le(),te},bt=function(){G&&w(G),G=t},It=function(yt){!yt&&G&&bt(),yt&&!G&&Ke()};return te=(R={cancel:bt,refresh:Ke},R[Nl]=Ae,R[bd]=Ee,R[Ho]=le,R[gh]=!1,R),ta(te,gh,{get:function(){return!!G},set:It}),{h:te,dn:function(){G=t}}}function wd(h,y,w,R){var q=tt(w),G=q?w.length:0,te=(G>0?w[0]:q?e:w)||setTimeout,le=(G>1?w[1]:e)||clearTimeout,Ee=R[0];R[0]=function(){Ae.dn(),Uo(Ee,h,si(arguments))};var Ae=Sg(y,function(Ke){if(Ke){if(Ke.refresh)return Ke.refresh(),Ke;Uo(le,h,[Ke])}return Uo(te,h,R)},function(Ke){Uo(le,h,[Ke])});return Ae.h}function vh(h,y){return wd(this,!0,e,si(arguments))}function lp(h,y){return wd(this,!1,e,si(arguments))}var Fl,dp="constructor",qu="prototype",yh="function",bu="_dynInstFuncs",hf="_isDynProxy",Sd="_dynClass",pf="_dynCls$",Cd="_dynInstChk",Ks=Cd,Ta="_dfOpts",Ro="_unknown_",eu="__proto__",Za="_dyn"+eu,Cg="__dynProto$Gbl",ju="_dynInstProto",Ys="useBaseInst",ql="setInstFuncs",fp=Object,wu=fp.getPrototypeOf,ll=fp.getOwnPropertyNames,_h=Ln(),Ec=_h[Cg]||(_h[Cg]={o:(Fl={},Fl[ql]=!0,Fl[Ys]=!0,Fl),n:1e3});function zu(h){return h&&(h===fp[qu]||h===Array[qu])}function Cs(h){return zu(h)||h===Function[qu]}function tu(h){var y;if(h){if(wu)return wu(h);var w=h[eu]||h[qu]||(h[dp]?h[dp][qu]:null);y=h[Za]||w,on(h,Za)||(delete h[ju],y=h[Za]=h[ju]||h[Za],h[ju]=w)}return y}function Uu(h,y){var w=[];if(ll)w=ll(h);else for(var R in h)typeof R=="string"&&on(h,R)&&w.push(R);if(w&&w.length>0)for(var q=0;q<w.length;q++)y(w[q])}function Hu(h,y,w){return y!==dp&&typeof h[y]===yh&&(w||on(h,y))}function oa(h){dn("DynamicProto: "+h)}function Dg(h){var y={};return Uu(h,function(w){!y[w]&&Hu(h,w,!1)&&(y[w]=h[w])}),y}function ec(h,y){for(var w=h.length-1;w>=0;w--)if(h[w]===y)return!0;return!1}function dl(h,y,w,R){function q(Ee,Ae,Ke){var bt=Ae[Ke];if(bt[hf]&&R){var It=Ee[bu]||{};It[Ks]!==!1&&(bt=(It[Ae[Sd]]||{})[Ke]||bt)}return function(){return bt.apply(Ee,arguments)}}var G={};Uu(w,function(Ee){G[Ee]=q(y,w,Ee)});for(var te=tu(h),le=[];te&&!Cs(te)&&!ec(le,te);)Uu(te,function(Ee){!G[Ee]&&Hu(te,Ee,!wu)&&(G[Ee]=q(y,te,Ee))}),le.push(te),te=tu(te);return G}function Bo(h,y,w,R){var q=null;if(h&&on(w,Sd)){var G=h[bu]||{};if(q=(G[w[Sd]]||{})[y],q||oa("Missing ["+y+"] "+yh),!q[Cd]&&G[Ks]!==!1){for(var te=!on(h,y),le=tu(h),Ee=[];te&&le&&!Cs(le)&&!ec(Ee,le);){var Ae=le[y];if(Ae){te=Ae===R;break}Ee.push(le),le=tu(le)}try{te&&(h[y]=q),q[Cd]=1}catch{G[Ks]=!1}}}return q}function Wo(h,y,w){var R=y[h];return R===w&&(R=tu(y)[h]),typeof R!==yh&&oa("["+h+"] is not a "+yh),R}function mf(h,y,w,R,q){function G(Ee,Ae){var Ke=function(){var bt=Bo(this,Ae,Ee,Ke)||Wo(Ae,Ee,Ke);return bt.apply(this,arguments)};return Ke[hf]=1,Ke}if(!zu(h)){var te=w[bu]=w[bu]||{},le=te[y]=te[y]||{};te[Ks]!==!1&&(te[Ks]=!!q),Uu(w,function(Ee){Hu(w,Ee,!1)&&w[Ee]!==R[Ee]&&(le[Ee]=w[Ee],delete w[Ee],(!on(h,Ee)||h[Ee]&&!h[Ee][hf])&&(h[Ee]=G(h,Ee)))})}}function Bu(h,y){if(wu){for(var w=[],R=tu(y);R&&!Cs(R)&&!ec(w,R);){if(R===h)return!0;w.push(R),R=tu(R)}return!1}return!0}function gf(h,y){return on(h,qu)?h.name||y||Ro:((h||{})[dp]||{}).name||y||Ro}function qo(h,y,w,R){on(h,qu)||oa("theClass is an invalid class definition.");var q=h[qu];Bu(q,y)||oa("["+gf(h)+"] not in hierarchy of ["+gf(y)+"]");var G=null;on(q,Sd)?G=q[Sd]:(G=pf+gf(h,"_")+"$"+Ec.n,Ec.n++,q[Sd]=G);var te=qo[Ta],le=!!te[Ys];le&&R&&R[Ys]!==void 0&&(le=!!R[Ys]);var Ee=Dg(y),Ae=dl(q,y,Ee,le);w(y,Ae);var Ke=!!wu&&!!te[ql];Ke&&R&&(Ke=!!R[ql]),mf(q,G,y,Ee,Ke!==!1)}qo[Ta]=Ec.o;var jl="function",vf="object",pa="undefined",Su="prototype",sa=Object,As=sa[Su];(Ln()||{}).Symbol,(Ln()||{}).Reflect;var zl="hasOwnProperty",Fv=function(h){for(var y,w=1,R=arguments.length;w<R;w++){y=arguments[w];for(var q in y)As[zl].call(y,q)&&(h[q]=y[q])}return h},ps=Ri||Fv,ru=function(h,y){return ru=sa.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var q in R)R[zl](q)&&(w[q]=R[q])},ru(h,y)};function fl(h,y){typeof y!==jl&&y!==null&&dn("Class extends value "+String(y)+" is not a constructor or null"),ru(h,y);function w(){this.constructor=h}h[Su]=y===null?af(y):(w[Su]=y[Su],new w)}function bh(h,y){for(var w=0,R=y.length,q=h.length;w<R;w++,q++)h[q]=y[w];return h}var Dd=Oe,hp=_e,tc="toLowerCase",mm="blkVal",zi="length",rs="rdOnly",Wu="notify",Pc="warnToConsole",Rc="throwInternal",aa="setDf",hl="watch",Gi="logger",yf="apply",wi="push",Ea="splice",Bn="hdlr",Td="cancel",Ul="initialize",xc="identifier",$o="isInitialized",rc="getPlugin",ca="pollInternalLogs",uo="name",Cu="time",Fn="processNext",nu="getProcessTelContext",xo="getNotifyMgr",ai="addNotificationListener",Hl="removeNotificationListener",Pa="enabled",ma="stopPollingInternalLogs",ua="unload",Bl="onComplete",nc="version",Ed="loggingLevelConsole",Ds="createNew",iu="teardown",pl="messageId",Wl="message",Pd="isAsync",g="diagLog",v="_doTeardown",P="update",O="getNext",F="setNextPlugin",J="userAgent",Z="split",pe="nodeType",ke="replace",Qe="logInternalMessage",ht="type",Ut="handler",Sr="isChildEvt",sn="getCtx",jr="setCtx",Wn="complete",Js="traceId",ic="spanId",Du="traceFlags",pp;function gm(h,y){pp||(pp=Vs("AggregationError",function(R,q){q[zi]>1&&(R.errors=q[1])}));var w=h||"One or more errors occurred.";throw Tn(y,function(R,q){w+=`
`.concat(q," > ").concat(kt(R))}),new pp(w,y||[])}function Ra(h,y){return mp(h,function(w){y&&y({value:w,rejected:!1})},function(w){y&&y({rejected:!0,reason:w})})}function mp(h,y,w,R){var q=h;return xt(h)?(y||w)&&(q=h.then(y,w)):y&&y(h),R&&(q=wh(q,R)),q}function wh(h,y){var w=h;return y&&(xt(h)?h.finally?w=h.finally(y):w=h.then(function(R){return y(),R},function(R){throw y(),R}):y()),w}var Rd=["pending","resolving","resolved","rejected"],Tu="dispatchEvent",Tg;function Qy(h,y,w,R){var q=ao();!Tg&&(Tg=vt(function(){var Ee;return q&&q.createEvent&&(Ee=q.createEvent("Event")),!!Ee&&Ee.initEvent},null));var G=Tg.v?q.createEvent("Event"):R?new Event(y):{};if(w&&w(G),Tg.v&&G.initEvent(y,!1,!0),G&&h[Tu])h[Tu](G);else{var te=h["on"+y];if(te)te(G);else{var le=Cn("console");le&&(le.error||le.log)(y,kt(G))}}}var gp="Promise",vp="unhandledRejection",Zy=vp.toLowerCase(),e_=10,t_;function Eb(h){return st(h)?h.toString():kt(h)}function vm(h,y,w){var R=si(arguments,3),q=0,G=!1,te,le=[],Ee=!1,Ae=null,Ke;!t_&&(t_=zt(gp+"RejectionEvent"));var bt=function(ar,nn){try{Ee=!0,Ae&&Ae.cancel(),Ae=null;var Ii=h(function(as,Mc){le.push(function(){try{var La=q===2?ar:nn,od=we(La)?te:st(La)?La(te):La;xt(od)?od.then(as,Mc):La?as(od):q===3?Mc(od):as(od)}catch(Ku){Mc(Ku)}}),G&&sr()},R);return Ii}finally{}},It=function(ar){return bt(void 0,ar)},yt=function(ar){var nn=ar,Ii=ar;return st(ar)&&(nn=function(as){return ar&&ar(),as},Ii=function(as){throw ar&&ar(),as}),bt(nn,Ii)},ut=function(){return Rd[q]},sr=function(){if(le.length>0){var ar=le.slice();le=[],Ee=!0,y(ar),Ae&&Ae.cancel(),Ae=null}},Nt=function(ar,nn){return function(Ii){if(q===nn){if(ar===2&&xt(Ii)){q=1,Ii.then(Nt(2,1),Nt(3,1));return}q=ar,G=!0,te=Ii,sr(),!Ee&&ar===3&&!Ae&&(Ae=vh(pr,e_))}}},pr=function(){if(!Ee)if(mu())process.emit(vp,te,Ke);else{var ar=Po()||Ln();Qy(ar,Zy,function(nn){return Fo(nn,"promise",{g:function(){return Ke}}),nn.reason=te,nn},!!t_.v)}};Ke={then:bt,catch:It,finally:yt},ta(Ke,"state",{get:ut}),Xa()&&(Ke[ha(11)]="IPromise");var er=function(){return"IPromise "+ut()+(G?" - "+Eb(te):"")};return Ke.toString=er,function(){st(w)||dn(gp+": executor is not a function - "+Eb(w));var nn=Nt(3,0);try{w.call(Ke,Nt(2,0),nn)}catch(Ii){nn(Ii)}}(),Ke}function qv(h){return function(y){var w=si(arguments,1);return h(function(R,q){try{var G=[],te=1;Tn(y,function(le,Ee){le&&(te++,mp(le,function(Ae){G[Ee]=Ae,--te===0&&R(G)},q))}),te--,te===0&&R(G)}catch(le){q(le)}},w)}}var r_=function(h){Tn(h,function(y){try{y()}catch{}})};function n_(h){var y=Lr(h)?h:0;return function(w){vh(function(){r_(w)},y)}}function ym(h,y){return vm(ym,n_(y),h,y)}var yp;function Pb(h,y){!yp&&(yp=zt(gp));var w=yp.v;if(!w)return ym(h);st(h)||dn(gp+": executor is not a function - "+kt(h));var R=0;function q(){return Rd[R]}var G=new w(function(te,le){function Ee(Ke){R=2,te(Ke)}function Ae(Ke){R=3,le(Ke)}h(Ee,Ae)});return ta(G,"state",{get:q}),G}var i_;function _p(h,y){return!i_&&(i_=Ue(function(){return Pb})),i_.v.call(this,h,y)}var jv=qv(_p),xd=void 0,Xi="",_m="channels",lo="core",o_="createPerfMgr",zv="disabled",Od="extensionConfig",bp="extensions",ou="processTelemetry",Id="priority",kd="eventsSent",Ls="eventsDiscarded",fi="eventsSendRequest",Eu="perfEvent",ns="getPerfMgr",Ad="domain",bm="path",wp="Not dynamic - ",Sp=/-([a-z])/g,_f=/([^\w\d_$])/g,s_=/^(\d+[\w\d_$])/;function wm(h){return!xe(h)}function Sm(h){var y=h;return y&&ze(y)&&(y=y[ke](Sp,function(w,R){return R.toUpperCase()}),y=y[ke](_f,"_"),y=y[ke](s_,function(w,R){return"_"+R})),y}function xa(h,y){return h&&y?Fu(h,y)!==-1:!1}function Ld(h){return h&&h.toISOString()||""}function Oc(h){return cr(h)?h[uo]:Xi}function Pu(h,y,w,R,q){var G=w;return h&&(G=h[y],G!==w&&(!q||q(G))&&(!R||R(w))&&(G=w,h[y]=G)),G}function Cm(h,y,w){var R;return h?(R=h[y],!R&&xe(R)&&(R=we(w)?{}:w,h[y]=R)):R=we(w)?{}:w,R}function ml(h,y){var w=null,R=null;return st(h)?w=h:R=h,function(){var q=arguments;if(w&&(R=w()),R)return R[y][yf](R,q)}}function Dm(h,y,w,R,q){h&&y&&w&&(q!==!1||we(h[y]))&&(h[y]=ml(w,R))}function Eg(h,y,w,R){return h&&y&&at(h)&&tt(w)&&Tn(w,function(q){ze(q)&&Dm(h,q,y,q,R)}),h}function Cp(h){return function(){function y(){var w=this;h&&Or(h,function(R,q){w[R]=q})}return y}()}function En(h){return h&&Ri&&(h=sa(Ri({},h))),h}function Md(h,y,w,R,q,G){var te=arguments,le=te[0]||{},Ee=te[zi],Ae=!1,Ke=1;for(Ee>0&&zr(le)&&(Ae=le,le=te[Ke]||{},Ke++),at(le)||(le={});Ke<Ee;Ke++){var bt=te[Ke],It=tt(bt),yt=at(bt);for(var ut in bt){var sr=It&&ut in bt||yt&&ln(bt,ut);if(sr){var Nt=bt[ut],pr=void 0;if(Ae&&Nt&&((pr=tt(Nt))||Ss(Nt))){var er=le[ut];pr?tt(er)||(er=[]):Ss(er)||(er={}),Nt=Md(Ae,er,Nt)}Nt!==void 0&&(le[ut]=Nt)}}}return le}var Ms="documentMode",bf="location",Uv="console",oc="JSON",Nd="crypto",Dp="msCrypto",Hv="msie",gl="trident/",Pg="XMLHttpRequest",Tm=null,Bv=null,Rg=!1,Fd=null,wf=null;function Em(h,y){var w=!1;if(h){try{if(w=y in h,!w){var R=h[Su];R&&(w=y in R)}}catch{}if(!w)try{var q=new h;w=!we(q[y])}catch{}}return w}function Tp(h){if(h&&Rg){var y=Cn("__mockLocation");if(y)return y}return typeof location===vf&&location?location:Cn(bf)}function xg(){return typeof console!==pa?console:Cn(Uv)}function su(){return!!(typeof JSON===vf&&JSON||Cn(oc)!==null)}function sc(){return su()?JSON||Cn(oc):null}function Sf(){return Cn(Nd)}function $u(){return Cn(Dp)}function Ru(){var h=Jn();if(h&&(h[J]!==Bv||Tm===null)){Bv=h[J];var y=(Bv||Xi)[tc]();Tm=xa(y,Hv)||xa(y,gl)}return Tm}function Sh(h){if(h===void 0&&(h=null),!h){var y=Jn()||{};h=y?(y.userAgent||Xi)[tc]():Xi}var w=(h||Xi)[tc]();if(xa(w,Hv)){var R=ao()||{};return Math.max(parseInt(w[Z](Hv)[1]),R[Ms]||0)}else if(xa(w,gl)){var q=parseInt(w[Z](gl)[1]);if(q)return q+4}return null}function qd(h){return(wf===null||h===!1)&&(wf=Vi()&&!!Jn().sendBeacon),wf}function Og(h){var y=!1;try{y=!!Cn("fetch");var w=Cn("Request");y&&h&&w&&(y=Em(w,"keepalive"))}catch{}return y}function Ep(){return Fd===null&&(Fd=typeof XDomainRequest!==pa,Fd&&Pp()&&(Fd=Fd&&!Em(Cn(Pg),"withCredentials"))),Fd}function Pp(){var h=!1;try{var y=Cn(Pg);h=!!y}catch{}return h}var Ch=4294967296,jd=4294967295,Pm=123456789,Rp=987654321,Rm=!1,Cf=Pm,Dh=Rp;function xm(h){h<0&&(h>>>=0),Cf=Pm+h&jd,Dh=Rp-h&jd,Rm=!0}function Rb(){try{var h=Ll()&2147483647;xm((Math.random()*Ch^h)+h)}catch{}}function ac(h){var y=0,w=Sf()||$u();return w&&w.getRandomValues&&(y=w.getRandomValues(new Uint32Array(1))[0]&jd),y===0&&Ru()&&(Rm||Rb(),y=Wv()&jd),y===0&&(y=Math.floor(Ch*Math.random()|0)),h||(y>>>=0),y}function Wv(h){Dh=36969*(Dh&65535)+(Dh>>16)&jd,Cf=18e3*(Cf&65535)+(Cf>>16)&jd;var y=(Dh<<16)+(Cf&65535)>>>0&jd|0;return h||(y>>>=0),y}function zd(h){h===void 0&&(h=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=ac()>>>0,R=0,q=Xi;q[zi]<h;)R++,q+=y.charAt(w&63),w>>>=6,R===5&&(w=(ac()<<2&4294967295|w&3)>>>0,R=0);return q}var Ig="3.0.5",Ud="."+zd(6),Df=0;function Om(h){return h[pe]===1||h[pe]===9||!+h[pe]}function kg(h,y){var w=y[h.id];if(!w){w={};try{Om(y)&&Fo(y,h.id,{e:!1,v:w})}catch{}}return w}function Ic(h,y){return y===void 0&&(y=!1),Sm(h+Df+++(y?"."+Ig:Xi)+Ud)}function vl(h){var y={id:Ic("_aiData-"+(h||Xi)+"."+Ig),accept:function(w){return Om(w)},get:function(w,R,q,G){var te=w[y.id];return te?te[Sm(R)]:(G&&(te=kg(y,w),te[Sm(R)]=q),q)},kill:function(w,R){if(w&&w[R])try{delete w[R]}catch{}}};return y}function Ag(h){return h&&at(h)&&(h.isVal||h.fb||ln(h,"v")||ln(h,"mrg")||ln(h,"ref")||h.set)}function $v(h,y,w){var R,q=w.dfVal||$e;if(y&&w.fb){var G=w.fb;tt(G)||(G=[G]);for(var te=0;te<G[zi];te++){var le=G[te],Ee=y[le];if(q(Ee)?R=Ee:h&&(Ee=h.cfg[le],q(Ee)&&(R=Ee),h.set(h.cfg,ft(le),Ee)),q(R))break}}return!q(R)&&q(w.v)&&(R=w.v),R}function Hd(h,y,w){var R=w;if(w&&Ag(w)&&(R=$v(h,y,w)),R){Ag(R)&&(R=Hd(h,y,R));var q;tt(R)?(q=[],q[zi]=R[zi]):Ss(R)&&(q={}),q&&(Or(R,function(G,te){te&&Ag(te)&&(te=Hd(h,y,te)),q[G]=te}),R=q)}return R}function xp(h,y,w,R){var q,G,te,le=R,Ee,Ae,Ke,bt;Ag(le)?(q=le.isVal,G=le.set,Ke=le[rs],bt=le[mm],Ee=le.mrg,Ae=le.ref,!Ae&&we(Ae)&&(Ae=!!Ee),te=$v(h,y,le)):te=R,bt&&h[mm](y,w);var It,yt=!0,ut=y[w];(ut||!xe(ut))&&(It=ut,yt=!1,q&&It!==te&&!q(It)&&(It=te,yt=!0),G&&(It=G(It,te,y),yt=It===te)),yt?te?It=Hd(h,y,te):It=te:(Ss(It)||tt(te))&&Ee&&te&&(Ss(te)||tt(te))&&Or(te,function(sr,Nt){xp(h,It,sr,Nt)}),h.set(y,w,It),Ae&&h.ref(y,w),Ke&&h[rs](y,w)}var Th=lh("[[ai_dynCfg_1]]"),xb=lh("[[ai_blkDynCfg_1]]"),xS=lh("[[ai_frcDynCfg_1]]");function Bd(h){if(h){var y;if(tt(h)?(y=[],y[zi]=h[zi]):Ss(h)&&(y={}),y)return Or(h,function(w,R){y[w]=Bd(R)}),y}return h}function Vv(h){if(h){var y=h[Th]||h;if(y.cfg&&(y.cfg===h||y.cfg[Th]===y))return y}return null}function Gv(h){if(h&&(Ss(h)||tt(h)))try{h[xb]=!0}catch{}return h}function Kv(h,y,w){var R=!1;return w&&!h[y.blkVal]&&(R=w[xS],!R&&!w[xb]&&(R=Ss(w)||tt(w))),R}function Lg(h){dn("InvalidAccess:"+h)}var TD=["push","pop","shift","unshift","splice"],Mg=function(h,y,w,R){h&&h[Rc](3,108,"".concat(w," [").concat(y,"] failed - ")+kt(R))};function ED(h,y,w){tt(y)&&Tn(TD,function(R){var q=y[R];y[R]=function(){for(var G=[],te=0;te<arguments.length;te++)G[te]=arguments[te];var le=q[yf](this,G);return km(h,y,w,"Patching"),le}})}function $l(h,y){var w=Mt(h,y);return w&&w.get}function Eh(h,y,w,R){var q={n:w,h:[],trk:function(Ae){Ae&&Ae.fn&&($s(q.h,Ae)===-1&&q.h[wi](Ae),h.trk(Ae,q))},clr:function(Ae){var Ke=$s(q.h,Ae);Ke!==-1&&q.h[Ea](Ke,1)}},G=!0,te=!1;function le(){G&&(te=te||Kv(le,h,R),R&&!R[Th]&&te&&(R=km(h,R,w,"Converting")),G=!1);var Ae=h.act;return Ae&&q.trk(Ae),R}le[h.prop]={chng:function(){h.add(q)}};function Ee(Ae){if(R!==Ae){le[h.ro]&&!h.upd&&Lg("["+w+"] is read-only:"+kt(y)),G&&(te=te||Kv(le,h,R),G=!1);var Ke=te&&le[h.rf];if(te)if(Ke){Or(R,function(It){R[It]=Ae?Ae[It]:xd});try{Or(Ae,function(It,yt){Im(h,R,It,yt)}),Ae=R}catch(It){Mg((h.hdlr||{})[Gi],w,"Assigning",It),te=!1}}else R&&R[Th]&&Or(R,function(It){var yt=$l(R,It);if(yt){var ut=yt[h.prop];ut&&ut.chng()}});if(Ae!==R){var bt=Ae&&Kv(le,h,Ae);!Ke&&bt&&(Ae=km(h,Ae,w,"Converting")),R=Ae,te=bt}h.add(q)}}Fo(y,q.n,{g:le,s:Ee})}function Im(h,y,w,R){if(y){var q=$l(y,w),G=q&&!!q[h.prop];G?y[w]=R:Eh(h,y,w,R)}return y}function a_(h,y,w,R){if(y){var q=$l(y,w),G=q&&!!q[h.prop],te=R&&R[0],le=R&&R[1],Ee=R&&R[2];if(!G){if(Ee)try{Gv(y)}catch(Ae){Mg((h.hdlr||{})[Gi],w,"Blocking",Ae)}try{Im(h,y,w,y[w]),q=$l(y,w)}catch(Ae){Mg((h.hdlr||{})[Gi],w,"State",Ae)}}te&&(q[h.rf]=te),le&&(q[h.ro]=le),Ee&&(q[h.blkVal]=!0)}return y}function km(h,y,w,R){try{Or(y,function(q,G){Im(h,y,q,G)}),y[Th]||(ta(y,Th,{get:function(){return h[Bn]}}),ED(h,y,w))}catch(q){Mg((h.hdlr||{})[Gi],w,R,q)}return y}var Vl="[[ai_",yl="]]";function Tf(h){var y,w=cl(Vl+"get"+h.uid+yl),R=cl(Vl+"ro"+h.uid+yl),q=cl(Vl+"rf"+h.uid+yl),G=cl(Vl+"blkVal"+h.uid+yl),te=cl(Vl+"dtl"+h.uid+yl),le=null,Ee=null,Ae;function Ke(ut,sr){var Nt=Ae.act;try{Ae.act=ut,ut&&ut[te]&&(Tn(ut[te],function(er){er.clr(ut)}),ut[te]=[]),sr({cfg:h.cfg,set:h.set.bind(h),setDf:h[aa].bind(h),ref:h.ref.bind(h),rdOnly:h[rs].bind(h)})}catch(er){var pr=h[Gi];throw pr&&pr[Rc](1,107,kt(er)),er}finally{Ae.act=Nt||null}}function bt(){if(le){var ut=le;le=null,Ee&&Ee[Td](),Ee=null;var sr=[];if(Tn(ut,function(Nt){if(Nt&&(Nt[te]&&(Tn(Nt[te],function(pr){pr.clr(Nt)}),Nt[te]=null),Nt.fn))try{Ke(Nt,Nt.fn)}catch(pr){sr[wi](pr)}}),le)try{bt()}catch(Nt){sr[wi](Nt)}sr[zi]>0&&gm("Watcher error(s): ",sr)}}function It(ut){if(ut&&ut.h[zi]>0){le||(le=[]),Ee||(Ee=vh(function(){Ee=null,bt()},0));for(var sr=0;sr<ut.h[zi];sr++){var Nt=ut.h[sr];Nt&&$s(le,Nt)===-1&&le[wi](Nt)}}}function yt(ut,sr){if(ut){var Nt=ut[te]=ut[te]||[];$s(Nt,sr)===-1&&Nt[wi](sr)}}return Ae=(y={prop:w,ro:R,rf:q},y[mm]=G,y[Bn]=h,y.add=It,y[Wu]=bt,y.use=Ke,y.trk=yt,y),Ae}function Ef(h,y){var w={fn:y,rm:function(){w.fn=null,h=null,y=null}};return h.use(w,y),w}function Yv(h,y,w){var R,q=Vv(y);if(q)return q;var G=Ic("dyncfg",!0),te=y&&w!==!1?y:Bd(y),le;function Ee(){le[Wu]()}function Ae(pr,er,ar){try{pr=Im(le,pr,er,ar)}catch(nn){Mg(h,er,"Setting value",nn)}return pr[er]}function Ke(pr){return Ef(le,pr)}function bt(pr,er){le.use(null,function(ar){var nn=le.upd;try{we(er)||(le.upd=er),pr(ar)}finally{le.upd=nn}})}function It(pr,er){var ar;return a_(le,pr,er,(ar={},ar[0]=!0,ar))[er]}function yt(pr,er){var ar;return a_(le,pr,er,(ar={},ar[1]=!0,ar))[er]}function ut(pr,er){var ar;return a_(le,pr,er,(ar={},ar[2]=!0,ar))[er]}function sr(pr,er){return er&&Or(er,function(ar,nn){xp(Nt,pr,ar,nn)}),pr}var Nt=(R={uid:null,cfg:te},R[Gi]=h,R[Wu]=Ee,R.set=Ae,R[aa]=sr,R[hl]=Ke,R.ref=It,R[rs]=yt,R[mm]=ut,R._block=bt,R);return Fo(Nt,"uid",{c:!1,e:!1,w:!1,v:G}),le=Tf(Nt),km(le,te,"config","Creating"),Nt}function Op(h,y){h?(h[Pc](y),h[Rc](2,108,y)):Lg(y)}function Oa(h,y,w,R){var q=Yv(w,h||{},R);return y&&q[aa](q.cfg,y),q}function Ph(h,y,w){var R=h[Th]||h;return R.cfg&&(R.cfg===h||R.cfg[Th]===R)?R[hl](y):(Op(w,wp+kt(h)),Oa(h,null,w)[hl](y))}function Rh(h,y){if(h&&h[ua])return h[ua](y)}function c_(h,y,w){var R;return w||(R=_p(function(q){w=q})),h&&Nv(h)>0?Ra(Rh(h[0],y),function(){c_(si(h,1),y,w)}):w(),R}var OS=500;function xh(h,y,w){return!h&&xe(h)?y:zr(h)?h:ft(h)[tc]()==="true"}function IS(h){return{mrg:!0,v:h}}function Am(h,y,w){return{fb:w,isVal:h,v:y}}function Oh(h,y){return{fb:y,set:xh,v:!!h}}var Gl=[kd,Ls,fi,Eu],Ng=null,Ip;function Lm(h,y){return function(){var w=arguments,R=Ob(y);if(R){var q=R.listener;q&&q[h]&&q[h][yf](q,w)}}}function Fg(){var h=Cn("Microsoft");return h&&(Ng=h.ApplicationInsights),Ng}function Ob(h){var y=Ng;return!y&&h.disableDbgExt!==!0&&(y=Ng||Fg()),y?y.ChromeDbgExt:null}function PD(h){if(!Ip){Ip={};for(var y=0;y<Gl[zi];y++)Ip[Gl[y]]=Lm(Gl[y],h)}return Ip}var Mm,kS="warnToConsole",cc="AI (Internal): ",Nm="AI: ",Fm="AITR_",AS={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},RD=(Mm={},Mm[0]=null,Mm[1]="errorToConsole",Mm[2]=kS,Mm[3]="debugToConsole",Mm);function Kl(h){return h?'"'+h[ke](/\"/g,Xi)+'"':Xi}function uc(h,y){var w=xg();if(w){var R="log";w[h]&&(R=h),st(w[R])&&w[R](y)}}var Yl=function(){function h(y,w,R,q){R===void 0&&(R=!1);var G=this;G[pl]=y,G[Wl]=(R?Nm:cc)+y;var te=Xi;su()&&(te=sc().stringify(q));var le=(w?" message:"+Kl(w):Xi)+(q?" props:"+Kl(te):Xi);G[Wl]+=le}return h.dataType="MessageData",h}();function qm(h,y){return(h||{})[Gi]||new qg(y)}var qg=function(){function h(y){this.identifier="DiagnosticLogger",this.queue=[];var w=0,R={},q,G,te,le,Ee;qo(h,this,function(Ae){Ee=bt(y||{}),Ae.consoleLoggingLevel=function(){return q},Ae[Rc]=function(ut,sr,Nt,pr,er){er===void 0&&(er=!1);var ar=new Yl(sr,Nt,er,pr);if(le)throw kt(ar);var nn=RD[ut]||kS;if(we(ar[Wl]))yt("throw"+(ut===1?"Critical":"Warning"),ar);else{if(er){var Ii=+ar[pl];!R[Ii]&&q>=ut&&(Ae[nn](ar[Wl]),R[Ii]=!0)}else q>=ut&&Ae[nn](ar[Wl]);Ke(ut,ar)}},Ae.debugToConsole=function(ut){uc("debug",ut),yt("warning",ut)},Ae[Pc]=function(ut){uc("warn",ut),yt("warning",ut)},Ae.errorToConsole=function(ut){uc("error",ut),yt("error",ut)},Ae.resetInternalMessageCount=function(){w=0,R={}},Ae[Qe]=Ke,Ae[ua]=function(ut){Ee&&Ee.rm(),Ee=null};function Ke(ut,sr){if(!It()){var Nt=!0,pr=Fm+sr[pl];if(R[pr]?Nt=!1:R[pr]=!0,Nt&&(ut<=G&&(Ae.queue[wi](sr),w++,yt(ut===1?"error":"warn",sr)),w===te)){var er="Internal events throttle limit per PageView reached for this app.",ar=new Yl(23,er,!1);Ae.queue[wi](ar),ut===1?Ae.errorToConsole(er):Ae[Pc](er)}}}function bt(ut){return Ph(Oa(ut,AS,Ae).cfg,function(sr){var Nt=sr.cfg;q=Nt[Ed],G=Nt.loggingLevelTelemetry,te=Nt.maxMessageLimit,le=Nt.enableDebug})}function It(){return w>=te}function yt(ut,sr){var Nt=Ob(y||{});Nt&&Nt[g]&&Nt[g](ut,sr)}})}return h.__ieDyn=1,h}();function u_(h){return h||new qg}function bn(h,y,w,R,q,G){G===void 0&&(G=!1),u_(h)[Rc](y,w,R,q,G)}function Jv(h,y){u_(h)[Pc](y)}var kp,Pf,jm="toGMTString",Ia="toUTCString",l_="cookie",jg="expires",d_="isCookieUseDisabled",Jl="disableCookiesUsage",zm="_ckMgr",Ih=null,zg=null,Um=null,xu,Wd={},Ib={},Xl=(kp={cookieCfg:IS((Pf={},Pf[Ad]={fb:"cookieDomain",dfVal:wm},Pf.path={fb:"cookiePath",dfVal:wm},Pf.enabled=xd,Pf.ignoreCookies=xd,Pf.blockedCookies=xd,Pf)),cookieDomain:xd,cookiePath:xd},kp[Jl]=xd,kp);function Xv(){!xu&&(xu=Ue(function(){return ao()}))}function Ql(h){return h?h.isEnabled():!0}function kb(h,y){return y&&h&&tt(h.ignoreCookies)?$s(h.ignoreCookies,y)!==-1:!1}function Qv(h,y){return y&&h&&tt(h.blockedCookies)&&$s(h.blockedCookies,y)!==-1?!0:kb(h,y)}function Zl(h,y){var w=y[Pa];if(xe(w)){var R=void 0;we(h[d_])||(R=!h[d_]),we(h[Jl])||(R=!h[Jl]),w=R}return w}function Ab(h,y){var w,R,q,G,te,le,Ee,Ae,Ke;h=Oa(h||Ib,null,y).cfg,te=Ph(h,function(It){It[aa](It.cfg,Xl),R=It.ref(It.cfg,"cookieCfg"),q=R[bm]||"/",G=R[Ad],le=Zl(h,R)!==!1,Ee=R.getCookie||Mb,Ae=R.setCookie||xf,Ke=R.delCookie||xf},y);var bt=(w={isEnabled:function(){var It=Zl(h,R)!==!1&&le&&Lb(y),yt=Ib[zm];return It&&yt&&bt!==yt&&(It=Ql(yt)),It},setEnabled:function(It){le=It!==!1,R[Pa]=It},set:function(It,yt,ut,sr,Nt){var pr=!1;if(Ql(bt)&&!Qv(R,It)){var er={},ar=Gs(yt||Xi),nn=Fu(ar,";");if(nn!==-1&&(ar=Gs(Ye(yt,nn)),er=f_(he(yt,nn+1))),Pu(er,Ad,sr||G,hr,we),!xe(ut)){var Ii=Ru();if(we(er[jg])){var as=Ll(),Mc=as+ut*1e3;if(Mc>0){var La=new Date;La.setTime(Mc),Pu(er,jg,Rf(La,Ii?jm:Ia)||Rf(La,Ii?jm:Ia)||Xi,hr)}}Ii||Pu(er,"max-age",Xi+ut,null,we)}var od=Tp();od&&od.protocol==="https:"&&(Pu(er,"secure",null,null,we),zg===null&&(zg=!lc((Jn()||{})[J])),zg&&Pu(er,"SameSite","None",null,we)),Pu(er,bm,Nt||q,null,we),Ae(It,Hm(ar,er)),pr=!0}return pr},get:function(It){var yt=Xi;return Ql(bt)&&!kb(R,It)&&(yt=Ee(It)),yt},del:function(It,yt){var ut=!1;return Ql(bt)&&(ut=bt.purge(It,yt)),ut},purge:function(It,yt){var ut,sr=!1;if(Lb(y)){var Nt=(ut={},ut[bm]=yt||"/",ut[jg]="Thu, 01 Jan 1970 00:00:01 GMT",ut);Ru()||(Nt["max-age"]="0"),Ke(It,Hm(Xi,Nt)),sr=!0}return sr}},w[ua]=function(It){te&&te.rm(),te=null},w);return bt[zm]=bt,bt}function Lb(h){if(Ih===null){Ih=!1,!xu&&Xv();try{var y=xu.v||{};Ih=y[l_]!==void 0}catch(w){bn(h,2,68,"Cannot access document.cookie - "+Oc(w),{exception:kt(w)})}}return Ih}function f_(h){var y={};if(h&&h[zi]){var w=Gs(h)[Z](";");Tn(w,function(R){if(R=Gs(R||Xi),R){var q=Fu(R,"=");q===-1?y[R]=null:y[Gs(Ye(R,q))]=Gs(he(R,q+1))}})}return y}function Rf(h,y){return st(h[y])?h[y]():null}function Hm(h,y){var w=h||Xi;return Or(y,function(R,q){w+="; "+R+(xe(q)?Xi:"="+q)}),w}function Mb(h){var y=Xi;if(!xu&&Xv(),xu.v){var w=xu.v[l_]||Xi;Um!==w&&(Wd=f_(w),Um=w),y=Gs(Wd[h]||Xi)}return y}function xf(h,y){!xu&&Xv(),xu.v&&(xu.v[l_]=h+"="+y)}function lc(h){return ze(h)?!!(xa(h,"CPU iPhone OS 12")||xa(h,"iPad; CPU OS 12")||xa(h,"Macintosh; Intel Mac OS X 10_14")&&xa(h,"Version/")&&xa(h,"Safari")||xa(h,"Macintosh; Intel Mac OS X 10_14")&&ia(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xa(h,"Chrome/5")||xa(h,"Chrome/6")||xa(h,"UnrealEngine")&&!xa(h,"Chrome")||xa(h,"UCBrowser/12")||xa(h,"UCBrowser/11")):!1}var Vo={perfEvtsSendAll:!1};function _l(h,y,w,R){Tn(h,function(q){if(q&&q[y])if(w)vh(function(){return R(q)},0);else try{R(q)}catch{}})}var Ug=function(){function h(y){this.listeners=[];var w,R,q=[],G=Oa(y,Vo);R=G[hl](function(te){w=!!te.cfg.perfEvtsSendAll}),qo(h,this,function(te){Fo(te,"listeners",{g:function(){return q}}),te[ai]=function(le){q[wi](le)},te[Hl]=function(le){for(var Ee=$s(q,le);Ee>-1;)q[Ea](Ee,1),Ee=$s(q,le)},te[kd]=function(le){_l(q,kd,!0,function(Ee){Ee[kd](le)})},te[Ls]=function(le,Ee){_l(q,Ls,!0,function(Ae){Ae[Ls](le,Ee)})},te[fi]=function(le,Ee){_l(q,fi,Ee,function(Ae){Ae[fi](le,Ee)})},te[Eu]=function(le){le&&(w||!le[Sr]())&&_l(q,Eu,!1,function(Ee){le[Pd]?vh(function(){return Ee[Eu](le)},0):Ee[Eu](le)})},te[ua]=function(le){var Ee=function(){R&&R.rm(),R=null,q=[]},Ae;if(_l(q,"unload",!1,function(Ke){var bt=Ke[ua](le);bt&&(Ae||(Ae=[]),Ae[wi](bt))}),Ae)return _p(function(Ke){return Ra(jv(Ae),function(){Ee(),Ke()})});Ee()}})}return h.__ieDyn=1,h}(),ed="ctx",Of="ParentContextKey",Ou="ChildrenContextKey",Hg=null,Zv=function(){function h(y,w,R){var q=this;if(q.start=Ll(),q[uo]=y,q[Pd]=R,q[Sr]=function(){return!1},st(w)){var G;Fo(q,"payload",{g:function(){return!G&&st(w)&&(G=w(),w=null),G}})}q[sn]=function(te){return te?te===h[Of]||te===h[Ou]?q[te]:(q[ed]||{})[te]:null},q[jr]=function(te,le){if(te)if(te===h[Of])q[te]||(q[Sr]=function(){return!0}),q[te]=le;else if(te===h[Ou])q[te]=le;else{var Ee=q[ed]=q[ed]||{};Ee[te]=le}},q[Wn]=function(){var te=0,le=q[sn](h[Ou]);if(tt(le))for(var Ee=0;Ee<le[zi];Ee++){var Ae=le[Ee];Ae&&(te+=Ae[Cu])}q[Cu]=Ll()-q.start,q.exTime=q[Cu]-te,q[Wn]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),Nb=function(){function h(y){this.ctx={},qo(h,this,function(w){w.create=function(R,q,G){return new Zv(R,q,G)},w.fire=function(R){R&&(R[Wn](),y&&st(y[Eu])&&y[Eu](R))},w[jr]=function(R,q){if(R){var G=w[ed]=w[ed]||{};G[R]=q}},w[sn]=function(R){return(w[ed]||{})[R]}})}return h.__ieDyn=1,h}(),h_="CoreUtils.doPerf";function Ap(h,y,w,R,q){if(h){var G=h;if(G[ns]&&(G=G[ns]()),G){var te=void 0,le=G[sn](h_);try{if(te=G.create(y(),R,q),te){if(le&&te[jr]&&(te[jr](Zv[Of],le),le[sn]&&le[jr])){var Ee=le[sn](Zv[Ou]);Ee||(Ee=[],le[jr](Zv[Ou],Ee)),Ee[wi](te)}return G[jr](h_,te),w(te)}}catch(Ae){te&&te[jr]&&te[jr]("exception",Ae)}finally{te&&G.fire(te),G[jr](h_,le)}}}return w()}function Bg(){return Hg}var LS="00000000000000000000000000000000",Fb="0000000000000000";function qb(h,y,w){return h&&h[zi]===y&&h!==w?!!h.match(/^[\da-f]*$/i):!1}function MS(h){return qb(h,32,LS)}function D(h){return qb(h,16,Fb)}var k=vl("plugin");function z(h){return k.get(h,"state",{},!0)}function Y(h,y){for(var w=[],R=null,q=h[O](),G;q;){var te=q[rc]();if(te){R&&R[F]&&te[ou]&&R[F](te),G=z(te);var le=!!G[$o];te[$o]&&(le=te[$o]()),le||w[wi](te),R=te,q=q[O]()}}Tn(w,function(Ee){var Ae=h[lo]();Ee[Ul](h.getCfg(),Ae,y,h[O]()),G=z(Ee),!Ee[lo]&&!G[lo]&&(G[lo]=Ae),G[$o]=!0,delete G[iu]})}function ve(h){return h.sort(function(y,w){var R=0;if(w){var q=w[ou];y[ou]?R=q?y[Id]-w[Id]:1:q&&(R=-1)}else R=y?1:-1;return R})}function We(h){var y={};return{getName:function(){return y[uo]},setName:function(w){h&&h.setName(w),y[uo]=w},getTraceId:function(){return y[Js]},setTraceId:function(w){h&&h.setTraceId(w),MS(w)&&(y[Js]=w)},getSpanId:function(){return y[ic]},setSpanId:function(w){h&&h.setSpanId(w),D(w)&&(y[ic]=w)},getTraceFlags:function(){return y[Du]},setTraceFlags:function(w){h&&h.setTraceFlags(w),y[Du]=w}}}var Ze="TelemetryPluginChain",ct="_hasRun",Tt="_getTelCtx",Kt=0;function Ar(h,y,w){for(;h;){if(h[rc]()===w)return h;h=h[O]()}return Zn([w],y.config||{},y)}function jn(h,y,w,R){var q=null,G=[];y||(y=Oa({},null,w[Gi])),R!==null&&(q=R?Ar(h,w,R):h);var te={_next:Ee,ctx:{core:function(){return w},diagLog:function(){return qm(w,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ke,getConfig:bt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(yt){q=yt},iterate:It,onComplete:le}};function le(yt,ut){for(var sr=[],Nt=2;Nt<arguments.length;Nt++)sr[Nt-2]=arguments[Nt];yt&&G[wi]({func:yt,self:we(ut)?te.ctx:ut,args:sr})}function Ee(){var yt=q;if(q=yt?yt[O]():null,!yt){var ut=G;ut&&ut[zi]>0&&(Tn(ut,function(sr){try{sr.func.call(sr.self,sr.args)}catch(Nt){bn(w[Gi],2,73,"Unexpected Exception during onComplete - "+kt(Nt))}}),G=[])}return yt}function Ae(yt,ut){var sr=null,Nt=y.cfg;if(Nt&&yt){var pr=Nt[Od];!pr&&ut&&(pr={}),Nt[Od]=pr,pr=y.ref(Nt,Od),pr&&(sr=pr[yt],!sr&&ut&&(sr={}),pr[yt]=sr,sr=y.ref(pr,yt))}return sr}function Ke(yt,ut){var sr=Ae(yt,!0);return ut&&Or(ut,function(Nt,pr){if(xe(sr[Nt])){var er=y.cfg[Nt];(er||!xe(er))&&(sr[Nt]=er)}xp(y,sr,Nt,pr)}),y[aa](sr,ut)}function bt(yt,ut,sr){sr===void 0&&(sr=!1);var Nt,pr=Ae(yt,!1),er=y.cfg;return pr&&(pr[ut]||!xe(pr[ut]))?Nt=pr[ut]:(er[ut]||!xe(er[ut]))&&(Nt=er[ut]),Nt||!xe(Nt)?Nt:sr}function It(yt){for(var ut;ut=te._next();){var sr=ut[rc]();sr&&yt(sr)}}return te}function In(h,y,w,R){var q=Oa(y),G=jn(h,q,w,R),te=G.ctx;function le(Ae){var Ke=G._next();return Ke&&Ke[ou](Ae,te),!Ke}function Ee(Ae,Ke){return Ae===void 0&&(Ae=null),tt(Ae)&&(Ae=Zn(Ae,q.cfg,w,Ke)),In(Ae||te[O](),q.cfg,w,Ke)}return te[Fn]=le,te[Ds]=Ee,te}function Qn(h,y,w){var R=Oa(y.config),q=jn(h,R,y,w),G=q.ctx;function te(Ee){var Ae=q._next();return Ae&&Ae[ua](G,Ee),!Ae}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,R.cfg,y,Ae)),Qn(Ee||G[O](),y,Ae)}return G[Fn]=te,G[Ds]=le,G}function Qr(h,y,w){var R=Oa(y.config),q=jn(h,R,y,w),G=q.ctx;function te(Ee){return G.iterate(function(Ae){st(Ae[P])&&Ae[P](G,Ee)})}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,R.cfg,y,Ae)),Qr(Ee||G[O](),y,Ae)}return G[Fn]=te,G[Ds]=le,G}function Zn(h,y,w,R){var q=null,G=!R;if(tt(h)&&h[zi]>0){var te=null;Tn(h,function(le){if(!G&&R===le&&(G=!0),G&&le&&st(le[ou])){var Ee=br(le,y,w);q||(q=Ee),te&&te._setNext(Ee),te=Ee}})}return R&&!q?Zn([R],y,w):q}function br(h,y,w){var R=null,q=st(h[ou]),G=st(h[F]),te;h?te=h[xc]+"-"+h[Id]+"-"+Kt++:te="Unknown-0-"+Kt++;var le={getPlugin:function(){return h},getNext:function(){return R},processTelemetry:Ke,unload:bt,update:It,_id:te,_setNext:function(yt){R=yt}};function Ee(){var yt;return h&&st(h[Tt])&&(yt=h[Tt]()),yt||(yt=In(le,y,w)),yt}function Ae(yt,ut,sr,Nt,pr){var er=!1,ar=h?h[xc]:Ze,nn=yt[ct];return nn||(nn=yt[ct]={}),yt.setNext(R),h&&Ap(yt[lo](),function(){return ar+":"+sr},function(){nn[te]=!0;try{var Ii=R?R._id:Xi;Ii&&(nn[Ii]=!1),er=ut(yt)}catch(Mc){var as=R?nn[R._id]:!0;as&&(er=!0),(!R||!as)&&bn(yt[g](),1,73,"Plugin ["+ar+"] failed during "+sr+" - "+kt(Mc)+", run flags: "+kt(nn))}},Nt,pr),er}function Ke(yt,ut){ut=ut||Ee();function sr(Nt){if(!h||!q)return!1;var pr=z(h);return pr[iu]||pr[zv]?!1:(G&&h[F](R),h[ou](yt,Nt),!0)}Ae(ut,sr,"processTelemetry",function(){return{item:yt}},!yt.sync)||ut[Fn](yt)}function bt(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[iu]&&(pr[lo]=null,pr[iu]=!0,pr[$o]=!1,h[iu]&&h[iu](yt,ut)===!0&&(Nt=!0))}return Nt}Ae(yt,sr,"unload",function(){},ut[Pd])||yt[Fn](ut)}function It(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[iu]&&h[P]&&h[P](yt,ut)===!0&&(Nt=!0)}return Nt}Ae(yt,sr,"update",function(){},!1)||yt[Fn](ut)}return oi(le)}function Si(){var h=[];function y(R){R&&h[wi](R)}function w(R,q){Tn(h,function(G){try{G(R,q)}catch(te){bn(R[g](),2,73,"Unexpected error calling unload handler - "+kt(te))}}),h=[]}return{add:y,run:w}}function $n(){var h=[];function y(R){var q=h;h=[],Tn(q,function(G){try{(G.rm||G.remove).call(G)}catch(te){bn(R,2,73,"Unloading:"+kt(te))}})}function w(R){R&&Ws(h,R)}return{run:y,add:w}}var Pn,is="getPlugin",dc=(Pn={},Pn[Od]={isVal:wm,v:{}},Pn),ka=function(){function h(){var y=this,w,R,q,G,te;Ae(),qo(h,y,function(Ke){Ke[Ul]=function(bt,It,yt,ut){Ee(bt,It,ut),w=!0},Ke[iu]=function(bt,It){var yt,ut=Ke[lo];if(!ut||bt&&ut!==bt[lo]())return;var sr,Nt=!1,pr=bt||Qn(null,ut,q&&q[is]?q[is]():q),er=It||(yt={reason:0},yt[Pd]=!1,yt);function ar(){Nt||(Nt=!0,G.run(pr,It),te.run(pr[g]()),sr===!0&&pr[Fn](er),Ae())}return!Ke[v]||Ke[v](pr,er,ar)!==!0?ar():sr=!0,sr},Ke[P]=function(bt,It){var yt=Ke[lo];if(!yt||bt&&yt!==bt[lo]())return;var ut,sr=!1,Nt=bt||Qr(null,yt,q&&q[is]?q[is]():q),pr=It||{reason:0};function er(){sr||(sr=!0,Ee(Nt.getCfg(),Nt.core(),Nt[O]()))}return!Ke._doUpdate||Ke._doUpdate(Nt,pr,er)!==!0?er():ut=!0,ut},Dm(Ke,"_addUnloadCb",function(){return G},"add"),Dm(Ke,"_addHook",function(){return te},"add"),Fo(Ke,"_unloadHooks",{g:function(){return te}})}),y[g]=function(Ke){return le(Ke)[g]()},y[$o]=function(){return w},y.setInitialized=function(Ke){w=Ke},y[F]=function(Ke){q=Ke},y[Fn]=function(Ke,bt){bt?bt[Fn](Ke):q&&st(q[ou])&&q[ou](Ke,null)},y._getTelCtx=le;function le(Ke){Ke===void 0&&(Ke=null);var bt=Ke;if(!bt){var It=R||In(null,{},y[lo]);q&&q[is]?bt=It[Ds](null,q[is]):bt=It[Ds](null,q)}return bt}function Ee(Ke,bt,It){Oa(Ke,dc,qm(bt)),!It&&bt&&(It=bt[nu]()[O]());var yt=q;q&&q[is]&&(yt=q[is]()),y[lo]=bt,R=In(It,Ke,bt,yt)}function Ae(){w=!1,y[lo]=null,R=null,q=null,te=$n(),G=Si()}}return h.__ieDyn=1,h}();function Wg(h,y,w){var R={id:y,fn:w};Ws(h,R);var q={remove:function(){Tn(h,function(G,te){if(G.id===R.id)return h[Ea](te,1),-1})}};return q}function Bm(h,y,w){for(var R=!1,q=h[zi],G=0;G<q;++G){var te=h[G];if(te)try{if(te.fn[yf](null,[y])===!1){R=!0;break}}catch(le){bn(w,2,64,"Telemetry initializer failed: "+Oc(le),{exception:kt(le)},!0)}}return!R}var ey=function(h){fl(y,h);function y(){var w=h.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var R,q;G(),qo(y,w,function(te,le){te.addTelemetryInitializer=function(Ee){return Wg(q,R++,Ee)},te[ou]=function(Ee,Ae){Bm(q,Ee,Ae?Ae[g]():te[g]())&&te[Fn](Ee,Ae)},te[v]=function(){G()}});function G(){R=0,q=[]}return w}return y.__ieDyn=1,y}(ka),td,kh="Plugins must provide initialize method",ty="_notificationManager",ry="SDK is still unloading...",or="SDK is not initialized",un=Ji((td={cookieCfg:{}},td[bp]={rdOnly:!0,ref:!0,v:[]},td[_m]={rdOnly:!0,ref:!0,v:[]},td[Od]={ref:!0,v:{}},td[o_]=xd,td.loggingLevelConsole=0,td.diagnosticLogInterval=xd,td));function hi(h,y){return new Nb(y)}function os(h,y,w){var R,q=[],G=[],te={};return Tn(w,function(le){(xe(le)||xe(le[Ul]))&&$r(kh);var Ee=le[Id],Ae=le[xc];le&&Ee&&(xe(te[Ee])?te[Ee]=Ae:Jv(h,"Two extensions have same priority #"+Ee+" - "+te[Ee]+", "+Ae)),!Ee||Ee<y?q[wi](le):G[wi](le)}),R={},R[lo]=q,R[_m]=G,R}function Ts(h,y){var w=!1;return Tn(y,function(R){if(R===h)return w=!0,-1}),w}function Es(h,y,w,R){w&&Or(w,function(q,G){R&&Ss(G)&&Ss(y[q])&&Es(h,y[q],G,R),R&&Ss(G)&&Ss(y[q])?Es(h,y[q],G,R):h.set(y,q,G)})}function Ns(h,y){var w=null,R=-1;return Tn(h,function(q,G){if(q.w===y)return w=q,R=G,-1}),{i:R,l:w}}function Wm(h,y){var w=Ns(h,y).l;return w||(w={w:y,rm:function(){var R=Ns(h,y);R.i!==-1&&h[Ea](R.i,1)}},h[wi](w)),w}function Lp(h,y,w){Tn(y,function(R){var q=Ph(h,R.w,w);delete R.w,R.rm=function(){q.rm()}})}var Mp=function(){function h(){var y,w,R,q,G,te,le,Ee,Ae,Ke,bt,It,yt,ut,sr,Nt,pr,er,ar,nn,Ii,as,Mc,La,od,Ku,G0,D_;qo(h,this,function(Ur){vr(),Ur._getDbgPlgTargets=function(){return[Mc]},Ur[$o]=function(){return w},Ur[Ul]=function(Bt,Yr,bi,li){yt&&$r(ry),Ur[$o]()&&$r("Core cannot be initialized more than once"),y=Oa(Bt,un,bi||Ur[Gi],!1),Bt=y.cfg,ew(y[hl](function(Rs){Ii=Rs.cfg.instrumentationKey;var au=Rs.ref(Rs.cfg,Od);Or(au,function(Yu){Rs.ref(au,Yu)}),xe(Ii)&&$r("Please provide instrumentation key")})),G=li,QO(),kN(),Ur[Gi]=bi;var ri=Bt[bp];if(Ke=[],Ke[wi].apply(Ke,bh(bh([],Yr,!1),ri)),bt=Bt[_m],XO(null),(!It||It[zi]===0)&&$r("No "+_m+" available"),bt&&bt[zi]>1){var Ps=Ur[rc]("TeeChannelController");(!Ps||!Ps.plugin)&&bn(R,1,28,"TeeChannel required")}Lp(Bt,as,R),as=null,w=!0,Ur.releaseQueue(),Ur[ca]()},Ur.getChannels=function(){var Bt=[];return It&&Tn(It,function(Yr){Bt[wi](Yr)}),oi(Bt)},Ur.track=function(Bt){Ap(Ur[ns](),function(){return"AppInsightsCore:track"},function(){Bt===null&&(AN(Bt),$r("Invalid telemetry item")),!Bt[uo]&&xe(Bt[uo])&&(AN(Bt),$r("telemetry name required")),Bt.iKey=Bt.iKey||Ii,Bt[Cu]=Bt[Cu]||Ld(new Date),Bt.ver=Bt.ver||"4.0",!yt&&Ur[$o]()?WD()[Fn](Bt):q[wi](Bt)},function(){return{item:Bt}},!Bt.sync)},Ur[nu]=WD,Ur[xo]=function(){return G||(G=new Ug(y.cfg),Ur[ty]=G),G},Ur[ai]=function(Bt){Ur[xo]()[ai](Bt)},Ur[Hl]=function(Bt){G&&G[Hl](Bt)},Ur.getCookieMgr=function(){return Ee||(Ee=Ab(y.cfg,Ur[Gi])),Ee},Ur.setCookieMgr=function(Bt){Ee!==Bt&&(Rh(Ee,!1),Ee=Bt)},Ur[ns]=function(){return!te&&!le&&ew(y[hl](function(Bt){if(Bt.cfg.enablePerfMgr){var Yr=Bt.cfg[o_];st(Yr)&&(le=Yr(Ur,Ur[xo]()))}})),te||le||Bg()},Ur.setPerfMgr=function(Bt){te=Bt},Ur.eventCnt=function(){return q[zi]},Ur.releaseQueue=function(){if(w&&q[zi]>0){var Bt=q;q=[],Tn(Bt,function(Yr){WD()[Fn](Yr)})}},Ur[ca]=function(Bt){return sr=Bt||null,D_=!1,Ku&&Ku[Td](),T_(!0)};function T_(Bt){if((!Ku||!Ku[Pa])&&!D_){var Yr=Bt||R&&R.queue[zi]>0;Yr&&(G0||(G0=!0,ew(y[hl](function(bi){var li=bi.cfg.diagnosticLogInterval;(!li||!(li>0))&&(li=1e4);var ri=!1;Ku&&(ri=Ku[Pa],Ku[Td]()),Ku=lp(VD,li),Ku.unref(),Ku[Pa]=ri}))),Ku[Pa]=!0)}return Ku}Ur[ma]=function(){D_=!0,Ku&&Ku[Td](),VD()},Eg(Ur,function(){return ut},["addTelemetryInitializer"]),Ur[ua]=function(Bt,Yr,bi){var li;Bt===void 0&&(Bt=!0),w||$r(or),yt&&$r(ry);var ri=(li={reason:50},li[Pd]=Bt,li.flushComplete=!1,li),Ps;Bt&&!Yr&&(Ps=_p(function(Yu){Yr=Yu}));var Rs=Qn($D(),Ur);Rs[Bl](function(){er.run(Ur[Gi]),c_([Ee,G,R],Bt,function(){vr(),Yr&&Yr(ri)})},Ur);function au(Yu){ri.flushComplete=Yu,yt=!0,pr.run(Rs,ri),Ur[ma](),Rs[Fn](ri)}return VD(),IN(Bt,au,6,bi),Ps},Ur[rc]=K0,Ur.addPlugin=function(Bt,Yr,bi,li){if(!Bt){li&&li(!1),Zb(kh);return}var ri=K0(Bt[xc]);if(ri&&!Yr){li&&li(!1),Zb("Plugin ["+Bt[xc]+"] is already loaded!");return}var Ps={reason:16};function Rs(Jm){Ke[wi](Bt),Ps.added=[Bt],XO(Ps),li&&li(!0)}if(ri){var au=[ri.plugin],Yu={reason:2,isAsync:!!bi};Y0(au,Yu,function(Jm){Jm?(Ps.removed=au,Ps.reason|=32,Rs()):li&&li(!1)})}else Rs()},Ur.updateCfg=function(Bt,Yr){Yr===void 0&&(Yr=!0);var bi;if(Ur[$o]()){bi={reason:1,cfg:y.cfg,oldCfg:_u({},y.cfg),newConfig:_u({},Bt),merge:Yr},Bt=bi.newConfig;var li=y.cfg;Bt[bp]=li[bp],Bt[_m]=li[_m]}y._block(function(ri){var Ps=ri.cfg;Es(ri,Ps,Bt,Yr),Yr||Or(Ps,function(Rs){ln(Bt,Rs)||ri.set(Ps,Rs,xd)}),ri[aa](Ps,un)},!0),y[Wu](),bi&&ZO(bi)},Ur.evtNamespace=function(){return Nt},Ur.flush=IN,Ur.getTraceCtx=function(Bt){return nn||(nn=We()),nn},Ur.setTraceCtx=function(Bt){nn=Bt||null},Ur.addUnloadHook=ew,Dm(Ur,"addUnloadCb",function(){return pr},"add"),Ur.onCfgChange=function(Bt){var Yr;return w?Yr=Ph(y.cfg,Bt,Ur[Gi]):Yr=Wm(as,Bt),{rm:function(){Yr.rm()}}},Ur.getWParam=function(){return Nn()||y.cfg.enableWParam?0:-1};function E_(){var Bt={};La=[];var Yr=function(bi){bi&&Tn(bi,function(li){if(li[xc]&&li[nc]&&!Bt[li.identifier]){var ri=li[xc]+"="+li[nc];La[wi](ri),Bt[li.identifier]=li}})};Yr(It),bt&&Tn(bt,function(bi){Yr(bi)}),Yr(Ke)}function vr(){w=!1,y=Oa({},un,Ur[Gi]),y.cfg[Ed]=1,Fo(Ur,"config",{g:function(){return y.cfg},s:function(Yr){Ur.updateCfg(Yr,!1)}}),Fo(Ur,"pluginVersionStringArr",{g:function(){return La||E_(),La}}),Fo(Ur,"pluginVersionString",{g:function(){return od||(La||E_(),od=La.join(";")),od||Xi}}),Fo(Ur,"logger",{g:function(){return R||(R=new qg(y.cfg),y[Gi]=R),R},s:function(Yr){y[Gi]=Yr,R!==Yr&&(Rh(R,!1),R=Yr)}}),Ur[Gi]=new qg(y.cfg),Mc=[];var Bt=Ur.config[bp]||[];Bt.splice(0,Bt[zi]),Ws(Bt,Mc),ut=new ey,q=[],Rh(G,!1),G=null,te=null,le=null,Rh(Ee,!1),Ee=null,Ae=null,Ke=[],bt=null,It=null,yt=!1,sr=null,Nt=Ic("AIBaseCore",!0),pr=Si(),nn=null,Ii=null,er=$n(),as=[],od=null,La=null,D_=!1}function WD(){var Bt=In($D(),y.cfg,Ur);return Bt[Bl](T_),Bt}function XO(Bt){var Yr=os(Ur[Gi],OS,Ke);Ae=null,od=null,La=null,It=(bt||[])[0]||[],It=ve(Ws(It,Yr[_m]));var bi=Ws(ve(Yr[lo]),It);Mc=oi(bi);var li=Ur.config[bp]||[];li.splice(0,li[zi]),Ws(li,Mc);var ri=WD();It&&It[zi]>0&&Y(ri[Ds](It),bi),Y(ri,bi),Bt&&ZO(Bt)}function K0(Bt){var Yr=null,bi=null,li=[];return Tn(Mc,function(ri){if(ri[xc]===Bt&&ri!==ut)return bi=ri,-1;ri.getChannel&&li[wi](ri)}),!bi&&li[zi]>0&&Tn(li,function(ri){if(bi=ri.getChannel(Bt),!bi)return-1}),bi&&(Yr={plugin:bi,setEnabled:function(ri){z(bi)[zv]=!ri},isEnabled:function(){var ri=z(bi);return!ri[iu]&&!ri[zv]},remove:function(ri,Ps){var Rs;ri===void 0&&(ri=!0);var au=[bi],Yu=(Rs={reason:1},Rs[Pd]=ri,Rs);Y0(au,Yu,function(Jm){Jm&&XO({reason:32,removed:au}),Ps&&Ps(Jm)})}}),Yr}function $D(){if(!Ae){var Bt=(Mc||[]).slice();$s(Bt,ut)===-1&&Bt[wi](ut),Ae=Zn(ve(Bt),y.cfg,Ur)}return Ae}function Y0(Bt,Yr,bi){if(Bt&&Bt[zi]>0){var li=Zn(Bt,y.cfg,Ur),ri=Qn(li,Ur);ri[Bl](function(){var Ps=!1,Rs=[];Tn(Ke,function(Yu,Jm){Ts(Yu,Bt)?Ps=!0:Rs[wi](Yu)}),Ke=Rs,od=null,La=null;var au=[];bt&&(Tn(bt,function(Yu,Jm){var tw=[];Tn(Yu,function(LN){Ts(LN,Bt)?Ps=!0:tw[wi](LN)}),au[wi](tw)}),bt=au),bi&&bi(Ps),T_()}),ri[Fn](Yr)}else bi(!1)}function VD(){if(R&&R.queue){var Bt=R.queue.slice(0);R.queue[zi]=0,Tn(Bt,function(Yr){var bi,li=(bi={},bi[uo]=sr||"InternalMessageId: "+Yr[pl],bi.iKey=Ii,bi[Cu]=Ld(new Date),bi.baseType=Yl.dataType,bi.baseData={message:Yr[Wl]},bi);Ur.track(li)})}}function IN(Bt,Yr,bi,li){var ri=1,Ps=!1,Rs=null;li=li||5e3;function au(){ri--,Ps&&ri===0&&(Rs&&Rs[Td](),Rs=null,Yr&&Yr(Ps),Yr=null)}if(It&&It[zi]>0){var Yu=WD()[Ds](It);Yu.iterate(function(Jm){if(Jm.flush){ri++;var tw=!1;Jm.flush(Bt,function(){tw=!0,au()},bi)||tw||(Bt&&Rs==null?Rs=vh(function(){Rs=null,au()},li):au())}})}return Ps=!0,au(),!0}function QO(){!G&&Ur[xo](),ew(y[hl](function(Bt){var Yr=Bt.cfg.disableDbgExt;Yr===!0&&ar&&(G[Hl](ar),ar=null),G&&!ar&&Yr!==!0&&(ar=PD(Bt.cfg),G[ai](ar))}))}function kN(){ew(y[hl](function(Bt){var Yr=Bt.cfg.enablePerfMgr;!Yr&&le&&(le=null),Yr&&Cm(Bt.cfg,o_,hi)}))}function ZO(Bt){var Yr=Qr($D(),Ur);Yr[Bl](T_),(!Ur._updateHook||Ur._updateHook(Yr,Bt)!==!0)&&Yr[Fn](Bt)}function Zb(Bt){var Yr=Ur[Gi];Yr?(bn(Yr,2,73,Bt),T_()):$r(Bt)}function AN(Bt){var Yr=Ur[xo]();Yr&&Yr[Ls]([Bt],2)}function ew(Bt){er.add(Bt)}})}return h.__ieDyn=1,h}(),jb="on",$m="attachEvent",Ah="addEventListener",ny="detachEvent",Iu="removeEventListener",Vm="events";Ic("aiEvtPageHide"),Ic("aiEvtPageShow");var Lh=/\.[\.]+/g,$g=/[\.]+$/,U0=1,Vg=vl("events"),Vu=/^([^.]*)(?:\.(.+)|)/;function bl(h){return h&&h[ke]?h[ke](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Xi):h}function iy(h,y){var w;if(y){var R=Xi;tt(y)?(R=Xi,Tn(y,function(G){G=bl(G),G&&(G[0]!=="."&&(G="."+G),R+=G)})):R=bl(y),R&&(R[0]!=="."&&(R="."+R),h=(h||Xi)+R)}var q=Vu.exec(h||Xi)||[];return w={},w[ht]=q[1],w.ns=(q[2]||Xi).replace(Lh,".").replace($g,Xi)[Z](".").sort().join("."),w}function If(h,y,w){w===void 0&&(w=!0);var R=Vg.get(h,Vm,{},w),q=R[y];return q||(q=R[y]=[]),q}function xD(h,y,w,R){h&&y&&y[ht]&&(h[Iu]?h[Iu](y[ht],w,R):h[ny]&&h[ny](jb+y[ht],w))}function NS(h,y,w,R){var q=!1;return h&&y&&y[ht]&&w&&(h[Ah]?(h[Ah](y[ht],w,R),q=!0):h[$m]&&(h[$m](jb+y[ht],w),q=!0)),q}function H0(h,y,w,R){for(var q=y[zi];q--;){var G=y[q];G&&(!w.ns||w.ns===G.evtName.ns)&&(!R||R(G))&&(xD(h,G.evtName,G[Ut],G.capture),y[Ea](q,1))}}function B0(h,y,w){if(y[ht])H0(h,If(h,y[ht]),y,w);else{var R=Vg.get(h,Vm,{});Or(R,function(q,G){H0(h,G,y,w)}),Gr(R)[zi]===0&&Vg.kill(h,Vm)}}function FS(h,y){var w;return y?(tt(y)?w=[h].concat(y):w=[h,y],w=iy("xx",w).ns[Z](".")):w=h,w}function kf(h,y,w,R,q){var G;q===void 0&&(q=!1);var te=!1;if(h)try{var le=iy(y,R);if(te=NS(h,le,w,q),te&&Vg.accept(h)){var Ee=(G={guid:U0++,evtName:le},G[Ut]=w,G.capture=q,G);If(h,le.type)[wi](Ee)}}catch{}return te}function OD(h,y,w,R,q){if(q===void 0&&(q=!1),h)try{var G=iy(y,R),te=!1;B0(h,G,function(le){return G.ns&&!w||le[Ut]===w?(te=!0,!0):!1}),te||xD(h,G,w,q)}catch{}}var p_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",zb="sampleRate",Ub="ProcessLegacy",Hb="http.method",qS="https://dc.services.visualstudio.com",m_="/v2/track",Af="not_specified",g_=hp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Bb="split",to="length",jS="toLowerCase",Gg="ingestionendpoint",oy="toString",W0="removeItem",Lf="name",rd="message",zS="count",Mh="stringify",Kg="pathname",Np="exceptions",wl="parsedStack",Nh="properties",Fp="measurements",Yg="sizeInBytes",qp="typeName",Wb="severityLevel",US="problemGroup",ID="isManual",v_="CreateFromInterface",sy="assembly",Jg="fileName",ay="hasFullStack",$b="level",Xg="method",y_="line",Vb="duration",__="receivedResponse";function $0(h,y,w){var R=y[to],q=Gb(h,y);if(q[to]!==R){for(var G=0,te=q;w[te]!==void 0;)G++,te=he(q,0,147)+ev(G);q=te}return q}function Gb(h,y){var w;return y&&(y=Gs(ft(y)),y[to]>150&&(w=he(y,0,150),bn(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),w||y}function Aa(h,y,w){w===void 0&&(w=1024);var R;return y&&(w=w||1024,y=Gs(ft(y)),y[to]>w&&(R=he(y,0,w),bn(h,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:y},!0))),R||y}function jp(h,y){return Kb(h,y,2048,66)}function Qg(h,y){var w;return y&&y[to]>32768&&(w=he(y,0,32768),bn(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),w||y}function kD(h,y){var w;if(y){var R=""+y;R[to]>32768&&(w=he(R,0,32768),bn(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return w||y}function Gm(h,y){if(y){var w={};Or(y,function(R,q){if(at(q)&&su())try{q=sc()[Mh](q)}catch(G){bn(h,2,49,"custom property is not valid",{exception:G},!0)}q=Aa(h,q,8192),R=$0(h,R,w),w[R]=q}),y=w}return y}function Zg(h,y){if(y){var w={};Or(y,function(R,q){R=$0(h,R,w),w[R]=q}),y=w}return y}function b_(h,y){return y&&Kb(h,y,128,69)[oy]()}function Kb(h,y,w,R){var q;return y&&(y=Gs(ft(y)),y[to]>w&&(q=he(y,0,w),bn(h,2,R,"input is too long, it has been truncated to "+w+" characters.",{data:y},!0))),q||y}function ev(h){var y="00"+h;return S(y,y[to]-3)}var tv=ao()||{},AD=0,LD=[null,null,null,null,null];function w_(h){var y=AD,w=LD,R=w[y];return tv.createElement?w[y]||(R=w[y]=tv.createElement("a")):R={host:MD(h,!0)},R.href=h,y++,y>=w[to]&&(y=0),AD=y,R}function MD(h,y){var w=KO(h,y)||"";if(w){var R=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[to]>3&&ze(R[2])&&R[2][to]>0)return R[2]+(R[3]||"")}return w}function KO(h,y){var w=null;if(h){var R=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[to]>2&&ze(R[2])&&R[2][to]>0&&(w=R[2]||"",y&&R[to]>2)){var q=(R[1]||"")[jS](),G=R[3]||"";(q==="http"&&G===":80"||q==="https"&&G===":443")&&(G=""),w+=G}}return w}var YO=[qS+m_,"https://breeze.aimon.applicationinsights.io"+m_,"https://dc-int.services.visualstudio.com"+m_];function Km(h){return $s(YO,h[jS]())!==-1}function JO(h,y,w,R){var q,G=R,te=R;if(y&&y[to]>0){var le=w_(y);if(q=le.host,!G)if(le[Kg]!=null){var Ee=le.pathname[to]===0?"/":le[Kg];Ee.charAt(0)!=="/"&&(Ee="/"+Ee),te=le[Kg],G=Aa(h,w?w+" "+Ee:Ee)}else G=Aa(h,y)}else q=R,G=R;return{target:q,name:G,data:te}}var Yb=Dd({LocalStorage:0,SessionStorage:1});Dd({AI:0,AI_AND_W3C:1,W3C:2});var cy=void 0,HS="";function BS(h){try{if(xe(Ln()))return null;var y=new Date()[oy](),w=Cn(h===Yb.LocalStorage?"localStorage":"sessionStorage"),R=HS+y;w.setItem(R,y);var q=w.getItem(R)!==y;if(w[W0](R),!q)return w}catch{}return null}function Jb(){return ND()?BS(Yb.SessionStorage):null}function Ym(h){HS=h||""}function ND(h){return(h||cy===void 0)&&(cy=!!BS(Yb.SessionStorage)),cy}function Xs(h,y){var w=Jb();if(w!==null)try{return w.getItem(y)}catch(R){cy=!1,bn(h,2,2,"Browser failed read of session storage. "+Oc(R),{exception:kt(R)})}return null}function Fh(h,y,w){var R=Jb();if(R!==null)try{return R.setItem(y,w),!0}catch(q){cy=!1,bn(h,2,4,"Browser failed write to session storage. "+Oc(q),{exception:kt(q)})}return!1}var Qs=";",FD="=";function qD(h){if(!h)return{};var y=h[Bb](Qs),w=Qc(y,function(q,G){var te=G[Bb](FD);if(te[to]===2){var le=te[0][jS](),Ee=te[1];q[le]=Ee}return q},{});if(Gr(w)[to]>0){if(w.endpointsuffix){var R=w.location?w.location+".":"";w[Gg]=w[Gg]||"https://"+R+"dc."+w.endpointsuffix}w[Gg]=w[Gg]||qS,ia(w[Gg],"/")&&(w[Gg]=w[Gg].slice(0,-1))}return w}var jD=function(){function h(y,w,R){var q=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[Lf]=Aa(y,R)||Af,G.data=w,G.time=Ld(new Date),G.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return q.sampleRate===100?4:1},tags:1,data:1}}return h}(),C=function(){function h(y,w,R,q){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[Lf]=Aa(y,w)||Af,G[Nh]=Gm(y,R),G[Fp]=Zg(y,q)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),L="<no_method>",B="error",X="stack",ae="stackDetails",Ce="errorSrc",Te="message",Xe="description";function lt(h,y){var w=h;return w&&!ze(w)&&(JSON&&JSON[Mh]?(w=JSON[Mh](h),y&&(!w||w==="{}")&&(st(h[oy])?w=h[oy]():w=""+h)):w=""+h+" - (Missing JSON.stringify)"),w||""}function gt(h,y){var w=h;return h&&(w&&!ze(w)&&(w=h[Te]||h[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),h.filename&&(w=w+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Fu(w||"",y)===-1&&(w=y+": "+w),w||""}function jt(h){try{if(at(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}function Pr(h){try{if(at(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}function wr(h){return h&&h.src&&ze(h.src)&&h.obj&&tt(h.obj)}function Lt(h){var y=h||"";ze(y)||(ze(y[X])?y=y[X]:y=""+y);var w=y[Bb](`
`);return{src:y,obj:w}}function Pt(h){for(var y=[],w=h[Bb](`
`),R=0;R<w[to];R++){var q=w[R];w[R+1]&&(q+="@"+w[R+1],R++),y.push(q)}return{src:h,obj:y}}function qt(h){var y=null;if(h)try{if(h[X])y=Lt(h[X]);else if(h[B]&&h[B][X])y=Lt(h[B][X]);else if(h.exception&&h.exception[X])y=Lt(h.exception[X]);else if(wr(h))y=h;else if(wr(h[ae]))y=h[ae];else if(Po()&&Po().opera&&h[Te])y=Pt(h[rd]);else if(h.reason&&h.reason[X])y=Lt(h.reason[X]);else if(ze(h))y=Lt(h);else{var w=h[Te]||h[Xe]||"";ze(h[Ce])&&(w&&(w+=`
`),w+=" from "+h[Ce]),w&&(y=Lt(w))}}catch(R){y=Lt(R)}return y||{src:"",obj:null}}function Et(h){var y="";return h&&(h.obj?Tn(h.obj,function(w){y+=w+`
`}):y=h.src||""),y}function ur(h){var y,w=h.obj;if(w&&w[to]>0){y=[];var R=0,q=0;Tn(w,function(ut){var sr=ut[oy]();if(ci.regex.test(sr)){var Nt=new ci(sr,R++);q+=Nt[Yg],y.push(Nt)}});var G=32*1024;if(q>G)for(var te=0,le=y[to]-1,Ee=0,Ae=te,Ke=le;te<le;){var bt=y[te][Yg],It=y[le][Yg];if(Ee+=bt+It,Ee>G){var yt=Ke-Ae+1;y.splice(Ae,yt);break}Ae=te,Ke=le,te++,le--}}return y}function nr(h){var y="";if(h&&(y=h.typeName||h[Lf]||"",!y))try{var w=/function (.{1,200})\(/,R=w.exec(h.constructor[oy]());y=R&&R[to]>1?R[1]:""}catch{}return y}function yr(h){if(h)try{if(!ze(h)){var y=nr(h),w=lt(h,!1);return(!w||w==="{}")&&(h[B]&&(h=h[B],y=nr(h)),w=lt(h,!0)),Fu(w,y)!==0&&y!=="String"?y+":"+w:w}}catch{}return""+(h||"")}var hn=function(){function h(y,w,R,q,G,te){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var le=this;le.ver=2,Pr(w)?(le[Np]=w[Np]||[],le[Nh]=w[Nh],le[Fp]=w[Fp],w[Wb]&&(le[Wb]=w[Wb]),w.id&&(le.id=w.id),w[US]&&(le[US]=w[US]),xe(w[ID])||(le[ID]=w[ID])):(R||(R={}),le[Np]=[new pi(y,w,R)],le[Nh]=Gm(y,R),le[Fp]=Zg(y,q),G&&(le[Wb]=G),te&&(le.id=te))}return h.CreateAutoException=function(y,w,R,q,G,te,le,Ee){var Ae,Ke=nr(G||te||y);return Ae={},Ae[rd]=gt(y,Ke),Ae.url=w,Ae.lineNumber=R,Ae.columnNumber=q,Ae.error=yr(G||te||y),Ae.evt=yr(te||y),Ae[qp]=Ke,Ae.stackDetails=qt(le||G||te),Ae.errorSrc=Ee,Ae},h.CreateFromInterface=function(y,w,R,q){var G=w[Np]&&vu(w[Np],function(le){return pi[v_](y,le)}),te=new h(y,ps(ps({},w),{exceptions:G}),R,q);return te},h.prototype.toInterface=function(){var y,w=this,R=w.exceptions,q=w.properties,G=w.measurements,te=w.severityLevel,le=w.problemGroup,Ee=w.id,Ae=w.isManual,Ke=R instanceof Array&&vu(R,function(bt){return bt.toInterface()})||void 0;return y={ver:"4.0"},y[Np]=Ke,y.severityLevel=te,y.properties=q,y.measurements=G,y.problemGroup=le,y.id=Ee,y.isManual=Ae,y},h.CreateSimpleException=function(y,w,R,q,G,te){var le;return{exceptions:[(le={},le[ay]=!0,le.message=y,le.stack=G,le.typeName=w,le)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=yr,h}(),pi=function(){function h(y,w,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var q=this;if(jt(w))q[qp]=w[qp],q[rd]=w[rd],q[X]=w[X],q[wl]=w[wl]||[],q[ay]=w[ay];else{var G=w,te=G&&G.evt;cr(G)||(G=G[B]||te||G),q[qp]=Aa(y,nr(G))||Af,q[rd]=Qg(y,gt(w||G,q[qp]))||Af;var le=w[ae]||qt(w);q[wl]=ur(le),tt(q[wl])&&vu(q[wl],function(Ee){Ee[sy]=Aa(y,Ee[sy]),Ee[Jg]=Aa(y,Ee[Jg])}),q[X]=kD(y,Et(le)),q.hasFullStack=tt(q.parsedStack)&&q.parsedStack[to]>0,R&&(R[qp]=R[qp]||q[qp])}}return h.prototype.toInterface=function(){var y,w=this,R=w[wl]instanceof Array&&vu(w[wl],function(G){return G.toInterface()}),q=(y={id:w.id,outerId:w.outerId,typeName:w[qp],message:w[rd],hasFullStack:w[ay],stack:w[X]},y[wl]=R||void 0,y);return q},h.CreateFromInterface=function(y,w){var R=w[wl]instanceof Array&&vu(w[wl],function(G){return ci[v_](G)})||w[wl],q=new h(y,ps(ps({},w),{parsedStack:R}));return q},h}(),ci=function(){function h(y,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Yg]=0,typeof y=="string"){var q=y;R[$b]=w,R[Xg]=L,R[sy]=Gs(q),R[Jg]="",R[y_]=0;var G=q.match(h.regex);G&&G[to]>=5&&(R[Xg]=Gs(G[2])||R[Xg],R[Jg]=Gs(G[4]),R[y_]=parseInt(G[5])||0)}else R[$b]=y[$b],R[Xg]=y[Xg],R[sy]=y[sy],R[Jg]=y[Jg],R[y_]=y[y_],R[Yg]=0;R.sizeInBytes+=R.method[to],R.sizeInBytes+=R.fileName[to],R.sizeInBytes+=R.assembly[to],R[Yg]+=h.baseSize,R.sizeInBytes+=R.level.toString()[to],R.sizeInBytes+=R.line.toString()[to]}return h.CreateFromInterface=function(y){return new h(y,null)},h.prototype.toInterface=function(){var y=this;return{level:y[$b],method:y[Xg],assembly:y[sy],fileName:y[Jg],line:y[y_]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),fo=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return h}(),Go=function(){function h(y,w,R,q,G,te,le,Ee,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var Ke=this;Ke.ver=2;var bt=new fo;bt[zS]=q>0?q:void 0,bt.max=isNaN(te)||te===null?void 0:te,bt.min=isNaN(G)||G===null?void 0:G,bt[Lf]=Aa(y,w)||Af,bt.value=R,bt.stdDev=isNaN(le)||le===null?void 0:le,Ke.metrics=[bt],Ke[Nh]=Gm(y,Ee),Ke[Fp]=Zg(y,Ae)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),Oo="";function Fs(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var y=Oo+h%1e3,w=Oo+Math.floor(h/1e3)%60,R=Oo+Math.floor(h/(1e3*60))%60,q=Oo+Math.floor(h/(1e3*60*60))%24,G=Math.floor(h/(1e3*60*60*24));return y=y[to]===1?"00"+y:y[to]===2?"0"+y:y,w=w[to]<2?"0"+w:w,R=R[to]<2?"0"+R:R,q=q[to]<2?"0"+q:q,(G>0?G+".":Oo)+q+":"+R+":"+w+"."+y}var fc=function(){function h(y,w,R,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ee=this;Ee.ver=2,Ee.id=b_(y,le),Ee.url=jp(y,R),Ee[Lf]=Aa(y,w)||Af,isNaN(q)||(Ee[Vb]=Fs(q)),Ee[Nh]=Gm(y,G),Ee[Fp]=Zg(y,te)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),Qi=function(){function h(y,w,R,q,G,te,le,Ee,Ae,Ke,bt,It){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var yt=this;yt.ver=2,yt.id=w,yt[Vb]=Fs(G),yt.success=te,yt.resultCode=le+"",yt.type=Aa(y,Ae);var ut=JO(y,R,Ee,q);yt.data=jp(y,q)||ut.data,yt.target=Aa(y,ut.target),Ke&&(yt.target="".concat(yt.target," | ").concat(Ke)),yt[Lf]=Aa(y,ut[Lf]),yt[Nh]=Gm(y,bt),yt[Fp]=Zg(y,It)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),kc=function(){function h(y,w,R,q,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var te=this;te.ver=2,w=w||Af,te[rd]=Qg(y,w),te[Nh]=Gm(y,q),te[Fp]=Zg(y,G),R&&(te[Wb]=R)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),Ac=function(){function h(y,w,R,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee.url=jp(y,R),Ee[Lf]=Aa(y,w)||Af,Ee[Nh]=Gm(y,G),Ee[Fp]=Zg(y,te),le&&(Ee.domProcessing=le.domProcessing,Ee[Vb]=le[Vb],Ee.networkConnect=le.networkConnect,Ee.perfTotal=le.perfTotal,Ee[__]=le[__],Ee.sentRequest=le.sentRequest)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),la=function(){function h(y,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=w}return h}(),Sl=Dd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function ga(h){var y="ai."+h+".";return function(w){return y+w}}var va=ga("application"),Ci=ga("device"),ro=ga("location"),nd=ga("operation"),S_=ga("session"),zp=ga("user"),Up=ga("cloud"),p=ga("internal"),b=function(h){fl(y,h);function y(){return h.call(this)||this}return y}(Cp({applicationVersion:va("ver"),applicationBuild:va("build"),applicationTypeId:va("typeId"),applicationId:va("applicationId"),applicationLayer:va("layer"),deviceId:Ci("id"),deviceIp:Ci("ip"),deviceLanguage:Ci("language"),deviceLocale:Ci("locale"),deviceModel:Ci("model"),deviceFriendlyName:Ci("friendlyName"),deviceNetwork:Ci("network"),deviceNetworkName:Ci("networkName"),deviceOEMName:Ci("oemName"),deviceOS:Ci("os"),deviceOSVersion:Ci("osVersion"),deviceRoleInstance:Ci("roleInstance"),deviceRoleName:Ci("roleName"),deviceScreenResolution:Ci("screenResolution"),deviceType:Ci("type"),deviceMachineName:Ci("machineName"),deviceVMName:Ci("vmName"),deviceBrowser:Ci("browser"),deviceBrowserVersion:Ci("browserVersion"),locationIp:ro("ip"),locationCountry:ro("country"),locationProvince:ro("province"),locationCity:ro("city"),operationId:nd("id"),operationName:nd("name"),operationParentId:nd("parentId"),operationRootId:nd("rootId"),operationSyntheticSource:nd("syntheticSource"),operationCorrelationVector:nd("correlationVector"),sessionId:S_("id"),sessionIsFirst:S_("isFirst"),sessionIsNew:S_("isNew"),userAccountAcquisitionDate:zp("accountAcquisitionDate"),userAccountId:zp("accountId"),userAgent:zp("userAgent"),userId:zp("id"),userStoreRegion:zp("storeRegion"),userAuthUserId:zp("authUserId"),userAnonymousUserAcquisitionDate:zp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:zp("authUserAcquisitionDate"),cloudName:Up("name"),cloudRole:Up("role"),cloudRoleVer:Up("roleVer"),cloudRoleInstance:Up("roleInstance"),cloudEnvironment:Up("environment"),cloudLocation:Up("location"),cloudDeploymentUnit:Up("deploymentUnit"),internalNodeName:p("nodeName"),internalSdkVersion:p("sdkVersion"),internalAgentVersion:p("agentVersion"),internalSnippet:p("snippet"),internalSdkSrc:p("sdkSrc")})),I=new b,j="AppInsightsChannelPlugin",$="duration",ie="tags",ge="deviceType",Ie="data",Be="name",et="traceID",Ve="length",wt="stringify",ot="measurements",_t="dataType",it="envelopeType",Qt="toString",Vt="onLine",_r="isOnline",Rr="_get",Ir="enqueue",Mn="count",Oi="eventsLimitInMem",Io="push",Ge="emitLineDelimitedJson",At="clear",Zt="batchPayloads",lr="createNew",rn="markAsSent",ei="clearSent",St="bufferOverride",nt="BUFFER_KEY",Dt="SENT_BUFFER_KEY",Ot="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Nr="diagLog",ti="_sender",Ko="customHeaders",bo="maxBatchSizeInBytes",qh="onunloadDisableBeacon",$d="isBeaconApiDisabled",C_="alwaysUseXhrOverride",Mf="enableSessionStorageBuffer",Hp="_buffer",zD="onunloadDisableFetch",Xb="instrumentationKey",Wt="convertUndefined",Kr="maxBatchInterval",ui="baseType",Vn="sampleRate",mi="_xhrReadyStateChange",jo="_onError",ss="_onPartialSuccess",Lc="_onSuccess",ku="itemsAccepted",rv="itemsReceived",uy="oriPayload",V0="setRequestHeader",cle="eventsSendRequest",ule="getSamplingScore",rBe="getHashCodeScore",S4="baseType",hc="baseData",id="properties",lle="true";function Gu(h,y,w){return Pu(h,y,w,hr)}function nBe(h,y,w){var R=w[ie]=w[ie]||{},q=y.ext=y.ext||{},G=y[ie]=y[ie]||[],te=q.user;te&&(Gu(R,I.userAuthUserId,te.authId),Gu(R,I.userId,te.id||te.localId));var le=q.app;le&&Gu(R,I.sessionId,le.sesId);var Ee=q.device;Ee&&(Gu(R,I.deviceId,Ee.id||Ee.localId),Gu(R,I[ge],Ee.deviceClass),Gu(R,I.deviceIp,Ee.ip),Gu(R,I.deviceModel,Ee.model),Gu(R,I[ge],Ee[ge]));var Ae=y.ext.web;if(Ae){Gu(R,I.deviceLanguage,Ae.browserLang),Gu(R,I.deviceBrowserVersion,Ae.browserVer),Gu(R,I.deviceBrowser,Ae.browser);var Ke=w[Ie]=w[Ie]||{},bt=Ke[hc]=Ke[hc]||{},It=bt[id]=bt[id]||{};Gu(It,"domain",Ae.domain),Gu(It,"isManual",Ae.isManual?lle:null),Gu(It,"screenRes",Ae.screenRes),Gu(It,"userConsent",Ae.userConsent?lle:null)}var yt=q.os;yt&&Gu(R,I.deviceOS,yt[Be]);var ut=q.trace;ut&&(Gu(R,I.operationParentId,ut.parentID),Gu(R,I.operationName,Aa(h,ut[Be])),Gu(R,I.operationId,ut[et]));for(var sr={},Nt=G[Ve]-1;Nt>=0;Nt--){var pr=G[Nt];Or(pr,function(ar,nn){sr[ar]=nn}),G.splice(Nt,1)}Or(G,function(ar,nn){sr[ar]=nn});var er=ps(ps({},R),sr);er[I.internalSdkVersion]||(er[I.internalSdkVersion]=Aa(h,"javascript:".concat(iBe.Version),64)),w[ie]=En(er)}function WS(h,y,w){xe(h)||Or(h,function(R,q){Lr(q)?w[R]=q:ze(q)?y[R]=q:su()&&(y[R]=sc()[wt](q))})}function UD(h,y){xe(h)||Or(h,function(w,R){h[w]=R||y})}function HD(h,y,w,R){var q=new jD(h,R,y);Gu(q,"sampleRate",w[zb]),(w[hc]||{}).startTime&&(q.time=Ld(w[hc].startTime)),q.iKey=w.iKey;var G=w.iKey.replace(/-/g,"");return q[Be]=q[Be].replace("{0}",G),nBe(h,w,q),w[ie]=w[ie]||[],En(q)}function BD(h,y){xe(y[hc])&&bn(h,1,46,"telemetryItem.baseData cannot be null.")}var iBe={Version:"3.0.5"};function oBe(h,y,w){BD(h,y);var R=y[hc][ot]||{},q=y[hc][id]||{};WS(y[Ie],q,R),xe(w)||UD(q,w);var G=y[hc];if(xe(G))return Jv(h,"Invalid input for dependency data"),null;var te=G[id]&&G[id][Hb]?G[id][Hb]:"GET",le=new Qi(h,G.id,G.target,G[Be],G[$],G.success,G.responseCode,te,G.type,G.correlationContext,q,R),Ee=new la(Qi[_t],le);return HD(h,Qi[it],y,Ee)}function dle(h,y,w){BD(h,y);var R={},q={};y[S4]!==C[_t]&&(R.baseTypeSource=y[S4]),y[S4]===C[_t]?(R=y[hc][id]||{},q=y[hc][ot]||{}):y[hc]&&WS(y[hc],R,q),WS(y[Ie],R,q),xe(w)||UD(R,w);var G=y[hc][Be],te=new C(h,G,R,q),le=new la(C[_t],te);return HD(h,C[it],y,le)}function sBe(h,y,w){BD(h,y);var R=y[hc][ot]||{},q=y[hc][id]||{};WS(y[Ie],q,R),xe(w)||UD(q,w);var G=y[hc],te=hn.CreateFromInterface(h,G,q,R),le=new la(hn[_t],te);return HD(h,hn[it],y,le)}function aBe(h,y,w){BD(h,y);var R=y[hc],q=R[id]||{},G=R[ot]||{};WS(y[Ie],q,G),xe(w)||UD(q,w);var te=new Go(h,R[Be],R.average,R.sampleCount,R.min,R.max,R.stdDev,q,G),le=new la(Go[_t],te);return HD(h,Go[it],y,le)}function cBe(h,y,w){BD(h,y);var R,q=y[hc];!xe(q)&&!xe(q[id])&&!xe(q[id][$])?(R=q[id][$],delete q[id][$]):!xe(y[Ie])&&!xe(y[Ie][$])&&(R=y[Ie][$],delete y[Ie][$]);var G=y[hc],te;((y.ext||{}).trace||{})[et]&&(te=y.ext.trace[et]);var le=G.id||te,Ee=G[Be],Ae=G.uri,Ke=G[id]||{},bt=G[ot]||{};if(xe(G.refUri)||(Ke.refUri=G.refUri),xe(G.pageType)||(Ke.pageType=G.pageType),xe(G.isLoggedIn)||(Ke.isLoggedIn=G.isLoggedIn[Qt]()),!xe(G[id])){var It=G[id];Or(It,function(sr,Nt){Ke[sr]=Nt})}WS(y[Ie],Ke,bt),xe(w)||UD(Ke,w);var yt=new fc(h,Ee,Ae,R,Ke,bt,le),ut=new la(fc[_t],yt);return HD(h,fc[it],y,ut)}function uBe(h,y,w){BD(h,y);var R=y[hc],q=R[Be],G=R.uri||R.url,te=R[id]||{},le=R[ot]||{};WS(y[Ie],te,le),xe(w)||UD(te,w);var Ee=new Ac(h,q,G,void 0,te,le,R),Ae=new la(Ac[_t],Ee);return HD(h,Ac[it],y,Ae)}function lBe(h,y,w){BD(h,y);var R=y[hc].message,q=y[hc].severityLevel,G=y[hc][id]||{},te=y[hc][ot]||{};WS(y[Ie],G,te),xe(w)||UD(G,w);var le=new kc(h,R,q,G,te),Ee=new la(kc[_t],le);return HD(h,kc[it],y,Ee)}function fle(h,y){OD(h,null,null,y)}function dBe(h){var y,w=ao(),R=Jn(),q=!1,G=!0,te=FS(Ic("OfflineListener"),h);try{if(Ee(Po())&&(q=!0),w){var le=w.body||w;le.ononline&&Ee(le)&&(q=!0)}q&&R&&!xe(R[Vt])&&(G=R[Vt])}catch{q=!1}function Ee(yt){var ut=!1;return yt&&(ut=kf(yt,"online",Ae,te),ut&&kf(yt,"offline",Ke,te)),ut}function Ae(){G=!0}function Ke(){G=!1}function bt(){var yt=!0;return q?yt=G:R&&!xe(R[Vt])&&(yt=R[Vt]),yt}function It(){var yt=Po();if(yt&&q){if(fle(yt,te),w){var ut=w.body||w;we(ut.ononline)||fle(ut,te)}q=!1}}return y={},y[_r]=bt,y.isListening=function(){return q},y.unload=It,y}var hle=function(){function h(y,w){var R=[],q=!1;this[Rr]=function(){return R},this._set=function(G){return R=G,R},qo(h,this,function(G){G[Ir]=function(te){if(G[Mn]()>=w[Oi]){q||(bn(y,2,105,"Maximum in-memory buffer size reached: "+G[Mn](),!0),q=!0);return}R[Io](te)},G[Mn]=function(){return R[Ve]},G.size=function(){for(var te=R[Ve],le=0;le<R[Ve];le++)te+=R[le][Ve];return w[Ge]||(te+=2),te},G[At]=function(){R=[],q=!1},G.getItems=function(){return R.slice(0)},G[Zt]=function(te){if(te&&te[Ve]>0){var le=w[Ge]?te.join(`
`):"["+te.join(",")+"]";return le}return null},G[lr]=function(te,le,Ee){var Ae=R.slice(0);te=te||y,le=le||{};var Ke=Ee?new ple(te,le):new C4(te,le);return Tn(Ae,function(bt){Ke[Ir](bt)}),Ke}})}return h.__ieDyn=1,h}(),C4=function(h){fl(y,h);function y(w,R){var q=h.call(this,w,R)||this;return qo(y,q,function(G,te){G[rn]=function(le){te[At]()},G[ei]=function(le){}}),q}return y.__ieDyn=1,y}(hle),ple=function(h){fl(y,h);function y(w,R){var q=h.call(this,w,R)||this,G=!1,te=R?.namePrefix,le=R[St]||{getItem:Xs,setItem:Fh},Ee=le.getItem,Ae=le.setItem;return qo(y,q,function(Ke,bt){var It=Nt(y[nt]),yt=Nt(y[Dt]),ut=Ke._set(It.concat(yt));ut[Ve]>y[Ot]&&(ut[Ve]=y[Ot]),pr(y[Dt],[]),pr(y[nt],ut),Ke[Ir]=function(er){if(Ke[Mn]()>=y[Ot]){G||(bn(w,2,67,"Maximum buffer size reached: "+Ke[Mn](),!0),G=!0);return}bt[Ir](er),pr(y.BUFFER_KEY,Ke[Rr]())},Ke[At]=function(){bt[At](),pr(y.BUFFER_KEY,Ke[Rr]()),pr(y[Dt],[]),G=!1},Ke[rn]=function(er){pr(y[nt],Ke._set(sr(er,Ke[Rr]())));var ar=Nt(y[Dt]);ar instanceof Array&&er instanceof Array&&(ar=ar.concat(er),ar[Ve]>y[Ot]&&(bn(w,1,67,"Sent buffer reached its maximum size: "+ar[Ve],!0),ar[Ve]=y[Ot]),pr(y[Dt],ar))},Ke[ei]=function(er){var ar=Nt(y[Dt]);ar=sr(er,ar),pr(y[Dt],ar)},Ke[lr]=function(er,ar,nn){nn=!!nn;var Ii=Ke[Rr]().slice(0),as=Nt(y[Dt]).slice(0);er=er||w,ar=ar||{},Ke[At]();var Mc=nn?new y(er,ar):new C4(er,ar);return Tn(Ii,function(La){Mc[Ir](La)}),nn&&Mc[rn](as),Mc};function sr(er,ar){var nn=[];return Tn(ar,function(Ii){!st(Ii)&&$s(er,Ii)===-1&&nn[Io](Ii)}),nn}function Nt(er){var ar=er;try{ar=te?te+"_"+ar:ar;var nn=Ee(w,ar);if(nn){var Ii=sc().parse(nn);if(ze(Ii)&&(Ii=sc().parse(Ii)),Ii&&tt(Ii))return Ii}}catch(as){bn(w,1,42," storage key: "+ar+", "+Oc(as),{exception:kt(as)})}return[]}function pr(er,ar){var nn=er;try{nn=te?te+"_"+nn:nn;var Ii=JSON[wt](ar);Ae(w,nn,Ii)}catch(as){Ae(w,nn,JSON[wt]([])),bn(w,2,41," storage key: "+nn+", "+Oc(as)+". Buffer cleared",{exception:kt(as)})}}}),q}return y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(hle),fBe=function(){function h(y){qo(h,this,function(w){w.serialize=function(te){var le=R(te,"root");try{return sc()[wt](le)}catch(Ee){bn(y,1,48,Ee&&st(Ee[Qt])?Ee[Qt]():"Error serializing object",null,!0)}};function R(te,le){var Ee="__aiCircularRefCheck",Ae={};if(!te)return bn(y,1,48,"cannot serialize object because it is null or undefined",{name:le},!0),Ae;if(te[Ee])return bn(y,2,50,"Circular reference detected while serializing object",{name:le},!0),Ae;if(!te.aiDataContract){if(le==="measurements")Ae=G(te,"number",le);else if(le==="properties")Ae=G(te,"string",le);else if(le==="tags")Ae=G(te,"string",le);else if(tt(te))Ae=q(te,le);else{bn(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:le},!0);try{sc()[wt](te),Ae=te}catch(Ke){bn(y,1,48,Ke&&st(Ke[Qt])?Ke[Qt]():"Error serializing object",null,!0)}}return Ae}return te[Ee]=!0,Or(te.aiDataContract,function(Ke,bt){var It=st(bt)?bt()&1:bt&1,yt=st(bt)?bt()&4:bt&4,ut=bt&2,sr=te[Ke]!==void 0,Nt=at(te[Ke])&&te[Ke]!==null;if(It&&!sr&&!ut)bn(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ke,name:le});else if(!yt){var pr=void 0;Nt?ut?pr=q(te[Ke],Ke):pr=R(te[Ke],Ke):pr=te[Ke],pr!==void 0&&(Ae[Ke]=pr)}}),delete te[Ee],Ae}function q(te,le){var Ee;if(te)if(!tt(te))bn(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:le},!0);else{Ee=[];for(var Ae=0;Ae<te[Ve];Ae++){var Ke=te[Ae],bt=R(Ke,le+"["+Ae+"]");Ee[Io](bt)}}return Ee}function G(te,le,Ee){var Ae;return te&&(Ae={},Or(te,function(Ke,bt){if(le==="string")bt===void 0?Ae[Ke]="undefined":bt===null?Ae[Ke]="null":bt[Qt]?Ae[Ke]=bt[Qt]():Ae[Ke]="invalid field: toString() is not defined.";else if(le==="number")if(bt===void 0)Ae[Ke]="undefined";else if(bt===null)Ae[Ke]="null";else{var It=parseFloat(bt);isNaN(It)?Ae[Ke]="NaN":Ae[Ke]=It}else Ae[Ke]="invalid field: "+Ee+" is of unknown type.",bn(y,1,Ae[Ke],null,!0)})),Ae}})}return h.__ieDyn=1,h}(),hBe=8,pBe=function(){function h(){}return h.prototype.getHashCodeScore=function(y){var w=this.getHashCode(y)/h.INT_MAX_VALUE;return w*100},h.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[Ve]<hBe;)y=y.concat(y);for(var w=5381,R=0;R<y[Ve];++R)w=(w<<5)+w+y.charCodeAt(R),w=w&w;return Math.abs(w)},h.INT_MAX_VALUE=2147483647,h}(),mBe=function(){function h(){var y=this,w=new pBe,R=new b;y[ule]=function(q){var G=0;return q[ie]&&q[ie][R.userId]?G=w.getHashCodeScore(q[ie][R.userId]):q.ext&&q.ext.user&&q.ext.user.id?G=w[rBe](q.ext.user.id):q[ie]&&q[ie][R.operationId]?G=w.getHashCodeScore(q[ie][R.operationId]):q.ext&&q.ext.telemetryTrace&&q.ext.telemetryTrace[et]?G=w.getHashCodeScore(q.ext.telemetryTrace[et]):G=Math.random()*100,G}}return h}(),gBe=function(){function h(y,w){this.INT_MAX_VALUE=2147483647;var R=w||qm(null);(y>100||y<0)&&(R.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Vn]=y,this.samplingScoreGenerator=new mBe}return h.prototype.isSampledIn=function(y){var w=this[Vn],R=!1;return w==null||w>=100||y.baseType===Go[_t]?!0:(R=this.samplingScoreGenerator[ule](y)<w,R)},h}(),Au,Qb,$S=void 0,vBe=65e3;function ON(h){try{return h.responseText}catch{}return null}function yBe(h){return h&&h[gr]}var mle=Ji((Au={endpointUrl:Am(hr,qS+m_)},Au[Ge]=Oh(),Au[Kr]=15e3,Au[bo]=102400,Au.disableTelemetry=Oh(),Au[Mf]=Oh(!0),Au.isRetryDisabled=Oh(),Au[$d]=Oh(!0),Au.disableXhr=Oh(),Au[zD]=Oh(),Au[qh]=Oh(),Au[Xb]=$S,Au.namePrefix=$S,Au.samplingPercentage=Am(_Be,100),Au[Ko]=$S,Au[Wt]=$S,Au[Oi]=1e4,Au[St]=!1,Au.httpXHROverride={isVal:yBe,v:$S},Au[C_]=Oh(),Au));function _Be(h){return!isNaN(h)&&h>0&&h<=100}var bBe=(Qb={},Qb[C.dataType]=dle,Qb[kc.dataType]=lBe,Qb[fc.dataType]=cBe,Qb[Ac.dataType]=uBe,Qb[hn.dataType]=sBe,Qb[Go.dataType]=aBe,Qb[Qi.dataType]=oBe,Qb),gle=function(h){fl(y,h);function y(){var w=h.call(this)||this;w.priority=1001,w.identifier=j;var R,q,G,te,le,Ee,Ae,Ke=0,bt,It,yt,ut,sr,Nt,pr,er,ar,nn,Ii,as,Mc,La,od,Ku,G0,D_,Ur,T_,E_;return qo(y,w,function(vr,WD){yle(),vr.pause=function(){Yu(),G=!0},vr.resume=function(){G&&(G=!1,q=null,QO(),au())},vr.flush=function(mt,tr,Hr){if(mt===void 0&&(mt=!0),!G){Yu();try{return vr[xr](mt,null,Hr||1)}catch(Zr){bn(vr[Nr](),1,22,"flush failed, telemetry will not be collected: "+Oc(Zr),{exception:kt(Zr)})}}},vr.onunloadFlush=function(){if(!G)if(pr||D_)try{return vr[xr](!0,AN,2)}catch(mt){bn(vr[Nr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Oc(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,tr){Ae[mt]=tr},vr.initialize=function(mt,tr,Hr,Zr){vr.isInitialized()&&bn(vr[Nr](),1,28,"Sender is already initialized"),WD.initialize(mt,tr,Hr,Zr);var Dn=vr.identifier;le=new fBe(tr.logger),R=0,q=null,vr[ti]=null,Ee=0;var kn=vr[Nr]();yt=FS(Ic("Sender"),tr.evtNamespace&&tr.evtNamespace()),It=dBe(yt),vr._addHook(Ph(mt,function(wo){var ho=wo.cfg;ho.storagePrefix&&Ym(ho.storagePrefix);var Ma=In(null,ho,tr),Gn=Ma.getExtCfg(Dn,mle);Fo(vr,"_senderConfig",{g:function(){return Gn}}),sr!==Gn.endpointUrl&&(ut=sr=Gn.endpointUrl),er&&er!==Gn[Ko]&&Tn(er,function(cu){delete Ae[cu.header]}),Nt=Gn[bo],pr=(Gn[qh]===!1||Gn[$d]===!1)&&qd(),D_=Gn[C_],Ur=!!Gn.disableXhr;var ly=Gn[St],P_=!!Gn[Mf]&&(!!ly||ND()),J0=Gn.namePrefix,MN=P_!==La||P_&&Ku!==J0||P_&&od!==ly;if(vr[Hp]){if(MN)try{vr._buffer=vr._buffer[lr](kn,Gn,P_)}catch(cu){bn(vr[Nr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Oc(cu),{exception:kt(cu)})}QO()}else vr[Hp]=P_?new ple(kn,Gn):new C4(kn,Gn);Ku=J0,La=P_,od=ly,T_=!Gn[zD]&&Og(!0),vr._sample=new gBe(Gn.samplingPercentage,kn),nn=Gn[Xb],EBe(nn,ho)||bn(kn,1,100,"Invalid Instrumentation key "+nn),er=Gn[Ko],!Km(ut)&&er&&er[Ve]>0?Tn(er,function(cu){w.addHeader(cu.header,cu.value)}):er=null,G0=Gn.enableSendPromise;var R_=Gn.httpXHROverride,VS=null,X0=null;VS=K0([1,2],!1);var Vd={sendPOST:Yr};E_=function(cu,GD){return Y0(Vd,cu,GD)},!Gn[$d]&&qd()&&(VS=K0([3],!1)),VS=D_?R_:VS||R_||Vd,vr[ti]=function(cu,GD){return Y0(VS,cu,GD)},T_&&(bt=bi),X0=D_?R_:K0([3,1],!0)||R_,(D_||!bt)&&X0&&(bt=function(cu,GD){return Y0(X0,cu,GD)}),bt||(bt=E_),ar=Gn.disableTelemetry,Ii=Gn[Wt]||$S,as=Gn.isRetryDisabled,Mc=Gn[Kr]}))},vr.processTelemetry=function(mt,tr){tr=vr._getTelCtx(tr);var Hr=tr[Nr]();try{if(ar)return;if(!mt){bn(Hr,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ui]){bn(Hr,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ui]||(mt[ui]="EventData"),!vr[ti]){bn(Hr,1,28,"Sender was not initialized");return}if(XO(mt))mt[zb]=vr._sample[Vn];else{bn(Hr,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[Vn]});return}var Zr=mt.iKey||nn,Dn=y.constructEnvelope(mt,Zr,Hr,Ii);if(!Dn){bn(Hr,1,47,"Unable to create an AppInsights envelope");return}var kn=!1;if(mt[ie]&&mt[ie][Ub]&&(Tn(mt[ie][Ub],function(Ma){try{Ma&&Ma(Dn)===!1&&(kn=!0,Jv(Hr,"Telemetry processor check returns false"))}catch(Gn){bn(Hr,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Oc(Gn),{exception:kt(Gn)},!0)}}),delete mt[ie][Ub]),kn)return;var wo=le.serialize(Dn),ho=vr[Hp];QO(wo),ho[Ir](wo),au()}catch(Ma){bn(Hr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Oc(Ma),{exception:kt(Ma)})}vr.processNext(mt,tr)},vr[mi]=function(mt,tr,Hr){mt.readyState===4&&kN(mt.status,tr,mt.responseURL,Hr,tw(mt),ON(mt)||mt.response)},vr[xr]=function(mt,tr,Hr){mt===void 0&&(mt=!0);var Zr;if(!G)try{var Dn=vr[Hp];if(ar)Dn[At]();else if(Dn[Mn]()>0){var kn=Dn.getItems();TBe(Hr||0,mt),tr?Zr=tr.call(vr,kn,mt):Zr=vr[ti](kn,mt)}Yu()}catch(ho){var wo=Sh();(!wo||wo>9)&&bn(vr[Nr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Oc(ho),{exception:kt(ho)})}return Zr},vr._doTeardown=function(mt,tr){vr.onunloadFlush(),Rh(It,!1),yle()},vr[jo]=function(mt,tr,Hr){bn(vr[Nr](),2,26,"Failed to send telemetry.",{message:tr}),vr._buffer&&vr._buffer[ei](mt)},vr[ss]=function(mt,tr){for(var Hr=[],Zr=[],Dn=tr.errors.reverse(),kn=0,wo=Dn;kn<wo.length;kn++){var ho=wo[kn],Ma=mt.splice(ho.index,1)[0];Jm(ho.statusCode)?Zr[Io](Ma):Hr[Io](Ma)}mt[Ve]>0&&vr[Lc](mt,tr[ku]),Hr[Ve]>0&&vr[jo](Hr,tw(null,["partial success",tr[ku],"of",tr.itemsReceived].join(" "))),Zr[Ve]>0&&(Ps(Zr),bn(vr[Nr](),2,40,"Partial success. Delivered: "+mt[Ve]+", Failed: "+Hr[Ve]+". Will retry to send "+Zr[Ve]+" our of "+tr[rv]+" items"))},vr[Lc]=function(mt,tr){vr._buffer&&vr._buffer[ei](mt)},vr._xdrOnLoad=function(mt,tr){var Hr=ON(mt);if(mt&&(Hr+""=="200"||Hr===""))R=0,vr[Lc](tr,0);else{var Zr=ri(Hr);Zr&&Zr.itemsReceived&&Zr.itemsReceived>Zr[ku]&&!as?vr[ss](tr,Zr):vr[jo](tr,vle(mt))}};function XO(mt){return vr._sample.isSampledIn(mt)}function K0(mt,tr){for(var Hr,Zr=null,Dn=null,kn=0;Dn==null&&kn<mt[Ve];)Zr=mt[kn],!Ur&&Zr===1?Ep()?Dn=LN:Pp()&&(Dn=Yr):Zr===2&&Og(tr)?Dn=IN:qd()&&Zr===3&&(Dn=Bt),kn++;return Dn?(Hr={},Hr[gr]=Dn,Hr):null}function $D(mt,tr,Hr,Zr){tr===200&&mt&&vr._onSuccess(mt,mt[Ve]),Zr&&vr[jo](mt,Zr)}function Y0(mt,tr,Hr){var Zr=function(wo,ho,Ma){return $D(tr,wo,ho,Ma)},Dn=VD(tr),kn=mt&&mt[gr];return kn&&Dn?(vr._buffer[rn](tr),kn(Dn,Zr,!Hr)):null}function VD(mt){var tr;if(tt(mt)&&mt[Ve]>0){var Hr=vr._buffer[Zt](mt),Zr=(tr={},tr[Ie]=Hr,tr.urlString=ut,tr.headers=Ae,tr.disableXhrSync=Ur,tr.disableFetchKeepAlive=!T_,tr[uy]=mt,tr);return Zr}return null}function IN(mt,tr,Hr){return li(mt,tr,!1)}function QO(mt){var tr=mt?mt[Ve]:0;return vr[Hp].size()+tr>Nt?((!It||It[_r]())&&vr[xr](!0,null,10),!0):!1}function kN(mt,tr,Hr,Zr,Dn,kn){var wo=null;if(vr._appId||(wo=ri(kn),wo&&wo.appId&&(vr._appId=wo.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!ZO(Hr)){vr[jo](tr,Dn);return}!as&&Jm(mt)?(Ps(tr),bn(vr[Nr](),2,40,". Response code "+mt+". Will retry to send "+tr[Ve]+" items.")):vr[jo](tr,Dn)}else if(It&&!It[_r]()){if(!as){var ho=10;Ps(tr,ho),bn(vr[Nr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!It.isOnline(),". Will retry to send ").concat(tr.length," items."))}}else ZO(Hr),mt===206?(wo||(wo=ri(kn)),wo&&!as?vr[ss](tr,wo):vr[jo](tr,Dn)):(R=0,vr[Lc](tr,Zr))}function ZO(mt){return Ee>=10?!1:!xe(mt)&&mt!==""&&mt!==ut?(ut=mt,++Ee,!0):!1}function Zb(mt,tr,Hr,Zr){try{mt(tr,Hr,Zr)}catch{}}function AN(mt,tr){var Hr=function(Dn,kn,wo){return $D(mt,Dn,kn,wo)};if(bt)bt(mt,!1);else{var Zr=VD(mt);Bt(Zr,Hr)}}function ew(mt,tr){var Hr=Jn(),Zr=ut,Dn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),kn=Hr.sendBeacon(Zr,Dn);return kn&&tr(200,{},mt),kn}function Bt(mt,tr,Hr){var Zr=mt,Dn=Zr&&Zr[Ie];if(ze(Dn)&&Dn[Ve]>0&&!ew(Dn,tr)){var kn=[],wo=Zr[uy];if(wo[Ve]>0)for(var ho=0;ho<Dn[Ve];ho++){var Ma=mt[ho],Gn=vr._buffer[Zt](Ma);ew(Gn,tr)||kn[Io](Ma)}kn[Ve]>0&&(E_&&E_(kn,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Yr(mt,tr,Hr){var Zr=mt,Dn,kn,wo,ho=new XMLHttpRequest,Ma=ut;try{ho[p_]=!0}catch{}return ho.open("POST",Ma,!Hr),ho[V0]("Content-type","application/json"),Km(Ma)&&ho[V0](g_[6],g_[7]),Tn(Gr(Ae),function(Gn){ho[V0](Gn,Ae[Gn])}),ho.onreadystatechange=function(){var Gn=Zr[uy];vr._xhrReadyStateChange(ho,Gn,Gn[Ve]),ho.readyState===4&&kn&&kn(!0)},ho.onerror=function(Gn){Zb(tr,400,{},tw(ho)),wo&&wo(Gn)},!Hr&&G0&&(Dn=_p(function(Gn,ly){kn=Gn,wo=ly})),ho.send(mt[Ie]),Dn}function bi(mt,tr){var Hr=function(wo,ho,Ma){return $D(mt,wo,ho,Ma)};if(tt(mt)){for(var Zr=mt[Ve],Dn=0;Dn<mt[Ve];Dn++)Zr+=mt[Dn][Ve];var kn=VD(mt);Ke+Zr<=vBe?li(kn,Hr,!0):qd()?Bt(kn,Hr):(E_&&E_(mt,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function li(mt,tr,Hr){var Zr,Dn=ut,kn=mt,wo=kn[Ie],ho=new Blob([wo],{type:"application/json"}),Ma,Gn,ly,P_=new Headers,J0=wo[Ve],MN=!1,R_=!1;Km(Dn)&&P_.append(g_[6],g_[7]),Tn(Gr(Ae),function(Vd){P_.append(Vd,Ae[Vd])});var VS=(Zr={method:"POST",headers:P_,body:ho},Zr[p_]=!0,Zr);Hr&&(VS.keepalive=!0,MN=!0,Ke+=J0);var X0=new Request(Dn,VS);try{X0[p_]=!0}catch{}!Hr&&G0&&(Ma=_p(function(Vd,cu){Gn=Vd,ly=cu}));try{Ra(fetch(X0),function(Vd){if(Hr&&(Ke-=J0,J0=0),!R_)if(R_=!0,Vd.rejected)Zb(tr,400,{},Vd.reason&&Vd.reason.message),ly&&ly(Vd.reason);else{var cu=Vd.value;cu.ok?Ra(cu.text(),function(GD){var _le=kn[uy];kN(cu.status,_le,cu.url,_le[Ve],cu.statusText,GD.value||""),Gn&&Gn(!0)}):(Zb(tr,400,{},cu.statusText),Gn&&Gn(!1))}})}catch(Vd){R_||(Zb(tr,400,{},kt(Vd)),ly&&ly(Vd))}return MN&&!R_&&(R_=!0,Zb(tr,200,{}),Gn&&Gn(!0)),Ma}function ri(mt){try{if(mt&&mt!==""){var tr=sc().parse(mt);if(tr&&tr.itemsReceived&&tr.itemsReceived>=tr[ku]&&tr.itemsReceived-tr.itemsAccepted===tr.errors[Ve])return tr}}catch(Hr){bn(vr[Nr](),1,43,"Cannot parse the response. "+Oc(Hr),{response:mt})}return null}function Ps(mt,tr){if(tr===void 0&&(tr=1),!(!mt||mt[Ve]===0)){var Hr=vr[Hp];Hr[ei](mt),R++;for(var Zr=0,Dn=mt;Zr<Dn.length;Zr++){var kn=Dn[Zr];Hr[Ir](kn)}Rs(tr),au()}}function Rs(mt){var tr=10,Hr;if(R<=1)Hr=tr;else{var Zr=(Math.pow(2,R)-1)/2,Dn=Math.floor(Math.random()*Zr*tr)+1;Dn=mt*Dn,Hr=Math.max(Math.min(Dn,3600),tr)}var kn=Ll()+Hr*1e3;q=kn}function au(){if(!te&&!G){var mt=q?Math.max(0,q-Ll()):0,tr=Math.max(Mc,mt);te=vh(function(){te=null,vr[xr](!0,null,1)},tr)}}function Yu(){te&&te.cancel(),te=null,q=null}function Jm(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function tw(mt,tr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+ON(mt)||mt.response||"":tr}function LN(mt,tr,Hr){var Zr=mt,Dn=Po(),kn=new XDomainRequest,wo=Zr[Ie];kn.onload=function(){var Gn=Zr[uy];vr._xdrOnLoad(kn,Gn)},kn.onerror=function(){Zb(tr,400,{},vle(kn))};var ho=Dn&&Dn.location&&Dn.location.protocol||"";if(ut.lastIndexOf(ho,0)!==0){bn(vr[Nr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var Ma=ut.replace(/^(https?:)/,"");kn.open("POST",Ma),kn.send(wo)}function vle(mt,tr){return mt?"XDomainRequest,Response:"+ON(mt)||"":tr}function DBe(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function TBe(mt,tr){var Hr=DBe();if(Hr&&Hr[cle])try{Hr[cle](mt,tr)}catch(Zr){bn(vr[Nr](),1,74,"send request notification failed: "+Oc(Zr),{exception:kt(Zr)})}}function EBe(mt,tr){var Hr=tr.disableInstrumentationKeyValidation,Zr=xe(Hr)?!1:Hr;if(Zr)return!0;var Dn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",kn=new RegExp(Dn);return kn.test(mt)}function yle(){vr[ti]=null,vr[Hp]=null,vr._appId=null,vr._sample=null,Ae={},It=null,R=0,q=null,G=!1,te=null,le=null,Ee=0,Ke=0,bt=null,yt=null,ut=null,sr=null,Nt=0,pr=!1,er=null,ar=!1,nn=null,Ii=$S,as=!1,La=null,Ku=$S,Ur=!1,T_=!1,E_=null,Fo(vr,"_senderConfig",{g:function(){return Md({},mle)}})}}),w}return y.constructEnvelope=function(w,R,q,G){var te;R!==w.iKey&&!xe(R)?te=ps(ps({},w),{iKey:R}):te=w;var le=bBe[te.baseType]||dle;return le(q,te,G)},y}(ka),D4="instrumentationKey",T4="connectionString",wBe={diagnosticLogInterval:Am(SBe,1e4)};function SBe(h){return h&&h>0}var CBe=function(){function h(y){var w=new Mp,R;(xe(y)||xe(y[D4])&&xe(y[T4]))&&$r("Invalid input configuration"),qo(h,this,function(G){Fo(G,"config",{g:function(){return R}}),te(),G.initialize=te,G.track=q,Eg(G,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function te(){var le=Oa(y||{},wBe);R=le.cfg,w.addUnloadHook(Ph(le,function(){if(R[T4]){var Ee=qD(R[T4]),Ae=Ee.ingestionendpoint;R.endpointUrl=Ae?Ae+m_:R.endpointUrl,R[D4]=Ee.instrumentationkey||R[D4]}})),w.initialize(R,[new gle])}});function q(G){G&&(G.baseData=G.baseData||{},G.baseType=G.baseType||"EventData"),w.track(G)}}return h.__ieDyn=1,h}();r.AppInsightsCore=Mp,r.ApplicationInsights=CBe,r.Sender=gle,r.SeverityLevel=Sl,r.arrForEach=Tn,r.isNullOrUndefined=xe,r.proxyFunctions=Eg,r.throwError=$r})});var fve=E(k_=>{"use strict";var O7e=k_&&k_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),I7e=k_&&k_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),k7e=k_&&k_.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&O7e(e,r,t);return I7e(e,r),e};Object.defineProperty(k_,"__esModule",{value:!0});k_.appInsightsClientFactory=void 0;var A7e=uve(),L7e=EG(),M7e=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>k7e(dve()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[A7e.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&L7e.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};k_.appInsightsClientFactory=M7e});var gve=E(fw=>{"use strict";var N7e=fw&&fw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),F7e=fw&&fw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xG=fw&&fw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&N7e(e,r,t);return F7e(e,r),e};Object.defineProperty(fw,"__esModule",{value:!0});var PG=xG(require("os")),hve=xG(require("vscode")),q7e=xG(require("https")),j7e=eve(),z7e=tve(),pve=EG(),U7e=ave(),H7e=fve();function mve(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=q7e.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var RG=class extends j7e.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,H7e.appInsightsClientFactory)(s,mve(),t);pve.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,U7e.oneDataSystemClientFactory)(s,hve,mve()));let i={release:PG.release(),platform:PG.platform(),architecture:PG.arch()},o=new z7e.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,hve,{additionalCommonProperties:pve.TelemetryUtil.getAdditionalCommonProperties(i)})}};fw.default=RG});var IG=E(lk=>{"use strict";var B7e=lk&&lk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lk,"__esModule",{value:!0});var OG=Fc();function W7e(r){return function(t){return t.lift(new $7e(r))}}lk.audit=W7e;var $7e=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new V7e(e,this.durationSelector))},r}(),V7e=function(r){B7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=OG.innerSubscribe(n,new OG.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(OG.SimpleOuterSubscriber)});var yve=E(kG=>{"use strict";Object.defineProperty(kG,"__esModule",{value:!0});var G7e=$h(),K7e=IG(),Y7e=dG();function J7e(r,e){return e===void 0&&(e=G7e.async),K7e.audit(function(){return Y7e.timer(r,e)})}kG.auditTime=J7e});var _ve=E(dk=>{"use strict";var X7e=dk&&dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dk,"__esModule",{value:!0});var AG=Fc();function Q7e(r){return function(t){return t.lift(new Z7e(r))}}dk.buffer=Q7e;var Z7e=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new eYe(e,this.closingNotifier))},r}(),eYe=function(r){X7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(AG.innerSubscribe(n,new AG.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(AG.SimpleOuterSubscriber)});var Sve=E(fk=>{"use strict";var bve=fk&&fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fk,"__esModule",{value:!0});var wve=gi();function tYe(r,e){return e===void 0&&(e=null),function(n){return n.lift(new rYe(r,e))}}fk.bufferCount=tYe;var rYe=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=nYe:this.subscriberClass=iYe}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),nYe=function(r){bve(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(wve.Subscriber),iYe=function(r){bve(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(wve.Subscriber)});var Tve=E(hk=>{"use strict";var oYe=hk&&hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hk,"__esModule",{value:!0});var sYe=$h(),aYe=gi(),cYe=py();function uYe(r){var e=arguments.length,t=sYe.async;cYe.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new lYe(r,n,i,t))}}hk.bufferTime=uYe;var lYe=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new fYe(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),dYe=function(){function r(){this.buffer=[]}return r}(),fYe=function(r){oYe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(Cve,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(Dve,n,l)),a.add(s.schedule(hYe,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(Cve,i,o))}},e.prototype.openContext=function(){var t=new dYe;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(aYe.Subscriber);function Cve(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function hYe(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(Dve,t,{subscriber:n,context:o})),s.schedule(r,e))}function Dve(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var Pve=E(pk=>{"use strict";var pYe=pk&&pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pk,"__esModule",{value:!0});var mYe=Dl(),Eve=fC(),gYe=dC();function vYe(r,e){return function(n){return n.lift(new yYe(r,e))}}pk.bufferToggle=vYe;var yYe=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new _Ye(e,this.openings,this.closingSelector))},r}(),_Ye=function(r){pYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(Eve.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new mYe.Subscription,s={buffer:i,subscription:o};n.push(s);var a=Eve.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(gYe.OuterSubscriber)});var Rve=E(mk=>{"use strict";var bYe=mk&&mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mk,"__esModule",{value:!0});var wYe=Dl(),LG=Fc();function SYe(r){return function(e){return e.lift(new CYe(r))}}mk.bufferWhen=SYe;var CYe=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new DYe(e,this.closingSelector))},r}(),DYe=function(r){bYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new wYe.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(LG.innerSubscribe(i,new LG.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(LG.SimpleOuterSubscriber)});var xve=E(gk=>{"use strict";var TYe=gk&&gk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gk,"__esModule",{value:!0});var MG=Fc();function EYe(r){return function(t){var n=new PYe(r),i=t.lift(n);return n.caught=i}}gk.catchError=EYe;var PYe=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new RYe(e,this.selector,this.caught))},r}(),RYe=function(r){TYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new MG.SimpleInnerSubscriber(this);this.add(i);var o=MG.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(MG.SimpleOuterSubscriber)});var Ove=E(NG=>{"use strict";Object.defineProperty(NG,"__esModule",{value:!0});var xYe=$F();function OYe(r){return function(e){return e.lift(new xYe.CombineLatestOperator(r))}}NG.combineAll=OYe});var Ive=E(FG=>{"use strict";Object.defineProperty(FG,"__esModule",{value:!0});var IYe=Wh(),kYe=$F(),AYe=my();function LYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&IYe.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(AYe.from([n].concat(r)),new kYe.CombineLatestOperator(t))}}FG.combineLatest=LYe});var kve=E(qG=>{"use strict";Object.defineProperty(qG,"__esModule",{value:!0});var MYe=ik();function NYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(MYe.concat.apply(void 0,[t].concat(r)))}}qG.concat=NYe});var zG=E(jG=>{"use strict";Object.defineProperty(jG,"__esModule",{value:!0});var FYe=nk();function qYe(r,e){return FYe.mergeMap(r,e,1)}jG.concatMap=qYe});var Ave=E(UG=>{"use strict";Object.defineProperty(UG,"__esModule",{value:!0});var jYe=zG();function zYe(r,e){return jYe.concatMap(function(){return r},e)}UG.concatMapTo=zYe});var Lve=E(vk=>{"use strict";var UYe=vk&&vk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vk,"__esModule",{value:!0});var HYe=gi();function BYe(r){return function(e){return e.lift(new WYe(r,e))}}vk.count=BYe;var WYe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new $Ye(e,this.predicate,this.source))},r}(),$Ye=function(r){UYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(HYe.Subscriber)});var Mve=E(yk=>{"use strict";var VYe=yk&&yk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yk,"__esModule",{value:!0});var HG=Fc();function GYe(r){return function(e){return e.lift(new KYe(r))}}yk.debounce=GYe;var KYe=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new YYe(e,this.durationSelector))},r}(),YYe=function(r){VYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=HG.innerSubscribe(n,new HG.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(HG.SimpleOuterSubscriber)});var Nve=E(_k=>{"use strict";var JYe=_k&&_k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_k,"__esModule",{value:!0});var XYe=gi(),QYe=$h();function ZYe(r,e){return e===void 0&&(e=QYe.async),function(t){return t.lift(new eJe(r,e))}}_k.debounceTime=ZYe;var eJe=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new tJe(e,this.dueTime,this.scheduler))},r}(),tJe=function(r){JYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(rJe,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(XYe.Subscriber);function rJe(r){r.debouncedNext()}});var RE=E(bk=>{"use strict";var nJe=bk&&bk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bk,"__esModule",{value:!0});var iJe=gi();function oJe(r){return r===void 0&&(r=null),function(e){return e.lift(new sJe(r))}}bk.defaultIfEmpty=oJe;var sJe=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new aJe(e,this.defaultValue))},r}(),aJe=function(r){nJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(iJe.Subscriber)});var WG=E(BG=>{"use strict";Object.defineProperty(BG,"__esModule",{value:!0});function cJe(r){return r instanceof Date&&!isNaN(+r)}BG.isDate=cJe});var qve=E(wk=>{"use strict";var uJe=wk&&wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wk,"__esModule",{value:!0});var lJe=$h(),dJe=WG(),fJe=gi(),Fve=BI();function hJe(r,e){e===void 0&&(e=lJe.async);var t=dJe.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new pJe(n,e))}}wk.delay=hJe;var pJe=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new mJe(e,this.delay,this.scheduler))},r}(),mJe=function(r){uJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new gJe(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(Fve.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Fve.Notification.createComplete()),this.unsubscribe()},e}(fJe.Subscriber),gJe=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var zve=E(Sk=>{"use strict";var $G=Sk&&Sk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Sk,"__esModule",{value:!0});var vJe=gi(),yJe=zo(),_Je=dC(),bJe=fC();function wJe(r,e){return e?function(t){return new CJe(t,e).lift(new jve(r))}:function(t){return t.lift(new jve(r))}}Sk.delayWhen=wJe;var jve=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new SJe(e,this.delayDurationSelector))},r}(),SJe=function(r){$G(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=bJe.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(_Je.OuterSubscriber),CJe=function(r){$G(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new DJe(t,this.source))},e}(yJe.Observable),DJe=function(r){$G(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(vJe.Subscriber)});var Uve=E(Ck=>{"use strict";var TJe=Ck&&Ck.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ck,"__esModule",{value:!0});var EJe=gi();function PJe(){return function(e){return e.lift(new RJe)}}Ck.dematerialize=PJe;var RJe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new xJe(e))},r}(),xJe=function(r){TJe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(EJe.Subscriber)});var Bve=E(xE=>{"use strict";var OJe=xE&&xE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xE,"__esModule",{value:!0});var VG=Fc();function IJe(r,e){return function(t){return t.lift(new kJe(r,e))}}xE.distinct=IJe;var kJe=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new Hve(e,this.keySelector,this.flushes))},r}(),Hve=function(r){OJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(VG.innerSubscribe(i,new VG.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(VG.SimpleOuterSubscriber);xE.DistinctSubscriber=Hve});var GG=E(Dk=>{"use strict";var AJe=Dk&&Dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dk,"__esModule",{value:!0});var LJe=gi();function MJe(r,e){return function(t){return t.lift(new NJe(r,e))}}Dk.distinctUntilChanged=MJe;var NJe=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new FJe(e,this.compare,this.keySelector))},r}(),FJe=function(r){AJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(LJe.Subscriber)});var Wve=E(KG=>{"use strict";Object.defineProperty(KG,"__esModule",{value:!0});var qJe=GG();function jJe(r,e){return qJe.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}KG.distinctUntilKeyChanged=jJe});var Ek=E(Tk=>{"use strict";var zJe=Tk&&Tk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tk,"__esModule",{value:!0});var UJe=DE(),HJe=gi();function BJe(r){return r===void 0&&(r=VJe),function(e){return e.lift(new WJe(r))}}Tk.throwIfEmpty=BJe;var WJe=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new $Je(e,this.errorFactory))},r}(),$Je=function(r){zJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(HJe.Subscriber);function VJe(){return new UJe.EmptyError}});var vq=E(Pk=>{"use strict";var GJe=Pk&&Pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pk,"__esModule",{value:!0});var KJe=gi(),YJe=CE(),JJe=hy();function XJe(r){return function(e){return r===0?JJe.empty():e.lift(new QJe(r))}}Pk.take=XJe;var QJe=function(){function r(e){if(this.total=e,this.total<0)throw new YJe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new ZJe(e,this.total))},r}(),ZJe=function(r){GJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(KJe.Subscriber)});var Vve=E(YG=>{"use strict";Object.defineProperty(YG,"__esModule",{value:!0});var $ve=CE(),eXe=uT(),tXe=Ek(),rXe=RE(),nXe=vq();function iXe(r,e){if(r<0)throw new $ve.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(eXe.filter(function(i,o){return o===r}),nXe.take(1),t?rXe.defaultIfEmpty(e):tXe.throwIfEmpty(function(){return new $ve.ArgumentOutOfRangeError}))}}YG.elementAt=iXe});var Gve=E(JG=>{"use strict";Object.defineProperty(JG,"__esModule",{value:!0});var oXe=ik(),sXe=UI();function aXe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return oXe.concat(t,sXe.of.apply(void 0,r))}}JG.endWith=aXe});var Kve=E(Rk=>{"use strict";var cXe=Rk&&Rk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rk,"__esModule",{value:!0});var uXe=gi();function lXe(r,e){return function(t){return t.lift(new dXe(r,e,t))}}Rk.every=lXe;var dXe=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new fXe(e,this.predicate,this.thisArg,this.source))},r}(),fXe=function(r){cXe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(uXe.Subscriber)});var Yve=E(xk=>{"use strict";var hXe=xk&&xk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xk,"__esModule",{value:!0});var XG=Fc();function pXe(){return function(r){return r.lift(new mXe)}}xk.exhaust=pXe;var mXe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new gXe(e))},r}(),gXe=function(r){hXe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(XG.innerSubscribe(t,new XG.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(XG.SimpleOuterSubscriber)});var Xve=E(Ok=>{"use strict";var vXe=Ok&&Ok.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ok,"__esModule",{value:!0});var yXe=Xm(),_Xe=my(),QG=Fc();function Jve(r,e){return e?function(t){return t.pipe(Jve(function(n,i){return _Xe.from(r(n,i)).pipe(yXe.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new bXe(r))}}Ok.exhaustMap=Jve;var bXe=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new wXe(e,this.project))},r}(),wXe=function(r){vXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new QG.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=QG.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(QG.SimpleOuterSubscriber)});var eye=E(pT=>{"use strict";var SXe=pT&&pT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pT,"__esModule",{value:!0});var ZG=Fc();function CXe(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Qve(r,e,t))}}pT.expand=CXe;var Qve=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new Zve(e,this.project,this.concurrent,this.scheduler))},r}();pT.ExpandOperator=Qve;var Zve=function(r){SXe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add(ZG.innerSubscribe(t,new ZG.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ZG.SimpleOuterSubscriber);pT.ExpandSubscriber=Zve});var tye=E(Ik=>{"use strict";var DXe=Ik&&Ik.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ik,"__esModule",{value:!0});var TXe=gi(),EXe=Dl();function PXe(r){return function(e){return e.lift(new RXe(r))}}Ik.finalize=PXe;var RXe=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new xXe(e,this.callback))},r}(),xXe=function(r){DXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new EXe.Subscription(n)),i}return e}(TXe.Subscriber)});var e8=E(mT=>{"use strict";var OXe=mT&&mT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mT,"__esModule",{value:!0});var IXe=gi();function kXe(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new rye(r,t,!1,e))}}mT.find=kXe;var rye=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new nye(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();mT.FindValueOperator=rye;var nye=function(r){OXe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(IXe.Subscriber);mT.FindValueSubscriber=nye});var iye=E(t8=>{"use strict";Object.defineProperty(t8,"__esModule",{value:!0});var AXe=e8();function LXe(r,e){return function(t){return t.lift(new AXe.FindValueOperator(r,t,!0,e))}}t8.findIndex=LXe});var oye=E(r8=>{"use strict";Object.defineProperty(r8,"__esModule",{value:!0});var MXe=DE(),NXe=uT(),FXe=vq(),qXe=RE(),jXe=Ek(),zXe=uC();function UXe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?NXe.filter(function(i,o){return r(i,o,n)}):zXe.identity,FXe.take(1),t?qXe.defaultIfEmpty(e):jXe.throwIfEmpty(function(){return new MXe.EmptyError}))}}r8.first=UXe});var sye=E(kk=>{"use strict";var HXe=kk&&kk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kk,"__esModule",{value:!0});var BXe=gi();function WXe(){return function(e){return e.lift(new $Xe)}}kk.ignoreElements=WXe;var $Xe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new VXe(e))},r}(),VXe=function(r){HXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(BXe.Subscriber)});var aye=E(Ak=>{"use strict";var GXe=Ak&&Ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ak,"__esModule",{value:!0});var KXe=gi();function YXe(){return function(r){return r.lift(new JXe)}}Ak.isEmpty=YXe;var JXe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new XXe(e))},r}(),XXe=function(r){GXe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(KXe.Subscriber)});var yq=E(Lk=>{"use strict";var QXe=Lk&&Lk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Lk,"__esModule",{value:!0});var ZXe=gi(),eQe=CE(),tQe=hy();function rQe(r){return function(t){return r===0?tQe.empty():t.lift(new nQe(r))}}Lk.takeLast=rQe;var nQe=function(){function r(e){if(this.total=e,this.total<0)throw new eQe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new iQe(e,this.total))},r}(),iQe=function(r){QXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(ZXe.Subscriber)});var cye=E(n8=>{"use strict";Object.defineProperty(n8,"__esModule",{value:!0});var oQe=DE(),sQe=uT(),aQe=yq(),cQe=Ek(),uQe=RE(),lQe=uC();function dQe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?sQe.filter(function(i,o){return r(i,o,n)}):lQe.identity,aQe.takeLast(1),t?uQe.defaultIfEmpty(e):cQe.throwIfEmpty(function(){return new oQe.EmptyError}))}}n8.last=dQe});var uye=E(Mk=>{"use strict";var fQe=Mk&&Mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Mk,"__esModule",{value:!0});var hQe=gi();function pQe(r){return function(e){return e.lift(new mQe(r))}}Mk.mapTo=pQe;var mQe=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new gQe(e,this.value))},r}(),gQe=function(r){fQe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(hQe.Subscriber)});var lye=E(Nk=>{"use strict";var vQe=Nk&&Nk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nk,"__esModule",{value:!0});var yQe=gi(),i8=BI();function _Qe(){return function(e){return e.lift(new bQe)}}Nk.materialize=_Qe;var bQe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new wQe(e))},r}(),wQe=function(r){vQe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(i8.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(i8.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(i8.Notification.createComplete()),t.complete()},e}(yQe.Subscriber)});var _q=E(Fk=>{"use strict";var SQe=Fk&&Fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fk,"__esModule",{value:!0});var CQe=gi();function DQe(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new TQe(r,e,t))}}Fk.scan=DQe;var TQe=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new EQe(e,this.accumulator,this.seed,this.hasSeed))},r}(),EQe=function(r){SQe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(CQe.Subscriber)});var qk=E(o8=>{"use strict";Object.defineProperty(o8,"__esModule",{value:!0});var dye=_q(),fye=yq(),PQe=RE(),hye=MF();function RQe(r,e){return arguments.length>=2?function(n){return hye.pipe(dye.scan(r,e),fye.takeLast(1),PQe.defaultIfEmpty(e))(n)}:function(n){return hye.pipe(dye.scan(function(i,o,s){return r(i,o,s+1)}),fye.takeLast(1))(n)}}o8.reduce=RQe});var pye=E(s8=>{"use strict";Object.defineProperty(s8,"__esModule",{value:!0});var xQe=qk();function OQe(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return xQe.reduce(e)}s8.max=OQe});var mye=E(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});var IQe=rG();function kQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(IQe.merge.apply(void 0,[t].concat(r)))}}a8.merge=kQe});var vye=E(c8=>{"use strict";Object.defineProperty(c8,"__esModule",{value:!0});var gye=nk();function AQe(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?gye.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),gye.mergeMap(function(){return r},t))}c8.mergeMapTo=AQe});var bye=E(gT=>{"use strict";var LQe=gT&&gT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gT,"__esModule",{value:!0});var u8=Fc();function MQe(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new yye(r,e,t))}}gT.mergeScan=MQe;var yye=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new _ye(e,this.accumulator,this.seed,this.concurrent))},r}();gT.MergeScanOperator=yye;var _ye=function(r){LQe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new u8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=u8.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(u8.SimpleOuterSubscriber);gT.MergeScanSubscriber=_ye});var wye=E(l8=>{"use strict";Object.defineProperty(l8,"__esModule",{value:!0});var NQe=qk();function FQe(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return NQe.reduce(e)}l8.min=FQe});var vT=E(bq=>{"use strict";Object.defineProperty(bq,"__esModule",{value:!0});var qQe=Z6();function jQe(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new Sye(i,e));var o=Object.create(n,qQe.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}bq.multicast=jQe;var Sye=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();bq.MulticastOperator=Sye});var Tye=E(OE=>{"use strict";var zQe=OE&&OE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OE,"__esModule",{value:!0});var UQe=my(),Cye=Wh(),d8=Fc();function HQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&Cye.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new Dye(r))}}OE.onErrorResumeNext=HQe;function BQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&Cye.isArray(r[0])&&(r=r[0]),t=r.shift(),UQe.from(t).lift(new Dye(r))}OE.onErrorResumeNextStatic=BQe;var Dye=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new WQe(e,this.nextSources))},r}(),WQe=function(r){zQe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new d8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=d8.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(d8.SimpleOuterSubscriber)});var Eye=E(jk=>{"use strict";var $Qe=jk&&jk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jk,"__esModule",{value:!0});var VQe=gi();function GQe(){return function(r){return r.lift(new KQe)}}jk.pairwise=GQe;var KQe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new YQe(e))},r}(),YQe=function(r){$Qe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(VQe.Subscriber)});var Rye=E(f8=>{"use strict";Object.defineProperty(f8,"__esModule",{value:!0});var JQe=aG(),Pye=uT();function XQe(r,e){return function(t){return[Pye.filter(r,e)(t),Pye.filter(JQe.not(r,e))(t)]}}f8.partition=XQe});var xye=E(h8=>{"use strict";Object.defineProperty(h8,"__esModule",{value:!0});var QQe=Xm();function ZQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return QQe.map(eZe(r,t))(n)}}h8.pluck=ZQe;function eZe(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var kye=E(p8=>{"use strict";Object.defineProperty(p8,"__esModule",{value:!0});var Oye=jf(),Iye=vT();function tZe(r){return r?Iye.multicast(function(){return new Oye.Subject},r):Iye.multicast(new Oye.Subject)}p8.publish=tZe});var Aye=E(m8=>{"use strict";Object.defineProperty(m8,"__esModule",{value:!0});var rZe=r5(),nZe=vT();function iZe(r){return function(e){return nZe.multicast(new rZe.BehaviorSubject(r))(e)}}m8.publishBehavior=iZe});var Lye=E(g8=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});var oZe=VI(),sZe=vT();function aZe(){return function(r){return sZe.multicast(new oZe.AsyncSubject)(r)}}g8.publishLast=aZe});var Mye=E(v8=>{"use strict";Object.defineProperty(v8,"__esModule",{value:!0});var cZe=UF(),uZe=vT();function lZe(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new cZe.ReplaySubject(r,e,n);return function(s){return uZe.multicast(function(){return o},i)(s)}}v8.publishReplay=lZe});var Nye=E(y8=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});var dZe=Wh(),fZe=uG();function hZe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&dZe.isArray(r[0])&&(r=r[0]),n.lift.call(fZe.race.apply(void 0,[n].concat(r)))}}y8.race=hZe});var qye=E(zk=>{"use strict";var pZe=zk&&zk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zk,"__esModule",{value:!0});var mZe=gi(),gZe=hy();function vZe(r){return r===void 0&&(r=-1),function(e){return r===0?gZe.empty():r<0?e.lift(new Fye(-1,e)):e.lift(new Fye(r-1,e))}}zk.repeat=vZe;var Fye=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new yZe(e,this.count,this.source))},r}(),yZe=function(r){pZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(mZe.Subscriber)});var jye=E(Uk=>{"use strict";var _Ze=Uk&&Uk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Uk,"__esModule",{value:!0});var bZe=jf(),_8=Fc();function wZe(r){return function(e){return e.lift(new SZe(r))}}Uk.repeatWhen=wZe;var SZe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new CZe(e,this.notifier,t))},r}(),CZe=function(r){_Ze(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new bZe.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=_8.innerSubscribe(t,new _8.SimpleInnerSubscriber(this))},e}(_8.SimpleOuterSubscriber)});var zye=E(Hk=>{"use strict";var DZe=Hk&&Hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hk,"__esModule",{value:!0});var TZe=gi();function EZe(r){return r===void 0&&(r=-1),function(e){return e.lift(new PZe(r,e))}}Hk.retry=EZe;var PZe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new RZe(e,this.count,this.source))},r}(),RZe=function(r){DZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(TZe.Subscriber)});var Uye=E(Bk=>{"use strict";var xZe=Bk&&Bk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Bk,"__esModule",{value:!0});var OZe=jf(),b8=Fc();function IZe(r){return function(e){return e.lift(new kZe(r,e))}}Bk.retryWhen=IZe;var kZe=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new AZe(e,this.notifier,this.source))},r}(),AZe=function(r){xZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new OZe.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=b8.innerSubscribe(i,new b8.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(b8.SimpleOuterSubscriber)});var Hye=E(Wk=>{"use strict";var LZe=Wk&&Wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Wk,"__esModule",{value:!0});var w8=Fc();function MZe(r){return function(e){return e.lift(new NZe(r))}}Wk.sample=MZe;var NZe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new FZe(e),i=t.subscribe(n);return i.add(w8.innerSubscribe(this.notifier,new w8.SimpleInnerSubscriber(n))),i},r}(),FZe=function(r){LZe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(w8.SimpleOuterSubscriber)});var Bye=E($k=>{"use strict";var qZe=$k&&$k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($k,"__esModule",{value:!0});var jZe=gi(),zZe=$h();function UZe(r,e){return e===void 0&&(e=zZe.async),function(t){return t.lift(new HZe(r,e))}}$k.sampleTime=UZe;var HZe=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new BZe(e,this.period,this.scheduler))},r}(),BZe=function(r){qZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(WZe,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(jZe.Subscriber);function WZe(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var Kye=E(yT=>{"use strict";var Wye=yT&&yT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yT,"__esModule",{value:!0});var $ye=gi();function $Ze(r,e){return function(t){return t.lift(new Vye(r,e))}}yT.sequenceEqual=$Ze;var Vye=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new Gye(e,this.compareTo,this.comparator))},r}();yT.SequenceEqualOperator=Vye;var Gye=function(r){Wye(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new VZe(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}($ye.Subscriber);yT.SequenceEqualSubscriber=Gye;var VZe=function(r){Wye(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}($ye.Subscriber)});var Yye=E(S8=>{"use strict";Object.defineProperty(S8,"__esModule",{value:!0});var GZe=vT(),KZe=FF(),YZe=jf();function JZe(){return new YZe.Subject}function XZe(){return function(r){return KZe.refCount()(GZe.multicast(JZe)(r))}}S8.share=XZe});var Jye=E(C8=>{"use strict";Object.defineProperty(C8,"__esModule",{value:!0});var QZe=UF();function ZZe(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(eet(n))}}C8.shareReplay=ZZe;function eet(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(m){c++;var _;!a||l?(l=!1,a=new QZe.ReplaySubject(t,i,s),_=a.subscribe(this),u=m.subscribe({next:function(T){a.next(T)},error:function(T){l=!0,a.error(T)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var Xye=E(Vk=>{"use strict";var tet=Vk&&Vk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vk,"__esModule",{value:!0});var ret=gi(),net=DE();function iet(r){return function(e){return e.lift(new oet(r,e))}}Vk.single=iet;var oet=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new set(e,this.predicate,this.source))},r}(),set=function(r){tet(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new net.EmptyError)},e}(ret.Subscriber)});var Qye=E(Gk=>{"use strict";var aet=Gk&&Gk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Gk,"__esModule",{value:!0});var cet=gi();function uet(r){return function(e){return e.lift(new det(r))}}Gk.skip=uet;var det=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new fet(e,this.total))},r}(),fet=function(r){aet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(cet.Subscriber)});var e_e=E(Kk=>{"use strict";var het=Kk&&Kk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kk,"__esModule",{value:!0});var Zye=gi(),pet=CE();function met(r){return function(e){return e.lift(new get(r))}}Kk.skipLast=met;var get=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new pet.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new Zye.Subscriber(e)):t.subscribe(new vet(e,this._skipCount))},r}(),vet=function(r){het(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(Zye.Subscriber)});var t_e=E(Yk=>{"use strict";var yet=Yk&&Yk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Yk,"__esModule",{value:!0});var D8=Fc();function _et(r){return function(e){return e.lift(new bet(r))}}Yk.skipUntil=_et;var bet=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new wet(e,this.notifier))},r}(),wet=function(r){yet(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new D8.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=D8.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(D8.SimpleOuterSubscriber)});var r_e=E(Jk=>{"use strict";var Cet=Jk&&Jk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jk,"__esModule",{value:!0});var Det=gi();function Tet(r){return function(e){return e.lift(new Eet(r))}}Jk.skipWhile=Tet;var Eet=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new Pet(e,this.predicate))},r}(),Pet=function(r){Cet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(Det.Subscriber)});var i_e=E(T8=>{"use strict";Object.defineProperty(T8,"__esModule",{value:!0});var n_e=ik(),Ret=py();function xet(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return Ret.isScheduler(t)?(r.pop(),function(n){return n_e.concat(r,n,t)}):function(n){return n_e.concat(r,n)}}T8.startWith=xet});var o_e=E(Xk=>{"use strict";var Oet=Xk&&Xk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xk,"__esModule",{value:!0});var Iet=zo(),E8=m5(),ket=ok(),Aet=function(r){Oet(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=E8.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!ket.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=E8.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=E8.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(Iet.Observable);Xk.SubscribeOnObservable=Aet});var s_e=E(P8=>{"use strict";Object.defineProperty(P8,"__esModule",{value:!0});var Let=o_e();function Met(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Net(r,e))}}P8.subscribeOn=Met;var Net=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new Let.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var wq=E(Qk=>{"use strict";var Fet=Qk&&Qk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Qk,"__esModule",{value:!0});var qet=Xm(),jet=my(),R8=Fc();function a_e(r,e){return typeof e=="function"?function(t){return t.pipe(a_e(function(n,i){return jet.from(r(n,i)).pipe(qet.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new zet(r))}}Qk.switchMap=a_e;var zet=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Uet(e,this.project))},r}(),Uet=function(r){Fet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new R8.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=R8.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(R8.SimpleOuterSubscriber)});var c_e=E(x8=>{"use strict";Object.defineProperty(x8,"__esModule",{value:!0});var Het=wq(),Bet=uC();function Wet(){return Het.switchMap(Bet.identity)}x8.switchAll=Wet});var l_e=E(O8=>{"use strict";Object.defineProperty(O8,"__esModule",{value:!0});var u_e=wq();function $et(r,e){return e?u_e.switchMap(function(){return r},e):u_e.switchMap(function(){return r})}O8.switchMapTo=$et});var d_e=E(Zk=>{"use strict";var Vet=Zk&&Zk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Zk,"__esModule",{value:!0});var I8=Fc();function Get(r){return function(e){return e.lift(new Ket(r))}}Zk.takeUntil=Get;var Ket=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new Yet(e),i=I8.innerSubscribe(this.notifier,new I8.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),Yet=function(r){Vet(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(I8.SimpleOuterSubscriber)});var f_e=E(e1=>{"use strict";var Jet=e1&&e1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e1,"__esModule",{value:!0});var Xet=gi();function Qet(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new Zet(r,e))}}e1.takeWhile=Qet;var Zet=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new ett(e,this.predicate,this.inclusive))},r}(),ett=function(r){Jet(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(Xet.Subscriber)});var h_e=E(t1=>{"use strict";var ttt=t1&&t1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(t1,"__esModule",{value:!0});var rtt=gi(),gC=WF(),ntt=pE();function itt(r,e,t){return function(i){return i.lift(new ott(r,e,t))}}t1.tap=itt;var ott=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new stt(e,this.nextOrObserver,this.error,this.complete))},r}(),stt=function(r){ttt(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=gC.noop,s._tapError=gC.noop,s._tapComplete=gC.noop,s._tapError=i||gC.noop,s._tapComplete=o||gC.noop,ntt.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||gC.noop,s._tapError=n.error||gC.noop,s._tapComplete=n.complete||gC.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(rtt.Subscriber)});var A8=E(_T=>{"use strict";var att=_T&&_T.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_T,"__esModule",{value:!0});var k8=Fc();_T.defaultThrottleConfig={leading:!0,trailing:!1};function ctt(r,e){return e===void 0&&(e=_T.defaultThrottleConfig),function(t){return t.lift(new utt(r,!!e.leading,!!e.trailing))}}_T.throttle=ctt;var utt=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new ltt(e,this.durationSelector,this.leading,this.trailing))},r}(),ltt=function(r){att(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=k8.innerSubscribe(n,new k8.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(k8.SimpleOuterSubscriber)});var p_e=E(r1=>{"use strict";var dtt=r1&&r1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r1,"__esModule",{value:!0});var ftt=gi(),htt=$h(),ptt=A8();function mtt(r,e,t){return e===void 0&&(e=htt.async),t===void 0&&(t=ptt.defaultThrottleConfig),function(n){return n.lift(new gtt(r,e,t.leading,t.trailing))}}r1.throttleTime=mtt;var gtt=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new vtt(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),vtt=function(r){dtt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ytt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(ftt.Subscriber);function ytt(r){var e=r.subscriber;e.clearThrottle()}});var g_e=E(Sq=>{"use strict";Object.defineProperty(Sq,"__esModule",{value:!0});var _tt=$h(),btt=_q(),wtt=YF(),Stt=Xm();function Ctt(r){return r===void 0&&(r=_tt.async),function(e){return wtt.defer(function(){return e.pipe(btt.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),Stt.map(function(t){var n=t.current,i=t.last,o=t.value;return new m_e(o,n-i)}))})}}Sq.timeInterval=Ctt;var m_e=function(){function r(e,t){this.value=e,this.interval=t}return r}();Sq.TimeInterval=m_e});var M8=E(n1=>{"use strict";var Dtt=n1&&n1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(n1,"__esModule",{value:!0});var Ttt=$h(),Ett=WG(),L8=Fc();function Ptt(r,e,t){return t===void 0&&(t=Ttt.async),function(n){var i=Ett.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new Rtt(o,i,e,t))}}n1.timeoutWith=Ptt;var Rtt=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new xtt(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),xtt=function(r){Dtt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(L8.innerSubscribe(n,new L8.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(L8.SimpleOuterSubscriber)});var v_e=E(N8=>{"use strict";Object.defineProperty(N8,"__esModule",{value:!0});var Ott=$h(),Itt=w5(),ktt=M8(),Att=zF();function Ltt(r,e){return e===void 0&&(e=Ott.async),ktt.timeoutWith(r,Att.throwError(new Itt.TimeoutError),e)}N8.timeout=Ltt});var b_e=E(Cq=>{"use strict";Object.defineProperty(Cq,"__esModule",{value:!0});var Mtt=$h(),Ntt=Xm();function Ftt(r){return r===void 0&&(r=Mtt.async),Ntt.map(function(e){return new y_e(e,r.now())})}Cq.timestamp=Ftt;var y_e=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();Cq.Timestamp=y_e});var w_e=E(F8=>{"use strict";Object.defineProperty(F8,"__esModule",{value:!0});var qtt=qk();function jtt(r,e,t){return t===0?[e]:(r.push(e),r)}function ztt(){return qtt.reduce(jtt,[])}F8.toArray=ztt});var C_e=E(i1=>{"use strict";var Utt=i1&&i1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(i1,"__esModule",{value:!0});var S_e=jf(),q8=Fc();function Htt(r){return function(t){return t.lift(new Btt(r))}}i1.window=Htt;var Btt=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new Wtt(e),i=t.subscribe(n);return i.closed||n.add(q8.innerSubscribe(this.windowBoundaries,new q8.SimpleInnerSubscriber(n))),i},r}(),Wtt=function(r){Utt(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new S_e.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new S_e.Subject;n.next(i)},e}(q8.SimpleOuterSubscriber)});var T_e=E(o1=>{"use strict";var $tt=o1&&o1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(o1,"__esModule",{value:!0});var Vtt=gi(),D_e=jf();function Gtt(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Ktt(r,e))}}o1.windowCount=Gtt;var Ktt=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new Ytt(e,this.windowSize,this.startWindowEvery))},r}(),Ytt=function(r){$tt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new D_e.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new D_e.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Vtt.Subscriber)});var x_e=E(s1=>{"use strict";var P_e=s1&&s1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(s1,"__esModule",{value:!0});var Jtt=jf(),Xtt=$h(),Qtt=gi(),E_e=ok(),j8=py();function Ztt(r){var e=Xtt.async,t=null,n=Number.POSITIVE_INFINITY;return j8.isScheduler(arguments[3])&&(e=arguments[3]),j8.isScheduler(arguments[2])?e=arguments[2]:E_e.isNumeric(arguments[2])&&(n=Number(arguments[2])),j8.isScheduler(arguments[1])?e=arguments[1]:E_e.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new ert(r,t,n,e))}}s1.windowTime=Ztt;var ert=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new rrt(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),trt=function(r){P_e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Jtt.Subject),rrt=function(r){P_e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(R_e,n,u)),a.add(s.schedule(irt,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(nrt,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new trt;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(Qtt.Subscriber);function nrt(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function irt(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(R_e,e,c),s.add(a.subscription),s.schedule(r,i)}function R_e(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var I_e=E(a1=>{"use strict";var ort=a1&&a1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(a1,"__esModule",{value:!0});var srt=jf(),art=Dl(),crt=dC(),O_e=fC();function urt(r,e){return function(t){return t.lift(new lrt(r,e))}}a1.windowToggle=urt;var lrt=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new drt(e,this.openings,this.closingSelector))},r}(),drt=function(r){ort(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=O_e.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(m){return this.error(m)}var u=new srt.Subject,l=new art.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=O_e.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(crt.OuterSubscriber)});var k_e=E(c1=>{"use strict";var frt=c1&&c1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(c1,"__esModule",{value:!0});var hrt=jf(),prt=dC(),mrt=fC();function grt(r){return function(t){return t.lift(new vrt(r))}}c1.windowWhen=grt;var vrt=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new yrt(e,this.closingSelector))},r}(),yrt=function(r){frt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new hrt.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=mrt.subscribeToResult(this,o))},e}(prt.OuterSubscriber)});var A_e=E(u1=>{"use strict";var _rt=u1&&u1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(u1,"__esModule",{value:!0});var brt=dC(),wrt=fC();function Srt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new Crt(i,n))}}u1.withLatestFrom=Srt;var Crt=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new Drt(e,this.observables,this.project))},r}(),Drt=function(r){_rt(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(wrt.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(brt.OuterSubscriber)});var L_e=E(z8=>{"use strict";Object.defineProperty(z8,"__esModule",{value:!0});var Trt=eq();function Ert(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(Trt.zip.apply(void 0,[n].concat(r)))}}z8.zip=Ert});var M_e=E(U8=>{"use strict";Object.defineProperty(U8,"__esModule",{value:!0});var Prt=eq();function Rrt(r){return function(e){return e.lift(new Prt.ZipOperator(r))}}U8.zipAll=Rrt});var l1=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});var xrt=IG();ir.audit=xrt.audit;var Ort=yve();ir.auditTime=Ort.auditTime;var Irt=_ve();ir.buffer=Irt.buffer;var krt=Sve();ir.bufferCount=krt.bufferCount;var Art=Tve();ir.bufferTime=Art.bufferTime;var Lrt=Pve();ir.bufferToggle=Lrt.bufferToggle;var Mrt=Rve();ir.bufferWhen=Mrt.bufferWhen;var Nrt=xve();ir.catchError=Nrt.catchError;var Frt=Ove();ir.combineAll=Frt.combineAll;var qrt=Ive();ir.combineLatest=qrt.combineLatest;var jrt=kve();ir.concat=jrt.concat;var zrt=$5();ir.concatAll=zrt.concatAll;var Urt=zG();ir.concatMap=Urt.concatMap;var Hrt=Ave();ir.concatMapTo=Hrt.concatMapTo;var Brt=Lve();ir.count=Brt.count;var Wrt=Mve();ir.debounce=Wrt.debounce;var $rt=Nve();ir.debounceTime=$rt.debounceTime;var Vrt=RE();ir.defaultIfEmpty=Vrt.defaultIfEmpty;var Grt=qve();ir.delay=Grt.delay;var Krt=zve();ir.delayWhen=Krt.delayWhen;var Yrt=Uve();ir.dematerialize=Yrt.dematerialize;var Jrt=Bve();ir.distinct=Jrt.distinct;var Xrt=GG();ir.distinctUntilChanged=Xrt.distinctUntilChanged;var Qrt=Wve();ir.distinctUntilKeyChanged=Qrt.distinctUntilKeyChanged;var Zrt=Vve();ir.elementAt=Zrt.elementAt;var ent=Gve();ir.endWith=ent.endWith;var tnt=Kve();ir.every=tnt.every;var rnt=Yve();ir.exhaust=rnt.exhaust;var nnt=Xve();ir.exhaustMap=nnt.exhaustMap;var int=eye();ir.expand=int.expand;var ont=uT();ir.filter=ont.filter;var snt=tye();ir.finalize=snt.finalize;var ant=e8();ir.find=ant.find;var cnt=iye();ir.findIndex=cnt.findIndex;var unt=oye();ir.first=unt.first;var lnt=t5();ir.groupBy=lnt.groupBy;var dnt=sye();ir.ignoreElements=dnt.ignoreElements;var fnt=aye();ir.isEmpty=fnt.isEmpty;var hnt=cye();ir.last=hnt.last;var pnt=Xm();ir.map=pnt.map;var mnt=uye();ir.mapTo=mnt.mapTo;var gnt=lye();ir.materialize=gnt.materialize;var vnt=pye();ir.max=vnt.max;var ynt=mye();ir.merge=ynt.merge;var _nt=KF();ir.mergeAll=_nt.mergeAll;var N_e=nk();ir.mergeMap=N_e.mergeMap;ir.flatMap=N_e.flatMap;var bnt=vye();ir.mergeMapTo=bnt.mergeMapTo;var wnt=bye();ir.mergeScan=wnt.mergeScan;var Snt=wye();ir.min=Snt.min;var Cnt=vT();ir.multicast=Cnt.multicast;var Dnt=p5();ir.observeOn=Dnt.observeOn;var Tnt=Tye();ir.onErrorResumeNext=Tnt.onErrorResumeNext;var Ent=Eye();ir.pairwise=Ent.pairwise;var Pnt=Rye();ir.partition=Pnt.partition;var Rnt=xye();ir.pluck=Rnt.pluck;var xnt=kye();ir.publish=xnt.publish;var Ont=Aye();ir.publishBehavior=Ont.publishBehavior;var Int=Lye();ir.publishLast=Int.publishLast;var knt=Mye();ir.publishReplay=knt.publishReplay;var Ant=Nye();ir.race=Ant.race;var Lnt=qk();ir.reduce=Lnt.reduce;var Mnt=qye();ir.repeat=Mnt.repeat;var Nnt=jye();ir.repeatWhen=Nnt.repeatWhen;var Fnt=zye();ir.retry=Fnt.retry;var qnt=Uye();ir.retryWhen=qnt.retryWhen;var jnt=FF();ir.refCount=jnt.refCount;var znt=Hye();ir.sample=znt.sample;var Unt=Bye();ir.sampleTime=Unt.sampleTime;var Hnt=_q();ir.scan=Hnt.scan;var Bnt=Kye();ir.sequenceEqual=Bnt.sequenceEqual;var Wnt=Yye();ir.share=Wnt.share;var $nt=Jye();ir.shareReplay=$nt.shareReplay;var Vnt=Xye();ir.single=Vnt.single;var Gnt=Qye();ir.skip=Gnt.skip;var Knt=e_e();ir.skipLast=Knt.skipLast;var Ynt=t_e();ir.skipUntil=Ynt.skipUntil;var Jnt=r_e();ir.skipWhile=Jnt.skipWhile;var Xnt=i_e();ir.startWith=Xnt.startWith;var Qnt=s_e();ir.subscribeOn=Qnt.subscribeOn;var Znt=c_e();ir.switchAll=Znt.switchAll;var eit=wq();ir.switchMap=eit.switchMap;var tit=l_e();ir.switchMapTo=tit.switchMapTo;var rit=vq();ir.take=rit.take;var nit=yq();ir.takeLast=nit.takeLast;var iit=d_e();ir.takeUntil=iit.takeUntil;var oit=f_e();ir.takeWhile=oit.takeWhile;var sit=h_e();ir.tap=sit.tap;var ait=A8();ir.throttle=ait.throttle;var cit=p_e();ir.throttleTime=cit.throttleTime;var uit=Ek();ir.throwIfEmpty=uit.throwIfEmpty;var lit=g_e();ir.timeInterval=lit.timeInterval;var dit=v_e();ir.timeout=dit.timeout;var fit=M8();ir.timeoutWith=fit.timeoutWith;var hit=b_e();ir.timestamp=hit.timestamp;var pit=w_e();ir.toArray=pit.toArray;var mit=C_e();ir.window=mit.window;var git=T_e();ir.windowCount=git.windowCount;var vit=x_e();ir.windowTime=vit.windowTime;var yit=I_e();ir.windowToggle=yit.windowToggle;var _it=k_e();ir.windowWhen=_it.windowWhen;var bit=A_e();ir.withLatestFrom=bit.withLatestFrom;var wit=L_e();ir.zip=wit.zip;var Sit=M_e();ir.zipAll=Sit.zipAll});var z_e=E((oUt,j_e)=>{var IE=1e3,kE=IE*60,AE=kE*60,bT=AE*24,Cit=bT*7,Dit=bT*365.25;j_e.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Tit(r);if(t==="number"&&isFinite(r))return e.long?Pit(r):Eit(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Tit(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Dit;case"weeks":case"week":case"w":return t*Cit;case"days":case"day":case"d":return t*bT;case"hours":case"hour":case"hrs":case"hr":case"h":return t*AE;case"minutes":case"minute":case"mins":case"min":case"m":return t*kE;case"seconds":case"second":case"secs":case"sec":case"s":return t*IE;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Eit(r){var e=Math.abs(r);return e>=bT?Math.round(r/bT)+"d":e>=AE?Math.round(r/AE)+"h":e>=kE?Math.round(r/kE)+"m":e>=IE?Math.round(r/IE)+"s":r+"ms"}function Pit(r){var e=Math.abs(r);return e>=bT?Dq(r,e,bT,"day"):e>=AE?Dq(r,e,AE,"hour"):e>=kE?Dq(r,e,kE,"minute"):e>=IE?Dq(r,e,IE,"second"):r+" ms"}function Dq(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var B8=E((sUt,U_e)=>{function Rit(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=z_e(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,m,_;function T(...x){if(!T.enabled)return;let M=T,A=Number(new Date),U=A-(d||A);M.diff=U,M.prev=d,M.curr=A,d=A,x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let ne=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(ye,V)=>{if(ye==="%%")return"%";ne++;let W=t.formatters[V];if(typeof W=="function"){let ee=x[ne];ye=W.call(M,ee),x.splice(ne,1),ne--}return ye}),t.formatArgs.call(M,x),(M.log||t.log).apply(M,x)}return T.namespace=l,T.useColors=t.useColors(),T.color=t.selectColor(l),T.extend=n,T.destroy=t.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==t.namespaces&&(m=t.namespaces,_=t.enabled(l)),_),set:x=>{f=x}}),typeof t.init=="function"&&t.init(T),T}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),m=f.length;for(d=0;d<m;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(l))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}U_e.exports=Rit});var H_e=E((Qm,Tq)=>{Qm.formatArgs=Oit;Qm.save=Iit;Qm.load=kit;Qm.useColors=xit;Qm.storage=Ait();Qm.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qm.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xit(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Oit(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Tq.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}Qm.log=console.debug||console.log||(()=>{});function Iit(r){try{r?Qm.storage.setItem("debug",r):Qm.storage.removeItem("debug")}catch{}}function kit(){let r;try{r=Qm.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Ait(){try{return localStorage}catch{}}Tq.exports=B8()(Qm);var{formatters:Lit}=Tq.exports;Lit.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var W_e=E((aUt,B_e)=>{"use strict";B_e.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var V_e=E((cUt,$_e)=>{"use strict";var Mit=require("os"),vy=W_e(),Uf=process.env,LE;vy("no-color")||vy("no-colors")||vy("color=false")?LE=!1:(vy("color")||vy("colors")||vy("color=true")||vy("color=always"))&&(LE=!0);"FORCE_COLOR"in Uf&&(LE=Uf.FORCE_COLOR.length===0||parseInt(Uf.FORCE_COLOR,10)!==0);function Nit(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Fit(r){if(LE===!1)return 0;if(vy("color=16m")||vy("color=full")||vy("color=truecolor"))return 3;if(vy("color=256"))return 2;if(r&&!r.isTTY&&LE!==!0)return 0;let e=LE?1:0;if(process.platform==="win32"){let t=Mit.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Uf)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Uf)||Uf.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Uf)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Uf.TEAMCITY_VERSION)?1:0;if(Uf.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Uf){let t=parseInt((Uf.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Uf.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Uf.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Uf.TERM)||"COLORTERM"in Uf?1:(Uf.TERM==="dumb",e)}function W8(r){let e=Fit(r);return Nit(e)}$_e.exports={supportsColor:W8,stdout:W8(process.stdout),stderr:W8(process.stderr)}});var K_e=E((cd,Pq)=>{var qit=require("tty"),Eq=require("util");cd.init=$it;cd.log=Hit;cd.formatArgs=zit;cd.save=Bit;cd.load=Wit;cd.useColors=jit;cd.destroy=Eq.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");cd.colors=[6,2,3,4,5,1];try{let r=V_e();r&&(r.stderr||r).level>=2&&(cd.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}cd.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function jit(){return"colors"in cd.inspectOpts?!!cd.inspectOpts.colors:qit.isatty(process.stderr.fd)}function zit(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+Pq.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Uit()+e+" "+r[0]}function Uit(){return cd.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Hit(...r){return process.stderr.write(Eq.formatWithOptions(cd.inspectOpts,...r)+`
`)}function Bit(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Wit(){return process.env.DEBUG}function $it(r){r.inspectOpts={};let e=Object.keys(cd.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=cd.inspectOpts[e[t]]}Pq.exports=B8()(cd);var{formatters:G_e}=Pq.exports;G_e.o=function(r){return this.inspectOpts.colors=this.useColors,Eq.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};G_e.O=function(r){return this.inspectOpts.colors=this.useColors,Eq.inspect(r,this.inspectOpts)}});var Rq=E((uUt,$8)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$8.exports=H_e():$8.exports=K_e()});var X_e=E(Kp=>{"use strict";var Vit=Kp&&Kp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Git=Kp&&Kp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Y_e=Kp&&Kp.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vit(e,r,t);return Git(e,r),e};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.req=Kp.json=Kp.toBuffer=void 0;var Kit=Y_e(require("http")),Yit=Y_e(require("https"));async function J_e(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}Kp.toBuffer=J_e;async function Jit(r){let t=(await J_e(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}Kp.json=Jit;function Xit(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?Yit:Kit).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}Kp.req=Xit});var G8=E(Zm=>{"use strict";var Z_e=Zm&&Zm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qit=Zm&&Zm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zit=Zm&&Zm.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Z_e(e,r,t);return Qit(e,r),e},eot=Zm&&Zm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Z_e(e,r,t)};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Agent=void 0;var Q_e=Zit(require("http"));eot(X_e(),Zm);var A_=Symbol("AgentBaseInternalState"),V8=class extends Q_e.Agent{constructor(e){super(e),this[A_]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof Q_e.Agent)return o.addRequest(e,i);this[A_].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[A_].currentSocket;if(this[A_].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[A_].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[A_]&&(this[A_].defaultPort=e)}get protocol(){return this[A_].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[A_]&&(this[A_].protocol=e)}};Zm.Agent=V8});var tbe=E(ov=>{"use strict";var tot=ov&&ov.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rot=ov&&ov.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ebe=ov&&ov.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tot(e,r,t);return rot(e,r),e},not=ov&&ov.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ov,"__esModule",{value:!0});ov.HttpProxyAgent=void 0;var iot=ebe(require("net")),oot=ebe(require("tls")),sot=not(Rq()),aot=require("events"),cot=G8(),ME=(0,sot.default)("http-proxy-agent"),xq=class extends cot.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},ME("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?uot(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;ME("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(ME("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),ME("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(ME("Creating `tls.Socket`: %o",this.connectOpts),o=oot.connect(this.connectOpts)):(ME("Creating `net.Socket`: %o",this.connectOpts),o=iot.connect(this.connectOpts)),await(0,aot.once)(o,"connect"),o}};xq.protocols=["http","https"];ov.HttpProxyAgent=xq;function uot(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var rbe=E(NE=>{"use strict";var lot=NE&&NE.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(NE,"__esModule",{value:!0});NE.parseProxyResponse=void 0;var dot=lot(Rq()),Oq=(0,dot.default)("https-proxy-agent:parse-proxy-response");function fot(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),Oq("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),Oq("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){Oq("have not received end of HTTP headers yet..."),o();return}let m=d.slice(0,f).toString("ascii").split(`\r
`),_=m.shift();if(!_)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let T=_.split(" "),x=+T[1],M=T.slice(2).join(" "),A={};for(let U of m){if(!U)continue;let ne=U.indexOf(":");if(ne===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${U}"`));let de=U.slice(0,ne).toLowerCase(),ye=U.slice(ne+1).trimStart(),V=A[de];typeof V=="string"?A[de]=[V,ye]:Array.isArray(V)?V.push(ye):A[de]=ye}Oq("got proxy server response: %o %o",_,A),s(),e({connect:{statusCode:x,statusText:M,headers:A},buffered:d})}r.on("error",c),r.on("end",a),o()})}NE.parseProxyResponse=fot});var abe=E(sv=>{"use strict";var hot=sv&&sv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pot=sv&&sv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),obe=sv&&sv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hot(e,r,t);return pot(e,r),e},sbe=sv&&sv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sv,"__esModule",{value:!0});sv.HttpsProxyAgent=void 0;var d1=obe(require("net")),nbe=obe(require("tls")),mot=sbe(require("assert")),got=sbe(Rq()),vot=G8(),yot=rbe(),f1=(0,got.default)("https-proxy-agent"),Iq=class extends vot.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},f1("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?ibe(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){f1("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=nbe.connect({...this.connectOpts,servername:f&&d1.isIP(f)?void 0:f})}else f1("Creating `net.Socket`: %o",this.connectOpts),i=d1.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=d1.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,yot.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",_ot),t.secureEndpoint){f1("Upgrading socket connection to TLS");let f=t.servername||t.host;return nbe.connect({...ibe(t,"host","path","port"),socket:i,servername:d1.isIP(f)?void 0:f})}return i}i.destroy();let d=new d1.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{f1("Replaying proxy buffer for failed request"),(0,mot.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};Iq.protocols=["http","https"];sv.HttpsProxyAgent=Iq;function _ot(r){r.resume()}function ibe(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var hbe=E(Y8=>{var wT=require("path"),yC=process.platform==="win32",vC=require("fs"),wot=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Sot(){var r;if(wot){var e=new Error;r=t}else r=n;return r;function t(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Cot(r){return typeof r=="function"?r:Sot()}var bUt=wT.normalize;yC?hw=/(.*?)(?:[\/\\]+|$)/g:hw=/(.*?)(?:[\/]+|$)/g;var hw;yC?h1=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:h1=/^[\/]*/;var h1;Y8.realpathSync=function(e,t){if(e=wT.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n=e,i={},o={},s,a,c,u;l();function l(){var x=h1.exec(e);s=x[0].length,a=x[0],c=x[0],u="",yC&&!o[c]&&(vC.lstatSync(c),o[c]=!0)}for(;s<e.length;){hw.lastIndex=s;var d=hw.exec(e);if(u=a,a+=d[0],c=u+d[1],s=hw.lastIndex,!(o[c]||t&&t[c]===c)){var f;if(t&&Object.prototype.hasOwnProperty.call(t,c))f=t[c];else{var m=vC.lstatSync(c);if(!m.isSymbolicLink()){o[c]=!0,t&&(t[c]=c);continue}var _=null;if(!yC){var T=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(T)&&(_=i[T])}_===null&&(vC.statSync(c),_=vC.readlinkSync(c)),f=wT.resolve(u,_),t&&(t[c]=f),yC||(i[T]=_)}e=wT.resolve(f,e.slice(s)),l()}}return t&&(t[n]=e),e};Y8.realpath=function(e,t,n){if(typeof n!="function"&&(n=Cot(t),t=null),e=wT.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var i=e,o={},s={},a,c,u,l;d();function d(){var x=h1.exec(e);a=x[0].length,c=x[0],u=x[0],l="",yC&&!s[u]?vC.lstat(u,function(M){if(M)return n(M);s[u]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return t&&(t[i]=e),n(null,e);hw.lastIndex=a;var x=hw.exec(e);return l=c,c+=x[0],u=l+x[1],a=hw.lastIndex,s[u]||t&&t[u]===u?process.nextTick(f):t&&Object.prototype.hasOwnProperty.call(t,u)?T(t[u]):vC.lstat(u,m)}function m(x,M){if(x)return n(x);if(!M.isSymbolicLink())return s[u]=!0,t&&(t[u]=u),process.nextTick(f);if(!yC){var A=M.dev.toString(32)+":"+M.ino.toString(32);if(o.hasOwnProperty(A))return _(null,o[A],u)}vC.stat(u,function(U){if(U)return n(U);vC.readlink(u,function(ne,de){yC||(o[A]=de),_(ne,de)})})}function _(x,M,A){if(x)return n(x);var U=wT.resolve(l,M);t&&(t[A]=U),T(U)}function T(x){e=wT.resolve(x,e.slice(a)),d()}}});var Z8=E((SUt,vbe)=>{vbe.exports=_C;_C.realpath=_C;_C.sync=Q8;_C.realpathSync=Q8;_C.monkeypatch=Tot;_C.unmonkeypatch=Eot;var FE=require("fs"),J8=FE.realpath,X8=FE.realpathSync,Dot=process.version,pbe=/^v[0-5]\./.test(Dot),mbe=hbe();function gbe(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function _C(r,e,t){if(pbe)return J8(r,e,t);typeof e=="function"&&(t=e,e=null),J8(r,e,function(n,i){gbe(n)?mbe.realpath(r,e,t):t(n,i)})}function Q8(r,e){if(pbe)return X8(r,e);try{return X8(r,e)}catch(t){if(gbe(t))return mbe.realpathSync(r,e);throw t}}function Tot(){FE.realpath=_C,FE.realpathSync=Q8}function Eot(){FE.realpath=J8,FE.realpathSync=X8}});var _be=E((CUt,ybe)=>{ybe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);Pot(i)?t.push.apply(t,i):t.push(i)}return t};var Pot=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var eK=E((DUt,Cbe)=>{"use strict";Cbe.exports=wbe;function wbe(r,e,t){r instanceof RegExp&&(r=bbe(r,t)),e instanceof RegExp&&(e=bbe(e,t));var n=Sbe(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function bbe(r,e){var t=e.match(r);return t?t[0]:null}wbe.range=Sbe;function Sbe(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var Ibe=E((TUt,Obe)=>{var Rot=_be(),Dbe=eK();Obe.exports=Iot;var Tbe="\0SLASH"+Math.random()+"\0",Ebe="\0OPEN"+Math.random()+"\0",rK="\0CLOSE"+Math.random()+"\0",Pbe="\0COMMA"+Math.random()+"\0",Rbe="\0PERIOD"+Math.random()+"\0";function tK(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function xot(r){return r.split("\\\\").join(Tbe).split("\\{").join(Ebe).split("\\}").join(rK).split("\\,").join(Pbe).split("\\.").join(Rbe)}function Oot(r){return r.split(Tbe).join("\\").split(Ebe).join("{").split(rK).join("}").split(Pbe).join(",").split(Rbe).join(".")}function xbe(r){if(!r)return[""];var e=[],t=Dbe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=xbe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Iot(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),qE(xot(r),!0).map(Oot)):[]}function kot(r){return"{"+r+"}"}function Aot(r){return/^-?0\d/.test(r)}function Lot(r,e){return r<=e}function Mot(r,e){return r>=e}function qE(r,e){var t=[],n=Dbe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+rK+n.post,qE(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=xbe(n.body),c.length===1&&(c=qE(c[0],!1).map(kot),c.length===1)){var l=n.post.length?qE(n.post,!1):[""];return l.map(function(se){return n.pre+c[0]+se})}var u=n.pre,l=n.post.length?qE(n.post,!1):[""],d;if(s){var f=tK(c[0]),m=tK(c[1]),_=Math.max(c[0].length,c[1].length),T=c.length==3?Math.abs(tK(c[2])):1,x=Lot,M=m<f;M&&(T*=-1,x=Mot);var A=c.some(Aot);d=[];for(var U=f;x(U,m);U+=T){var ne;if(o)ne=String.fromCharCode(U),ne==="\\"&&(ne="");else if(ne=String(U),A){var de=_-ne.length;if(de>0){var ye=new Array(de+1).join("0");U<0?ne="-"+ye+ne.slice(1):ne=ye+ne}}d.push(ne)}}else d=Rot(c,function(Se){return qE(Se,!1)});for(var V=0;V<d.length;V++)for(var W=0;W<l.length;W++){var ee=u+d[V]+l[W];(!e||s||ee)&&t.push(ee)}return t}});var ST=E((EUt,Nbe)=>{Nbe.exports=eg;eg.Minimatch=Jd;var p1=(()=>{try{return require("path")}catch{}})()||{sep:"/"};eg.sep=p1.sep;var oK=eg.GLOBSTAR=Jd.GLOBSTAR={},Not=Ibe(),kbe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},nK="[^/]",iK=nK+"*?",Fot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",qot="(?:(?!(?:\\/|^)\\.).)*?",Abe=jot("().*{}+?[]^$\\!");function jot(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var Lbe=/\/+/;eg.filter=zot;function zot(r,e){return e=e||{},function(t,n,i){return eg(t,r,e)}}function bC(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}eg.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return eg;let e=eg,t=function(i,o,s){return e(i,o,bC(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,bC(r,o))},t.Minimatch.defaults=n=>e.defaults(bC(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,bC(r,o))},t.defaults=function(i){return e.defaults(bC(r,i))},t.makeRe=function(i,o){return e.makeRe(i,bC(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,bC(r,o))},t.match=function(n,i,o){return e.match(n,i,bC(r,o))},t};Jd.defaults=function(r){return eg.defaults(r).Minimatch};function eg(r,e,t){return Lq(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new Jd(e,t).match(r)}function Jd(r,e){if(!(this instanceof Jd))return new Jd(r,e);Lq(r),e||(e={}),r=r.trim(),p1.sep!=="/"&&(r=r.split(p1.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Jd.prototype.debug=function(){};Jd.prototype.make=Uot;function Uot(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(Lbe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}Jd.prototype.parseNegate=Hot;function Hot(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}eg.braceExpand=function(r,e){return Mbe(r,e)};Jd.prototype.braceExpand=Mbe;function Mbe(r,e){return e||(this instanceof Jd?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,Lq(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Not(r)}var Bot=1024*64,Lq=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Bot)throw new TypeError("pattern is too long")};Jd.prototype.parse=Wot;var Aq={};function Wot(r,e){Lq(r);var t=this.options;if(!t.noglobstar&&r==="**")return oK;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function _(){if(c){switch(c){case"*":n+=iK,i=!0;break;case"?":n+=nK,i=!0;break;default:n+="\\"+c;break}m.debug("clearStateChar %j %j",c,n),c=!1}}for(var T=0,x=r.length,M;T<x&&(M=r.charAt(T));T++){if(this.debug("%s	%s %s %j",r,T,n,M),o&&Abe[M]){n+="\\"+M,o=!1;continue}switch(M){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,T,n,M),u){this.debug("  in class"),M==="!"&&T===d+1&&(M="^"),n+=M;continue}m.debug("call clearStateChar %j",c),_(),c=M,t.noext&&_();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:T-1,reStart:n.length,open:kbe[c].open,close:kbe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}_(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&a.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),u){n+="\\"+M;continue}u=!0,d=T,l=n.length,n+=M;continue;case"]":if(T===d+1||!u){n+="\\"+M,o=!1;continue}if(u){var U=r.substring(d+1,T);try{RegExp("["+U+"]")}catch{var ne=this.parse(U,Aq);n=n.substr(0,l)+"\\["+ne[0]+"\\]",i=i||ne[1],u=!1;continue}}i=!0,u=!1,n+=M;continue;default:_(),o?o=!1:Abe[M]&&!(M==="^"&&u)&&(n+="\\"),n+=M}}for(u&&(U=r.substr(d+1),ne=this.parse(U,Aq),n=n.substr(0,l)+"\\["+ne[0],i=i||ne[1]),A=s.pop();A;A=s.pop()){var de=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),de=de.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,de,de,A,n);var ye=A.type==="*"?iK:A.type==="?"?nK:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+ye+"\\("+de}_(),o&&(n+="\\\\");var V=!1;switch(n.charAt(0)){case".":case"[":case"(":V=!0}for(var W=a.length-1;W>-1;W--){var ee=a[W],Se=n.slice(0,ee.reStart),se=n.slice(ee.reStart,ee.reEnd-8),ce=n.slice(ee.reEnd-8,ee.reEnd),qe=n.slice(ee.reEnd);ce+=qe;var Ne=Se.split("(").length-1,ue=qe;for(T=0;T<Ne;T++)ue=ue.replace(/\)[+*?]?/,"");qe=ue;var De="";qe===""&&e!==Aq&&(De="$");var we=Se+se+qe+De+ce;n=we}if(n!==""&&i&&(n="(?=.)"+n),V&&(n=f+n),e===Aq)return[n,i];if(!i)return Got(r);var xe=t.nocase?"i":"";try{var Me=new RegExp("^"+n+"$",xe)}catch{return new RegExp("$.")}return Me._glob=r,Me._src=n,Me}eg.makeRe=function(r,e){return new Jd(r,e||{}).makeRe()};Jd.prototype.makeRe=$ot;function $ot(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?iK:e.dot?Fot:qot,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===oK?t:typeof s=="string"?Kot(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}eg.match=function(r,e,t){t=t||{};let n=new Jd(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};Jd.prototype.match=Vot;function Vot(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;p1.sep!=="/"&&(r=r.split(p1.sep).join("/")),r=r.split(Lbe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}Jd.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===oK){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var m;if(typeof c=="string"?(n.nocase?m=u.toLowerCase()===c.toLowerCase():m=u===c,this.debug("string match",c,u,m)):(m=u.match(c),this.debug("pattern match",c,u,m)),!m)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function Got(r){return r.replace(/\\(.)/g,"$1")}function Kot(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Fbe=E((PUt,sK)=>{typeof Object.create=="function"?sK.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:sK.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}});var qbe=E((RUt,cK)=>{try{if(aK=require("util"),typeof aK.inherits!="function")throw"";cK.exports=aK.inherits}catch{cK.exports=Fbe()}var aK});var Nq=E((xUt,Mq)=>{"use strict";function jbe(r){return r.charAt(0)==="/"}function zbe(r){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=e.exec(r),n=t[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(t[2]||i)}Mq.exports=process.platform==="win32"?zbe:jbe;Mq.exports.posix=jbe;Mq.exports.win32=zbe});var lK=E(wC=>{wC.setopts=est;wC.ownProp=Ube;wC.makeAbs=m1;wC.finish=tst;wC.mark=rst;wC.isIgnored=Bbe;wC.childrenIgnored=nst;function Ube(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Yot=require("fs"),jE=require("path"),Jot=ST(),Hbe=Nq(),uK=Jot.Minimatch;function Xot(r,e){return r.localeCompare(e,"en")}function Qot(r,e){r.ignore=e.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(Zot))}function Zot(r){var e=null;if(r.slice(-3)==="/**"){var t=r.replace(/(\/\*\*)+$/,"");e=new uK(t,{dot:!0})}return{matcher:new uK(r,{dot:!0}),gmatcher:e}}function est(r,e,t){if(t||(t={}),t.matchBase&&e.indexOf("/")===-1){if(t.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}r.silent=!!t.silent,r.pattern=e,r.strict=t.strict!==!1,r.realpath=!!t.realpath,r.realpathCache=t.realpathCache||Object.create(null),r.follow=!!t.follow,r.dot=!!t.dot,r.mark=!!t.mark,r.nodir=!!t.nodir,r.nodir&&(r.mark=!0),r.sync=!!t.sync,r.nounique=!!t.nounique,r.nonull=!!t.nonull,r.nosort=!!t.nosort,r.nocase=!!t.nocase,r.stat=!!t.stat,r.noprocess=!!t.noprocess,r.absolute=!!t.absolute,r.fs=t.fs||Yot,r.maxLength=t.maxLength||1/0,r.cache=t.cache||Object.create(null),r.statCache=t.statCache||Object.create(null),r.symlinks=t.symlinks||Object.create(null),Qot(r,t),r.changedCwd=!1;var n=process.cwd();Ube(t,"cwd")?(r.cwd=jE.resolve(t.cwd),r.changedCwd=r.cwd!==n):r.cwd=n,r.root=t.root||jE.resolve(r.cwd,"/"),r.root=jE.resolve(r.root),process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/")),r.cwdAbs=Hbe(r.cwd)?r.cwd:m1(r,r.cwd),process.platform==="win32"&&(r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),r.nomount=!!t.nomount,t.nonegate=!0,t.nocomment=!0,r.minimatch=new uK(e,t),r.options=r.minimatch.options}function tst(r){for(var e=r.nounique,t=e?[]:Object.create(null),n=0,i=r.matches.length;n<i;n++){var o=r.matches[n];if(!o||Object.keys(o).length===0){if(r.nonull){var s=r.minimatch.globSet[n];e?t.push(s):t[s]=!0}}else{var a=Object.keys(o);e?t.push.apply(t,a):a.forEach(function(c){t[c]=!0})}}if(e||(t=Object.keys(t)),r.nosort||(t=t.sort(Xot)),r.mark){for(var n=0;n<t.length;n++)t[n]=r._mark(t[n]);r.nodir&&(t=t.filter(function(c){var u=!/\/$/.test(c),l=r.cache[c]||r.cache[m1(r,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}r.ignore.length&&(t=t.filter(function(c){return!Bbe(r,c)})),r.found=t}function rst(r,e){var t=m1(r,e),n=r.cache[t],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=m1(r,i);r.statCache[a]=r.statCache[t],r.cache[a]=r.cache[t]}}return i}function m1(r,e){var t=e;return e.charAt(0)==="/"?t=jE.join(r.root,e):Hbe(e)||e===""?t=e:r.changedCwd?t=jE.resolve(r.cwd,e):t=jE.resolve(e),process.platform==="win32"&&(t=t.replace(/\\/g,"/")),t}function Bbe(r,e){return r.ignore.length?r.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))}):!1}function nst(r,e){return r.ignore.length?r.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))}):!1}});var Kbe=E((LUt,Gbe)=>{Gbe.exports=Vbe;Vbe.GlobSync=El;var ist=Z8(),Wbe=ST(),IUt=Wbe.Minimatch,kUt=hK().Glob,AUt=require("util"),dK=require("path"),$be=require("assert"),Fq=Nq(),CT=lK(),ost=CT.setopts,fK=CT.ownProp,sst=CT.childrenIgnored,ast=CT.isIgnored;function Vbe(r,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new El(r,e).found}function El(r,e){if(!r)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof El))return new El(r,e);if(ost(this,r,e),this.noprocess)return this;var t=this.minimatch.set.length;this.matches=new Array(t);for(var n=0;n<t;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}El.prototype._finish=function(){if($be(this instanceof El),this.realpath){var r=this;this.matches.forEach(function(e,t){var n=r.matches[t]=Object.create(null);for(var i in e)try{i=r._makeAbs(i);var o=ist.realpathSync(i,r.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[r._makeAbs(i)]=!0;else throw s}})}CT.finish(this)};El.prototype._process=function(r,e,t){$be(this instanceof El);for(var n=0;typeof r[n]=="string";)n++;var i;switch(n){case r.length:this._processSimple(r.join("/"),e);return;case 0:i=null;break;default:i=r.slice(0,n).join("/");break}var o=r.slice(n),s;i===null?s=".":((Fq(i)||Fq(r.join("/")))&&(!i||!Fq(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!sst(this,s)){var c=o[0]===Wbe.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,t):this._processReaddir(i,s,a,o,e,t)}};El.prototype._processReaddir=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",d=[],f=0;f<s.length;f++){var m=s[f];if(m.charAt(0)!=="."||l){var _;c&&!r?_=!m.match(a):_=m.match(a),_&&d.push(m)}}var T=d.length;if(T!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<T;f++){var m=d[f];r&&(r.slice(-1)!=="/"?m=r+"/"+m:m=r+m),m.charAt(0)==="/"&&!this.nomount&&(m=dK.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var f=0;f<T;f++){var m=d[f],x;r?x=[r,m]:x=[m],this._process(x.concat(n),i,o)}}}};El.prototype._emitMatch=function(r,e){if(!ast(this,e)){var t=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0,this.stat&&this._stat(e)}}};El.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var e,t,n;try{t=this.fs.lstatSync(r)}catch(o){if(o.code==="ENOENT")return null}var i=t&&t.isSymbolicLink();return this.symlinks[r]=i,!i&&t&&!t.isDirectory()?this.cache[r]="FILE":e=this._readdir(r,!1),e};El.prototype._readdir=function(r,e){var t;if(e&&!fK(this.symlinks,r))return this._readdirInGlobStar(r);if(fK(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(i){return this._readdirError(r,i),null}};El.prototype._readdirEntries=function(r,e){if(!this.mark&&!this.stat)for(var t=0;t<e.length;t++){var n=e[t];r==="/"?n=r+n:n=r+"/"+n,this.cache[n]=!0}return this.cache[r]=e,e};El.prototype._readdirError=function(r,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var t=this._makeAbs(r);if(this.cache[t]="FILE",t===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};El.prototype._processGlobStar=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){var a=n.slice(1),c=r?[r]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,d=this.symlinks[t];if(!(d&&o))for(var f=0;f<l;f++){var m=s[f];if(!(m.charAt(0)==="."&&!this.dot)){var _=c.concat(s[f],a);this._process(_,i,!0);var T=c.concat(s[f],n);this._process(T,i,!0)}}}};El.prototype._processSimple=function(r,e){var t=this._stat(r);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!t){if(r&&Fq(r)&&!this.nomount){var n=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=dK.join(this.root,r):(r=dK.resolve(this.root,r),n&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r)}};El.prototype._stat=function(r){var e=this._makeAbs(r),t=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&fK(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!t||s==="DIR")return s;if(t&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,t&&s==="FILE"?!1:s};El.prototype._mark=function(r){return CT.mark(this,r)};El.prototype._makeAbs=function(r){return CT.makeAbs(this,r)}});var pK=E((MUt,Jbe)=>{Jbe.exports=Ybe;function Ybe(r,e){if(r&&e)return Ybe(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var g1=E((NUt,mK)=>{var Xbe=pK();mK.exports=Xbe(qq);mK.exports.strict=Xbe(Qbe);qq.proto=qq(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return qq(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Qbe(this)},configurable:!0})});function qq(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function Qbe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var ewe=E((FUt,Zbe)=>{var cst=pK(),v1=Object.create(null),ust=g1();Zbe.exports=cst(lst);function lst(r,e){return v1[r]?(v1[r].push(e),null):(v1[r]=[e],dst(r))}function dst(r){return ust(function e(){var t=v1[r],n=t.length,i=fst(arguments);try{for(var o=0;o<n;o++)t[o].apply(null,i)}finally{t.length>n?(t.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete v1[r]}})}function fst(r){for(var e=r.length,t=[],n=0;n<e;n++)t[n]=r[n];return t}});var hK=E((zUt,rwe)=>{rwe.exports=DT;var hst=Z8(),twe=ST(),qUt=twe.Minimatch,pst=qbe(),mst=require("events").EventEmitter,gK=require("path"),vK=require("assert"),y1=Nq(),_K=Kbe(),TT=lK(),gst=TT.setopts,yK=TT.ownProp,bK=ewe(),jUt=require("util"),vst=TT.childrenIgnored,yst=TT.isIgnored,_st=g1();function DT(r,e,t){if(typeof e=="function"&&(t=e,e={}),e||(e={}),e.sync){if(t)throw new TypeError("callback provided to sync glob");return _K(r,e)}return new Os(r,e,t)}DT.sync=_K;var bst=DT.GlobSync=_K.GlobSync;DT.glob=DT;function wst(r,e){if(e===null||typeof e!="object")return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}DT.hasMagic=function(r,e){var t=wst({},e);t.noprocess=!0;var n=new Os(r,t),i=n.minimatch.set;if(!r)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};DT.Glob=Os;pst(Os,mst);function Os(r,e,t){if(typeof e=="function"&&(t=e,e=null),e&&e.sync){if(t)throw new TypeError("callback provided to sync glob");return new bst(r,e)}if(!(this instanceof Os))return new Os(r,e,t);gst(this,r,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof t=="function"&&(t=_st(t),this.on("error",t),this.on("end",function(c){t(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}Os.prototype._finish=function(){if(vK(this instanceof Os),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();TT.finish(this),this.emit("end",this.found)}};Os.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var e=this,t=0;t<this.matches.length;t++)this._realpathSet(t,n);function n(){--r===0&&e._finish()}};Os.prototype._realpathSet=function(r,e){var t=this.matches[r];if(!t)return e();var n=Object.keys(t),i=this,o=n.length;if(o===0)return e();var s=this.matches[r]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),hst.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[r]=s,e())})})};Os.prototype._mark=function(r){return TT.mark(this,r)};Os.prototype._makeAbs=function(r){return TT.makeAbs(this,r)};Os.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Os.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Os.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<r.length;e++){var t=r[e];this._emitMatch(t[0],t[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Os.prototype._process=function(r,e,t,n){if(vK(this instanceof Os),vK(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,e,t,n]);return}for(var i=0;typeof r[i]=="string";)i++;var o;switch(i){case r.length:this._processSimple(r.join("/"),e,n);return;case 0:o=null;break;default:o=r.slice(0,i).join("/");break}var s=r.slice(i),a;o===null?a=".":((y1(o)||y1(r.join("/")))&&(!o||!y1(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(vst(this,a))return n();var u=s[0]===twe.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,t,n):this._processReaddir(o,a,c,s,e,t,n)}};Os.prototype._processReaddir=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){return a._processReaddir2(r,e,t,n,i,o,u,s)})};Os.prototype._processReaddir2=function(r,e,t,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||l.charAt(0)===".",f=[],m=0;m<s.length;m++){var _=s[m];if(_.charAt(0)!=="."||d){var T;u&&!r?T=!_.match(c):T=_.match(c),T&&f.push(_)}}var x=f.length;if(x===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<x;m++){var _=f[m];r&&(r!=="/"?_=r+"/"+_:_=r+_),_.charAt(0)==="/"&&!this.nomount&&(_=gK.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var m=0;m<x;m++){var _=f[m],M;r&&(r!=="/"?_=r+"/"+_:_=r+_),this._process([_].concat(n),i,o,a)}a()};Os.prototype._emitMatch=function(r,e){if(!this.aborted&&!yst(this,e)){if(this.paused){this._emitQueue.push([r,e]);return}var t=y1(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0;var i=this.statCache[t];i&&this.emit("stat",e,i),this.emit("match",e)}}};Os.prototype._readdirInGlobStar=function(r,e){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,e);var t="lstat\0"+r,n=this,i=bK(t,o);i&&n.fs.lstat(r,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[r]=c,!c&&a&&!a.isDirectory()?(n.cache[r]="FILE",e()):n._readdir(r,!1,e)}};Os.prototype._readdir=function(r,e,t){if(!this.aborted&&(t=bK("readdir\0"+r+"\0"+e,t),!!t)){if(e&&!yK(this.symlinks,r))return this._readdirInGlobStar(r,t);if(yK(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return t();if(Array.isArray(n))return t(null,n)}var i=this;i.fs.readdir(r,Sst(this,r,t))}};function Sst(r,e,t){return function(n,i){n?r._readdirError(e,n,t):r._readdirEntries(e,i,t)}}Os.prototype._readdirEntries=function(r,e,t){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];r==="/"?i=r+i:i=r+"/"+i,this.cache[i]=!0}return this.cache[r]=e,t(null,e)}};Os.prototype._readdirError=function(r,e,t){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return t()}};Os.prototype._processGlobStar=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){a._processGlobStar2(r,e,t,n,i,o,u,s)})};Os.prototype._processGlobStar2=function(r,e,t,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=r?[r]:[],l=u.concat(c);this._process(l,i,!1,a);var d=this.symlinks[t],f=s.length;if(d&&o)return a();for(var m=0;m<f;m++){var _=s[m];if(!(_.charAt(0)==="."&&!this.dot)){var T=u.concat(s[m],c);this._process(T,i,!0,a);var x=u.concat(s[m],n);this._process(x,i,!0,a)}}a()};Os.prototype._processSimple=function(r,e,t){var n=this;this._stat(r,function(i,o){n._processSimple2(r,e,i,o,t)})};Os.prototype._processSimple2=function(r,e,t,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(r&&y1(r)&&!this.nomount){var o=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=gK.join(this.root,r):(r=gK.resolve(this.root,r),o&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r),i()};Os.prototype._stat=function(r,e){var t=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return e();if(!this.stat&&yK(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[t];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=bK("stat\0"+t,l);u&&c.fs.lstat(t,u);function l(d,f){if(f&&f.isSymbolicLink())return c.fs.stat(t,function(m,_){m?c._stat2(r,t,null,f,e):c._stat2(r,t,m,_,e)});c._stat2(r,t,d,f,e)}};Os.prototype._stat2=function(r,e,t,n,i){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=r.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var dwe=E((UUt,lwe)=>{lwe.exports=CK;CK.sync=uwe;var ms=require("assert"),swe=require("path"),nwe=require("fs"),Uq=hK(),awe=parseInt("666",8),Cst={nosort:!0,silent:!0},wK=0,_1=process.platform==="win32";function cwe(r){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(function(t){r[t]=r[t]||nwe[t],t=t+"Sync",r[t]=r[t]||nwe[t]}),r.maxBusyTries=r.maxBusyTries||3,r.emfileWait=r.emfileWait||1e3,r.glob===!1&&(r.disableGlob=!0),r.disableGlob=r.disableGlob||!1,r.glob=r.glob||Cst}function CK(r,e,t){typeof e=="function"&&(t=e,e={}),ms(r,"rimraf: missing path"),ms.equal(typeof r,"string","rimraf: path should be a string"),ms.equal(typeof t,"function","rimraf: callback function required"),ms(e,"rimraf: invalid options argument provided"),ms.equal(typeof e,"object","rimraf: options should be object"),cwe(e);var n=0,i=null,o=0;if(e.disableGlob||!Uq.hasMagic(r))return a(null,[r]);e.lstat(r,function(c,u){if(!c)return a(null,[r]);Uq(r,e.glob,a)});function s(c){i=i||c,--o===0&&t(i)}function a(c,u){if(c)return t(c);if(o=u.length,o===0)return t();u.forEach(function(l){SK(l,e,function d(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<e.maxBusyTries){n++;var m=n*100;return setTimeout(function(){SK(l,e,d)},m)}if(f.code==="EMFILE"&&wK<e.emfileWait)return setTimeout(function(){SK(l,e,d)},wK++);f.code==="ENOENT"&&(f=null)}wK=0,s(f)})})}}function SK(r,e,t){ms(r),ms(e),ms(typeof t=="function"),e.lstat(r,function(n,i){if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&_1&&iwe(r,e,n,t),i&&i.isDirectory())return jq(r,e,n,t);e.unlink(r,function(o){if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return _1?iwe(r,e,o,t):jq(r,e,o,t);if(o.code==="EISDIR")return jq(r,e,o,t)}return t(o)})})}function iwe(r,e,t,n){ms(r),ms(e),ms(typeof n=="function"),t&&ms(t instanceof Error),e.chmod(r,awe,function(i){i?n(i.code==="ENOENT"?null:t):e.stat(r,function(o,s){o?n(o.code==="ENOENT"?null:t):s.isDirectory()?jq(r,e,t,n):e.unlink(r,n)})})}function owe(r,e,t){ms(r),ms(e),t&&ms(t instanceof Error);try{e.chmodSync(r,awe)}catch(i){if(i.code==="ENOENT")return;throw t}try{var n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?zq(r,e,t):e.unlinkSync(r)}function jq(r,e,t,n){ms(r),ms(e),t&&ms(t instanceof Error),ms(typeof n=="function"),e.rmdir(r,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Dst(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function Dst(r,e,t){ms(r),ms(e),ms(typeof t=="function"),e.readdir(r,function(n,i){if(n)return t(n);var o=i.length;if(o===0)return e.rmdir(r,t);var s;i.forEach(function(a){CK(swe.join(r,a),e,function(c){if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function uwe(r,e){e=e||{},cwe(e),ms(r,"rimraf: missing path"),ms.equal(typeof r,"string","rimraf: path should be a string"),ms(e,"rimraf: missing options"),ms.equal(typeof e,"object","rimraf: options should be object");var t;if(e.disableGlob||!Uq.hasMagic(r))t=[r];else try{e.lstatSync(r),t=[r]}catch{t=Uq.sync(r,e.glob)}if(t.length)for(var n=0;n<t.length;n++){var r=t[n];try{var i=e.lstatSync(r)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&_1&&owe(r,e,s)}try{i&&i.isDirectory()?zq(r,e,null):e.unlinkSync(r)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return _1?owe(r,e,s):zq(r,e,s);if(s.code!=="EISDIR")throw s;zq(r,e,s)}}}function zq(r,e,t){ms(r),ms(e),t&&ms(t instanceof Error);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw t;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&Tst(r,e)}}function Tst(r,e){ms(r),ms(e),e.readdirSync(r).forEach(function(s){uwe(swe.join(r,s),e)});var t=_1?100:1,n=0;do{var i=!0;try{var o=e.rmdirSync(r,e);return i=!1,o}finally{if(++n<t&&i)continue}}while(!0)}});var mwe=E(Ei=>{"use strict";var mo=require("fs"),fwe=require("path"),Est=dwe(),zE=require("fs");Ei.createReadStream=zE.createReadStream;Ei.createWriteStream=zE.createWriteStream;Ei.watch=zE.watch;Ei.watchFile=zE.watchFile;Ei.unwatchFile=zE.unwatchFile;Ei.constants=zE.constants;function Pst(r,e){return ko(mo.access,arguments)}Ei.access=Pst;function Rst(r,e,t){return ko(mo.appendFile,arguments)}Ei.appendFile=Rst;function xst(r,e){return ko(mo.chmod,arguments)}Ei.chmod=xst;function Ost(r,e,t){return ko(mo.chown,arguments)}Ei.chown=Ost;function Ist(r){return ko(mo.close,arguments)}Ei.close=Ist;function kst(r,e){return ko(mo.fchmod,arguments)}Ei.fchmod=kst;function Ast(r,e,t){return ko(mo.fchown,arguments)}Ei.fchown=Ast;function Lst(r){return ko(mo.fstat,arguments)}Ei.fstat=Lst;function Mst(r,e){return ko(mo.ftruncate,arguments)}Ei.ftruncate=Mst;function Nst(r,e,t){return ko(mo.futimes,arguments)}Ei.futimes=Nst;function Fst(r){return ko(mo.fsync,arguments)}Ei.fsync=Fst;function qst(r,e){return ko(mo.lchmod,arguments)}Ei.lchmod=qst;function jst(r,e,t){return ko(mo.lchown,arguments)}Ei.lchown=jst;function zst(r,e){return ko(mo.link,arguments)}Ei.link=zst;function Ust(r){return ko(mo.lstat,arguments)}Ei.lstat=Ust;function Hst(r,e){return ko(mo.mkdir,arguments)}Ei.mkdir=Hst;function Bst(r){return ko(mo.mkdtemp,arguments)}Ei.mkdtemp=Bst;function Wst(r,e,t){return ko(mo.open,arguments)}Ei.open=Wst;function $st(r,e,t,n,i){return ko(mo.read,arguments,null,function(){return{bytesRead:arguments[1],buffer:arguments[2]}})}Ei.read=$st;function Vst(r){return ko(mo.readdir,arguments)}Ei.readdir=Vst;function Gst(r,e){return ko(mo.readFile,arguments)}Ei.readFile=Gst;function Kst(r){return ko(mo.readlink,arguments)}Ei.readlink=Kst;function Yst(r,e){return ko(mo.realpath,arguments)}Ei.realpath=Yst;function Jst(r,e){return ko(mo.rename,arguments)}Ei.rename=Jst;function Xst(r){return ko(mo.rmdir,arguments)}Ei.rmdir=Xst;function Qst(r){return ko(mo.stat,arguments)}Ei.stat=Qst;function Zst(r,e,t){return ko(mo.symlink,arguments)}Ei.symlink=Zst;function eat(r,e){return ko(mo.truncate,arguments)}Ei.truncate=eat;function tat(r){return ko(mo.unlink,arguments)}Ei.unlink=tat;function rat(r,e,t){return ko(mo.utimes,arguments)}Ei.utimes=rat;function nat(r){return ko(mo.write,arguments,null,function(){return{written:arguments[1],buffer:arguments[2]}})}Ei.write=nat;function iat(r,e,t){return ko(mo.writeFile,arguments)}Ei.writeFile=iat;function oat(r,e,t){return e===void 0&&(e="utf8"),t==null&&(t="r"),ko(mo.readFile,[r,{encoding:e,flags:t}])}Ei.readTextFile=oat;function sat(r,e,t,n,i){t===void 0&&(t="utf8"),n==null&&(n="w");var o={encoding:t,flags:n,mode:i};return n[0]==="a"?ko(mo.appendFile,[r,e,o]):ko(mo.writeFile,[r,e,o])}Ei.writeTextFile=sat;function hwe(r,e){return new Promise((t,n)=>DK(r,e,i=>i?n(i):t()))}Ei.createDirectory=hwe;Ei.mkdirp=hwe;function pwe(r){return new Promise((e,t)=>Est(r,n=>n?t(n):e()))}Ei.delete=pwe;Ei.rimraf=pwe;function aat(r){return new Promise((e,t)=>mo.lstat(r,n=>n?n.code==="ENOENT"?e(!1):t(n):e(!0)))}Ei.exists=aat;function DK(r,e,t){r=fwe.resolve(r),mo.mkdir(r,e,n=>{n?n.code==="ENOENT"?DK(fwe.dirname(r),e,i=>i?t(i):DK(r,e,t)):mo.stat(r,(i,o)=>i?t(i):o.isDirectory()?t(null):t(new Error(r+" is already a file"))):t(null)})}function ko(r,e,t,n){return new Promise((i,o)=>{r.apply(t,Array.prototype.slice.call(e).concat([(s,a)=>{s?o(s):n?n.apply(t,arguments):i(a)}]))})}});var _we=E((BUt,ywe)=>{ywe.exports=Hq;function Hq(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Hq.prototype.go=function(r){this.pending<this.max?vwe(this,r):this.waiting.push(r)};Hq.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};Hq.prototype.hold=function(){return gwe(this)};function gwe(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)vwe(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function vwe(r,e){e(gwe(r))}});var wwe=E(w1=>{var b1=require("fs"),Bq=require("util"),TK=require("stream"),bwe=TK.Readable,EK=TK.Writable,cat=TK.PassThrough,uat=_we(),Wq=require("events").EventEmitter;w1.createFromBuffer=lat;w1.createFromFd=dat;w1.BufferSlicer=mw;w1.FdSlicer=pw;Bq.inherits(pw,Wq);function pw(r,e){e=e||{},Wq.call(this),this.fd=r,this.pend=new uat,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}pw.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){b1.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};pw.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){b1.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};pw.prototype.createReadStream=function(r){return new $q(this,r)};pw.prototype.createWriteStream=function(r){return new Vq(this,r)};pw.prototype.ref=function(){this.refCount+=1};pw.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&b1.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};Bq.inherits($q,bwe);function $q(r,e){e=e||{},bwe.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}$q.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);b1.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};$q.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};Bq.inherits(Vq,EK);function Vq(r,e){e=e||{},EK.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Vq.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();b1.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};Vq.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Bq.inherits(mw,Wq);function mw(r,e){Wq.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}mw.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};mw.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};mw.prototype.createReadStream=function(r){r=r||{};var e=new cat(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};mw.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new EK(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};mw.prototype.ref=function(){this.refCount+=1};mw.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function lat(r,e){return new mw(r,e)}function dat(r,e){return new pw(r,e)}});var Dwe=E(($Ut,Cwe)=>{var SC=require("buffer").Buffer,PK=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(PK=new Int32Array(PK));function Swe(r){if(SC.isBuffer(r))return r;var e=typeof SC.alloc=="function"&&typeof SC.from=="function";if(typeof r=="number")return e?SC.alloc(r):new SC(r);if(typeof r=="string")return e?SC.from(r):new SC(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function fat(r){var e=Swe(4);return e.writeInt32BE(r,0),e}function RK(r,e){r=Swe(r),SC.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=PK[(t^r[n])&255]^t>>>8;return t^-1}function xK(){return fat(RK.apply(null,arguments))}xK.signed=function(){return RK.apply(null,arguments)};xK.unsigned=function(){return RK.apply(null,arguments)>>>0};Cwe.exports=xK});var Iwe=E(M_=>{var OK=require("fs"),hat=require("zlib"),Twe=wwe(),pat=Dwe(),Yq=require("util"),Jq=require("events").EventEmitter,Ewe=require("stream").Transform,IK=require("stream").PassThrough,mat=require("stream").Writable;M_.open=gat;M_.fromFd=Pwe;M_.fromBuffer=vat;M_.fromRandomAccessReader=kK;M_.dosDateTimeToDate=xwe;M_.validateFileName=Owe;M_.ZipFile=CC;M_.Entry=S1;M_.RandomAccessReader=DC;function gat(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Kq),OK.open(r,"r",function(n,i){if(n)return t(n);Pwe(i,e,function(o,s){o&&OK.close(i,Kq),t(o,s)})})}function Pwe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Kq),OK.fstat(r,function(n,i){if(n)return t(n);var o=Twe.createFromFd(r,{autoClose:!0});kK(o,i.size,e,t)})}function vat(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=Twe.createFromBuffer(r,{maxChunkSize:65536});kK(n,r.length,e,t)}function kK(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=Kq),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=L_(a),u=e-c.length;UE(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),m=f.readUInt16LE(4);if(m!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+m));var _=f.readUInt16LE(10),T=f.readUInt32LE(16),x=f.readUInt16LE(20),M=f.length-o;if(x!==M)return n(new Error("invalid comment length. expected: "+M+". found: "+x));var A=i?Gq(f,22,f.length,!1):f.slice(22);if(!(_===65535||T===4294967295))return n(null,new CC(r,T,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var U=L_(20),ne=u+d-U.length;UE(r,U,0,U.length,ne,function(de){if(de)return n(de);if(U.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var ye=HE(U,8),V=L_(56);UE(r,V,0,V.length,ye,function(W){return W?n(W):V.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(_=HE(V,32),T=HE(V,48),n(null,new CC(r,T,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}Yq.inherits(CC,Jq);function CC(r,e,t,n,i,o,s,a,c,u){var l=this;Jq.call(l),l.reader=r,l.reader.on("error",function(d){Rwe(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}CC.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function yy(r,e){r.autoClose&&r.close(),Rwe(r,e)}function Rwe(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}CC.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};CC.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=L_(46);UE(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return yy(r,t);if(!r.emittedError){var n=new S1,i=e.readUInt32LE(0);if(i!==33639248)return yy(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return yy(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=L_(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),UE(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return yy(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?Gq(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,m=f+d;if(m>c.length)return yy(r,new Error("extra field length exceeds extra field buffer size"));var _=L_(d);c.copy(_,0,f,m),n.extraFields.push({id:l,data:_}),u=m}if(n.fileComment=r.decodeStrings?Gq(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var T=null,u=0;u<n.extraFields.length;u++){var x=n.extraFields[u];if(x.id===1){T=x.data;break}}if(T==null)return yy(r,new Error("expected zip64 extended information extra field"));var M=0;if(n.uncompressedSize===4294967295){if(M+8>T.length)return yy(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=HE(T,M),M+=8}if(n.compressedSize===4294967295){if(M+8>T.length)return yy(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=HE(T,M),M+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(M+8>T.length)return yy(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=HE(T,M),M+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var x=n.extraFields[u];if(x.id===28789){if(x.data.length<6||x.data.readUInt8(0)!==1)continue;var A=x.data.readUInt32LE(1);if(pat.unsigned(e.slice(0,n.fileNameLength))!==A)continue;n.fileName=Gq(x.data,5,x.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var U=n.uncompressedSize;if(n.isEncrypted()&&(U+=12),n.compressedSize!==U){var ne="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return yy(r,new Error(ne))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var de=Owe(n.fileName,r.validateFileNameOptions);if(de!=null)return yy(r,new Error(de))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};CC.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=L_(30);UE(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var m=d,_=m+r.compressedSize;if(r.compressedSize!==0&&_>n.fileSize)return t(new Error("file data overflows file bounds: "+m+" + "+r.compressedSize+" > "+n.fileSize));var T=n.reader.createReadStream({start:m+i,end:m+o}),x=T;if(f){var M=!1,A=hat.createInflateRaw();T.on("error",function(U){setImmediate(function(){M||A.emit("error",U)})}),T.pipe(A),n.validateEntrySizes?(x=new C1(r.uncompressedSize),A.on("error",function(U){setImmediate(function(){M||x.emit("error",U)})}),A.pipe(x)):x=A,x.destroy=function(){M=!0,A!==x&&A.unpipe(x),T.unpipe(A),T.destroy()}}t(null,x)}finally{n.reader.unref()}})};function S1(){}S1.prototype.getLastModDate=function(){return xwe(this.lastModFileDate,this.lastModFileTime)};S1.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};S1.prototype.isCompressed=function(){return this.compressionMethod===8};function xwe(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function Owe(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function UE(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,L_(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}Yq.inherits(C1,Ewe);function C1(r){Ewe.call(this),this.actualByteCount=0,this.expectedByteCount=r}C1.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};C1.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};Yq.inherits(DC,Jq);function DC(){Jq.call(this),this.refCount=0}DC.prototype.ref=function(){this.refCount+=1};DC.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};DC.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new IK;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new Xq(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new C1(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};DC.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};DC.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new mat,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};DC.prototype.close=function(r){setImmediate(r)};Yq.inherits(Xq,IK);function Xq(r){IK.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}Xq.prototype._flush=function(r){this.unref(),r()};Xq.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var yat="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Gq(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=yat[r[o]];return i}function HE(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var L_;typeof Buffer.allocUnsafe=="function"?L_=function(r){return Buffer.allocUnsafe(r)}:L_=function(r){return new Buffer(r)};function Kq(r){if(r)throw r}});var WSe=E((eWt,BSe)=>{"use strict";BSe.exports=function(r){try{return r()}catch{}}});var YSe=E((tWt,KSe)=>{KSe.exports=GSe;GSe.sync=Lat;var $Se=require("fs");function Aat(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function VSe(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:Aat(e,t)}function GSe(r,e,t){$Se.stat(r,function(n,i){t(n,n?!1:VSe(i,r,e))})}function Lat(r,e){return VSe($Se.statSync(r),r,e)}});var eCe=E((rWt,ZSe)=>{ZSe.exports=XSe;XSe.sync=Mat;var JSe=require("fs");function XSe(r,e,t){JSe.stat(r,function(n,i){t(n,n?!1:QSe(i,e))})}function Mat(r,e){return QSe(JSe.statSync(r),e)}function QSe(r,e){return r.isFile()&&Nat(r,e)}function Nat(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var BK=E((iWt,tCe)=>{var nWt=require("fs"),_j;process.platform==="win32"||global.TESTING_WINDOWS?_j=YSe():_j=eCe();tCe.exports=HK;HK.sync=Fat;function HK(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){HK(r,e||{},function(o,s){o?i(o):n(s)})})}_j(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function Fat(r,e){try{return _j.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var cCe=E((oWt,aCe)=>{aCe.exports=sCe;sCe.sync=jat;var WK=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",rCe=require("path"),qat=WK?";":":",nCe=BK();function iCe(r){var e=new Error("not found: "+r);return e.code="ENOENT",e}function oCe(r,e){var t=e.colon||qat,n=e.path||process.env.PATH||"",i=[""];n=n.split(t);var o="";return WK&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(t),r.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(r.match(/\//)||WK&&r.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function sCe(r,e,t){typeof e=="function"&&(t=e,e={});var n=oCe(r,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?t(null,a):t(iCe(r));var d=i[u];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var f=rCe.join(d,r);!d&&/^\.[\\\/]/.test(r)&&(f=r.slice(0,2)+f),function m(_,T){if(_===T)return c(u+1,l);var x=o[_];nCe(f+x,{pathExt:s},function(M,A){if(!M&&A)if(e.all)a.push(f+x);else return t(null,f+x);return m(_+1,T)})}(0,o.length)})(0,i.length)}function jat(r,e){e=e||{};for(var t=oCe(r,e),n=t.env,i=t.ext,o=t.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=rCe.join(u,r);!u&&/^\.[\\\/]/.test(r)&&(l=r.slice(0,2)+l);for(var d=0,f=i.length;d<f;d++){var m=l+i[d],_;try{if(_=nCe.sync(m,{pathExt:o}),_)if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw iCe(r)}});var lCe=E((sWt,uCe)=>{"use strict";uCe.exports=r=>{r=r||{};let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).find(n=>n.toUpperCase()==="PATH")||"Path"}});var pCe=E((aWt,hCe)=>{"use strict";var dCe=require("path"),zat=cCe(),Uat=lCe()();function fCe(r,e){let t=process.cwd(),n=r.options.cwd!=null,i=n&&process.chdir!==void 0;if(i)try{process.chdir(r.options.cwd)}catch{}let o;try{o=zat.sync(r.command,{path:(r.options.env||process.env)[Uat],pathExt:e?dCe.delimiter:void 0})}catch{}finally{i&&process.chdir(t)}return o&&(o=dCe.resolve(n?r.options.cwd:"",o)),o}function Hat(r){return fCe(r)||fCe(r,!0)}hCe.exports=Hat});var mCe=E((cWt,VK)=>{"use strict";var $K=/([()\][%!^"`<>&|;, *?])/g;function Bat(r){return r=r.replace($K,"^$1"),r}function Wat(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace($K,"^$1"),e&&(r=r.replace($K,"^$1")),r}VK.exports.command=Bat;VK.exports.argument=Wat});var vCe=E((uWt,gCe)=>{"use strict";gCe.exports=/^#!.*/});var _Ce=E((lWt,yCe)=>{"use strict";var $at=vCe();yCe.exports=function(r){var e=r.match($at);if(!e)return null;var t=e[0].replace(/#! ?/,"").split(" "),n=t[0].split("/").pop(),i=t[1];return n==="env"?i:n+(i?" "+i:"")}});var wCe=E((dWt,bCe)=>{"use strict";var GK=require("fs"),Vat=_Ce();function Gat(r){let t;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150),t.fill(0));let n;try{n=GK.openSync(r,"r"),GK.readSync(n,t,0,150,0),GK.closeSync(n)}catch{}return Vat(t.toString())}bCe.exports=Gat});var qCe=E((Ai,FCe)=>{Ai=FCe.exports=Ao;var qs;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?qs=function(){var r=Array.prototype.slice.call(arguments,0);r.unshift("SEMVER"),console.log.apply(console,r)}:qs=function(){};Ai.SEMVER_SPEC_VERSION="2.0.0";var L1=256,bj=Number.MAX_SAFE_INTEGER||9007199254740991,KK=16,Kat=L1-6,M1=Ai.re=[],ba=Ai.safeRe=[],dr=Ai.src=[],So=0,ZK="[a-zA-Z0-9-]",YK=[["\\s",1],["\\d",L1],[ZK,Kat]];function Ej(r){for(var e=0;e<YK.length;e++){var t=YK[e][0],n=YK[e][1];r=r.split(t+"*").join(t+"{0,"+n+"}").split(t+"+").join(t+"{1,"+n+"}")}return r}var nP=So++;dr[nP]="0|[1-9]\\d*";var iP=So++;dr[iP]="\\d+";var e9=So++;dr[e9]="\\d*[a-zA-Z-]"+ZK+"*";var CCe=So++;dr[CCe]="("+dr[nP]+")\\.("+dr[nP]+")\\.("+dr[nP]+")";var DCe=So++;dr[DCe]="("+dr[iP]+")\\.("+dr[iP]+")\\.("+dr[iP]+")";var JK=So++;dr[JK]="(?:"+dr[nP]+"|"+dr[e9]+")";var XK=So++;dr[XK]="(?:"+dr[iP]+"|"+dr[e9]+")";var t9=So++;dr[t9]="(?:-("+dr[JK]+"(?:\\."+dr[JK]+")*))";var r9=So++;dr[r9]="(?:-?("+dr[XK]+"(?:\\."+dr[XK]+")*))";var QK=So++;dr[QK]=ZK+"+";var F1=So++;dr[F1]="(?:\\+("+dr[QK]+"(?:\\."+dr[QK]+")*))";var n9=So++,TCe="v?"+dr[CCe]+dr[t9]+"?"+dr[F1]+"?";dr[n9]="^"+TCe+"$";var i9="[v=\\s]*"+dr[DCe]+dr[r9]+"?"+dr[F1]+"?",o9=So++;dr[o9]="^"+i9+"$";var uP=So++;dr[uP]="((?:<|>)?=?)";var wj=So++;dr[wj]=dr[iP]+"|x|X|\\*";var Sj=So++;dr[Sj]=dr[nP]+"|x|X|\\*";var RT=So++;dr[RT]="[v=\\s]*("+dr[Sj]+")(?:\\.("+dr[Sj]+")(?:\\.("+dr[Sj]+")(?:"+dr[t9]+")?"+dr[F1]+"?)?)?";var sP=So++;dr[sP]="[v=\\s]*("+dr[wj]+")(?:\\.("+dr[wj]+")(?:\\.("+dr[wj]+")(?:"+dr[r9]+")?"+dr[F1]+"?)?)?";var ECe=So++;dr[ECe]="^"+dr[uP]+"\\s*"+dr[RT]+"$";var PCe=So++;dr[PCe]="^"+dr[uP]+"\\s*"+dr[sP]+"$";var RCe=So++;dr[RCe]="(?:^|[^\\d])(\\d{1,"+KK+"})(?:\\.(\\d{1,"+KK+"}))?(?:\\.(\\d{1,"+KK+"}))?(?:$|[^\\d])";var Pj=So++;dr[Pj]="(?:~>?)";var aP=So++;dr[aP]="(\\s*)"+dr[Pj]+"\\s+";M1[aP]=new RegExp(dr[aP],"g");ba[aP]=new RegExp(Ej(dr[aP]),"g");var Yat="$1~",xCe=So++;dr[xCe]="^"+dr[Pj]+dr[RT]+"$";var OCe=So++;dr[OCe]="^"+dr[Pj]+dr[sP]+"$";var Rj=So++;dr[Rj]="(?:\\^)";var cP=So++;dr[cP]="(\\s*)"+dr[Rj]+"\\s+";M1[cP]=new RegExp(dr[cP],"g");ba[cP]=new RegExp(Ej(dr[cP]),"g");var Jat="$1^",ICe=So++;dr[ICe]="^"+dr[Rj]+dr[RT]+"$";var kCe=So++;dr[kCe]="^"+dr[Rj]+dr[sP]+"$";var s9=So++;dr[s9]="^"+dr[uP]+"\\s*("+i9+")$|^$";var a9=So++;dr[a9]="^"+dr[uP]+"\\s*("+TCe+")$|^$";var xT=So++;dr[xT]="(\\s*)"+dr[uP]+"\\s*("+i9+"|"+dr[RT]+")";M1[xT]=new RegExp(dr[xT],"g");ba[xT]=new RegExp(Ej(dr[xT]),"g");var Xat="$1$2$3",ACe=So++;dr[ACe]="^\\s*("+dr[RT]+")\\s+-\\s+("+dr[RT]+")\\s*$";var LCe=So++;dr[LCe]="^\\s*("+dr[sP]+")\\s+-\\s+("+dr[sP]+")\\s*$";var MCe=So++;dr[MCe]="(<|>)?=?\\s*\\*";for(N_=0;N_<So;N_++)qs(N_,dr[N_]),M1[N_]||(M1[N_]=new RegExp(dr[N_]),ba[N_]=new RegExp(Ej(dr[N_])));var N_;Ai.parse=OT;function OT(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao)return r;if(typeof r!="string"||r.length>L1)return null;var t=e.loose?ba[o9]:ba[n9];if(!t.test(r))return null;try{return new Ao(r,e)}catch{return null}}Ai.valid=Qat;function Qat(r,e){var t=OT(r,e);return t?t.version:null}Ai.clean=Zat;function Zat(r,e){var t=OT(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null}Ai.SemVer=Ao;function Ao(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao){if(r.loose===e.loose)return r;r=r.version}else if(typeof r!="string")throw new TypeError("Invalid Version: "+r);if(r.length>L1)throw new TypeError("version is longer than "+L1+" characters");if(!(this instanceof Ao))return new Ao(r,e);qs("SemVer",r,e),this.options=e,this.loose=!!e.loose;var t=r.trim().match(e.loose?ba[o9]:ba[n9]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>bj||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bj||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bj||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<bj)return i}return n}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}Ao.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ao.prototype.toString=function(){return this.version};Ao.prototype.compare=function(r){return qs("SemVer.compare",this.version,this.options,r),r instanceof Ao||(r=new Ao(r,this.options)),this.compareMain(r)||this.comparePre(r)};Ao.prototype.compareMain=function(r){return r instanceof Ao||(r=new Ao(r,this.options)),oP(this.major,r.major)||oP(this.minor,r.minor)||oP(this.patch,r.patch)};Ao.prototype.comparePre=function(r){if(r instanceof Ao||(r=new Ao(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(qs("prerelease compare",e,t,n),t===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(t===void 0)return-1;if(t===n)continue;return oP(t,n)}while(++e)};Ao.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this.raw=this.version,this};Ai.inc=ect;function ect(r,e,t,n){typeof t=="string"&&(n=t,t=void 0);try{return new Ao(r,t).inc(e,n).version}catch{return null}}Ai.diff=tct;function tct(r,e){if(c9(r,e))return null;var t=OT(r),n=OT(e),i="";if(t.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in t)if((s==="major"||s==="minor"||s==="patch")&&t[s]!==n[s])return i+s;return o}Ai.compareIdentifiers=oP;var SCe=/^[0-9]+$/;function oP(r,e){var t=SCe.test(r),n=SCe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1}Ai.rcompareIdentifiers=rct;function rct(r,e){return oP(e,r)}Ai.major=nct;function nct(r,e){return new Ao(r,e).major}Ai.minor=ict;function ict(r,e){return new Ao(r,e).minor}Ai.patch=oct;function oct(r,e){return new Ao(r,e).patch}Ai.compare=_w;function _w(r,e,t){return new Ao(r,t).compare(new Ao(e,t))}Ai.compareLoose=sct;function sct(r,e){return _w(r,e,!0)}Ai.rcompare=act;function act(r,e,t){return _w(e,r,t)}Ai.sort=cct;function cct(r,e){return r.sort(function(t,n){return Ai.compare(t,n,e)})}Ai.rsort=uct;function uct(r,e){return r.sort(function(t,n){return Ai.rcompare(t,n,e)})}Ai.gt=N1;function N1(r,e,t){return _w(r,e,t)>0}Ai.lt=Cj;function Cj(r,e,t){return _w(r,e,t)<0}Ai.eq=c9;function c9(r,e,t){return _w(r,e,t)===0}Ai.neq=NCe;function NCe(r,e,t){return _w(r,e,t)!==0}Ai.gte=u9;function u9(r,e,t){return _w(r,e,t)>=0}Ai.lte=l9;function l9(r,e,t){return _w(r,e,t)<=0}Ai.cmp=Dj;function Dj(r,e,t,n){switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return c9(r,t,n);case"!=":return NCe(r,t,n);case">":return N1(r,t,n);case">=":return u9(r,t,n);case"<":return Cj(r,t,n);case"<=":return l9(r,t,n);default:throw new TypeError("Invalid operator: "+e)}}Ai.Comparator=cv;function cv(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof cv){if(r.loose===!!e.loose)return r;r=r.value}if(!(this instanceof cv))return new cv(r,e);r=r.trim().split(/\s+/).join(" "),qs("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===q1?this.value="":this.value=this.operator+this.semver.version,qs("comp",this)}var q1={};cv.prototype.parse=function(r){var e=this.options.loose?ba[s9]:ba[a9],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new Ao(t[2],this.options.loose):this.semver=q1};cv.prototype.toString=function(){return this.value};cv.prototype.test=function(r){return qs("Comparator.test",r,this.options.loose),this.semver===q1?!0:(typeof r=="string"&&(r=new Ao(r,this.options)),Dj(r,this.operator,this.semver,this.options))};cv.prototype.intersects=function(r,e){if(!(r instanceof cv))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var t;if(this.operator==="")return t=new qc(r.value,e),Tj(this.value,t,e);if(r.operator==="")return t=new qc(this.value,e),Tj(r.semver,t,e);var n=(this.operator===">="||this.operator===">")&&(r.operator===">="||r.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(r.operator==="<="||r.operator==="<"),o=this.semver.version===r.semver.version,s=(this.operator===">="||this.operator==="<=")&&(r.operator===">="||r.operator==="<="),a=Dj(this.semver,"<",r.semver,e)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),c=Dj(this.semver,">",r.semver,e)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||i||o&&s||a||c};Ai.Range=qc;function qc(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof qc)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new qc(r.raw,e);if(r instanceof cv)return new qc(r.value,e);if(!(this instanceof qc))return new qc(r,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}qc.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range};qc.prototype.toString=function(){return this.range};qc.prototype.parseRange=function(r){var e=this.options.loose,t=e?ba[LCe]:ba[ACe];r=r.replace(t,_ct),qs("hyphen replace",r),r=r.replace(ba[xT],Xat),qs("comparator trim",r,ba[xT]),r=r.replace(ba[aP],Yat),r=r.replace(ba[cP],Jat);var n=e?ba[s9]:ba[a9],i=r.split(" ").map(function(o){return dct(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new cv(o,this.options)},this),i};qc.prototype.intersects=function(r,e){if(!(r instanceof qc))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(n){return r.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};Ai.toComparators=lct;function lct(r,e){return new qc(r,e).set.map(function(t){return t.map(function(n){return n.value}).join(" ").trim().split(" ")})}function dct(r,e){return qs("comp",r,e),r=pct(r,e),qs("caret",r),r=fct(r,e),qs("tildes",r),r=gct(r,e),qs("xrange",r),r=yct(r,e),qs("stars",r),r}function Gh(r){return!r||r.toLowerCase()==="x"||r==="*"}function fct(r,e){return r.trim().split(/\s+/).map(function(t){return hct(t,e)}).join(" ")}function hct(r,e){var t=e.loose?ba[OCe]:ba[xCe];return r.replace(t,function(n,i,o,s,a){qs("tilde",r,n,i,o,s,a);var c;return Gh(i)?c="":Gh(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Gh(s)?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(qs("replaceTilde pr",a),c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",qs("tilde return",c),c})}function pct(r,e){return r.trim().split(/\s+/).map(function(t){return mct(t,e)}).join(" ")}function mct(r,e){qs("caret",r,e);var t=e.loose?ba[kCe]:ba[ICe];return r.replace(t,function(n,i,o,s,a){qs("caret",r,n,i,o,s,a);var c;return Gh(i)?c="":Gh(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Gh(s)?i==="0"?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(qs("replaceCaret pr",a),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(qs("no pr"),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),qs("caret return",c),c})}function gct(r,e){return qs("replaceXRanges",r,e),r.split(/\s+/).map(function(t){return vct(t,e)}).join(" ")}function vct(r,e){r=r.trim();var t=e.loose?ba[PCe]:ba[ECe];return r.replace(t,function(n,i,o,s,a,c){qs("xRange",r,n,i,o,s,a,c);var u=Gh(o),l=u||Gh(s),d=l||Gh(a),f=d;return i==="="&&f&&(i=""),u?i===">"||i==="<"?n="<0.0.0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),qs("xRange return",n),n})}function yct(r,e){return qs("replaceStars",r,e),r.trim().replace(ba[MCe],"")}function _ct(r,e,t,n,i,o,s,a,c,u,l,d,f){return Gh(t)?e="":Gh(n)?e=">="+t+".0.0":Gh(i)?e=">="+t+"."+n+".0":e=">="+e,Gh(c)?a="":Gh(u)?a="<"+(+c+1)+".0.0":Gh(l)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+l+"-"+d:a="<="+a,(e+" "+a).trim()}qc.prototype.test=function(r){if(!r)return!1;typeof r=="string"&&(r=new Ao(r,this.options));for(var e=0;e<this.set.length;e++)if(bct(this.set[e],r,this.options))return!0;return!1};function bct(r,e,t){for(var n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(n=0;n<r.length;n++)if(qs(r[n].semver),r[n].semver!==q1&&r[n].semver.prerelease.length>0){var i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ai.satisfies=Tj;function Tj(r,e,t){try{e=new qc(e,t)}catch{return!1}return e.test(r)}Ai.maxSatisfying=wct;function wct(r,e,t){var n=null,i=null;try{var o=new qc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new Ao(n,t))}),n}Ai.minSatisfying=Sct;function Sct(r,e,t){var n=null,i=null;try{var o=new qc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Ao(n,t))}),n}Ai.minVersion=Cct;function Cct(r,e){r=new qc(r,e);var t=new Ao("0.0.0");if(r.test(t)||(t=new Ao("0.0.0-0"),r.test(t)))return t;t=null;for(var n=0;n<r.set.length;++n){var i=r.set[n];i.forEach(function(o){var s=new Ao(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!t||N1(t,s))&&(t=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return t&&r.test(t)?t:null}Ai.validRange=Dct;function Dct(r,e){try{return new qc(r,e).range||"*"}catch{return null}}Ai.ltr=Tct;function Tct(r,e,t){return d9(r,e,"<",t)}Ai.gtr=Ect;function Ect(r,e,t){return d9(r,e,">",t)}Ai.outside=d9;function d9(r,e,t,n){r=new Ao(r,n),e=new qc(e,n);var i,o,s,a,c;switch(t){case">":i=N1,o=l9,s=Cj,a=">",c=">=";break;case"<":i=Cj,o=u9,s=N1,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Tj(r,e,n))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],d=null,f=null;if(l.forEach(function(m){m.semver===q1&&(m=new cv(">=0.0.0")),d=d||m,f=f||m,i(m.semver,d.semver,n)?d=m:s(m.semver,f.semver,n)&&(f=m)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0}Ai.prerelease=Pct;function Pct(r,e){var t=OT(r,e);return t&&t.prerelease.length?t.prerelease:null}Ai.intersects=Rct;function Rct(r,e,t){return r=new qc(r,t),e=new qc(e,t),r.intersects(e)}Ai.coerce=xct;function xct(r){if(r instanceof Ao)return r;if(typeof r!="string")return null;var e=r.match(ba[RCe]);return e==null?null:OT(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var BCe=E((fWt,HCe)=>{"use strict";var Oct=require("path"),Ict=WSe(),jCe=pCe(),zCe=mCe(),kct=wCe(),Act=qCe(),UCe=process.platform==="win32",Lct=/\.(?:com|exe)$/i,Mct=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i,Nct=Ict(()=>Act.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function Fct(r){r.file=jCe(r);let e=r.file&&kct(r.file);return e?(r.args.unshift(r.file),r.command=e,jCe(r)):r.file}function qct(r){if(!UCe)return r;let e=Fct(r),t=!Lct.test(e);if(r.options.forceShell||t){let n=Mct.test(e);r.command=Oct.normalize(r.command),r.command=zCe.command(r.command),r.args=r.args.map(o=>zCe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function jct(r){if(Nct)return r;let e=[r.command].concat(r.args).join(" ");return UCe?(r.command=typeof r.options.shell=="string"?r.options.shell:process.env.comspec||"cmd.exe",r.args=["/d","/s","/c",`"${e}"`],r.options.windowsVerbatimArguments=!0):(typeof r.options.shell=="string"?r.command=r.options.shell:process.platform==="android"?r.command="/system/bin/sh":r.command="/bin/sh",r.args=["-c",e]),r}function zct(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?jct(n):qct(n)}HCe.exports=zct});var VCe=E((hWt,$Ce)=>{"use strict";var f9=process.platform==="win32";function h9(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Uct(r,e){if(!f9)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=WCe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function WCe(r,e){return f9&&r===1&&!e.file?h9(e.original,"spawn"):null}function Hct(r,e){return f9&&r===1&&!e.file?h9(e.original,"spawnSync"):null}$Ce.exports={hookChildProcess:Uct,verifyENOENT:WCe,verifyENOENTSync:Hct,notFoundError:h9}});var YCe=E((pWt,lP)=>{"use strict";var GCe=require("child_process"),p9=BCe(),m9=VCe();function KCe(r,e,t){let n=p9(r,e,t),i=GCe.spawn(n.command,n.args,n.options);return m9.hookChildProcess(i,n),i}function Bct(r,e,t){let n=p9(r,e,t),i=GCe.spawnSync(n.command,n.args,n.options);return i.error=i.error||m9.verifyENOENTSync(i.status,n),i}lP.exports=KCe;lP.exports.spawn=KCe;lP.exports.sync=Bct;lP.exports._parse=p9;lP.exports._enoent=m9});var dP=E(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});ww.boolean=out;ww.string=XCe;ww.number=sut;ww.error=aut;ww.func=cut;ww.array=QCe;ww.stringArray=uut;function out(r){return r===!0||r===!1}function XCe(r){return typeof r=="string"||r instanceof String}function sut(r){return typeof r=="number"||r instanceof Number}function aut(r){return r instanceof Error}function cut(r){return typeof r=="function"}function QCe(r){return Array.isArray(r)}function uut(r){return QCe(r)&&r.every(e=>XCe(e))}});var H9=E(yn=>{"use strict";var lut=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dut=yn&&yn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fut=yn&&yn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&lut(t,e,n[i]);return dut(t,e),t}}();Object.defineProperty(yn,"__esModule",{value:!0});yn.Message=yn.NotificationType9=yn.NotificationType8=yn.NotificationType7=yn.NotificationType6=yn.NotificationType5=yn.NotificationType4=yn.NotificationType3=yn.NotificationType2=yn.NotificationType1=yn.NotificationType0=yn.NotificationType=yn.RequestType9=yn.RequestType8=yn.RequestType7=yn.RequestType6=yn.RequestType5=yn.RequestType4=yn.RequestType3=yn.RequestType2=yn.RequestType1=yn.RequestType=yn.RequestType0=yn.AbstractMessageSignature=yn.ParameterStructures=yn.ResponseError=yn.ErrorCodes=void 0;var IT=fut(dP()),y9;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(y9||(yn.ErrorCodes=y9={}));var _9=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=IT.number(e)?e:y9.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};yn.ResponseError=_9;var RC=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};yn.ParameterStructures=RC;var qa=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return RC.auto}};yn.AbstractMessageSignature=qa;var b9=class extends qa{_;constructor(e){super(e,0)}};yn.RequestType0=b9;var w9=class extends qa{_parameterStructures;_;constructor(e,t=RC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType=w9;var S9=class extends qa{_parameterStructures;_;constructor(e,t=RC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType1=S9;var C9=class extends qa{_;constructor(e){super(e,2)}};yn.RequestType2=C9;var D9=class extends qa{_;constructor(e){super(e,3)}};yn.RequestType3=D9;var T9=class extends qa{_;constructor(e){super(e,4)}};yn.RequestType4=T9;var E9=class extends qa{_;constructor(e){super(e,5)}};yn.RequestType5=E9;var P9=class extends qa{_;constructor(e){super(e,6)}};yn.RequestType6=P9;var R9=class extends qa{_;constructor(e){super(e,7)}};yn.RequestType7=R9;var x9=class extends qa{_;constructor(e){super(e,8)}};yn.RequestType8=x9;var O9=class extends qa{_;constructor(e){super(e,9)}};yn.RequestType9=O9;var I9=class extends qa{_parameterStructures;_;constructor(e,t=RC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType=I9;var k9=class extends qa{_;constructor(e){super(e,0)}};yn.NotificationType0=k9;var A9=class extends qa{_parameterStructures;_;constructor(e,t=RC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType1=A9;var L9=class extends qa{_;constructor(e){super(e,2)}};yn.NotificationType2=L9;var M9=class extends qa{_;constructor(e){super(e,3)}};yn.NotificationType3=M9;var N9=class extends qa{_;constructor(e){super(e,4)}};yn.NotificationType4=N9;var F9=class extends qa{_;constructor(e){super(e,5)}};yn.NotificationType5=F9;var q9=class extends qa{_;constructor(e){super(e,6)}};yn.NotificationType6=q9;var j9=class extends qa{_;constructor(e){super(e,7)}};yn.NotificationType7=j9;var z9=class extends qa{_;constructor(e){super(e,8)}};yn.NotificationType8=z9;var U9=class extends qa{_;constructor(e){super(e,9)}};yn.NotificationType9=U9;var ZCe;(function(r){function e(i){let o=i;return o&&IT.string(o.method)&&(IT.string(o.id)||IT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&IT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(IT.string(o.id)||IT.number(o.id)||o.id===null)}r.isResponse=n})(ZCe||(yn.Message=ZCe={}))});var W9=E(xC=>{"use strict";Object.defineProperty(xC,"__esModule",{value:!0});xC.LRUCache=xC.LinkedMap=xC.Touch=void 0;var Hf;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Hf||(xC.Touch=Hf={}));var Ij=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=Hf.None){let n=this._map.get(e);if(n)return t!==Hf.None&&this.touch(n,t),n.value}set(e,t,n=Hf.None){let i=this._map.get(e);if(i)i.value=t,n!==Hf.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Hf.None:this.addItemLast(i);break;case Hf.First:this.addItemFirst(i);break;case Hf.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Hf.First&&t!==Hf.Last)){if(t===Hf.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Hf.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};xC.LinkedMap=Ij;var B9=class extends Ij{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Hf.AsNew){return super.get(e,t)}peek(e){return super.get(e,Hf.None)}set(e,t){return super.set(e,t,Hf.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};xC.LRUCache=B9});var tDe=E(kj=>{"use strict";Object.defineProperty(kj,"__esModule",{value:!0});kj.Disposable=void 0;var eDe;(function(r){function e(t){return{dispose:t}}r.create=e})(eDe||(kj.Disposable=eDe={}))});var OC=E(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});var $9;function V9(){if($9===void 0)throw new Error("No runtime abstraction layer installed");return $9}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");$9=t}r.install=e})(V9||(V9={}));G9.default=V9});var fP=E(IC=>{"use strict";var hut=IC&&IC.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(IC,"__esModule",{value:!0});IC.Emitter=IC.Event=void 0;var put=hut(OC()),rDe;(function(r){let e={dispose(){}};r.None=function(){return e}})(rDe||(IC.Event=rDe={}));var K9=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,put.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Y9=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new K9),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};IC.Emitter=Y9});var Mj=E(Jp=>{"use strict";var mut=Jp&&Jp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gut=Jp&&Jp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vut=Jp&&Jp.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mut(t,e,n[i]);return gut(t,e),t}}(),yut=Jp&&Jp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.CancellationTokenSource=Jp.CancellationToken=void 0;var _ut=yut(OC()),but=vut(dP()),J9=fP(),Aj;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:J9.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:J9.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||but.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Aj||(Jp.CancellationToken=Aj={}));var wut=Object.freeze(function(r,e){let t=(0,_ut.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),Lj=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?wut:(this._emitter||(this._emitter=new J9.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},X9=class{_token;get token(){return this._token||(this._token=new Lj),this._token}cancel(){this._token?this._token.cancel():this._token=Aj.Cancelled}dispose(){this._token?this._token instanceof Lj&&this._token.dispose():this._token=Aj.None}};Jp.CancellationTokenSource=X9});var nDe=E(hP=>{"use strict";Object.defineProperty(hP,"__esModule",{value:!0});hP.SharedArrayReceiverStrategy=hP.SharedArraySenderStrategy=void 0;var Sut=Mj(),j1;(function(r){r.Continue=0,r.Cancelled=1})(j1||(j1={}));var Q9=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=j1.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,j1.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};hP.SharedArraySenderStrategy=Q9;var Z9=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===j1.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},e7=class{token;constructor(e){this.token=new Z9(e)}cancel(){}dispose(){}},t7=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new Sut.CancellationTokenSource:new e7(t)}};hP.SharedArrayReceiverStrategy=t7});var n7=E(pP=>{"use strict";var Cut=pP&&pP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pP,"__esModule",{value:!0});pP.Semaphore=void 0;var Dut=Cut(OC()),r7=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Dut.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};pP.Semaphore=r7});var oDe=E(Bf=>{"use strict";var Tut=Bf&&Bf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eut=Bf&&Bf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Put=Bf&&Bf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Tut(t,e,n[i]);return Eut(t,e),t}}(),Rut=Bf&&Bf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ReadableStreamMessageReader=Bf.AbstractMessageReader=Bf.MessageReader=void 0;var o7=Rut(OC()),mP=Put(dP()),i7=fP(),xut=n7(),iDe;(function(r){function e(t){let n=t;return n&&mP.func(n.listen)&&mP.func(n.dispose)&&mP.func(n.onError)&&mP.func(n.onClose)&&mP.func(n.onPartialMessage)}r.is=e})(iDe||(Bf.MessageReader=iDe={}));var Nj=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new i7.Emitter,this.closeEmitter=new i7.Emitter,this.partialMessageEmitter=new i7.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${mP.string(e.message)?e.message:"unknown"}`)}};Bf.AbstractMessageReader=Nj;var s7;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,o7.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(s7||(s7={}));var a7=class extends Nj{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=s7.fromOptions(t),this.buffer=(0,o7.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new xut.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,o7.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Bf.ReadableStreamMessageReader=a7});var lDe=E(Wf=>{"use strict";var Out=Wf&&Wf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Iut=Wf&&Wf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kut=Wf&&Wf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Out(t,e,n[i]);return Iut(t,e),t}}(),Aut=Wf&&Wf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.WriteableStreamMessageWriter=Wf.AbstractMessageWriter=Wf.MessageWriter=void 0;var sDe=Aut(OC()),z1=kut(dP()),Lut=n7(),aDe=fP(),Mut="Content-Length: ",cDe=`\r
`,uDe;(function(r){function e(t){let n=t;return n&&z1.func(n.dispose)&&z1.func(n.onClose)&&z1.func(n.onError)&&z1.func(n.write)}r.is=e})(uDe||(Wf.MessageWriter=uDe={}));var Fj=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new aDe.Emitter,this.closeEmitter=new aDe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${z1.string(e.message)?e.message:"unknown"}`)}};Wf.AbstractMessageWriter=Fj;var c7;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,sDe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,sDe.default)().applicationJson.encoder}}r.fromOptions=e})(c7||(c7={}));var u7=class extends Fj{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=c7.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Lut.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Mut,n.byteLength.toString(),cDe),i.push(cDe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Wf.WriteableStreamMessageWriter=u7});var dDe=E(qj=>{"use strict";Object.defineProperty(qj,"__esModule",{value:!0});qj.AbstractMessageBuffer=void 0;var Nut=13,Fut=10,qut=`\r
`,l7=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Nut:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Fut:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(qut);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),m=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};qj.AbstractMessageBuffer=l7});var mDe=E(Kn=>{"use strict";var jut=Kn&&Kn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zut=Kn&&Kn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Uut=Kn&&Kn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jut(t,e,n[i]);return zut(t,e),t}}(),Hut=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ConnectionOptions=Kn.MessageStrategy=Kn.CancellationStrategy=Kn.CancellationSenderStrategy=Kn.CancellationReceiverStrategy=Kn.RequestCancellationReceiverStrategy=Kn.IdCancellationReceiverStrategy=Kn.ConnectionStrategy=Kn.ConnectionError=Kn.ConnectionErrors=Kn.LogTraceNotification=Kn.SetTraceNotification=Kn.TraceFormat=Kn.TraceValues=Kn.TraceValue=Kn.Trace=Kn.NullLogger=Kn.ProgressType=Kn.ProgressToken=void 0;Kn.createMessageConnection=But;var fDe=Hut(OC()),jc=Uut(dP()),Ni=H9(),hDe=W9(),U1=fP(),d7=Mj(),W1;(function(r){r.type=new Ni.NotificationType("$/cancelRequest")})(W1||(W1={}));var f7;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(f7||(Kn.ProgressToken=f7={}));var H1;(function(r){r.type=new Ni.NotificationType("$/progress")})(H1||(H1={}));var h7=class{__;_pr;constructor(){}};Kn.ProgressType=h7;var p7;(function(r){function e(t){return jc.func(t)}r.is=e})(p7||(p7={}));Kn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var gs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(gs||(Kn.Trace=gs={}));var m7;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(m7||(Kn.TraceValue=m7={}));Kn.TraceValues=m7;(function(r){function e(n){if(!jc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(gs||(Kn.Trace=gs={}));var rg;(function(r){r.Text="text",r.JSON="json"})(rg||(Kn.TraceFormat=rg={}));(function(r){function e(t){return jc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(rg||(Kn.TraceFormat=rg={}));var g7;(function(r){r.type=new Ni.NotificationType("$/setTrace")})(g7||(Kn.SetTraceNotification=g7={}));var jj;(function(r){r.type=new Ni.NotificationType("$/logTrace")})(jj||(Kn.LogTraceNotification=jj={}));var B1;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(B1||(Kn.ConnectionErrors=B1={}));var gP=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Kn.ConnectionError=gP;var v7;(function(r){function e(t){let n=t;return n&&jc.func(n.cancelUndispatched)}r.is=e})(v7||(Kn.ConnectionStrategy=v7={}));var zj;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||jc.func(n.dispose))}r.is=e})(zj||(Kn.IdCancellationReceiverStrategy=zj={}));var y7;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||jc.func(n.dispose))}r.is=e})(y7||(Kn.RequestCancellationReceiverStrategy=y7={}));var Uj;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new d7.CancellationTokenSource}});function e(t){return zj.is(t)||y7.is(t)}r.is=e})(Uj||(Kn.CancellationReceiverStrategy=Uj={}));var Hj;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(W1.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&jc.func(n.sendCancellation)&&jc.func(n.cleanup)}r.is=e})(Hj||(Kn.CancellationSenderStrategy=Hj={}));var Bj;(function(r){r.Message=Object.freeze({receiver:Uj.Message,sender:Hj.Message});function e(t){let n=t;return n&&Uj.is(n.receiver)&&Hj.is(n.sender)}r.is=e})(Bj||(Kn.CancellationStrategy=Bj={}));var Wj;(function(r){function e(t){let n=t;return n&&jc.func(n.handleMessage)}r.is=e})(Wj||(Kn.MessageStrategy=Wj={}));var pDe;(function(r){function e(t){let n=t;return n&&(Bj.is(n.cancellationStrategy)||v7.is(n.connectionStrategy)||Wj.is(n.messageStrategy)||jc.number(n.maxParallelism))}r.is=e})(pDe||(Kn.ConnectionOptions=pDe={}));var by;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(by||(by={}));function But(r,e,t,n){let i=t!==void 0?t:Kn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,m,_=new Map,T=new Map,x,M=new hDe.LinkedMap,A=new Map,U=new Set,ne=new Map,de=gs.Off,ye=rg.Text,V,W=by.New,ee=new U1.Emitter,Se=new U1.Emitter,se=new U1.Emitter,ce=new U1.Emitter,qe=new U1.Emitter,Ne=n&&n.cancellationStrategy?n.cancellationStrategy:Bj.Message;function ue(Q){}function De(){return W===by.Listening}function we(){return W===by.Closed}function xe(){return W===by.Disposed}function Me(){(W===by.New||W===by.Listening)&&(W=by.Closed,Se.fire(void 0))}function $e(Q){ee.fire([Q,void 0,void 0])}function Ct(Q){ee.fire(Q)}r.onClose(Me),r.onError($e),e.onClose(Me),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function st(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function at(){return"not-"+(++s).toString()}function tt(Q,_e){Ni.Message.isRequest(_e)?Q.set(ze(_e.id),_e):Ni.Message.isResponse(_e)?u===-1?Q.set(st(_e.id),_e):xt(_e):Q.set(at(),_e)}function fr(){x||M.size===0||u!==-1&&l>=u||(x=(0,fDe.default)().timer.setImmediate(async()=>{if(x=void 0,M.size===0||u!==-1&&l>=u)return;let Q=M.shift(),_e;try{l++;let Je=n?.messageStrategy;Wj.is(Je)?_e=Je.handleMessage(Q,Lr):_e=Lr(Q)}catch(Je){i.error(`Processing message queue failed: ${Je.toString()}`)}finally{_e instanceof Promise?_e.then(()=>{l--,fr()}).catch(Je=>{i.error(`Processing message queue failed: ${Je.toString()}`)}):l--,fr()}}))}async function Lr(Q){return Ni.Message.isRequest(Q)?cr(Q):Ni.Message.isNotification(Q)?hr(Q):Ni.Message.isResponse(Q)?xt(Q):Mt(Q)}let zr=Q=>{try{if(Ni.Message.isNotification(Q)&&Q.method===W1.type.method){let _e=Q.params.id,Je=ze(_e),ft=M.get(Je);if(Ni.Message.isRequest(ft)){let rr=n?.connectionStrategy,Jt=rr&&rr.cancelUndispatched?rr.cancelUndispatched(ft,ue):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){M.delete(Je),ne.delete(_e),Jt.id=ft.id,Or(Jt,Q.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Yt=ne.get(_e);if(Yt!==void 0){Yt.cancel(),$r(Q);return}else U.add(_e)}tt(M,Q)}finally{fr()}};async function cr(Q){if(xe())return Promise.resolve();function _e($t,kt,K){let Fe={jsonrpc:c,id:Q.id};return $t instanceof Ni.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,Or(Fe,kt,K),e.write(Fe)}function Je($t,kt,K){let Fe={jsonrpc:c,id:Q.id,error:$t.toJson()};return Or(Fe,kt,K),e.write(Fe)}Hn(Q);let ft=f.get(Q.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||d){let $t=Q.id??String(Date.now()),kt=zj.is(Ne.receiver)?Ne.receiver.createCancellationTokenSource($t):Ne.receiver.createCancellationTokenSource(Q);Q.id!==null&&U.has(Q.id)&&kt.cancel(),Q.id!==null&&ne.set($t,kt);try{let K;if(rr)if(Q.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Yt.numberOfParams} params but received none.`),Q.method,Jt);K=rr(kt.token)}else if(Array.isArray(Q.params)){if(Yt!==void 0&&Yt.parameterStructures===Ni.ParameterStructures.byName)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Jt);K=rr(...Q.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===Ni.ParameterStructures.byPosition)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Jt);K=rr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let Fe=await K;await _e(Fe,Q.method,Jt)}catch(K){K instanceof Ni.ResponseError?await _e(K,Q.method,Jt):K&&jc.string(K.message)?await Je(new Ni.ResponseError(Ni.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Jt):await Je(new Ni.ResponseError(Ni.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Jt)}finally{ne.delete($t)}}else await Je(new Ni.ResponseError(Ni.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Jt)}function xt(Q){if(!xe())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _e=Q.id,Je=A.get(_e);if(dn(Q,Je),Je!==void 0){A.delete(_e);try{if(Q.error){let ft=Q.error;Je.reject(new Ni.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Je.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Je.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}async function hr(Q){if(xe())return;let _e,Je;if(Q.method===W1.type.method){let ft=Q.params.id;U.delete(ft),$r(Q);return}else{let ft=_.get(Q.method);ft&&(Je=ft.handler,_e=ft.type)}if(Je||m)try{if($r(Q),Je)if(Q.params===void 0)_e!==void 0&&_e.numberOfParams!==0&&_e.parameterStructures!==Ni.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received none.`),await Je();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===H1.type.method&&ft.length===2&&f7.is(ft[0])?await Je({token:ft[0],value:ft[1]}):(_e!==void 0&&(_e.parameterStructures===Ni.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),_e.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received ${ft.length} arguments`)),await Je(...ft))}else _e!==void 0&&_e.parameterStructures===Ni.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Je(Q.params);else m&&await m(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else se.fire(Q)}function Mt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let _e=Q;if(jc.string(_e.id)||jc.number(_e.id)){let Je=_e.id,ft=A.get(Je);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function on(Q){if(Q!=null)switch(de){case gs.Verbose:return JSON.stringify(Q,null,4);case gs.Compact:return JSON.stringify(Q);default:return}}function ln(Q){if(!(de===gs.Off||!V))if(ye===rg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Sending request '${Q.method} - (${Q.id})'.`,_e)}else ii("send-request",Q)}function On(Q){if(!(de===gs.Off||!V))if(ye===rg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Sending notification '${Q.method}'.`,_e)}else ii("send-notification",Q)}function Or(Q,_e,Je){if(!(de===gs.Off||!V))if(ye===rg.Text){let ft;(de===gs.Verbose||de===gs.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${on(Q.error.data)}

`:Q.result?ft=`Result: ${on(Q.result)}

`:Q.error===void 0&&(ft=`No result returned.

`)),V.log(`Sending response '${_e} - (${Q.id})'. Processing request took ${Date.now()-Je}ms`,ft)}else ii("send-response",Q)}function Hn(Q){if(!(de===gs.Off||!V))if(ye===rg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Received request '${Q.method} - (${Q.id})'.`,_e)}else ii("receive-request",Q)}function $r(Q){if(!(de===gs.Off||!V||Q.method===jj.type.method))if(ye===rg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Received notification '${Q.method}'.`,_e)}else ii("receive-notification",Q)}function dn(Q,_e){if(!(de===gs.Off||!V))if(ye===rg.Text){let Je;if((de===gs.Verbose||de===gs.Compact)&&(Q.error&&Q.error.data?Je=`Error data: ${on(Q.error.data)}

`:Q.result?Je=`Result: ${on(Q.result)}

`:Q.error===void 0&&(Je=`No result returned.

`)),_e){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";V.log(`Received response '${_e.method} - (${Q.id})' in ${Date.now()-_e.timerStart}ms.${ft}`,Je)}else V.log(`Received response ${Q.id} without active response promise.`,Je)}else ii("receive-response",Q)}function ii(Q,_e){if(!V||de===gs.Off)return;let Je={isLSPMessage:!0,type:Q,message:_e,timestamp:Date.now()};V.log(Je)}function Vr(){if(we())throw new gP(B1.Closed,"Connection is closed.");if(xe())throw new gP(B1.Disposed,"Connection is disposed.")}function An(){if(De())throw new gP(B1.AlreadyListening,"Connection is already listening")}function Ri(){if(!De())throw new Error("Call listen() first.")}function Gr(Q){return Q===void 0?null:Q}function Ji(Q){if(Q!==null)return Q}function oi(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function fn(Q,_e){switch(Q){case Ni.ParameterStructures.auto:return oi(_e)?Ji(_e):[Gr(_e)];case Ni.ParameterStructures.byName:if(!oi(_e))throw new Error("Received parameters by name but param is not an object literal.");return Ji(_e);case Ni.ParameterStructures.byPosition:return[Gr(_e)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Oe(Q,_e){let Je,ft=Q.numberOfParams;switch(ft){case 0:Je=void 0;break;case 1:Je=fn(Q.parameterStructures,_e[0]);break;default:Je=[];for(let Yt=0;Yt<_e.length&&Yt<ft;Yt++)Je.push(Gr(_e[Yt]));if(_e.length<ft)for(let Yt=_e.length;Yt<ft;Yt++)Je.push(null);break}return Je}let oe={sendNotification:(Q,..._e)=>{Vr();let Je,ft;if(jc.string(Q)){Je=Q;let rr=_e[0],Jt=0,$t=Ni.ParameterStructures.auto;Ni.ParameterStructures.is(rr)&&(Jt=1,$t=rr);let kt=_e.length,K=kt-Jt;switch(K){case 0:ft=void 0;break;case 1:ft=fn($t,_e[Jt]);break;default:if($t===Ni.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=_e.slice(Jt,kt).map(Fe=>Gr(Fe));break}}else{let rr=_e;Je=Q.method,ft=Oe(Q,rr)}let Yt={jsonrpc:c,method:Je,params:ft};return On(Yt),e.write(Yt).catch(rr=>{throw i.error("Sending notification failed."),rr})},onNotification:(Q,_e)=>{Vr();let Je;return jc.func(Q)?m=Q:_e&&(jc.string(Q)?(Je=Q,_.set(Q,{type:void 0,handler:_e})):(Je=Q.method,_.set(Q.method,{type:Q,handler:_e}))),{dispose:()=>{Je!==void 0?_.delete(Je):m=void 0}}},onProgress:(Q,_e,Je)=>{if(T.has(_e))throw new Error(`Progress handler for token ${_e} already registered`);return T.set(_e,Je),{dispose:()=>{T.delete(_e)}}},sendProgress:(Q,_e,Je)=>oe.sendNotification(H1.type,{token:_e,value:Je}),onUnhandledProgress:ce.event,sendRequest:(Q,..._e)=>{Vr(),Ri();function Je(Fe,Ht){let Tr=Ne.sender.sendCancellation(Fe,Ht);Tr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Ht}`):Tr.catch(()=>{i.log(`Sending cancellation messages for id ${Ht} failed.`)})}let ft,Yt,rr;if(jc.string(Q)){ft=Q;let Fe=_e[0],Ht=_e[_e.length-1],Tr=0,He=Ni.ParameterStructures.auto;Ni.ParameterStructures.is(Fe)&&(Tr=1,He=Fe);let re=_e.length;d7.CancellationToken.is(Ht)&&(re=re-1,rr=Ht);let Re=re-Tr;switch(Re){case 0:Yt=void 0;break;case 1:Yt=fn(He,_e[Tr]);break;default:if(He===Ni.ParameterStructures.byName)throw new Error(`Received ${Re} parameters for 'by Name' request parameter structure.`);Yt=_e.slice(Tr,re).map(je=>Gr(je));break}}else{let Fe=_e;ft=Q.method,Yt=Oe(Q,Fe);let Ht=Q.numberOfParams;rr=d7.CancellationToken.is(Fe[Ht])?Fe[Ht]:void 0}let Jt=o++,$t,kt=!1;rr!==void 0&&(rr.isCancellationRequested?kt=!0:$t=rr.onCancellationRequested(()=>{Je(oe,Jt)}));let K={jsonrpc:c,id:Jt,method:ft,params:Yt};return ln(K),typeof Ne.sender.enableCancellation=="function"&&Ne.sender.enableCancellation(K),new Promise(async(Fe,Ht)=>{let Tr=Re=>{Fe(Re),Ne.sender.cleanup(Jt),$t?.dispose()},He=Re=>{Ht(Re),Ne.sender.cleanup(Jt),$t?.dispose()},re={method:ft,timerStart:Date.now(),resolve:Tr,reject:He};try{A.set(Jt,re),await e.write(K),kt&&Je(oe,Jt)}catch(Re){throw A.delete(Jt),re.reject(new Ni.ResponseError(Ni.ErrorCodes.MessageWriteError,Re.message?Re.message:"Unknown reason")),i.error("Sending request failed."),Re}})},onRequest:(Q,_e)=>{Vr();let Je=null;return p7.is(Q)?(Je=void 0,d=Q):jc.string(Q)?(Je=null,_e!==void 0&&(Je=Q,f.set(Q,{handler:_e,type:void 0}))):_e!==void 0&&(Je=Q.method,f.set(Q.method,{type:Q,handler:_e})),{dispose:()=>{Je!==null&&(Je!==void 0?f.delete(Je):d=void 0)}}},hasPendingResponse:()=>A.size>0,trace:async(Q,_e,Je)=>{let ft=!1,Yt=rg.Text;Je!==void 0&&(jc.boolean(Je)?ft=Je:(ft=Je.sendNotification||!1,Yt=Je.traceFormat||rg.Text)),de=Q,ye=Yt,de===gs.Off?V=void 0:V=_e,ft&&!we()&&!xe()&&await oe.sendNotification(g7.type,{value:gs.toString(Q)})},onError:ee.event,onClose:Se.event,onUnhandledNotification:se.event,onDispose:qe.event,end:()=>{e.end()},dispose:()=>{if(xe())return;W=by.Disposed,qe.fire(void 0);let Q=new Ni.ResponseError(Ni.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let _e of A.values())_e.reject(Q);A=new Map,ne=new Map,U=new Set,M=new hDe.LinkedMap,jc.func(e.dispose)&&e.dispose(),jc.func(r.dispose)&&r.dispose()},listen:()=>{Vr(),An(),W=by.Listening,r.listen(zr)},inspect:()=>{(0,fDe.default)().console.log("inspect")}};return oe.onNotification(jj.type,Q=>{if(de===gs.Off||!V)return;let _e=de===gs.Verbose||de===gs.Compact;V.log(Q.message,_e?Q.verbose:void 0)}),oe.onNotification(H1.type,async Q=>{let _e=T.get(Q.token);_e?await _e(Q.value):ce.fire(Q)}),oe}});var Xu=E(Rt=>{"use strict";var Wut=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ProgressType=Rt.ProgressToken=Rt.createMessageConnection=Rt.NullLogger=Rt.ConnectionOptions=Rt.ConnectionStrategy=Rt.AbstractMessageBuffer=Rt.WriteableStreamMessageWriter=Rt.AbstractMessageWriter=Rt.MessageWriter=Rt.ReadableStreamMessageReader=Rt.AbstractMessageReader=Rt.MessageReader=Rt.SharedArrayReceiverStrategy=Rt.SharedArraySenderStrategy=Rt.CancellationToken=Rt.CancellationTokenSource=Rt.Emitter=Rt.Event=Rt.Disposable=Rt.LRUCache=Rt.Touch=Rt.LinkedMap=Rt.ParameterStructures=Rt.NotificationType9=Rt.NotificationType8=Rt.NotificationType7=Rt.NotificationType6=Rt.NotificationType5=Rt.NotificationType4=Rt.NotificationType3=Rt.NotificationType2=Rt.NotificationType1=Rt.NotificationType0=Rt.NotificationType=Rt.ErrorCodes=Rt.ResponseError=Rt.RequestType9=Rt.RequestType8=Rt.RequestType7=Rt.RequestType6=Rt.RequestType5=Rt.RequestType4=Rt.RequestType3=Rt.RequestType2=Rt.RequestType1=Rt.RequestType0=Rt.RequestType=Rt.Message=Rt.RAL=void 0;Rt.MessageStrategy=Rt.CancellationStrategy=Rt.CancellationSenderStrategy=Rt.RequestCancellationReceiverStrategy=Rt.IdCancellationReceiverStrategy=Rt.CancellationReceiverStrategy=Rt.ConnectionError=Rt.ConnectionErrors=Rt.LogTraceNotification=Rt.SetTraceNotification=Rt.TraceFormat=Rt.TraceValues=Rt.TraceValue=Rt.Trace=void 0;var wa=H9();Object.defineProperty(Rt,"Message",{enumerable:!0,get:function(){return wa.Message}});Object.defineProperty(Rt,"RequestType",{enumerable:!0,get:function(){return wa.RequestType}});Object.defineProperty(Rt,"RequestType0",{enumerable:!0,get:function(){return wa.RequestType0}});Object.defineProperty(Rt,"RequestType1",{enumerable:!0,get:function(){return wa.RequestType1}});Object.defineProperty(Rt,"RequestType2",{enumerable:!0,get:function(){return wa.RequestType2}});Object.defineProperty(Rt,"RequestType3",{enumerable:!0,get:function(){return wa.RequestType3}});Object.defineProperty(Rt,"RequestType4",{enumerable:!0,get:function(){return wa.RequestType4}});Object.defineProperty(Rt,"RequestType5",{enumerable:!0,get:function(){return wa.RequestType5}});Object.defineProperty(Rt,"RequestType6",{enumerable:!0,get:function(){return wa.RequestType6}});Object.defineProperty(Rt,"RequestType7",{enumerable:!0,get:function(){return wa.RequestType7}});Object.defineProperty(Rt,"RequestType8",{enumerable:!0,get:function(){return wa.RequestType8}});Object.defineProperty(Rt,"RequestType9",{enumerable:!0,get:function(){return wa.RequestType9}});Object.defineProperty(Rt,"ResponseError",{enumerable:!0,get:function(){return wa.ResponseError}});Object.defineProperty(Rt,"ErrorCodes",{enumerable:!0,get:function(){return wa.ErrorCodes}});Object.defineProperty(Rt,"NotificationType",{enumerable:!0,get:function(){return wa.NotificationType}});Object.defineProperty(Rt,"NotificationType0",{enumerable:!0,get:function(){return wa.NotificationType0}});Object.defineProperty(Rt,"NotificationType1",{enumerable:!0,get:function(){return wa.NotificationType1}});Object.defineProperty(Rt,"NotificationType2",{enumerable:!0,get:function(){return wa.NotificationType2}});Object.defineProperty(Rt,"NotificationType3",{enumerable:!0,get:function(){return wa.NotificationType3}});Object.defineProperty(Rt,"NotificationType4",{enumerable:!0,get:function(){return wa.NotificationType4}});Object.defineProperty(Rt,"NotificationType5",{enumerable:!0,get:function(){return wa.NotificationType5}});Object.defineProperty(Rt,"NotificationType6",{enumerable:!0,get:function(){return wa.NotificationType6}});Object.defineProperty(Rt,"NotificationType7",{enumerable:!0,get:function(){return wa.NotificationType7}});Object.defineProperty(Rt,"NotificationType8",{enumerable:!0,get:function(){return wa.NotificationType8}});Object.defineProperty(Rt,"NotificationType9",{enumerable:!0,get:function(){return wa.NotificationType9}});Object.defineProperty(Rt,"ParameterStructures",{enumerable:!0,get:function(){return wa.ParameterStructures}});var _7=W9();Object.defineProperty(Rt,"LinkedMap",{enumerable:!0,get:function(){return _7.LinkedMap}});Object.defineProperty(Rt,"LRUCache",{enumerable:!0,get:function(){return _7.LRUCache}});Object.defineProperty(Rt,"Touch",{enumerable:!0,get:function(){return _7.Touch}});var $ut=tDe();Object.defineProperty(Rt,"Disposable",{enumerable:!0,get:function(){return $ut.Disposable}});var gDe=fP();Object.defineProperty(Rt,"Event",{enumerable:!0,get:function(){return gDe.Event}});Object.defineProperty(Rt,"Emitter",{enumerable:!0,get:function(){return gDe.Emitter}});var vDe=Mj();Object.defineProperty(Rt,"CancellationTokenSource",{enumerable:!0,get:function(){return vDe.CancellationTokenSource}});Object.defineProperty(Rt,"CancellationToken",{enumerable:!0,get:function(){return vDe.CancellationToken}});var yDe=nDe();Object.defineProperty(Rt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return yDe.SharedArraySenderStrategy}});Object.defineProperty(Rt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return yDe.SharedArrayReceiverStrategy}});var b7=oDe();Object.defineProperty(Rt,"MessageReader",{enumerable:!0,get:function(){return b7.MessageReader}});Object.defineProperty(Rt,"AbstractMessageReader",{enumerable:!0,get:function(){return b7.AbstractMessageReader}});Object.defineProperty(Rt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return b7.ReadableStreamMessageReader}});var w7=lDe();Object.defineProperty(Rt,"MessageWriter",{enumerable:!0,get:function(){return w7.MessageWriter}});Object.defineProperty(Rt,"AbstractMessageWriter",{enumerable:!0,get:function(){return w7.AbstractMessageWriter}});Object.defineProperty(Rt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return w7.WriteableStreamMessageWriter}});var Vut=dDe();Object.defineProperty(Rt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Vut.AbstractMessageBuffer}});var Ju=mDe();Object.defineProperty(Rt,"ConnectionStrategy",{enumerable:!0,get:function(){return Ju.ConnectionStrategy}});Object.defineProperty(Rt,"ConnectionOptions",{enumerable:!0,get:function(){return Ju.ConnectionOptions}});Object.defineProperty(Rt,"NullLogger",{enumerable:!0,get:function(){return Ju.NullLogger}});Object.defineProperty(Rt,"createMessageConnection",{enumerable:!0,get:function(){return Ju.createMessageConnection}});Object.defineProperty(Rt,"ProgressToken",{enumerable:!0,get:function(){return Ju.ProgressToken}});Object.defineProperty(Rt,"ProgressType",{enumerable:!0,get:function(){return Ju.ProgressType}});Object.defineProperty(Rt,"Trace",{enumerable:!0,get:function(){return Ju.Trace}});Object.defineProperty(Rt,"TraceValue",{enumerable:!0,get:function(){return Ju.TraceValue}});Object.defineProperty(Rt,"TraceFormat",{enumerable:!0,get:function(){return Ju.TraceFormat}});Object.defineProperty(Rt,"SetTraceNotification",{enumerable:!0,get:function(){return Ju.SetTraceNotification}});Object.defineProperty(Rt,"LogTraceNotification",{enumerable:!0,get:function(){return Ju.LogTraceNotification}});Object.defineProperty(Rt,"ConnectionErrors",{enumerable:!0,get:function(){return Ju.ConnectionErrors}});Object.defineProperty(Rt,"ConnectionError",{enumerable:!0,get:function(){return Ju.ConnectionError}});Object.defineProperty(Rt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.CancellationReceiverStrategy}});Object.defineProperty(Rt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.IdCancellationReceiverStrategy}});Object.defineProperty(Rt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.RequestCancellationReceiverStrategy}});Object.defineProperty(Rt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ju.CancellationSenderStrategy}});Object.defineProperty(Rt,"CancellationStrategy",{enumerable:!0,get:function(){return Ju.CancellationStrategy}});Object.defineProperty(Rt,"MessageStrategy",{enumerable:!0,get:function(){return Ju.MessageStrategy}});Object.defineProperty(Rt,"TraceValues",{enumerable:!0,get:function(){return Ju.TraceValues}});var Gut=Wut(OC());Rt.RAL=Gut.default});var tz={};eI(tz,{AnnotatedTextEdit:()=>Sw,ApplyKind:()=>B7,ChangeAnnotation:()=>kC,ChangeAnnotationIdentifier:()=>ud,CodeAction:()=>oY,CodeActionContext:()=>iY,CodeActionKind:()=>nY,CodeActionTag:()=>Xj,CodeActionTriggerKind:()=>X1,CodeDescription:()=>I7,CodeLens:()=>sY,Color:()=>Vj,ColorInformation:()=>T7,ColorPresentation:()=>E7,Command:()=>kT,CompletionItem:()=>$7,CompletionItemKind:()=>q7,CompletionItemLabelDetails:()=>W7,CompletionItemTag:()=>z7,CompletionList:()=>V7,CreateFile:()=>yP,DeleteFile:()=>bP,Diagnostic:()=>G1,DiagnosticRelatedInformation:()=>Gj,DiagnosticSeverity:()=>x7,DiagnosticTag:()=>O7,DocumentHighlight:()=>X7,DocumentHighlightKind:()=>J7,DocumentLink:()=>cY,DocumentSymbol:()=>rY,DocumentUri:()=>S7,EOL:()=>Kut,FoldingRange:()=>R7,FoldingRangeKind:()=>P7,FormattingOptions:()=>aY,Hover:()=>G7,InlayHint:()=>vY,InlayHintKind:()=>Qj,InlayHintLabelPart:()=>Zj,InlineCompletionContext:()=>SY,InlineCompletionItem:()=>yY,InlineCompletionList:()=>_Y,InlineCompletionTriggerKind:()=>bY,InlineValueContext:()=>gY,InlineValueEvaluatableExpression:()=>mY,InlineValueText:()=>hY,InlineValueVariableLookup:()=>pY,InsertReplaceEdit:()=>U7,InsertTextFormat:()=>j7,InsertTextMode:()=>H7,LanguageKind:()=>N7,Location:()=>V1,LocationLink:()=>D7,MarkedString:()=>J1,MarkupContent:()=>wP,MarkupKind:()=>Jj,OptionalVersionedTextDocumentIdentifier:()=>Y1,ParameterInformation:()=>K7,Position:()=>uv,Range:()=>zc,RenameFile:()=>_P,SelectedCompletionInfo:()=>wY,SelectionRange:()=>uY,SemanticTokenModifiers:()=>dY,SemanticTokenTypes:()=>lY,SemanticTokens:()=>fY,SignatureInformation:()=>Y7,SnippetTextEdit:()=>k7,StringValue:()=>ez,SymbolInformation:()=>eY,SymbolKind:()=>Q7,SymbolTag:()=>Z7,TextDocument:()=>DY,TextDocumentEdit:()=>K1,TextDocumentIdentifier:()=>L7,TextDocumentItem:()=>F7,TextEdit:()=>F_,URI:()=>$j,VersionedTextDocumentIdentifier:()=>M7,WorkspaceChange:()=>A7,WorkspaceEdit:()=>Kj,WorkspaceFolder:()=>CY,WorkspaceSymbol:()=>tY,integer:()=>C7,uinteger:()=>$1});var S7,$j,C7,$1,uv,zc,V1,D7,Vj,T7,E7,P7,R7,Gj,x7,O7,I7,G1,kT,F_,kC,ud,Sw,K1,yP,_P,bP,Kj,vP,k7,Yj,A7,L7,M7,Y1,N7,F7,Jj,wP,q7,j7,z7,U7,H7,B7,W7,$7,V7,J1,G7,K7,Y7,J7,X7,Q7,Z7,eY,tY,rY,nY,X1,iY,Xj,oY,sY,aY,cY,uY,lY,dY,fY,hY,pY,mY,gY,Qj,Zj,vY,ez,yY,_Y,bY,wY,SY,CY,Kut,DY,TY,dt,rz=Di(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(S7||(S7={}));(function(r){function e(t){return typeof t=="string"}r.is=e})($j||($j={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(C7||(C7={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})($1||($1={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=$1.MAX_VALUE),i===Number.MAX_VALUE&&(i=$1.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(uv||(uv={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:uv.create(n,i),end:uv.create(o,s)};if(uv.is(n)&&uv.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&uv.is(i.start)&&uv.is(i.end)}r.is=t})(zc||(zc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&zc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(V1||(V1={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&zc.is(i.targetRange)&&dt.string(i.targetUri)&&zc.is(i.targetSelectionRange)&&(zc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(D7||(D7={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})(Vj||(Vj={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&zc.is(i.range)&&Vj.is(i.color)}r.is=t})(T7||(T7={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||F_.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,F_.is))}r.is=t})(E7||(E7={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(P7||(P7={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(R7||(R7={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&V1.is(i.location)&&dt.string(i.message)}r.is=t})(Gj||(Gj={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(x7||(x7={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(O7||(O7={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(I7||(I7={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&zc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,Gj.is))}r.is=t})(G1||(G1={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(kT||(kT={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&zc.is(s.range)}r.is=i})(F_||(F_={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(kC||(kC={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(ud||(ud={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return F_.is(s)&&(kC.is(s.annotationId)||ud.is(s.annotationId))}r.is=i})(Sw||(Sw={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Y1.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(K1||(K1={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(yP||(yP={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(_P||(_P={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(bP||(bP={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?yP.is(i)||_P.is(i)||bP.is(i):K1.is(i)))}r.is=e})(Kj||(Kj={}));vP=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=F_.insert(e,t):ud.is(n)?(o=n,i=Sw.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Sw.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=F_.replace(e,t):ud.is(n)?(o=n,i=Sw.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Sw.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=F_.del(e):ud.is(t)?(i=t,n=Sw.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=Sw.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&zc.is(n.range)&&ez.isSnippet(n.snippet)&&(n.annotationId===void 0||kC.is(n.annotationId)||ud.is(n.annotationId))}r.is=e})(k7||(k7={}));Yj=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(ud.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},A7=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Yj(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(K1.is(t)){let n=new vP(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new vP(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(Y1.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new vP(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new vP(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Yj,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;kC.is(t)||ud.is(t)?i=t:n=t;let o,s;if(i===void 0?o=yP.create(e,n):(s=ud.is(i)?i:this._changeAnnotations.manage(i),o=yP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;kC.is(n)||ud.is(n)?o=n:i=n;let s,a;if(o===void 0?s=_P.create(e,t,i):(a=ud.is(o)?o:this._changeAnnotations.manage(o),s=_P.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;kC.is(t)||ud.is(t)?i=t:n=t;let o,s;if(i===void 0?o=bP.create(e,n):(s=ud.is(i)?i:this._changeAnnotations.manage(i),o=bP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(L7||(L7={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(M7||(M7={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})(Y1||(Y1={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(N7||(N7={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(F7||(F7={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(Jj||(Jj={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&Jj.is(n.kind)&&dt.string(n.value)}r.is=e})(wP||(wP={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(q7||(q7={}));(function(r){r.PlainText=1,r.Snippet=2})(j7||(j7={}));(function(r){r.Deprecated=1})(z7||(z7={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&zc.is(i.insert)&&zc.is(i.replace)}r.is=t})(U7||(U7={}));(function(r){r.asIs=1,r.adjustIndentation=2})(H7||(H7={}));(function(r){r.Replace=1,r.Merge=2})(B7||(B7={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})(W7||(W7={}));(function(r){function e(t){return{label:t}}r.create=e})($7||($7={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(V7||(V7={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(J1||(J1={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(wP.is(n.contents)||J1.is(n.contents)||dt.typedArray(n.contents,J1.is))&&(t.range===void 0||zc.is(t.range))}r.is=e})(G7||(G7={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(K7||(K7={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(Y7||(Y7={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(J7||(J7={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(X7||(X7={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(Q7||(Q7={}));(function(r){r.Deprecated=1})(Z7||(Z7={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(eY||(eY={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(tY||(tY={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&zc.is(i.range)&&zc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(rY||(rY={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(nY||(nY={}));(function(r){r.Invoked=1,r.Automatic=2})(X1||(X1={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,G1.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===X1.Invoked||i.triggerKind===X1.Automatic)}r.is=t})(iY||(iY={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(Xj||(Xj={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):kT.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,G1.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||kT.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||Kj.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,Xj.is))}r.is=t})(oY||(oY={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&zc.is(i.range)&&(dt.undefined(i.command)||kT.is(i.command))}r.is=t})(sY||(sY={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(aY||(aY={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&zc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})(cY||(cY={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&zc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(uY||(uY={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(lY||(lY={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(dY||(dY={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(fY||(fY={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&zc.is(i.range)&&dt.string(i.text)}r.is=t})(hY||(hY={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&zc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(pY||(pY={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&zc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(mY||(mY={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&zc.is(n.stoppedLocation)}r.is=t})(gY||(gY={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Qj||(Qj={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||wP.is(i.tooltip))&&(i.location===void 0||V1.is(i.location))&&(i.command===void 0||kT.is(i.command))}r.is=t})(Zj||(Zj={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&uv.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,Zj.is))&&(i.kind===void 0||Qj.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,F_.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||wP.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(vY||(vY={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(ez||(ez={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(yY||(yY={}));(function(r){function e(t){return{items:t}}r.create=e})(_Y||(_Y={}));(function(r){r.Invoked=1,r.Automatic=2})(bY||(bY={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(wY||(wY={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(SY||(SY={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&$j.is(n.uri)&&dt.string(n.name)}r.is=e})(CY||(CY={}));Kut=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new TY(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),m=o.offsetAt(d.range.end);if(m<=u)a=a.substring(0,f)+d.newText+a.substring(m,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(DY||(DY={}));TY=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return uv.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return uv.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(m){return typeof m<"u"}r.defined=t;function n(m){return typeof m>"u"}r.undefined=n;function i(m){return m===!0||m===!1}r.boolean=i;function o(m){return e.call(m)==="[object String]"}r.string=o;function s(m){return e.call(m)==="[object Number]"}r.number=s;function a(m,_,T){return e.call(m)==="[object Number]"&&_<=m&&m<=T}r.numberRange=a;function c(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}r.integer=c;function u(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}r.uinteger=u;function l(m){return e.call(m)==="[object Function]"}r.func=l;function d(m){return m!==null&&typeof m=="object"}r.objectLiteral=d;function f(m,_){return Array.isArray(m)&&m.every(_)}r.typedArray=f})(dt||(dt={}))});var ja=E(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.ProtocolNotificationType=Xp.ProtocolNotificationType0=Xp.ProtocolRequestType=Xp.ProtocolRequestType0=Xp.RegistrationType=Xp.MessageDirection=void 0;var SP=Xu(),_De;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(_De||(Xp.MessageDirection=_De={}));var EY=class{____;method;constructor(e){this.method=e}};Xp.RegistrationType=EY;var PY=class extends SP.RequestType0{__;___;____;_pr;constructor(e){super(e)}};Xp.ProtocolRequestType0=PY;var RY=class extends SP.RequestType{__;___;____;_pr;constructor(e){super(e,SP.ParameterStructures.byName)}};Xp.ProtocolRequestType=RY;var xY=class extends SP.NotificationType0{___;____;constructor(e){super(e)}};Xp.ProtocolNotificationType0=xY;var OY=class extends SP.NotificationType{___;____;constructor(e){super(e,SP.ParameterStructures.byName)}};Xp.ProtocolNotificationType=OY});var nz=E(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});wy.boolean=Yut;wy.string=bDe;wy.number=Jut;wy.error=Xut;wy.func=Qut;wy.array=wDe;wy.stringArray=Zut;wy.typedArray=elt;wy.objectLiteral=tlt;function Yut(r){return r===!0||r===!1}function bDe(r){return typeof r=="string"||r instanceof String}function Jut(r){return typeof r=="number"||r instanceof Number}function Xut(r){return r instanceof Error}function Qut(r){return typeof r=="function"}function wDe(r){return Array.isArray(r)}function Zut(r){return wDe(r)&&r.every(e=>bDe(e))}function elt(r,e){return Array.isArray(r)&&r.every(e)}function tlt(r){return r!==null&&typeof r=="object"}});var DDe=E(iz=>{"use strict";Object.defineProperty(iz,"__esModule",{value:!0});iz.ImplementationRequest=void 0;var SDe=ja(),CDe;(function(r){r.method="textDocument/implementation",r.messageDirection=SDe.MessageDirection.clientToServer,r.type=new SDe.ProtocolRequestType(r.method)})(CDe||(iz.ImplementationRequest=CDe={}))});var PDe=E(oz=>{"use strict";Object.defineProperty(oz,"__esModule",{value:!0});oz.TypeDefinitionRequest=void 0;var TDe=ja(),EDe;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=TDe.MessageDirection.clientToServer,r.type=new TDe.ProtocolRequestType(r.method)})(EDe||(oz.TypeDefinitionRequest=EDe={}))});var ODe=E(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});CP.DidChangeWorkspaceFoldersNotification=CP.WorkspaceFoldersRequest=void 0;var sz=ja(),RDe;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=sz.MessageDirection.serverToClient,r.type=new sz.ProtocolRequestType0(r.method)})(RDe||(CP.WorkspaceFoldersRequest=RDe={}));var xDe;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=sz.MessageDirection.clientToServer,r.type=new sz.ProtocolNotificationType(r.method)})(xDe||(CP.DidChangeWorkspaceFoldersNotification=xDe={}))});var ADe=E(az=>{"use strict";Object.defineProperty(az,"__esModule",{value:!0});az.ConfigurationRequest=void 0;var IDe=ja(),kDe;(function(r){r.method="workspace/configuration",r.messageDirection=IDe.MessageDirection.serverToClient,r.type=new IDe.ProtocolRequestType(r.method)})(kDe||(az.ConfigurationRequest=kDe={}))});var NDe=E(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});DP.ColorPresentationRequest=DP.DocumentColorRequest=void 0;var cz=ja(),LDe;(function(r){r.method="textDocument/documentColor",r.messageDirection=cz.MessageDirection.clientToServer,r.type=new cz.ProtocolRequestType(r.method)})(LDe||(DP.DocumentColorRequest=LDe={}));var MDe;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=cz.MessageDirection.clientToServer,r.type=new cz.ProtocolRequestType(r.method)})(MDe||(DP.ColorPresentationRequest=MDe={}))});var jDe=E(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0});TP.FoldingRangeRefreshRequest=TP.FoldingRangeRequest=void 0;var uz=ja(),FDe;(function(r){r.method="textDocument/foldingRange",r.messageDirection=uz.MessageDirection.clientToServer,r.type=new uz.ProtocolRequestType(r.method)})(FDe||(TP.FoldingRangeRequest=FDe={}));var qDe;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=uz.MessageDirection.serverToClient,r.type=new uz.ProtocolRequestType0(r.method)})(qDe||(TP.FoldingRangeRefreshRequest=qDe={}))});var HDe=E(lz=>{"use strict";Object.defineProperty(lz,"__esModule",{value:!0});lz.DeclarationRequest=void 0;var zDe=ja(),UDe;(function(r){r.method="textDocument/declaration",r.messageDirection=zDe.MessageDirection.clientToServer,r.type=new zDe.ProtocolRequestType(r.method)})(UDe||(lz.DeclarationRequest=UDe={}))});var $De=E(dz=>{"use strict";Object.defineProperty(dz,"__esModule",{value:!0});dz.SelectionRangeRequest=void 0;var BDe=ja(),WDe;(function(r){r.method="textDocument/selectionRange",r.messageDirection=BDe.MessageDirection.clientToServer,r.type=new BDe.ProtocolRequestType(r.method)})(WDe||(dz.SelectionRangeRequest=WDe={}))});var YDe=E(AC=>{"use strict";Object.defineProperty(AC,"__esModule",{value:!0});AC.WorkDoneProgressCancelNotification=AC.WorkDoneProgressCreateRequest=AC.WorkDoneProgress=void 0;var rlt=Xu(),fz=ja(),VDe;(function(r){r.type=new rlt.ProgressType;function e(t){return t===r.type}r.is=e})(VDe||(AC.WorkDoneProgress=VDe={}));var GDe;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=fz.MessageDirection.serverToClient,r.type=new fz.ProtocolRequestType(r.method)})(GDe||(AC.WorkDoneProgressCreateRequest=GDe={}));var KDe;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=fz.MessageDirection.clientToServer,r.type=new fz.ProtocolNotificationType(r.method)})(KDe||(AC.WorkDoneProgressCancelNotification=KDe={}))});var ZDe=E(LC=>{"use strict";Object.defineProperty(LC,"__esModule",{value:!0});LC.CallHierarchyOutgoingCallsRequest=LC.CallHierarchyIncomingCallsRequest=LC.CallHierarchyPrepareRequest=void 0;var EP=ja(),JDe;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=EP.MessageDirection.clientToServer,r.type=new EP.ProtocolRequestType(r.method)})(JDe||(LC.CallHierarchyPrepareRequest=JDe={}));var XDe;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=EP.MessageDirection.clientToServer,r.type=new EP.ProtocolRequestType(r.method)})(XDe||(LC.CallHierarchyIncomingCallsRequest=XDe={}));var QDe;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=EP.MessageDirection.clientToServer,r.type=new EP.ProtocolRequestType(r.method)})(QDe||(LC.CallHierarchyOutgoingCallsRequest=QDe={}))});var oTe=E(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.SemanticTokensRefreshRequest=Qp.SemanticTokensRangeRequest=Qp.SemanticTokensDeltaRequest=Qp.SemanticTokensRequest=Qp.SemanticTokensRegistrationType=Qp.TokenFormat=void 0;var Cw=ja(),eTe;(function(r){r.Relative="relative"})(eTe||(Qp.TokenFormat=eTe={}));var Q1;(function(r){r.method="textDocument/semanticTokens",r.type=new Cw.RegistrationType(r.method)})(Q1||(Qp.SemanticTokensRegistrationType=Q1={}));var tTe;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Cw.MessageDirection.clientToServer,r.type=new Cw.ProtocolRequestType(r.method),r.registrationMethod=Q1.method})(tTe||(Qp.SemanticTokensRequest=tTe={}));var rTe;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Cw.MessageDirection.clientToServer,r.type=new Cw.ProtocolRequestType(r.method),r.registrationMethod=Q1.method})(rTe||(Qp.SemanticTokensDeltaRequest=rTe={}));var nTe;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Cw.MessageDirection.clientToServer,r.type=new Cw.ProtocolRequestType(r.method),r.registrationMethod=Q1.method})(nTe||(Qp.SemanticTokensRangeRequest=nTe={}));var iTe;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Cw.MessageDirection.serverToClient,r.type=new Cw.ProtocolRequestType0(r.method)})(iTe||(Qp.SemanticTokensRefreshRequest=iTe={}))});var cTe=E(hz=>{"use strict";Object.defineProperty(hz,"__esModule",{value:!0});hz.ShowDocumentRequest=void 0;var sTe=ja(),aTe;(function(r){r.method="window/showDocument",r.messageDirection=sTe.MessageDirection.serverToClient,r.type=new sTe.ProtocolRequestType(r.method)})(aTe||(hz.ShowDocumentRequest=aTe={}))});var dTe=E(pz=>{"use strict";Object.defineProperty(pz,"__esModule",{value:!0});pz.LinkedEditingRangeRequest=void 0;var uTe=ja(),lTe;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=uTe.MessageDirection.clientToServer,r.type=new uTe.ProtocolRequestType(r.method)})(lTe||(pz.LinkedEditingRangeRequest=lTe={}))});var _Te=E($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.WillDeleteFilesRequest=$f.DidDeleteFilesNotification=$f.DidRenameFilesNotification=$f.WillRenameFilesRequest=$f.DidCreateFilesNotification=$f.WillCreateFilesRequest=$f.FileOperationPatternKind=void 0;var lv=ja(),fTe;(function(r){r.file="file",r.folder="folder"})(fTe||($f.FileOperationPatternKind=fTe={}));var hTe;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolRequestType(r.method)})(hTe||($f.WillCreateFilesRequest=hTe={}));var pTe;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolNotificationType(r.method)})(pTe||($f.DidCreateFilesNotification=pTe={}));var mTe;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolRequestType(r.method)})(mTe||($f.WillRenameFilesRequest=mTe={}));var gTe;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolNotificationType(r.method)})(gTe||($f.DidRenameFilesNotification=gTe={}));var vTe;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolNotificationType(r.method)})(vTe||($f.DidDeleteFilesNotification=vTe={}));var yTe;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=lv.MessageDirection.clientToServer,r.type=new lv.ProtocolRequestType(r.method)})(yTe||($f.WillDeleteFilesRequest=yTe={}))});var DTe=E(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});MC.MonikerRequest=MC.MonikerKind=MC.UniquenessLevel=void 0;var bTe=ja(),wTe;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(wTe||(MC.UniquenessLevel=wTe={}));var STe;(function(r){r.$import="import",r.$export="export",r.local="local"})(STe||(MC.MonikerKind=STe={}));var CTe;(function(r){r.method="textDocument/moniker",r.messageDirection=bTe.MessageDirection.clientToServer,r.type=new bTe.ProtocolRequestType(r.method)})(CTe||(MC.MonikerRequest=CTe={}))});var RTe=E(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.TypeHierarchySubtypesRequest=NC.TypeHierarchySupertypesRequest=NC.TypeHierarchyPrepareRequest=void 0;var PP=ja(),TTe;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=PP.MessageDirection.clientToServer,r.type=new PP.ProtocolRequestType(r.method)})(TTe||(NC.TypeHierarchyPrepareRequest=TTe={}));var ETe;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=PP.MessageDirection.clientToServer,r.type=new PP.ProtocolRequestType(r.method)})(ETe||(NC.TypeHierarchySupertypesRequest=ETe={}));var PTe;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=PP.MessageDirection.clientToServer,r.type=new PP.ProtocolRequestType(r.method)})(PTe||(NC.TypeHierarchySubtypesRequest=PTe={}))});var ITe=E(RP=>{"use strict";Object.defineProperty(RP,"__esModule",{value:!0});RP.InlineValueRefreshRequest=RP.InlineValueRequest=void 0;var mz=ja(),xTe;(function(r){r.method="textDocument/inlineValue",r.messageDirection=mz.MessageDirection.clientToServer,r.type=new mz.ProtocolRequestType(r.method)})(xTe||(RP.InlineValueRequest=xTe={}));var OTe;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=mz.MessageDirection.serverToClient,r.type=new mz.ProtocolRequestType0(r.method)})(OTe||(RP.InlineValueRefreshRequest=OTe={}))});var MTe=E(FC=>{"use strict";Object.defineProperty(FC,"__esModule",{value:!0});FC.InlayHintRefreshRequest=FC.InlayHintResolveRequest=FC.InlayHintRequest=void 0;var xP=ja(),kTe;(function(r){r.method="textDocument/inlayHint",r.messageDirection=xP.MessageDirection.clientToServer,r.type=new xP.ProtocolRequestType(r.method)})(kTe||(FC.InlayHintRequest=kTe={}));var ATe;(function(r){r.method="inlayHint/resolve",r.messageDirection=xP.MessageDirection.clientToServer,r.type=new xP.ProtocolRequestType(r.method)})(ATe||(FC.InlayHintResolveRequest=ATe={}));var LTe;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=xP.MessageDirection.serverToClient,r.type=new xP.ProtocolRequestType0(r.method)})(LTe||(FC.InlayHintRefreshRequest=LTe={}))});var HTe=E(ld=>{"use strict";var nlt=ld&&ld.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ilt=ld&&ld.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),olt=ld&&ld.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&nlt(t,e,n[i]);return ilt(t,e),t}}();Object.defineProperty(ld,"__esModule",{value:!0});ld.DiagnosticRefreshRequest=ld.WorkspaceDiagnosticRequest=ld.DocumentDiagnosticRequest=ld.DocumentDiagnosticReportKind=ld.DiagnosticServerCancellationData=void 0;var UTe=Xu(),slt=olt(nz()),OP=ja(),NTe;(function(r){function e(t){let n=t;return n&&slt.boolean(n.retriggerRequest)}r.is=e})(NTe||(ld.DiagnosticServerCancellationData=NTe={}));var FTe;(function(r){r.Full="full",r.Unchanged="unchanged"})(FTe||(ld.DocumentDiagnosticReportKind=FTe={}));var qTe;(function(r){r.method="textDocument/diagnostic",r.messageDirection=OP.MessageDirection.clientToServer,r.type=new OP.ProtocolRequestType(r.method),r.partialResult=new UTe.ProgressType})(qTe||(ld.DocumentDiagnosticRequest=qTe={}));var jTe;(function(r){r.method="workspace/diagnostic",r.messageDirection=OP.MessageDirection.clientToServer,r.type=new OP.ProtocolRequestType(r.method),r.partialResult=new UTe.ProgressType})(jTe||(ld.WorkspaceDiagnosticRequest=jTe={}));var zTe;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=OP.MessageDirection.serverToClient,r.type=new OP.ProtocolRequestType0(r.method)})(zTe||(ld.DiagnosticRefreshRequest=zTe={}))});var YTe=E(Zs=>{"use strict";var alt=Zs&&Zs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),clt=Zs&&Zs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ult=Zs&&Zs.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&alt(t,e,n[i]);return clt(t,e),t}}();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.DidCloseNotebookDocumentNotification=Zs.DidSaveNotebookDocumentNotification=Zs.DidChangeNotebookDocumentNotification=Zs.NotebookCellArrayChange=Zs.DidOpenNotebookDocumentNotification=Zs.NotebookDocumentSyncRegistrationType=Zs.NotebookDocument=Zs.NotebookCell=Zs.ExecutionSummary=Zs.NotebookCellKind=void 0;var Z1=(rz(),GS(tz)),Sy=ult(nz()),q_=ja(),IY;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(IY||(Zs.NotebookCellKind=IY={}));var kY;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return Sy.objectLiteral(o)&&Z1.uinteger.is(o.executionOrder)&&(o.success===void 0||Sy.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(kY||(Zs.ExecutionSummary=kY={}));var gz;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return Sy.objectLiteral(s)&&IY.is(s.kind)&&Z1.DocumentUri.is(s.document)&&(s.metadata===void 0||Sy.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!kY.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(Sy.objectLiteral(o)&&Sy.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(gz||(Zs.NotebookCell=gz={}));var BTe;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return Sy.objectLiteral(i)&&Sy.string(i.uri)&&Z1.integer.is(i.version)&&Sy.typedArray(i.cells,gz.is)}r.is=t})(BTe||(Zs.NotebookDocument=BTe={}));var IP;(function(r){r.method="notebookDocument/sync",r.messageDirection=q_.MessageDirection.clientToServer,r.type=new q_.RegistrationType(r.method)})(IP||(Zs.NotebookDocumentSyncRegistrationType=IP={}));var WTe;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=q_.MessageDirection.clientToServer,r.type=new q_.ProtocolNotificationType(r.method),r.registrationMethod=IP.method})(WTe||(Zs.DidOpenNotebookDocumentNotification=WTe={}));var $Te;(function(r){function e(n){let i=n;return Sy.objectLiteral(i)&&Z1.uinteger.is(i.start)&&Z1.uinteger.is(i.deleteCount)&&(i.cells===void 0||Sy.typedArray(i.cells,gz.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})($Te||(Zs.NotebookCellArrayChange=$Te={}));var VTe;(function(r){r.method="notebookDocument/didChange",r.messageDirection=q_.MessageDirection.clientToServer,r.type=new q_.ProtocolNotificationType(r.method),r.registrationMethod=IP.method})(VTe||(Zs.DidChangeNotebookDocumentNotification=VTe={}));var GTe;(function(r){r.method="notebookDocument/didSave",r.messageDirection=q_.MessageDirection.clientToServer,r.type=new q_.ProtocolNotificationType(r.method),r.registrationMethod=IP.method})(GTe||(Zs.DidSaveNotebookDocumentNotification=GTe={}));var KTe;(function(r){r.method="notebookDocument/didClose",r.messageDirection=q_.MessageDirection.clientToServer,r.type=new q_.ProtocolNotificationType(r.method),r.registrationMethod=IP.method})(KTe||(Zs.DidCloseNotebookDocumentNotification=KTe={}))});var QTe=E(vz=>{"use strict";Object.defineProperty(vz,"__esModule",{value:!0});vz.InlineCompletionRequest=void 0;var JTe=ja(),XTe;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=JTe.MessageDirection.clientToServer,r.type=new JTe.ProtocolRequestType(r.method)})(XTe||(vz.InlineCompletionRequest=XTe={}))});var t0e=E(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});kP.TextDocumentContentRefreshRequest=kP.TextDocumentContentRequest=void 0;var yz=ja(),ZTe;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=yz.MessageDirection.clientToServer,r.type=new yz.ProtocolRequestType(r.method)})(ZTe||(kP.TextDocumentContentRequest=ZTe={}));var e0e;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=yz.MessageDirection.serverToClient,r.type=new yz.ProtocolRequestType(r.method)})(e0e||(kP.TextDocumentContentRefreshRequest=e0e={}))});var mEe=E(Pe=>{"use strict";var llt=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dlt=Pe&&Pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),flt=Pe&&Pe.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&llt(t,e,n[i]);return dlt(t,e),t}}();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.CodeActionRequest=Pe.DocumentSymbolRequest=Pe.DocumentHighlightRequest=Pe.ReferencesRequest=Pe.DefinitionRequest=Pe.SignatureHelpRequest=Pe.SignatureHelpTriggerKind=Pe.HoverRequest=Pe.CompletionResolveRequest=Pe.CompletionRequest=Pe.CompletionTriggerKind=Pe.PublishDiagnosticsNotification=Pe.WatchKind=Pe.GlobPattern=Pe.RelativePattern=Pe.FileChangeType=Pe.DidChangeWatchedFilesNotification=Pe.WillSaveTextDocumentWaitUntilRequest=Pe.WillSaveTextDocumentNotification=Pe.TextDocumentSaveReason=Pe.DidSaveTextDocumentNotification=Pe.DidCloseTextDocumentNotification=Pe.DidChangeTextDocumentNotification=Pe.TextDocumentContentChangeEvent=Pe.DidOpenTextDocumentNotification=Pe.TextDocumentSyncKind=Pe.TelemetryEventNotification=Pe.LogMessageNotification=Pe.ShowMessageRequest=Pe.ShowMessageNotification=Pe.MessageType=Pe.DidChangeConfigurationNotification=Pe.ExitNotification=Pe.ShutdownRequest=Pe.InitializedNotification=Pe.InitializeErrorCodes=Pe.InitializeRequest=Pe.WorkDoneProgressOptions=Pe.TextDocumentRegistrationOptions=Pe.StaticRegistrationOptions=Pe.PositionEncodingKind=Pe.RegularExpressionEngineKind=Pe.FailureHandlingKind=Pe.ResourceOperationKind=Pe.UnregistrationRequest=Pe.RegistrationRequest=Pe.DocumentSelector=Pe.NotebookCellTextDocumentFilter=Pe.NotebookDocumentFilter=Pe.TextDocumentFilter=void 0;Pe.UniquenessLevel=Pe.WillDeleteFilesRequest=Pe.DidDeleteFilesNotification=Pe.WillRenameFilesRequest=Pe.DidRenameFilesNotification=Pe.WillCreateFilesRequest=Pe.DidCreateFilesNotification=Pe.FileOperationPatternKind=Pe.LinkedEditingRangeRequest=Pe.ShowDocumentRequest=Pe.SemanticTokensRegistrationType=Pe.SemanticTokensRefreshRequest=Pe.SemanticTokensRangeRequest=Pe.SemanticTokensDeltaRequest=Pe.SemanticTokensRequest=Pe.TokenFormat=Pe.CallHierarchyPrepareRequest=Pe.CallHierarchyOutgoingCallsRequest=Pe.CallHierarchyIncomingCallsRequest=Pe.WorkDoneProgressCancelNotification=Pe.WorkDoneProgressCreateRequest=Pe.WorkDoneProgress=Pe.SelectionRangeRequest=Pe.DeclarationRequest=Pe.FoldingRangeRefreshRequest=Pe.FoldingRangeRequest=Pe.ColorPresentationRequest=Pe.DocumentColorRequest=Pe.ConfigurationRequest=Pe.DidChangeWorkspaceFoldersNotification=Pe.WorkspaceFoldersRequest=Pe.TypeDefinitionRequest=Pe.ImplementationRequest=Pe.ApplyWorkspaceEditRequest=Pe.ExecuteCommandRequest=Pe.PrepareRenameRequest=Pe.RenameRequest=Pe.PrepareSupportDefaultBehavior=Pe.DocumentOnTypeFormattingRequest=Pe.DocumentRangesFormattingRequest=Pe.DocumentRangeFormattingRequest=Pe.DocumentFormattingRequest=Pe.DocumentLinkResolveRequest=Pe.DocumentLinkRequest=Pe.CodeLensRefreshRequest=Pe.CodeLensResolveRequest=Pe.CodeLensRequest=Pe.WorkspaceSymbolResolveRequest=Pe.WorkspaceSymbolRequest=Pe.CodeActionResolveRequest=void 0;Pe.TextDocumentContentRefreshRequest=Pe.TextDocumentContentRequest=Pe.InlineCompletionRequest=Pe.DidCloseNotebookDocumentNotification=Pe.DidSaveNotebookDocumentNotification=Pe.DidChangeNotebookDocumentNotification=Pe.NotebookCellArrayChange=Pe.DidOpenNotebookDocumentNotification=Pe.NotebookDocumentSyncRegistrationType=Pe.NotebookDocument=Pe.NotebookCell=Pe.ExecutionSummary=Pe.NotebookCellKind=Pe.DiagnosticRefreshRequest=Pe.WorkspaceDiagnosticRequest=Pe.DocumentDiagnosticRequest=Pe.DocumentDiagnosticReportKind=Pe.DiagnosticServerCancellationData=Pe.InlayHintRefreshRequest=Pe.InlayHintResolveRequest=Pe.InlayHintRequest=Pe.InlineValueRefreshRequest=Pe.InlineValueRequest=Pe.TypeHierarchySupertypesRequest=Pe.TypeHierarchySubtypesRequest=Pe.TypeHierarchyPrepareRequest=Pe.MonikerRequest=Pe.MonikerKind=void 0;var Cr=ja(),r0e=(rz(),GS(tz)),dd=flt(nz()),hlt=DDe();Object.defineProperty(Pe,"ImplementationRequest",{enumerable:!0,get:function(){return hlt.ImplementationRequest}});var plt=PDe();Object.defineProperty(Pe,"TypeDefinitionRequest",{enumerable:!0,get:function(){return plt.TypeDefinitionRequest}});var lEe=ODe();Object.defineProperty(Pe,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return lEe.WorkspaceFoldersRequest}});Object.defineProperty(Pe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return lEe.DidChangeWorkspaceFoldersNotification}});var mlt=ADe();Object.defineProperty(Pe,"ConfigurationRequest",{enumerable:!0,get:function(){return mlt.ConfigurationRequest}});var dEe=NDe();Object.defineProperty(Pe,"DocumentColorRequest",{enumerable:!0,get:function(){return dEe.DocumentColorRequest}});Object.defineProperty(Pe,"ColorPresentationRequest",{enumerable:!0,get:function(){return dEe.ColorPresentationRequest}});var fEe=jDe();Object.defineProperty(Pe,"FoldingRangeRequest",{enumerable:!0,get:function(){return fEe.FoldingRangeRequest}});Object.defineProperty(Pe,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return fEe.FoldingRangeRefreshRequest}});var glt=HDe();Object.defineProperty(Pe,"DeclarationRequest",{enumerable:!0,get:function(){return glt.DeclarationRequest}});var vlt=$De();Object.defineProperty(Pe,"SelectionRangeRequest",{enumerable:!0,get:function(){return vlt.SelectionRangeRequest}});var jY=YDe();Object.defineProperty(Pe,"WorkDoneProgress",{enumerable:!0,get:function(){return jY.WorkDoneProgress}});Object.defineProperty(Pe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return jY.WorkDoneProgressCreateRequest}});Object.defineProperty(Pe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return jY.WorkDoneProgressCancelNotification}});var zY=ZDe();Object.defineProperty(Pe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return zY.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return zY.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return zY.CallHierarchyPrepareRequest}});var AP=oTe();Object.defineProperty(Pe,"TokenFormat",{enumerable:!0,get:function(){return AP.TokenFormat}});Object.defineProperty(Pe,"SemanticTokensRequest",{enumerable:!0,get:function(){return AP.SemanticTokensRequest}});Object.defineProperty(Pe,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return AP.SemanticTokensDeltaRequest}});Object.defineProperty(Pe,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return AP.SemanticTokensRangeRequest}});Object.defineProperty(Pe,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return AP.SemanticTokensRefreshRequest}});Object.defineProperty(Pe,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return AP.SemanticTokensRegistrationType}});var ylt=cTe();Object.defineProperty(Pe,"ShowDocumentRequest",{enumerable:!0,get:function(){return ylt.ShowDocumentRequest}});var _lt=dTe();Object.defineProperty(Pe,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _lt.LinkedEditingRangeRequest}});var AT=_Te();Object.defineProperty(Pe,"FileOperationPatternKind",{enumerable:!0,get:function(){return AT.FileOperationPatternKind}});Object.defineProperty(Pe,"DidCreateFilesNotification",{enumerable:!0,get:function(){return AT.DidCreateFilesNotification}});Object.defineProperty(Pe,"WillCreateFilesRequest",{enumerable:!0,get:function(){return AT.WillCreateFilesRequest}});Object.defineProperty(Pe,"DidRenameFilesNotification",{enumerable:!0,get:function(){return AT.DidRenameFilesNotification}});Object.defineProperty(Pe,"WillRenameFilesRequest",{enumerable:!0,get:function(){return AT.WillRenameFilesRequest}});Object.defineProperty(Pe,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return AT.DidDeleteFilesNotification}});Object.defineProperty(Pe,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return AT.WillDeleteFilesRequest}});var UY=DTe();Object.defineProperty(Pe,"UniquenessLevel",{enumerable:!0,get:function(){return UY.UniquenessLevel}});Object.defineProperty(Pe,"MonikerKind",{enumerable:!0,get:function(){return UY.MonikerKind}});Object.defineProperty(Pe,"MonikerRequest",{enumerable:!0,get:function(){return UY.MonikerRequest}});var HY=RTe();Object.defineProperty(Pe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return HY.TypeHierarchyPrepareRequest}});Object.defineProperty(Pe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return HY.TypeHierarchySubtypesRequest}});Object.defineProperty(Pe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return HY.TypeHierarchySupertypesRequest}});var hEe=ITe();Object.defineProperty(Pe,"InlineValueRequest",{enumerable:!0,get:function(){return hEe.InlineValueRequest}});Object.defineProperty(Pe,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return hEe.InlineValueRefreshRequest}});var BY=MTe();Object.defineProperty(Pe,"InlayHintRequest",{enumerable:!0,get:function(){return BY.InlayHintRequest}});Object.defineProperty(Pe,"InlayHintResolveRequest",{enumerable:!0,get:function(){return BY.InlayHintResolveRequest}});Object.defineProperty(Pe,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return BY.InlayHintRefreshRequest}});var eA=HTe();Object.defineProperty(Pe,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return eA.DiagnosticServerCancellationData}});Object.defineProperty(Pe,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return eA.DocumentDiagnosticReportKind}});Object.defineProperty(Pe,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return eA.DocumentDiagnosticRequest}});Object.defineProperty(Pe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return eA.WorkspaceDiagnosticRequest}});Object.defineProperty(Pe,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return eA.DiagnosticRefreshRequest}});var j_=YTe();Object.defineProperty(Pe,"NotebookCellKind",{enumerable:!0,get:function(){return j_.NotebookCellKind}});Object.defineProperty(Pe,"ExecutionSummary",{enumerable:!0,get:function(){return j_.ExecutionSummary}});Object.defineProperty(Pe,"NotebookCell",{enumerable:!0,get:function(){return j_.NotebookCell}});Object.defineProperty(Pe,"NotebookDocument",{enumerable:!0,get:function(){return j_.NotebookDocument}});Object.defineProperty(Pe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return j_.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Pe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return j_.DidOpenNotebookDocumentNotification}});Object.defineProperty(Pe,"NotebookCellArrayChange",{enumerable:!0,get:function(){return j_.NotebookCellArrayChange}});Object.defineProperty(Pe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return j_.DidChangeNotebookDocumentNotification}});Object.defineProperty(Pe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return j_.DidSaveNotebookDocumentNotification}});Object.defineProperty(Pe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return j_.DidCloseNotebookDocumentNotification}});var blt=QTe();Object.defineProperty(Pe,"InlineCompletionRequest",{enumerable:!0,get:function(){return blt.InlineCompletionRequest}});var pEe=t0e();Object.defineProperty(Pe,"TextDocumentContentRequest",{enumerable:!0,get:function(){return pEe.TextDocumentContentRequest}});Object.defineProperty(Pe,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return pEe.TextDocumentContentRefreshRequest}});var AY;(function(r){function e(t){let n=t;return dd.string(n)||dd.string(n.language)||dd.string(n.scheme)||qY.is(n.pattern)}r.is=e})(AY||(Pe.TextDocumentFilter=AY={}));var LY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(dd.string(n.notebookType)||dd.string(n.scheme)||dd.string(n.pattern))}r.is=e})(LY||(Pe.NotebookDocumentFilter=LY={}));var MY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(dd.string(n.notebook)||LY.is(n.notebook))&&(n.language===void 0||dd.string(n.language))}r.is=e})(MY||(Pe.NotebookCellTextDocumentFilter=MY={}));var NY;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!dd.string(n)&&!AY.is(n)&&!MY.is(n))return!1;return!0}r.is=e})(NY||(Pe.DocumentSelector=NY={}));var n0e;(function(r){r.method="client/registerCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(n0e||(Pe.RegistrationRequest=n0e={}));var i0e;(function(r){r.method="client/unregisterCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(i0e||(Pe.UnregistrationRequest=i0e={}));var o0e;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(o0e||(Pe.ResourceOperationKind=o0e={}));var s0e;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(s0e||(Pe.FailureHandlingKind=s0e={}));var a0e;(function(r){r.ES2020="ES2020"})(a0e||(Pe.RegularExpressionEngineKind=a0e={}));var c0e;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(c0e||(Pe.PositionEncodingKind=c0e={}));var u0e;(function(r){function e(t){let n=t;return n&&dd.string(n.id)&&n.id.length>0}r.hasId=e})(u0e||(Pe.StaticRegistrationOptions=u0e={}));var l0e;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||NY.is(n.documentSelector))}r.is=e})(l0e||(Pe.TextDocumentRegistrationOptions=l0e={}));var d0e;(function(r){function e(n){let i=n;return dd.objectLiteral(i)&&(i.workDoneProgress===void 0||dd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&dd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(d0e||(Pe.WorkDoneProgressOptions=d0e={}));var f0e;(function(r){r.method="initialize",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(f0e||(Pe.InitializeRequest=f0e={}));var h0e;(function(r){r.unknownProtocolVersion=1})(h0e||(Pe.InitializeErrorCodes=h0e={}));var p0e;(function(r){r.method="initialized",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(p0e||(Pe.InitializedNotification=p0e={}));var m0e;(function(r){r.method="shutdown",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType0(r.method)})(m0e||(Pe.ShutdownRequest=m0e={}));var g0e;(function(r){r.method="exit",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType0(r.method)})(g0e||(Pe.ExitNotification=g0e={}));var v0e;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(v0e||(Pe.DidChangeConfigurationNotification=v0e={}));var y0e;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(y0e||(Pe.MessageType=y0e={}));var _0e;(function(r){r.method="window/showMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(_0e||(Pe.ShowMessageNotification=_0e={}));var b0e;(function(r){r.method="window/showMessageRequest",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(b0e||(Pe.ShowMessageRequest=b0e={}));var w0e;(function(r){r.method="window/logMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(w0e||(Pe.LogMessageNotification=w0e={}));var S0e;(function(r){r.method="telemetry/event",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(S0e||(Pe.TelemetryEventNotification=S0e={}));var C0e;(function(r){r.None=0,r.Full=1,r.Incremental=2})(C0e||(Pe.TextDocumentSyncKind=C0e={}));var D0e;(function(r){r.method="textDocument/didOpen",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(D0e||(Pe.DidOpenTextDocumentNotification=D0e={}));var T0e;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(T0e||(Pe.TextDocumentContentChangeEvent=T0e={}));var E0e;(function(r){r.method="textDocument/didChange",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(E0e||(Pe.DidChangeTextDocumentNotification=E0e={}));var P0e;(function(r){r.method="textDocument/didClose",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(P0e||(Pe.DidCloseTextDocumentNotification=P0e={}));var R0e;(function(r){r.method="textDocument/didSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(R0e||(Pe.DidSaveTextDocumentNotification=R0e={}));var x0e;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(x0e||(Pe.TextDocumentSaveReason=x0e={}));var O0e;(function(r){r.method="textDocument/willSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(O0e||(Pe.WillSaveTextDocumentNotification=O0e={}));var I0e;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(I0e||(Pe.WillSaveTextDocumentWaitUntilRequest=I0e={}));var k0e;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(k0e||(Pe.DidChangeWatchedFilesNotification=k0e={}));var A0e;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(A0e||(Pe.FileChangeType=A0e={}));var FY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(r0e.URI.is(n.baseUri)||r0e.WorkspaceFolder.is(n.baseUri))&&dd.string(n.pattern)}r.is=e})(FY||(Pe.RelativePattern=FY={}));var qY;(function(r){function e(t){let n=t;return dd.string(n)||FY.is(n)}r.is=e})(qY||(Pe.GlobPattern=qY={}));var L0e;(function(r){r.Create=1,r.Change=2,r.Delete=4})(L0e||(Pe.WatchKind=L0e={}));var M0e;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(M0e||(Pe.PublishDiagnosticsNotification=M0e={}));var N0e;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(N0e||(Pe.CompletionTriggerKind=N0e={}));var F0e;(function(r){r.method="textDocument/completion",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(F0e||(Pe.CompletionRequest=F0e={}));var q0e;(function(r){r.method="completionItem/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(q0e||(Pe.CompletionResolveRequest=q0e={}));var j0e;(function(r){r.method="textDocument/hover",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(j0e||(Pe.HoverRequest=j0e={}));var z0e;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(z0e||(Pe.SignatureHelpTriggerKind=z0e={}));var U0e;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(U0e||(Pe.SignatureHelpRequest=U0e={}));var H0e;(function(r){r.method="textDocument/definition",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(H0e||(Pe.DefinitionRequest=H0e={}));var B0e;(function(r){r.method="textDocument/references",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(B0e||(Pe.ReferencesRequest=B0e={}));var W0e;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(W0e||(Pe.DocumentHighlightRequest=W0e={}));var $0e;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})($0e||(Pe.DocumentSymbolRequest=$0e={}));var V0e;(function(r){r.method="textDocument/codeAction",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(V0e||(Pe.CodeActionRequest=V0e={}));var G0e;(function(r){r.method="codeAction/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(G0e||(Pe.CodeActionResolveRequest=G0e={}));var K0e;(function(r){r.method="workspace/symbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(K0e||(Pe.WorkspaceSymbolRequest=K0e={}));var Y0e;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(Y0e||(Pe.WorkspaceSymbolResolveRequest=Y0e={}));var J0e;(function(r){r.method="textDocument/codeLens",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(J0e||(Pe.CodeLensRequest=J0e={}));var X0e;(function(r){r.method="codeLens/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(X0e||(Pe.CodeLensResolveRequest=X0e={}));var Q0e;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType0(r.method)})(Q0e||(Pe.CodeLensRefreshRequest=Q0e={}));var Z0e;(function(r){r.method="textDocument/documentLink",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(Z0e||(Pe.DocumentLinkRequest=Z0e={}));var eEe;(function(r){r.method="documentLink/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(eEe||(Pe.DocumentLinkResolveRequest=eEe={}));var tEe;(function(r){r.method="textDocument/formatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(tEe||(Pe.DocumentFormattingRequest=tEe={}));var rEe;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(rEe||(Pe.DocumentRangeFormattingRequest=rEe={}));var nEe;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(nEe||(Pe.DocumentRangesFormattingRequest=nEe={}));var iEe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(iEe||(Pe.DocumentOnTypeFormattingRequest=iEe={}));var oEe;(function(r){r.Identifier=1})(oEe||(Pe.PrepareSupportDefaultBehavior=oEe={}));var sEe;(function(r){r.method="textDocument/rename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(sEe||(Pe.RenameRequest=sEe={}));var aEe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(aEe||(Pe.PrepareRenameRequest=aEe={}));var cEe;(function(r){r.method="workspace/executeCommand",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(cEe||(Pe.ExecuteCommandRequest=cEe={}));var uEe;(function(r){r.method="workspace/applyEdit",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType("workspace/applyEdit")})(uEe||(Pe.ApplyWorkspaceEditRequest=uEe={}))});var vEe=E(WY=>{"use strict";Object.defineProperty(WY,"__esModule",{value:!0});WY.createProtocolConnection=wlt;var gEe=Xu();function wlt(r,e,t,n){return gEe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,gEe.createMessageConnection)(r,e,t,n)}});var an=E(Zp=>{"use strict";var Slt=Zp&&Zp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_z=Zp&&Zp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Slt(e,r,t)};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.LSPErrorCodes=Zp.createProtocolConnection=void 0;_z(Xu(),Zp);_z((rz(),GS(tz)),Zp);_z(ja(),Zp);_z(mEe(),Zp);var Clt=vEe();Object.defineProperty(Zp,"createProtocolConnection",{enumerable:!0,get:function(){return Clt.createProtocolConnection}});var yEe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(yEe||(Zp.LSPErrorCodes=yEe={}))});var fv=E(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.boolean=Dlt;dv.string=_Ee;dv.number=Tlt;dv.error=Elt;dv.func=bEe;dv.array=wEe;dv.stringArray=Plt;dv.typedArray=Rlt;dv.thenable=SEe;dv.asPromise=xlt;function Dlt(r){return r===!0||r===!1}function _Ee(r){return typeof r=="string"||r instanceof String}function Tlt(r){return typeof r=="number"||r instanceof Number}function Elt(r){return r instanceof Error}function bEe(r){return typeof r=="function"}function wEe(r){return Array.isArray(r)}function Plt(r){return wEe(r)&&r.every(e=>_Ee(e))}function Rlt(r,e){return Array.isArray(r)&&r.every(e)}function SEe(r){return r&&bEe(r.then)}function xlt(r){return r instanceof Promise?r:SEe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var bz=E(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.Semaphore=Cy.Delayer=void 0;Cy.setTestMode=Olt;Cy.clearTestMode=Ilt;Cy.map=klt;Cy.mapAsync=Alt;Cy.forEach=Llt;var rA=an(),$Y=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,rA.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Cy.Delayer=$Y;var VY=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,rA.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Cy.Semaphore=VY;var GY=!1;function Olt(){GY=!0}function Ilt(){GY=!1}var CEe=15,tA=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=CEe){this.yieldAfter=GY===!0?Math.max(e,2):Math.max(e,CEe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function klt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new tA(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,rA.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Alt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new tA(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,rA.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Llt(r,e,t,n){if(r.length===0)return;let i=new tA(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,rA.RAL)().timer.setImmediate(()=>{a(o(s))})})}});var YY=E(Dw=>{"use strict";var Mlt=Dw&&Dw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nlt=Dw&&Dw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Flt=Dw&&Dw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Mlt(t,e,n[i]);return Nlt(t,e),t}}();Object.defineProperty(Dw,"__esModule",{value:!0});var qlt=Flt(require("vscode")),KY=class extends qlt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};Dw.default=KY});var XY=E(Tw=>{"use strict";var jlt=Tw&&Tw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zlt=Tw&&Tw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ult=Tw&&Tw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jlt(t,e,n[i]);return zlt(t,e),t}}();Object.defineProperty(Tw,"__esModule",{value:!0});var Hlt=Ult(require("vscode")),JY=class extends Hlt.CodeLens{data;constructor(e){super(e)}};Tw.default=JY});var ZY=E(Ew=>{"use strict";var Blt=Ew&&Ew.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wlt=Ew&&Ew.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$lt=Ew&&Ew.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Blt(t,e,n[i]);return Wlt(t,e),t}}();Object.defineProperty(Ew,"__esModule",{value:!0});var Vlt=$lt(require("vscode")),QY=class extends Vlt.DocumentLink{data;constructor(e,t){super(e,t)}};Ew.default=QY});var tJ=E(Pw=>{"use strict";var Glt=Pw&&Pw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Klt=Pw&&Pw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ylt=Pw&&Pw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Glt(t,e,n[i]);return Klt(t,e),t}}();Object.defineProperty(Pw,"__esModule",{value:!0});var Jlt=Ylt(require("vscode")),eJ=class extends Jlt.CodeAction{data;constructor(e,t){super(e),this.data=t}};Pw.default=eJ});var iJ=E(hv=>{"use strict";var Xlt=hv&&hv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qlt=hv&&hv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TEe=hv&&hv.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Xlt(t,e,n[i]);return Qlt(t,e),t}}();Object.defineProperty(hv,"__esModule",{value:!0});hv.ProtocolDiagnostic=hv.DiagnosticCode=void 0;var Zlt=TEe(require("vscode")),rJ=TEe(fv()),DEe;(function(r){function e(t){let n=t;return n!=null&&(rJ.number(n.value)||rJ.string(n.value))&&rJ.string(n.target)}r.is=e})(DEe||(hv.DiagnosticCode=DEe={}));var nJ=class extends Zlt.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};hv.ProtocolDiagnostic=nJ});var sJ=E(Rw=>{"use strict";var edt=Rw&&Rw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tdt=Rw&&Rw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rdt=Rw&&Rw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&edt(t,e,n[i]);return tdt(t,e),t}}();Object.defineProperty(Rw,"__esModule",{value:!0});var ndt=rdt(require("vscode")),oJ=class extends ndt.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Rw.default=oJ});var cJ=E(xw=>{"use strict";var idt=xw&&xw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),odt=xw&&xw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sdt=xw&&xw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&idt(t,e,n[i]);return odt(t,e),t}}();Object.defineProperty(xw,"__esModule",{value:!0});var adt=sdt(require("vscode")),aJ=class extends adt.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};xw.default=aJ});var lJ=E(Ow=>{"use strict";var cdt=Ow&&Ow.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),udt=Ow&&Ow.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ldt=Ow&&Ow.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&cdt(t,e,n[i]);return udt(t,e),t}}();Object.defineProperty(Ow,"__esModule",{value:!0});var wz=ldt(require("vscode")),uJ=class extends wz.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof wz.Uri);super(e,t,n,s?i:new wz.Location(i,new wz.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};Ow.default=uJ});var fJ=E(Iw=>{"use strict";var ddt=Iw&&Iw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fdt=Iw&&Iw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hdt=Iw&&Iw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ddt(t,e,n[i]);return fdt(t,e),t}}();Object.defineProperty(Iw,"__esModule",{value:!0});var pdt=hdt(require("vscode")),dJ=class extends pdt.InlayHint{data;constructor(e,t,n){super(e,t,n)}};Iw.default=dJ});var xEe=E(Dy=>{"use strict";var mdt=Dy&&Dy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gdt=Dy&&Dy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sz=Dy&&Dy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mdt(t,e,n[i]);return gdt(t,e),t}}(),qC=Dy&&Dy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.createConverter=Ddt;var uu=Sz(require("vscode")),Ti=Sz(an()),LT=Sz(fv()),EEe=Sz(bz()),vdt=qC(YY()),ydt=qC(XY()),_dt=qC(ZY()),PEe=qC(tJ()),REe=iJ(),bdt=qC(sJ()),wdt=qC(cJ()),Sdt=qC(lJ()),Cdt=qC(fJ()),hJ;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(hJ||(hJ={}));function Ddt(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let fe=S;return!!fe.document&&!!fe.contentChanges}function u(S){let fe=S;return!!fe.uri&&!!fe.version}function l(S,fe,Ye){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Dr=fe,Wr=Ye;return{textDocument:{uri:t(Dr),version:Wr},contentChanges:S.contentChanges.map(qn=>{let xi=qn.range;return{range:{start:{line:xi.start.line,character:xi.start.character},end:{line:xi.end.line,character:xi.end.character}},rangeLength:qn.rangeLength,text:qn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,fe=!1){let Ye={textDocument:i(S)};return fe&&(Ye.text=S.getText()),Ye}function m(S){switch(S){case uu.TextDocumentSaveReason.Manual:return Ti.TextDocumentSaveReason.Manual;case uu.TextDocumentSaveReason.AfterDelay:return Ti.TextDocumentSaveReason.AfterDelay;case uu.TextDocumentSaveReason.FocusOut:return Ti.TextDocumentSaveReason.FocusOut}return Ti.TextDocumentSaveReason.Manual}function _(S){return{textDocument:i(S.document),reason:m(S.reason)}}function T(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function x(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function M(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function A(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function U(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function ne(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function de(S,fe){return{textDocument:i(S),position:ue(fe)}}function ye(S){switch(S){case uu.CompletionTriggerKind.TriggerCharacter:return Ti.CompletionTriggerKind.TriggerCharacter;case uu.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ti.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ti.CompletionTriggerKind.Invoked}}function V(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{triggerKind:ye(Ye.triggerKind),triggerCharacter:Ye.triggerCharacter}}}function W(S){switch(S){case uu.SignatureHelpTriggerKind.Invoke:return Ti.SignatureHelpTriggerKind.Invoked;case uu.SignatureHelpTriggerKind.TriggerCharacter:return Ti.SignatureHelpTriggerKind.TriggerCharacter;case uu.SignatureHelpTriggerKind.ContentChange:return Ti.SignatureHelpTriggerKind.ContentChange}}function ee(S){return{label:S.label}}function Se(S){return S.map(ee)}function se(S){return{label:S.label,parameters:Se(S.parameters)}}function ce(S){return S.map(se)}function qe(S){return S===void 0?S:{signatures:ce(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function Ne(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{isRetrigger:Ye.isRetrigger,triggerCharacter:Ye.triggerCharacter,triggerKind:W(Ye.triggerKind),activeSignatureHelp:qe(Ye.activeSignatureHelp)}}}function ue(S){return{line:S.line,character:S.character}}function De(S){return S==null?S:{line:S.line>Ti.uinteger.MAX_VALUE?Ti.uinteger.MAX_VALUE:S.line,character:S.character>Ti.uinteger.MAX_VALUE?Ti.uinteger.MAX_VALUE:S.character}}function we(S,fe){return EEe.map(S,De,fe)}function xe(S){return S.map(De)}function Me(S){return S==null?S:{start:De(S.start),end:De(S.end)}}function $e(S){return S.map(Me)}function Ct(S){return S==null?S:Ti.Location.create(n(S.uri),Me(S.range))}function ze(S){switch(S){case uu.DiagnosticSeverity.Error:return Ti.DiagnosticSeverity.Error;case uu.DiagnosticSeverity.Warning:return Ti.DiagnosticSeverity.Warning;case uu.DiagnosticSeverity.Information:return Ti.DiagnosticSeverity.Information;case uu.DiagnosticSeverity.Hint:return Ti.DiagnosticSeverity.Hint}}function st(S){if(!S)return;let fe=[];for(let Ye of S){let Dr=at(Ye);Dr!==void 0&&fe.push(Dr)}return fe.length>0?fe:void 0}function at(S){switch(S){case uu.DiagnosticTag.Unnecessary:return Ti.DiagnosticTag.Unnecessary;case uu.DiagnosticTag.Deprecated:return Ti.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function fr(S){return S.map(tt)}function Lr(S){if(S!=null)return LT.number(S)||LT.string(S)?S:{value:S.value,target:n(S.target)}}function zr(S){let fe=Ti.Diagnostic.create(Me(S.range),S.message),Ye=S instanceof REe.ProtocolDiagnostic?S:void 0;Ye!==void 0&&Ye.data!==void 0&&(fe.data=Ye.data);let Dr=Lr(S.code);return REe.DiagnosticCode.is(Dr)?Ye!==void 0&&Ye.hasDiagnosticCode?fe.code=Dr:(fe.code=Dr.value,fe.codeDescription={href:Dr.target}):fe.code=Dr,LT.number(S.severity)&&(fe.severity=ze(S.severity)),Array.isArray(S.tags)&&(fe.tags=st(S.tags)),S.relatedInformation&&(fe.relatedInformation=fr(S.relatedInformation)),S.source&&(fe.source=S.source),fe}function cr(S,fe){return S==null?S:EEe.map(S,zr,fe)}function xt(S){return S==null?S:S.map(zr)}function hr(S,fe){switch(S){case"$string":return fe;case Ti.MarkupKind.PlainText:return{kind:S,value:fe};case Ti.MarkupKind.Markdown:return{kind:S,value:fe.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Mt(S){switch(S){case uu.CompletionItemTag.Deprecated:return Ti.CompletionItemTag.Deprecated}}function on(S){if(S===void 0)return S;let fe=[];for(let Ye of S){let Dr=Mt(Ye);Dr!==void 0&&fe.push(Dr)}return fe}function ln(S,fe){return fe!==void 0?fe:S+1}function On(S,fe=!1){let Ye,Dr;LT.string(S.label)?Ye=S.label:(Ye=S.label.label,fe&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Dr={detail:S.label.detail,description:S.label.description}));let Wr={label:Ye};Dr!==void 0&&(Wr.labelDetails=Dr);let Xr=S instanceof vdt.default?S:void 0;S.detail&&(Wr.detail=S.detail),S.documentation&&(!Xr||Xr.documentationFormat==="$string"?Wr.documentation=S.documentation:Wr.documentation=hr(Xr.documentationFormat,S.documentation)),S.filterText&&(Wr.filterText=S.filterText),Or(Wr,S),LT.number(S.kind)&&(Wr.kind=ln(S.kind,Xr&&Xr.originalItemKind)),S.sortText&&(Wr.sortText=S.sortText),S.additionalTextEdits&&(Wr.additionalTextEdits=dn(S.additionalTextEdits)),S.commitCharacters&&(Wr.commitCharacters=S.commitCharacters.slice()),S.command&&(Wr.command=rr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Wr.preselect=S.preselect);let qn=on(S.tags);if(Xr){if(Xr.data!==void 0&&(Wr.data=Xr.data),Xr.deprecated===!0||Xr.deprecated===!1){if(Xr.deprecated===!0&&qn!==void 0&&qn.length>0){let xi=qn.indexOf(uu.CompletionItemTag.Deprecated);xi!==-1&&qn.splice(xi,1)}Wr.deprecated=Xr.deprecated}Xr.insertTextMode!==void 0&&(Wr.insertTextMode=Xr.insertTextMode)}return qn!==void 0&&qn.length>0&&(Wr.tags=qn),Wr.insertTextMode===void 0&&S.keepWhitespace===!0&&(Wr.insertTextMode=Ti.InsertTextMode.adjustIndentation),Wr}function Or(S,fe){let Ye=Ti.InsertTextFormat.PlainText,Dr,Wr;fe.textEdit?(Dr=fe.textEdit.newText,Wr=fe.textEdit.range):fe.insertText instanceof uu.SnippetString?(Ye=Ti.InsertTextFormat.Snippet,Dr=fe.insertText.value):Dr=fe.insertText,fe.range&&(Wr=fe.range),S.insertTextFormat=Ye,fe.fromEdit&&Dr!==void 0&&Wr!==void 0?S.textEdit=Hn(Dr,Wr):S.insertText=Dr}function Hn(S,fe){return hJ.is(fe)?Ti.InsertReplaceEdit.create(S,Me(fe.inserting),Me(fe.replacing)):{newText:S,range:Me(fe)}}function $r(S){return{range:Me(S.range),newText:S.newText}}function dn(S){return S==null?S:S.map($r)}function ii(S){return S<=uu.SymbolKind.TypeParameter?S+1:Ti.SymbolKind.Property}function Vr(S){return S}function An(S){return S.map(Vr)}function Ri(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{includeDeclaration:Ye.includeDeclaration}}}async function Gr(S,fe){let Ye=Ti.CodeAction.create(S.title);if(S instanceof PEe.default&&S.data!==void 0&&(Ye.data=S.data),S.kind!==void 0&&(Ye.kind=oe(S.kind)),S.diagnostics!==void 0&&(Ye.diagnostics=await cr(S.diagnostics,fe)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Ye.command=rr(S.command)),S.isPreferred!==void 0&&(Ye.isPreferred=S.isPreferred),S.disabled!==void 0&&(Ye.disabled={reason:S.disabled.reason}),S.isAI&&(Ye.tags??=[],Ye.tags.push(Ti.CodeActionTag.LLMGenerated)),Ye}function Ji(S){let fe=Ti.CodeAction.create(S.title);if(S instanceof PEe.default&&S.data!==void 0&&(fe.data=S.data),S.kind!==void 0&&(fe.kind=oe(S.kind)),S.diagnostics!==void 0&&(fe.diagnostics=xt(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(fe.command=rr(S.command)),S.isPreferred!==void 0&&(fe.isPreferred=S.isPreferred),S.disabled!==void 0&&(fe.disabled={reason:S.disabled.reason}),S.isAI&&(fe.tags??=[],fe.tags.push(Ti.CodeActionTag.LLMGenerated)),fe}async function oi(S,fe){if(S==null)return S;let Ye;return S.only&&LT.string(S.only.value)&&(Ye=[S.only.value]),Ti.CodeActionContext.create(await cr(S.diagnostics,fe),Ye,Oe(S.triggerKind))}function fn(S){if(S==null)return S;let fe;return S.only&&LT.string(S.only.value)&&(fe=[S.only.value]),Ti.CodeActionContext.create(xt(S.diagnostics),fe,Oe(S.triggerKind))}function Oe(S){switch(S){case uu.CodeActionTriggerKind.Invoke:return Ti.CodeActionTriggerKind.Invoked;case uu.CodeActionTriggerKind.Automatic:return Ti.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Ti.InlineValueContext.create(S.frameId,Me(S.stoppedLocation))}function _e(S,fe,Ye){return{textDocument:i(S),position:De(fe),context:Je(Ye)}}function Je(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Yt(S.selectedCompletionInfo)}}function ft(S){switch(S){case uu.InlineCompletionTriggerKind.Invoke:return Ti.InlineCompletionTriggerKind.Invoked;case uu.InlineCompletionTriggerKind.Automatic:return Ti.InlineCompletionTriggerKind.Automatic}}function Yt(S){if(S!=null)return{range:Me(S.range),text:S.text}}function rr(S){let fe=Ti.Command.create(S.title,S.command);return S.tooltip&&(fe.tooltip=S.tooltip),S.arguments&&(fe.arguments=S.arguments),fe}function Jt(S){let fe=Ti.CodeLens.create(Me(S.range));return S.command&&(fe.command=rr(S.command)),S instanceof ydt.default&&S.data&&(fe.data=S.data),fe}function $t(S,fe){let Ye={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return fe.trimTrailingWhitespace&&(Ye.trimTrailingWhitespace=!0),fe.trimFinalNewlines&&(Ye.trimFinalNewlines=!0),fe.insertFinalNewline&&(Ye.insertFinalNewline=!0),Ye}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function Fe(S){let fe=Ti.DocumentLink.create(Me(S.range));S.target&&(fe.target=n(S.target)),S.tooltip!==void 0&&(fe.tooltip=S.tooltip);let Ye=S instanceof _dt.default?S:void 0;return Ye&&Ye.data&&(fe.data=Ye.data),fe}function Ht(S){return{textDocument:i(S)}}function Tr(S){let fe={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Me(S.range),selectionRange:Me(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=An(S.tags)),S instanceof bdt.default&&S.data!==void 0&&(fe.data=S.data),fe}function He(S){let fe={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Me(S.range),selectionRange:Me(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=An(S.tags)),S instanceof wdt.default&&S.data!==void 0&&(fe.data=S.data),fe}function re(S){let fe=S instanceof Sdt.default?{name:S.name,kind:ii(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ii(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(fe.tags=An(S.tags)),S.containerName!==""&&(fe.containerName=S.containerName),fe}function Re(S){let fe=typeof S.label=="string"?S.label:S.label.map(je),Ye=Ti.InlayHint.create(De(S.position),fe);return S.kind!==void 0&&(Ye.kind=S.kind),S.textEdits!==void 0&&(Ye.textEdits=dn(S.textEdits)),S.tooltip!==void 0&&(Ye.tooltip=he(S.tooltip)),S.paddingLeft!==void 0&&(Ye.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Ye.paddingRight=S.paddingRight),S instanceof Cdt.default&&S.data!==void 0&&(Ye.data=S.data),Ye}function je(S){let fe=Ti.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(fe.location=Ct(S.location)),S.command!==void 0&&(fe.command=rr(S.command)),S.tooltip!==void 0&&(fe.tooltip=he(S.tooltip)),fe}function he(S){return typeof S=="string"?S:{kind:Ti.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:T,asDidRenameFilesParams:x,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:V,asSignatureHelpParams:Ne,asWorkerPosition:ue,asRange:Me,asRanges:$e,asPosition:De,asPositions:we,asPositionsSync:xe,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:at,asDiagnostic:zr,asDiagnostics:cr,asDiagnosticsSync:xt,asCompletionItem:On,asTextEdit:$r,asSymbolKind:ii,asSymbolTag:Vr,asSymbolTags:An,asReferenceParams:Ri,asCodeAction:Gr,asCodeActionSync:Ji,asCodeActionContext:oi,asCodeActionContextSync:fn,asInlineValueContext:Q,asCommand:rr,asCodeLens:Jt,asFormattingOptions:$t,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:Fe,asDocumentLinkParams:Ht,asCallHierarchyItem:Tr,asTypeHierarchyItem:He,asInlayHint:Re,asWorkspaceSymbol:re,asInlineCompletionParams:_e,asInlineCompletionContext:Je}}});var Tz=E(Ty=>{"use strict";var Tdt=Ty&&Ty.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Edt=Ty&&Ty.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dz=Ty&&Ty.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Tdt(t,e,n[i]);return Edt(t,e),t}}(),jC=Ty&&Ty.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.createConverter=Mdt;var kr=Dz(require("vscode")),Un=Dz(an()),ng=Dz(fv()),Yo=Dz(bz()),Pdt=jC(YY()),Rdt=jC(XY()),xdt=jC(ZY()),Odt=jC(tJ()),OEe=iJ(),Idt=jC(sJ()),kdt=jC(cJ()),Adt=jC(lJ()),Ldt=jC(fJ()),IEe=an(),Cz;(function(r){function e(t){let n=t;return n&&ng.string(n.language)&&ng.string(n.value)}r.is=e})(Cz||(Cz={}));function Mdt(r,e,t,n){let o=r||(N=>kr.Uri.parse(N));function s(N){return o(N)}function a(N){let Le=[];for(let rt of N)if(typeof rt=="string")Le.push(rt);else if(IEe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Le.push({notebookType:rt.notebook,language:rt.language});else{let zt=rt.notebook.notebookType??"*";Le.push({notebookType:zt,scheme:rt.notebook.scheme,pattern:Fr(rt.notebook.pattern),language:rt.language})}else IEe.TextDocumentFilter.is(rt)&&Le.push({language:rt.language,scheme:rt.scheme,pattern:Fr(rt.pattern)});return Le}async function c(N,Le){return Yo.map(N,l,Le)}function u(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=l(N[rt]);return Le}function l(N){let Le=new OEe.ProtocolDiagnostic(T(N.range),N.message,M(N.severity),N.data);if(N.code!==void 0){if(typeof N.code=="string"||typeof N.code=="number")Un.CodeDescription.is(N.codeDescription)?Le.code={value:N.code,target:s(N.codeDescription.href)}:Le.code=N.code;else if(OEe.DiagnosticCode.is(N.code)){Le.hasDiagnosticCode=!0;let rt=N.code;Le.code={value:rt.value,target:s(rt.target)}}}return N.source&&(Le.source=N.source),N.relatedInformation&&(Le.relatedInformation=d(N.relatedInformation)),Array.isArray(N.tags)&&(Le.tags=f(N.tags)),Le}function d(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++){let zt=N[rt];Le[rt]=new kr.DiagnosticRelatedInformation(tt(zt.location),zt.message)}return Le}function f(N){if(!N)return;let Le=[];for(let rt of N){let zt=m(rt);zt!==void 0&&Le.push(zt)}return Le.length>0?Le:void 0}function m(N){switch(N){case Un.DiagnosticTag.Unnecessary:return kr.DiagnosticTag.Unnecessary;case Un.DiagnosticTag.Deprecated:return kr.DiagnosticTag.Deprecated;default:return}}function _(N){return N?new kr.Position(N.line,N.character):void 0}function T(N){return N?new kr.Range(N.start.line,N.start.character,N.end.line,N.end.character):void 0}async function x(N,Le){return Yo.map(N,rt=>new kr.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Le)}function M(N){if(N==null)return kr.DiagnosticSeverity.Error;switch(N){case Un.DiagnosticSeverity.Error:return kr.DiagnosticSeverity.Error;case Un.DiagnosticSeverity.Warning:return kr.DiagnosticSeverity.Warning;case Un.DiagnosticSeverity.Information:return kr.DiagnosticSeverity.Information;case Un.DiagnosticSeverity.Hint:return kr.DiagnosticSeverity.Hint}return kr.DiagnosticSeverity.Error}function A(N){if(ng.string(N))return ne(N);if(Cz.is(N))return ne().appendCodeblock(N.value,N.language);if(Array.isArray(N)){let Le=[];for(let rt of N){let zt=ne();Cz.is(rt)?zt.appendCodeblock(rt.value,rt.language):zt.appendMarkdown(rt),Le.push(zt)}return Le}else return ne(N)}function U(N){if(ng.string(N))return N;switch(N.kind){case Un.MarkupKind.Markdown:return ne(N.value);case Un.MarkupKind.PlainText:return N.value;default:return`Unsupported Markup content received. Kind is: ${N.kind}`}}function ne(N){let Le;if(N===void 0||typeof N=="string")Le=new kr.MarkdownString(N);else switch(N.kind){case Un.MarkupKind.Markdown:Le=new kr.MarkdownString(N.value);break;case Un.MarkupKind.PlainText:Le=new kr.MarkdownString,Le.appendText(N.value);break;default:Le=new kr.MarkdownString,Le.appendText(`Unsupported Markup content received. Kind is: ${N.kind}`);break}return Le.isTrusted=e,Le.supportHtml=t,Le.supportThemeIcons=n,Le}function de(N){if(N)return new kr.Hover(A(N.contents),T(N.range))}async function ye(N,Le,rt){if(!N)return;if(Array.isArray(N))return Yo.map(N,ao=>se(ao,Le),rt);let zt=N,{defaultRange:Ln,commitCharacters:Cn}=V(zt,Le),Nn=await Yo.map(zt.items,ao=>se(ao,Cn,zt.applyKind?.commitCharacters,Ln,zt.itemDefaults?.insertTextMode,zt.itemDefaults?.insertTextFormat,zt.itemDefaults?.data,zt.applyKind?.data),rt);return new kr.CompletionList(Nn,zt.isIncomplete)}function V(N,Le){let rt=N.itemDefaults?.editRange,zt=N.itemDefaults?.commitCharacters??Le;return Un.Range.is(rt)?{defaultRange:T(rt),commitCharacters:zt}:rt!==void 0?{defaultRange:{inserting:T(rt.insert),replacing:T(rt.replace)},commitCharacters:zt}:{defaultRange:void 0,commitCharacters:zt}}function W(N){return Un.CompletionItemKind.Text<=N&&N<=Un.CompletionItemKind.TypeParameter?[N-1,void 0]:[kr.CompletionItemKind.Text,N]}function ee(N){switch(N){case Un.CompletionItemTag.Deprecated:return kr.CompletionItemTag.Deprecated}}function Se(N){if(N==null)return[];let Le=[];for(let rt of N){let zt=ee(rt);zt!==void 0&&Le.push(zt)}return Le}function se(N,Le,rt,zt,Ln,Cn,Nn,ao){let ji=Se(N.tags),Po=Ne(N),Vi=new Pdt.default(Po);N.detail&&(Vi.detail=N.detail),N.documentation&&(Vi.documentation=U(N.documentation),Vi.documentationFormat=ng.string(N.documentation)?"$string":N.documentation.kind),N.filterText&&(Vi.filterText=N.filterText);let Jn=ue(N,zt,Cn);if(Jn&&(Vi.insertText=Jn.text,Vi.range=Jn.range,Vi.fromEdit=Jn.fromEdit),ng.number(N.kind)){let[al,Mi]=W(N.kind);Vi.kind=al,Mi&&(Vi.originalItemKind=Mi)}N.sortText&&(Vi.sortText=N.sortText),N.additionalTextEdits&&(Vi.additionalTextEdits=Me(N.additionalTextEdits));let mu=ce(N,Le,rt);mu&&(Vi.commitCharacters=mu.slice()),N.command&&(Vi.command=An(N.command)),(N.deprecated===!0||N.deprecated===!1)&&(Vi.deprecated=N.deprecated,N.deprecated===!0&&ji.push(kr.CompletionItemTag.Deprecated)),(N.preselect===!0||N.preselect===!1)&&(Vi.preselect=N.preselect);let ts=qe(N,Nn,ao);ts!==void 0&&(Vi.data=ts),ji.length>0&&(Vi.tags=ji);let yo=N.insertTextMode??Ln;return yo!==void 0&&(Vi.insertTextMode=yo,yo===Un.InsertTextMode.asIs&&(Vi.keepWhitespace=!0)),Vi}function ce(N,Le,rt){if(rt===Un.ApplyKind.Merge){if(!Le&&!N.commitCharacters)return;let zt=new Set;if(Le)for(let Ln of Le)zt.add(Ln);if(ng.stringArray(N.commitCharacters))for(let Ln of N.commitCharacters)zt.add(Ln);return Array.from(zt)}return N.commitCharacters!==void 0?ng.stringArray(N.commitCharacters)?N.commitCharacters:void 0:Le}function qe(N,Le,rt){if(rt===Un.ApplyKind.Merge){let zt={...Le};return N.data&&Object.entries(N.data).forEach(([Ln,Cn])=>{Cn!=null&&(zt[Ln]=Cn)}),zt}return N.data??Le}function Ne(N){return Un.CompletionItemLabelDetails.is(N.labelDetails)?{label:N.label,detail:N.labelDetails.detail,description:N.labelDetails.description}:N.label}function ue(N,Le,rt){let zt=N.insertTextFormat??rt;if(N.textEdit!==void 0||Le!==void 0){let[Ln,Cn]=N.textEdit!==void 0?De(N.textEdit):[Le,N.textEditText??N.label];return zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(Cn),range:Ln,fromEdit:!0}:{text:Cn,range:Ln,fromEdit:!0}}else return N.insertText?zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(N.insertText),fromEdit:!1}:{text:N.insertText,fromEdit:!1}:void 0}function De(N){return Un.InsertReplaceEdit.is(N)?[{inserting:T(N.insert),replacing:T(N.replace)},N.newText]:[T(N.range),N.newText]}function we(N){if(N)return new kr.TextEdit(T(N.range),N.newText)}async function xe(N,Le){if(N)return Yo.map(N,we,Le)}function Me(N){if(!N)return;let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=we(N[rt]);return Le}async function $e(N,Le){if(!N)return;let rt=new kr.SignatureHelp;return ng.number(N.activeSignature)?rt.activeSignature=N.activeSignature:rt.activeSignature=0,ng.number(N.activeParameter)?rt.activeParameter=N.activeParameter:N.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,N.signatures&&(rt.signatures=await Ct(N.signatures,Le)),rt}async function Ct(N,Le){return Yo.mapAsync(N,ze,Le)}async function ze(N,Le){let rt=new kr.SignatureInformation(N.label);return N.documentation!==void 0&&(rt.documentation=U(N.documentation)),N.parameters!==void 0&&(rt.parameters=await st(N.parameters,Le)),N.activeParameter!==void 0&&(rt.activeParameter=N.activeParameter??-1),rt}function st(N,Le){return Yo.map(N,at,Le)}function at(N){let Le=new kr.ParameterInformation(N.label);return N.documentation&&(Le.documentation=U(N.documentation)),Le}function tt(N){return N?new kr.Location(o(N.uri),T(N.range)):void 0}async function fr(N,Le){if(N)return cr(N,Le)}async function Lr(N,Le){if(N)return cr(N,Le)}function zr(N){if(!N)return;let Le={targetUri:o(N.targetUri),targetRange:T(N.targetRange),originSelectionRange:T(N.originSelectionRange),targetSelectionRange:T(N.targetSelectionRange)};if(!Le.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Le}async function cr(N,Le){if(N)if(ng.array(N)){if(N.length===0)return[];if(Un.LocationLink.is(N[0])){let rt=N;return Yo.map(rt,zr,Le)}else{let rt=N;return Yo.map(rt,tt,Le)}}else return Un.LocationLink.is(N)?[zr(N)]:tt(N)}async function xt(N,Le){if(N)return Yo.map(N,tt,Le)}async function hr(N,Le){if(N)return Yo.map(N,Mt,Le)}function Mt(N){let Le=new kr.DocumentHighlight(T(N.range));return ng.number(N.kind)&&(Le.kind=on(N.kind)),Le}function on(N){switch(N){case Un.DocumentHighlightKind.Text:return kr.DocumentHighlightKind.Text;case Un.DocumentHighlightKind.Read:return kr.DocumentHighlightKind.Read;case Un.DocumentHighlightKind.Write:return kr.DocumentHighlightKind.Write}return kr.DocumentHighlightKind.Text}async function ln(N,Le){if(N)return Yo.map(N,$r,Le)}function On(N){return N<=Un.SymbolKind.TypeParameter?N-1:kr.SymbolKind.Property}function Or(N){switch(N){case Un.SymbolTag.Deprecated:return kr.SymbolTag.Deprecated;default:return}}function Hn(N){if(N==null)return;let Le=[];for(let rt of N){let zt=Or(rt);zt!==void 0&&Le.push(zt)}return Le.length===0?void 0:Le}function $r(N){let Le=N.data,rt=N.location,zt=rt.range===void 0||Le!==void 0?new Adt.default(N.name,On(N.kind),N.containerName??"",rt.range===void 0?o(rt.uri):new kr.Location(o(N.location.uri),T(rt.range)),Le):new kr.SymbolInformation(N.name,On(N.kind),N.containerName??"",new kr.Location(o(N.location.uri),T(rt.range)));return Vr(zt,N),zt}async function dn(N,Le){if(N!=null)return Yo.map(N,ii,Le)}function ii(N){let Le=new kr.DocumentSymbol(N.name,N.detail||"",On(N.kind),T(N.range),T(N.selectionRange));if(Vr(Le,N),N.children!==void 0&&N.children.length>0){let rt=[];for(let zt of N.children)rt.push(ii(zt));Le.children=rt}return Le}function Vr(N,Le){N.tags=Hn(Le.tags),Le.deprecated&&(N.tags?N.tags.includes(kr.SymbolTag.Deprecated)||(N.tags=N.tags.concat(kr.SymbolTag.Deprecated)):N.tags=[kr.SymbolTag.Deprecated])}function An(N){let Le={title:N.title,command:N.command};return N.tooltip&&(Le.tooltip=N.tooltip),N.arguments&&(Le.arguments=N.arguments),Le}async function Ri(N,Le){if(N)return Yo.map(N,An,Le)}let Gr=new Map;Gr.set(Un.CodeActionKind.Empty,kr.CodeActionKind.Empty),Gr.set(Un.CodeActionKind.QuickFix,kr.CodeActionKind.QuickFix),Gr.set(Un.CodeActionKind.Refactor,kr.CodeActionKind.Refactor),Gr.set(Un.CodeActionKind.RefactorExtract,kr.CodeActionKind.RefactorExtract),Gr.set(Un.CodeActionKind.RefactorInline,kr.CodeActionKind.RefactorInline),Gr.set(Un.CodeActionKind.RefactorRewrite,kr.CodeActionKind.RefactorRewrite),Gr.set(Un.CodeActionKind.Source,kr.CodeActionKind.Source),Gr.set(Un.CodeActionKind.SourceOrganizeImports,kr.CodeActionKind.SourceOrganizeImports);function Ji(N){if(N==null)return;let Le=Gr.get(N);if(Le)return Le;let rt=N.split(".");Le=kr.CodeActionKind.Empty;for(let zt of rt)Le=Le.append(zt);return Le}function oi(N){if(N!=null)return N.map(Le=>Ji(Le))}function fn(N){if(N!=null)return N.map(Le=>({kind:Ji(Le.kind),command:An(Le.command)}))}async function Oe(N,Le){if(N==null)return;let rt=new Odt.default(N.title,N.data);return N.kind!==void 0&&(rt.kind=Ji(N.kind)),N.diagnostics!==void 0&&(rt.diagnostics=u(N.diagnostics)),N.edit!==void 0&&(rt.edit=await Je(N.edit,Le)),N.command!==void 0&&(rt.command=An(N.command)),N.isPreferred!==void 0&&(rt.isPreferred=N.isPreferred),N.disabled!==void 0&&(rt.disabled={reason:N.disabled.reason}),N.tags?.includes(Un.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(N,Le){return Yo.mapAsync(N,async rt=>Un.Command.is(rt)?An(rt):Oe(rt,Le),Le)}function Q(N){if(!N)return;let Le=new Rdt.default(T(N.range));return N.command&&(Le.command=An(N.command)),N.data!==void 0&&N.data!==null&&(Le.data=N.data),Le}async function _e(N,Le){if(N)return Yo.map(N,Q,Le)}async function Je(N,Le){if(!N)return;let rt=new Map;if(N.changeAnnotations!==void 0){let Cn=N.changeAnnotations;await Yo.forEach(Object.keys(Cn),Nn=>{let ao=ft(Cn[Nn]);rt.set(Nn,ao)},Le)}let zt=Cn=>{if(Cn!==void 0)return rt.get(Cn)},Ln=new kr.WorkspaceEdit;if(N.documentChanges){let Cn=N.documentChanges;await Yo.forEach(Cn,Nn=>{if(Un.CreateFile.is(Nn))Ln.createFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.RenameFile.is(Nn))Ln.renameFile(o(Nn.oldUri),o(Nn.newUri),Nn.options,zt(Nn.annotationId));else if(Un.DeleteFile.is(Nn))Ln.deleteFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.TextDocumentEdit.is(Nn)){let ao=o(Nn.textDocument.uri),ji=[];for(let Po of Nn.edits)Un.AnnotatedTextEdit.is(Po)?ji.push([new kr.TextEdit(T(Po.range),Po.newText),zt(Po.annotationId)]):Un.SnippetTextEdit.is(Po)?ji.push([new kr.SnippetTextEdit(T(Po.range),new kr.SnippetString(Po.snippet.value)),zt(Po.annotationId)]):ji.push([new kr.TextEdit(T(Po.range),Po.newText),void 0]);Ln.set(ao,ji)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Nn,void 0,4)}`)},Le)}else if(N.changes){let Cn=N.changes;await Yo.forEach(Object.keys(Cn),Nn=>{Ln.set(o(Nn),Me(Cn[Nn]))},Le)}return Ln}function ft(N){if(N!==void 0)return{label:N.label,needsConfirmation:!!N.needsConfirmation,description:N.description}}function Yt(N){let Le=T(N.range),rt=N.target?s(N.target):void 0,zt=new xdt.default(Le,rt);return N.tooltip!==void 0&&(zt.tooltip=N.tooltip),N.data!==void 0&&N.data!==null&&(zt.data=N.data),zt}async function rr(N,Le){if(N)return Yo.map(N,Yt,Le)}function Jt(N){return new kr.Color(N.red,N.green,N.blue,N.alpha)}function $t(N){return new kr.ColorInformation(T(N.range),Jt(N.color))}async function kt(N,Le){if(N)return Yo.map(N,$t,Le)}function K(N){let Le=new kr.ColorPresentation(N.label);return Le.additionalTextEdits=Me(N.additionalTextEdits),N.textEdit&&(Le.textEdit=we(N.textEdit)),Le}async function Fe(N,Le){if(N)return Yo.map(N,K,Le)}function Ht(N){if(N)switch(N){case Un.FoldingRangeKind.Comment:return kr.FoldingRangeKind.Comment;case Un.FoldingRangeKind.Imports:return kr.FoldingRangeKind.Imports;case Un.FoldingRangeKind.Region:return kr.FoldingRangeKind.Region}}function Tr(N){return new kr.FoldingRange(N.startLine,N.endLine,Ht(N.kind))}async function He(N,Le){if(N)return Yo.map(N,Tr,Le)}function re(N){return new kr.SelectionRange(T(N.range),N.parent?re(N.parent):void 0)}async function Re(N,Le){return Array.isArray(N)?Yo.map(N,re,Le):[]}function je(N){return Un.InlineValueText.is(N)?new kr.InlineValueText(T(N.range),N.text):Un.InlineValueVariableLookup.is(N)?new kr.InlineValueVariableLookup(T(N.range),N.variableName,N.caseSensitiveLookup):new kr.InlineValueEvaluatableExpression(T(N.range),N.expression)}async function he(N,Le){return Array.isArray(N)?Yo.map(N,je,Le):[]}async function S(N,Le){let rt=typeof N.label=="string"?N.label:await Yo.map(N.label,fe,Le),zt=new Ldt.default(_(N.position),rt);return N.kind!==void 0&&(zt.kind=N.kind),N.textEdits!==void 0&&(zt.textEdits=await xe(N.textEdits,Le)),N.tooltip!==void 0&&(zt.tooltip=Ye(N.tooltip)),N.paddingLeft!==void 0&&(zt.paddingLeft=N.paddingLeft),N.paddingRight!==void 0&&(zt.paddingRight=N.paddingRight),N.data!==void 0&&(zt.data=N.data),zt}function fe(N){let Le=new kr.InlayHintLabelPart(N.value);return N.location!==void 0&&(Le.location=tt(N.location)),N.tooltip!==void 0&&(Le.tooltip=Ye(N.tooltip)),N.command!==void 0&&(Le.command=An(N.command)),Le}function Ye(N){return typeof N=="string"?N:ne(N)}async function Dr(N,Le){if(Array.isArray(N))return Yo.mapAsync(N,S,Le)}function Wr(N){if(N===null)return;let Le=new Idt.default(On(N.kind),N.name,N.detail||"",s(N.uri),T(N.range),T(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function Xr(N,Le){if(N!==null)return Yo.map(N,Wr,Le)}async function qn(N,Le){return new kr.CallHierarchyIncomingCall(Wr(N.from),await x(N.fromRanges,Le))}async function xi(N,Le){if(N!==null)return Yo.mapAsync(N,qn,Le)}async function ks(N,Le){return new kr.CallHierarchyOutgoingCall(Wr(N.to),await x(N.fromRanges,Le))}async function Sn(N,Le){if(N!==null)return Yo.mapAsync(N,ks,Le)}async function es(N,Le){if(N!=null)return new kr.SemanticTokens(new Uint32Array(N.data),N.resultId)}function Bs(N){return new kr.SemanticTokensEdit(N.start,N.deleteCount,N.data!==void 0?new Uint32Array(N.data):void 0)}async function ta(N,Le){if(N!=null)return new kr.SemanticTokensEdits(N.edits.map(Bs),N.resultId)}function Fo(N){return N}async function Eo(N,Le){if(N!=null)return new kr.LinkedEditingRanges(await x(N.ranges,Le),H(N.wordPattern))}function H(N){if(N!=null)return new RegExp(N)}function Ue(N){if(N===null)return;let Le=new kdt.default(On(N.kind),N.name,N.detail||"",s(N.uri),T(N.range),T(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function vt(N,Le){if(N!==null)return Yo.map(N,Ue,Le)}function Fr(N){if(ng.string(N))return N;if(Un.RelativePattern.is(N)){if(Un.URI.is(N.baseUri))return new kr.RelativePattern(s(N.baseUri),N.pattern);if(Un.WorkspaceFolder.is(N.baseUri)){let Le=kr.workspace.getWorkspaceFolder(s(N.baseUri.uri));return Le!==void 0?new kr.RelativePattern(Le,N.pattern):void 0}}}async function so(N,Le){if(!N)return;if(Array.isArray(N))return Yo.map(N,Ln=>Bi(Ln),Le);let rt=N,zt=await Yo.map(rt.items,Ln=>Bi(Ln),Le);return new kr.InlineCompletionList(zt)}function Bi(N){let Le;typeof N.insertText=="string"?Le=N.insertText:Le=new kr.SnippetString(N.insertText.value);let rt;N.command&&(rt=An(N.command));let zt=new kr.InlineCompletionItem(Le,T(N.range),rt);return N.filterText&&(zt.filterText=N.filterText),zt}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:T,asRanges:x,asPosition:_,asDiagnosticSeverity:M,asDiagnosticTag:m,asHover:de,asCompletionResult:ye,asCompletionItem:se,asTextEdit:we,asTextEdits:xe,asSignatureHelp:$e,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:st,asParameterInformation:at,asDeclarationResult:fr,asDefinitionResult:Lr,asLocation:tt,asReferences:xt,asDocumentHighlights:hr,asDocumentHighlight:Mt,asDocumentHighlightKind:on,asSymbolKind:On,asSymbolTag:Or,asSymbolTags:Hn,asSymbolInformations:ln,asSymbolInformation:$r,asDocumentSymbols:dn,asDocumentSymbol:ii,asCommand:An,asCommands:Ri,asCodeAction:Oe,asCodeActionKind:Ji,asCodeActionKinds:oi,asCodeActionDocumentations:fn,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:_e,asWorkspaceEdit:Je,asDocumentLink:Yt,asDocumentLinks:rr,asFoldingRangeKind:Ht,asFoldingRange:Tr,asFoldingRanges:He,asColor:Jt,asColorInformation:$t,asColorInformations:kt,asColorPresentation:K,asColorPresentations:Fe,asSelectionRange:re,asSelectionRanges:Re,asInlineValue:je,asInlineValues:he,asInlayHint:S,asInlayHints:Dr,asSemanticTokensLegend:Fo,asSemanticTokens:es,asSemanticTokensEdit:Bs,asSemanticTokensEdits:ta,asCallHierarchyItem:Wr,asCallHierarchyItems:Xr,asCallHierarchyIncomingCall:qn,asCallHierarchyIncomingCalls:xi,asCallHierarchyOutgoingCall:ks,asCallHierarchyOutgoingCalls:Sn,asLinkedEditingRanges:Eo,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:Fr,asInlineCompletionResult:so,asInlineCompletionItem:Bi}}});var za=E(zC=>{"use strict";Object.defineProperty(zC,"__esModule",{value:!0});zC.empty=void 0;zC.v4=kEe;zC.isUUID=AEe;zC.parse=Fdt;zC.generateUuid=qdt;var nA=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},pJ=class r extends nA{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};zC.empty=new nA("00000000-0000-0000-0000-000000000000");function kEe(){return new pJ}var Ndt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function AEe(r){return Ndt.test(r)}function Fdt(r){if(!AEe(r))throw new Error("invalid uuid");return new nA(r)}function qdt(){return kEe().asHex()}});var gJ=E(z_=>{"use strict";var jdt=z_&&z_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zdt=z_&&z_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Udt=z_&&z_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jdt(t,e,n[i]);return zdt(t,e),t}}();Object.defineProperty(z_,"__esModule",{value:!0});z_.ProgressPart=void 0;var LEe=require("vscode"),MEe=an(),NEe=Udt(fv()),mJ=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(MEe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&LEe.window.withProgress({location:LEe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(MEe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&NEe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(NEe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};z_.ProgressPart=mJ});var Lo=E(Uc=>{"use strict";var Hdt=Uc&&Uc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bdt=Uc&&Uc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zEe=Uc&&Uc.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Hdt(t,e,n[i]);return Bdt(t,e),t}}();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.WorkspaceFeature=Uc.TextDocumentLanguageFeature=Uc.TextDocumentEventFeature=Uc.DynamicDocumentFeature=Uc.DynamicFeature=Uc.StaticFeature=Uc.LSPCancellationError=void 0;Uc.ensure=Wdt;var UC=require("vscode"),vJ=an(),Kh=zEe(fv()),FEe=zEe(za()),yJ=class extends UC.CancellationError{data;constructor(e){super(),this.data=e}};Uc.LSPCancellationError=yJ;function Wdt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var qEe;(function(r){function e(t){let n=t;return n!=null&&Kh.func(n.fillClientCapabilities)&&Kh.func(n.initialize)&&Kh.func(n.getState)&&Kh.func(n.clear)&&(n.fillInitializeParams===void 0||Kh.func(n.fillInitializeParams))}r.is=e})(qEe||(Uc.StaticFeature=qEe={}));var jEe;(function(r){function e(t){let n=t;return n!=null&&Kh.func(n.fillClientCapabilities)&&Kh.func(n.initialize)&&Kh.func(n.getState)&&Kh.func(n.clear)&&(n.fillInitializeParams===void 0||Kh.func(n.fillInitializeParams))&&Kh.func(n.register)&&Kh.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(jEe||(Uc.DynamicFeature=jEe={}));var iA=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of UC.workspace.textDocuments)if(UC.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Uc.DynamicDocumentFeature=iA;var _J=class extends iA{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(UC.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new UC.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new UC.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(UC.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};Uc.TextDocumentEventFeature=_J;var bJ=class extends iA{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(vJ.TextDocumentRegistrationOptions.is(t)){let n=vJ.StaticRegistrationOptions.hasId(t)?t.id:FEe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Kh.boolean(t)&&t===!0||vJ.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[FEe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&UC.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Uc.TextDocumentLanguageFeature=bJ;var wJ=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Uc.WorkspaceFeature=wJ});var KEe=E((S$t,GEe)=>{var UEe=eK();GEe.exports=Gdt;var HEe="\0SLASH"+Math.random()+"\0",BEe="\0OPEN"+Math.random()+"\0",CJ="\0CLOSE"+Math.random()+"\0",WEe="\0COMMA"+Math.random()+"\0",$Ee="\0PERIOD"+Math.random()+"\0";function SJ(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function $dt(r){return r.split("\\\\").join(HEe).split("\\{").join(BEe).split("\\}").join(CJ).split("\\,").join(WEe).split("\\.").join($Ee)}function Vdt(r){return r.split(HEe).join("\\").split(BEe).join("{").split(CJ).join("}").split(WEe).join(",").split($Ee).join(".")}function VEe(r){if(!r)return[""];var e=[],t=UEe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=VEe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Gdt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),oA($dt(r),!0).map(Vdt)):[]}function Kdt(r){return"{"+r+"}"}function Ydt(r){return/^-?0\d/.test(r)}function Jdt(r,e){return r<=e}function Xdt(r,e){return r>=e}function oA(r,e){var t=[],n=UEe("{","}",r);if(!n)return[r];var i=n.pre,o=n.post.length?oA(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+CJ+n.post,oA(r)):[r];var f;if(l)f=n.body.split(/\.\./);else if(f=VEe(n.body),f.length===1&&(f=oA(f[0],!1).map(Kdt),f.length===1))return o.map(function(Se){return n.pre+f[0]+Se});var m;if(l){var _=SJ(f[0]),T=SJ(f[1]),x=Math.max(f[0].length,f[1].length),M=f.length==3?Math.abs(SJ(f[2])):1,A=Jdt,U=T<_;U&&(M*=-1,A=Xdt);var ne=f.some(Ydt);m=[];for(var de=_;A(de,T);de+=M){var ye;if(u)ye=String.fromCharCode(de),ye==="\\"&&(ye="");else if(ye=String(de),ne){var V=x-ye.length;if(V>0){var W=new Array(V+1).join("0");de<0?ye="-"+W+ye.slice(1):ye=W+ye}}m.push(ye)}}else{m=[];for(var ee=0;ee<f.length;ee++)m.push.apply(m,oA(f[ee],!1))}for(var ee=0;ee<m.length;ee++)for(var s=0;s<o.length;s++){var a=i+m[ee]+o[s];(!e||l||a)&&t.push(a)}}return t}});var YEe=E(Ez=>{"use strict";Object.defineProperty(Ez,"__esModule",{value:!0});Ez.assertValidPattern=void 0;var Qdt=1024*64,Zdt=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Qdt)throw new TypeError("pattern is too long")};Ez.assertValidPattern=Zdt});var XEe=E(Pz=>{"use strict";Object.defineProperty(Pz,"__esModule",{value:!0});Pz.parseClass=void 0;var eft={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},sA=r=>r.replace(/[[\]\\-]/g,"\\$&"),tft=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),JEe=r=>r.join(""),rft=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let T=r.charAt(o);if((T==="!"||T==="^")&&o===t+1){u=!0,o++;continue}if(T==="]"&&s&&!c){l=o+1;break}if(s=!0,T==="\\"&&!c){c=!0,o++;continue}if(T==="["&&!c){for(let[x,[M,A,U]]of Object.entries(eft))if(r.startsWith(x,o)){if(d)return["$.",!1,r.length-t,!0];o+=x.length,U?i.push(M):n.push(M),a=a||A;continue e}}if(c=!1,d){T>d?n.push(sA(d)+"-"+sA(T)):T===d&&n.push(sA(T)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(sA(T+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=T,o+=2;continue}n.push(sA(T)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let T=n[0].length===2?n[0].slice(-1):n[0];return[tft(T),!1,l-t,!1]}let f="["+(u?"^":"")+JEe(n)+"]",m="["+(u?"":"^")+JEe(i)+"]";return[n.length&&i.length?"("+f+"|"+m+")":n.length?f:m,a,l-t,!0]};Pz.parseClass=rft});var xz=E(Rz=>{"use strict";Object.defineProperty(Rz,"__esModule",{value:!0});Rz.unescape=void 0;var nft=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rz.unescape=nft});var EJ=E(kz=>{"use strict";Object.defineProperty(kz,"__esModule",{value:!0});kz.AST=void 0;var ift=XEe(),Oz=xz(),oft=new Set(["!","?","+","*","@"]),QEe=r=>oft.has(r),sft="(?!(?:^|/)\\.\\.?(?:$|/))",Iz="(?!\\.)",aft=new Set(["[","."]),cft=new Set(["..","."]),uft=new Set("().*{}+?[]^$\\!"),lft=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),TJ="[^/]",ZEe=TJ+"*?",ePe=TJ+"+?",DJ=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let m=n,_="";for(;m<e.length;){let T=e.charAt(m++);if(o||T==="\\"){o=!o,_+=T;continue}if(s){m===a+1?(T==="^"||T==="!")&&(c=!0):T==="]"&&!(m===a+2&&c)&&(s=!1),_+=T;continue}else if(T==="["){s=!0,a=m,c=!1,_+=T;continue}if(!i.noext&&QEe(T)&&e.charAt(m)==="("){t.push(_),_="";let x=new r(T,t);m=r.#l(e,x,m,i),t.push(x);continue}_+=T}return t.push(_),m}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let m=e.charAt(u++);if(o||m==="\\"){o=!o,f+=m;continue}if(s){u===a+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(u===a+2&&c)&&(s=!1),f+=m;continue}else if(m==="["){s=!0,a=u,c=!1,f+=m;continue}if(QEe(m)&&e.charAt(u)==="("){l.push(f),f="";let _=new r(m,l);l.push(_),u=r.#l(e,_,u,i);continue}if(m==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(m===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=m}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#h(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#e.map(m=>{let[_,T,x,M]=typeof m=="string"?r.#p(m,this.#n,c):m.toRegExpSource(e);return this.#n=this.#n||x,this.#o=this.#o||M,_}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&cft.has(this.#e[0]))){let _=aft,T=t&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),x=!t&&!e&&_.has(u.charAt(0));l=T?sft:x?Iz:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,Oz.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,Oz.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!Iz?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?Iz:"")+ePe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?Iz:"")+ZEe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,Oz.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=(uft.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,ift.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){n&&e==="*"?o+=ePe:o+=ZEe,t=!0;continue}if(c==="?"){o+=TJ,t=!0;continue}o+=lft(c)}return[o,(0,Oz.unescape)(e),!!t,s]}};kz.AST=DJ});var PJ=E(Az=>{"use strict";Object.defineProperty(Az,"__esModule",{value:!0});Az.escape=void 0;var dft=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");Az.escape=dft});var RJ=E(_n=>{"use strict";var fft=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_n,"__esModule",{value:!0});_n.unescape=_n.escape=_n.AST=_n.Minimatch=_n.match=_n.makeRe=_n.braceExpand=_n.defaults=_n.filter=_n.GLOBSTAR=_n.sep=_n.minimatch=void 0;var hft=fft(KEe()),Lz=YEe(),nPe=EJ(),pft=PJ(),mft=xz(),gft=(r,e,t={})=>((0,Lz.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new MT(e,t).match(r));_n.minimatch=gft;var vft=/^\*+([^+@!?\*\[\(]*)$/,yft=r=>e=>!e.startsWith(".")&&e.endsWith(r),_ft=r=>e=>e.endsWith(r),bft=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),wft=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),Sft=/^\*+\.\*+$/,Cft=r=>!r.startsWith(".")&&r.includes("."),Dft=r=>r!=="."&&r!==".."&&r.includes("."),Tft=/^\.\*+$/,Eft=r=>r!=="."&&r!==".."&&r.startsWith("."),Pft=/^\*+$/,Rft=r=>r.length!==0&&!r.startsWith("."),xft=r=>r.length!==0&&r!=="."&&r!=="..",Oft=/^\?+([^+@!?\*\[\(]*)?$/,Ift=([r,e=""])=>{let t=iPe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},kft=([r,e=""])=>{let t=oPe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},Aft=([r,e=""])=>{let t=oPe([r]);return e?n=>t(n)&&n.endsWith(e):t},Lft=([r,e=""])=>{let t=iPe([r]);return e?n=>t(n)&&n.endsWith(e):t},iPe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},oPe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},sPe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",tPe={win32:{sep:"\\"},posix:{sep:"/"}};_n.sep=sPe==="win32"?tPe.win32.sep:tPe.posix.sep;_n.minimatch.sep=_n.sep;_n.GLOBSTAR=Symbol("globstar **");_n.minimatch.GLOBSTAR=_n.GLOBSTAR;var Mft="[^/]",Nft=Mft+"*?",Fft="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",qft="(?:(?!(?:\\/|^)\\.).)*?",jft=(r,e={})=>t=>(0,_n.minimatch)(t,r,e);_n.filter=jft;_n.minimatch.filter=_n.filter;var pv=(r,e={})=>Object.assign({},r,e),zft=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return _n.minimatch;let e=_n.minimatch;return Object.assign((n,i,o={})=>e(n,i,pv(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,pv(r,o))}static defaults(i){return e.defaults(pv(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,pv(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,pv(r,o))}},unescape:(n,i={})=>e.unescape(n,pv(r,i)),escape:(n,i={})=>e.escape(n,pv(r,i)),filter:(n,i={})=>e.filter(n,pv(r,i)),defaults:n=>e.defaults(pv(r,n)),makeRe:(n,i={})=>e.makeRe(n,pv(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,pv(r,i)),match:(n,i,o={})=>e.match(n,i,pv(r,o)),sep:e.sep,GLOBSTAR:_n.GLOBSTAR})};_n.defaults=zft;_n.minimatch.defaults=_n.defaults;var Uft=(r,e={})=>((0,Lz.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,hft.default)(r));_n.braceExpand=Uft;_n.minimatch.braceExpand=_n.braceExpand;var Hft=(r,e={})=>new MT(r,e).makeRe();_n.makeRe=Hft;_n.minimatch.makeRe=_n.makeRe;var Bft=(r,e,t={})=>{let n=new MT(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};_n.match=Bft;_n.minimatch.match=_n.match;var rPe=/[?*]|[+@!]\(.*?\)|\[|\]/,Wft=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),MT=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,Lz.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||sPe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!rPe.test(o[2]))&&!rPe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let T=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),x=!T&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),M=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!M&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),U=x?3:T?0:void 0,ne=A?3:M?0:void 0;if(typeof U=="number"&&typeof ne=="number"){let[de,ye]=[e[U],t[ne]];de.toLowerCase()===ye.toLowerCase()&&(t[ne]=de,ne>U?t=t.slice(ne):U>ne&&(e=e.slice(U)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===_n.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,m=a+1;if(m===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var _=e[f];if(this.debug(`
globstar while`,e,f,t,m,_),this.matchOne(e.slice(f),t.slice(m),n))return this.debug("globstar found match!",f,c,_),!0;if(_==="."||_===".."||!i.dot&&_.charAt(0)==="."){this.debug("dot detected!",e,f,t,m);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,m),f===c))}let T;if(typeof l=="string"?(T=d===l,this.debug("string match",l,d,T)):(T=l.test(d),this.debug("pattern match",l,d,T)),!T)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,_n.braceExpand)(this.pattern,this.options)}parse(e){(0,Lz.assertValidPattern)(e);let t=this.options;if(e==="**")return _n.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Pft))?i=t.dot?xft:Rft:(n=e.match(vft))?i=(t.nocase?t.dot?wft:bft:t.dot?_ft:yft)(n[1]):(n=e.match(Oft))?i=(t.nocase?t.dot?kft:Ift:t.dot?Aft:Lft)(n):(n=e.match(Sft))?i=t.dot?Dft:Cft:(n=e.match(Tft))&&(i=Eft);let o=nPe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?Nft:t.dot?Fft:qft,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(l=>{if(l instanceof RegExp)for(let d of l.flags.split(""))i.add(d);return typeof l=="string"?Wft(l):l===_n.GLOBSTAR?_n.GLOBSTAR:l._src});return u.forEach((l,d)=>{let f=u[d+1],m=u[d-1];l!==_n.GLOBSTAR||m===_n.GLOBSTAR||(m===void 0?f!==void 0&&f!==_n.GLOBSTAR?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=m+"(?:\\/|"+n+")?":f!==_n.GLOBSTAR&&(u[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=_n.GLOBSTAR))}),u.filter(l=>l!==_n.GLOBSTAR).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return _n.minimatch.defaults(e).Minimatch}};_n.Minimatch=MT;var $ft=EJ();Object.defineProperty(_n,"AST",{enumerable:!0,get:function(){return $ft.AST}});var Vft=PJ();Object.defineProperty(_n,"escape",{enumerable:!0,get:function(){return Vft.escape}});var Gft=xz();Object.defineProperty(_n,"unescape",{enumerable:!0,get:function(){return Gft.unescape}});_n.minimatch.AST=nPe.AST;_n.minimatch.Minimatch=MT;_n.minimatch.escape=pft.escape;_n.minimatch.unescape=mft.unescape});var xJ=E(kw=>{"use strict";var Kft=kw&&kw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yft=kw&&kw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jft=kw&&kw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kft(t,e,n[i]);return Yft(t,e),t}}();Object.defineProperty(kw,"__esModule",{value:!0});kw.matchGlobPattern=Zft;var Xft=Jft(RJ()),Qft=require("vscode");function Zft(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=Qft.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new Xft.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var Nz=E(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});HC.DiagnosticFeature=HC.DiagnosticPullMode=HC.vsdiag=void 0;var pc=require("vscode"),Ua=an(),eht=za(),tht=xJ(),OJ=Lo();function Mz(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var mv;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(mv||(HC.vsdiag=mv={}));var aA;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(aA||(HC.DiagnosticPullMode=aA={}));var Vf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(Vf||(Vf={}));var fd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(fd||(fd={}));var Aw;(function(r){function e(t){return t instanceof pc.Uri?t.toString():t.uri.toString()}r.asKey=e})(Aw||(Aw={}));var IJ=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===fd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof pc.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===fd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof pc.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=Aw.asKey(t);(e===fd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=Aw.asKey(t);return(e===fd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=Aw.asKey(t);return(e===fd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},kJ=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new pc.EventEmitter,this.provider=this.createProvider(),this.diagnostics=pc.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new IJ,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof pc.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof pc.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof pc.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(fd.document,e,t):this.documentStates.track(fd.document,e);if(s===void 0){let c=new pc.CancellationTokenSource;this.openRequests.set(o,{state:Vf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:mv.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof OJ.LSPCancellationError&&Ua.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:Vf.outDated,document:e}),l===void 0&&d instanceof pc.CancellationError)l={state:Vf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(fd.document,e);return}if(l.state===Vf.outDated)return;u!==void 0&&(u.kind===mv.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===Vf.reschedule&&this.pull(e)}else s.state===Vf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:Vf.reschedule,document:s.document})):s.state===Vf.outDated&&this.openRequests.set(o,{state:Vf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof pc.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:Vf.reschedule,document:e}):this.pull(e,()=>{this.forget(fd.document,e)}):(i!==void 0&&(i.state===Vf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:Vf.outDated,document:e})),this.diagnostics.delete(t),this.forget(fd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Ua.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof OJ.LSPCancellationError)&&!Ua.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Ua.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new pc.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===mv.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(fd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(fd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof pc.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:mv.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Ua.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:mv.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Ua.DocumentDiagnosticReportKind.Full?{kind:mv.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:mv.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Ua.DocumentDiagnosticRequest.type,u,d,{kind:mv.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Ua.DocumentDiagnosticReportKind.Full?{kind:mv.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:mv.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,eht.generateUuid)(),m=this.client.onProgress(Ua.WorkspaceDiagnosticRequest.partialResult,f,async T=>{if(T==null){d(null);return}let x={items:[]};for(let M of T.items)try{x.items.push(await o(M))}catch(A){this.client.error("Converting workspace diagnostics failed.",A)}d(x)}),_={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Ua.WorkspaceDiagnosticRequest.type,_,l).then(async T=>{if(l.isCancellationRequested)return{items:[]};let x={items:[]};for(let M of T.items)x.items.push(await o(M));return m.dispose(),d(x),{items:[]}},T=>(m.dispose(),this.client.handleFailedRequest(Ua.DocumentDiagnosticRequest.type,l,T,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Vf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Vf.outDated,document:t.document});this.diagnostics.dispose()}},AJ=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new Ua.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=Aw.asKey(e);this.documents.has(t)||(this.documents.set(t,e,Ua.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=Aw.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,Ua.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=Aw.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,Ua.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?Aw.asKey(this.lastDocumentToPull):void 0}},LJ=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(A,U)=>!(typeof A=="string"||A.language!==void 0&&A.language!=="*"||A.scheme!==void 0&&A.scheme!=="*"&&A.scheme!==U.scheme||A.pattern!==void 0&&!(0,tht.matchGlobPattern)(A.pattern,U)),c=A=>{let U=n.documentSelector;if(i.match!==void 0)return i.match(U,A);for(let ne of U)if(Ua.TextDocumentFilter.is(ne)&&a(ne,A))return!0;return!1},u=A=>A instanceof pc.Uri?c(A):pc.languages.match(o,A)>0&&t.isVisible(A),l=A=>pc.languages.match(o,A.document)>0&&t.isVisible(A.notebook.uri),d=A=>A instanceof pc.Uri?this.activeTextDocument?.uri.toString()===A.toString():this.activeTextDocument===A;this.diagnosticRequestor=new kJ(e,t,n),this.backgroundScheduler=new AJ(e,this.diagnosticRequestor);let f=A=>{!u(A)||!n.interFileDependencies||d(A)||i.onChange===!1||this.backgroundScheduler.add(A)},m=(A,U)=>(i.filter===void 0||!i.filter(A,U))&&this.diagnosticRequestor.knows(fd.document,A);this.activeTextDocument=pc.window.activeTextEditor?.document,s.push(pc.window.onDidChangeActiveTextEditor(A=>{let U=this.activeTextDocument;this.activeTextDocument=A?.document,U!==void 0&&f(U),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&m(this.activeTextDocument,aA.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let _=e.getFeature(Ua.DidOpenTextDocumentNotification.method);s.push(_.onNotificationSent(A=>{let U=A.textDocument;this.diagnosticRequestor.knows(fd.document,U)||u(U)&&this.diagnosticRequestor.pull(U,()=>{f(U)})}));let T=e.getFeature(Ua.NotebookDocumentSyncRegistrationType.method);s.push(T.onOpenNotificationSent(A=>{for(let U of A.getCells())l(U)&&this.diagnosticRequestor.pull(U.document,()=>{f(U.document)})})),s.push(t.onOpen(A=>{for(let U of A){if(this.diagnosticRequestor.knows(fd.document,U))continue;let ne=U.toString(),de;for(let ye of pc.workspace.textDocuments)if(ne===ye.uri.toString()){de=ye;break}de!==void 0&&u(de)&&this.diagnosticRequestor.pull(de,()=>{f(de)})}}));let x=new Set;for(let A of pc.workspace.textDocuments)u(A)&&(this.diagnosticRequestor.pull(A,()=>{f(A)}),x.add(A.uri.toString()));for(let A of pc.workspace.notebookDocuments)for(let U of A.getCells())l(U)&&(this.diagnosticRequestor.pull(U.document,()=>{f(U.document)}),x.add(U.document.uri.toString()));if(i.onTabs===!0)for(let A of t.getTabResources())!x.has(A.toString())&&u(A)&&this.diagnosticRequestor.pull(A,()=>{f(A)});if(i.onChange===!0){let A=e.getFeature(Ua.DidChangeTextDocumentNotification.method);s.push(A.onNotificationSent(async U=>{let ne=U.textDocument;m(ne,aA.onType)&&this.diagnosticRequestor.pull(ne,()=>{this.backgroundScheduler.trigger()})})),s.push(T.onChangeNotificationSent(async U=>{let de=(U.cells?.textContent||[]).map(W=>U.notebook.getCells().find(ee=>ee.document.uri.toString()===W.document.uri.toString()));for(let W of de)W&&l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()});let ye=U.cells?.structure?.didClose||[];for(let W of ye)this.diagnosticRequestor.forgetDocument(W.document);let V=U.cells?.structure?.didOpen||[];for(let W of V)l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let A=e.getFeature(Ua.DidSaveTextDocumentNotification.method);s.push(A.onNotificationSent(U=>{let ne=U.textDocument;m(ne,aA.onSave)&&this.diagnosticRequestor.pull(U.textDocument)})),s.push(T.onSaveNotificationSent(U=>{for(let ne of U.getCells())l(ne)&&this.diagnosticRequestor.pull(ne.document)}))}let M=e.getFeature(Ua.DidCloseTextDocumentNotification.method);s.push(M.onNotificationSent(A=>{this.cleanUpDocument(A.textDocument)})),s.push(T.onCloseNotificationSent(A=>{for(let U of A.getCells())this.cleanUpDocument(U.document)})),t.onClose(A=>{for(let U of A)this.cleanUpDocument(U)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let A of pc.workspace.textDocuments)u(A)&&this.diagnosticRequestor.pull(A)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=pc.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(fd.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},MJ=class extends OJ.TextDocumentLanguageFeature{constructor(e){super(e,Ua.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=Mz(Mz(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[Ua.DiagnosticTag.Unnecessary,Ua.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,Mz(Mz(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ua.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new LJ(this._client,this._client.tabsModel,e);return[t.disposable,t]}};HC.DiagnosticFeature=MJ});var qJ=E(U_=>{"use strict";var rht=U_&&U_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nht=U_&&U_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zz=U_&&U_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rht(t,e,n[i]);return nht(t,e),t}}();Object.defineProperty(U_,"__esModule",{value:!0});U_.NotebookDocumentSyncFeature=void 0;var mc=zz(require("vscode")),Lw=zz(an()),iht=zz(za()),aPe=zz(fv()),oht=xJ();function cPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var LP;(function(r){let e;(function(t){function n(f,m){return{version:f.version,uri:m.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,m,_){let T=Lw.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(m,_));return Object.keys(f.metadata).length>0&&(T.metadata=s(f.metadata)),T}t.asNotebookDocument=i;function o(f,m){return f.map(_=>a(_,m))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,m){let _=Lw.NotebookCell.create(c(f.kind),m.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&aPe.number(f.executionSummary.executionOrder)&&aPe.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case mc.NotebookCellKind.Markup:return Lw.NotebookCellKind.Markup;case mc.NotebookCellKind.Code:return Lw.NotebookCellKind.Code}}function u(f,m){if(f.has(m))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(m)){let _=[];for(let T of m)if(T!==null&&typeof T=="object"||Array.isArray(T))_.push(u(f,T));else{if(T instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(T)}return _}else{let _=Object.keys(m),T=Object.create(null);for(let x of _){let M=m[x];if(M!==null&&typeof M=="object"||Array.isArray(M))T[x]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");T[x]=M}}return T}}function l(f,m){let _=m.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,m){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let T=Object.create(null),x=f.cells;x.structure&&(T.structure={array:{start:x.structure.array.start,deleteCount:x.structure.array.deleteCount,cells:x.structure.array.cells!==void 0?x.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,m)):void 0},didOpen:x.structure.didOpen!==void 0?x.structure.didOpen.map(M=>m.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:x.structure.didClose!==void 0?x.structure.didClose.map(M=>m.asCloseTextDocumentParams(M.document).textDocument):void 0}),x.data!==void 0&&(T.data=x.data.map(M=>r.c2p.asNotebookCell(M,m))),x.textContent!==void 0&&(T.textContent=x.textContent.map(M=>r.c2p.asTextContentChange(M,m))),Object.keys(T).length>0&&(_.cells=T)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(LP||(LP={}));var NJ;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let m=l-1,_=d-1;for(;m>=0&&_>=0&&t(a[m],c[_],u);)m--,_--;let T=m+1-f,x=f===_+1?void 0:c.slice(f,_+1);return x!==void 0?{start:f,deleteCount:T,cells:x}:{start:f,deleteCount:T}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let m=0;m<d.length;m++){let _=d[m];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(NJ||(NJ={}));var Fz;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,oht.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(Fz||(Fz={}));var qz;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(qz||(qz={}));var jz;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(jz||(jz={}));var MP=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(qz.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,mc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of mc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);mc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&mc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),mc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of mc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(mc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(mc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(mc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(Lw.DidOpenNotebookDocumentNotification.type,{notebookDocument:LP.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),jz.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(Lw.DidChangeNotebookDocumentNotification.type,{notebookDocument:LP.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:LP.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),jz.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Lw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(Lw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=LP.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=NJ.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],m=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())m.push(_)}o.cells.structure={array:u,didOpen:f,didClose:m}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Fz.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||Fz.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},FJ=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Lw.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new mc.EventEmitter,this._onOpenNotificationSent=new mc.EventEmitter,this._onCloseNotificationSent=new mc.EventEmitter,this._onSaveNotificationSent=new mc.EventEmitter,mc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof MP&&o.didOpenNotebookCellTextDocument(n,i)}),mc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof MP&&s.didChangeNotebookCellTextDocument(i,o,t)}),mc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof MP&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=cPe(cPe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(qz.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??iht.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new MP(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new mc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new mc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new mc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new mc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&mc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of mc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};U_.NotebookDocumentSyncFeature=FJ});var dPe=E(ig=>{"use strict";var sht=ig&&ig.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aht=ig&&ig.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lPe=ig&&ig.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&sht(t,e,n[i]);return aht(t,e),t}}();Object.defineProperty(ig,"__esModule",{value:!0});ig.SyncConfigurationFeature=ig.ConfigurationFeature=void 0;ig.toJSONObject=NT;var NP=require("vscode"),cA=an(),cht=lPe(fv()),uht=lPe(za()),uPe=Lo(),jJ=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(cA.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=NT(NP.workspace.getConfiguration(void 0,e).get(t));else{let o=NP.workspace.getConfiguration(t.substr(0,i),e);o&&(n=NT(o.get(t.substr(i+1))))}}else{let i=NP.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=NT(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};ig.ConfigurationFeature=jJ;function NT(r){if(r){if(Array.isArray(r))return r.map(NT);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=NT(r[t]));return e}}return r}var zJ=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return cA.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,uPe.ensure)((0,uPe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:uht.generateUuid(),registerOptions:{section:e}})}register(e){let t=NP.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(cht.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(cA.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(cA.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${cA.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=NP.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=NP.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=NT(c)}}return i}};ig.SyncConfigurationFeature=zJ});var fPe=E(Qu=>{"use strict";var lht=Qu&&Qu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dht=Qu&&Qu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fht=Qu&&Qu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&lht(t,e,n[i]);return dht(t,e),t}}();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.DidSaveTextDocumentFeature=Qu.WillSaveWaitUntilFeature=Qu.WillSaveFeature=Qu.DidChangeTextDocumentFeature=Qu.DidCloseTextDocumentFeature=Qu.DidOpenTextDocumentFeature=void 0;var em=require("vscode"),fa=an(),Hc=Lo(),FP=fht(za()),UJ=class extends Hc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,em.workspace.onDidOpenTextDocument,fa.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Hc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:FP.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return fa.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(em.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&em.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push(em.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(let n of t)e!==void 0&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};Qu.DidOpenTextDocumentFeature=UJ;var HJ=class extends Hc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,em.workspace.onDidCloseTextDocument,fa.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Hc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return fa.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:FP.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(em.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Qu.DidCloseTextDocumentFeature=HJ;var BJ=class extends Hc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new em.EventEmitter,this._onPendingChangeAdded=new em.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=fa.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return fa.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==fa.TextDocumentSyncKind.None&&this.register({id:FP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=em.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(em.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===fa.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(fa.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,fa.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===fa.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${fa.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=fa.TextDocumentSyncKind.None;else{this._syncKind=fa.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===fa.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=fa.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(em.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==fa.TextDocumentSyncKind.Full)switch(e){case fa.TextDocumentSyncKind.Full:this._syncKind=e;break;case fa.TextDocumentSyncKind.Incremental:this._syncKind===fa.TextDocumentSyncKind.None&&(this._syncKind=fa.TextDocumentSyncKind.Incremental);break}}};Qu.DidChangeTextDocumentFeature=BJ;var WJ=class extends Hc.TextDocumentEventFeature{constructor(e){super(e,em.workspace.onWillSaveTextDocument,fa.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Hc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return fa.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:FP.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};Qu.WillSaveFeature=WJ;var $J=class extends Hc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return fa.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:FP.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=em.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Hc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(fa.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Qu.WillSaveWaitUntilFeature=$J;var VJ=class extends Hc.TextDocumentEventFeature{_includeText;constructor(e){super(e,em.workspace.onDidSaveTextDocument,fa.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Hc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return fa.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Hc.ensure)((0,Hc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:FP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Qu.DidSaveTextDocumentFeature=VJ});var hPe=E(H_=>{"use strict";var hht=H_&&H_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pht=H_&&H_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mht=H_&&H_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&hht(t,e,n[i]);return pht(t,e),t}}();Object.defineProperty(H_,"__esModule",{value:!0});H_.CompletionItemFeature=void 0;var ght=require("vscode"),Co=an(),GJ=Lo(),vht=mht(za()),yht=[Co.CompletionItemKind.Text,Co.CompletionItemKind.Method,Co.CompletionItemKind.Function,Co.CompletionItemKind.Constructor,Co.CompletionItemKind.Field,Co.CompletionItemKind.Variable,Co.CompletionItemKind.Class,Co.CompletionItemKind.Interface,Co.CompletionItemKind.Module,Co.CompletionItemKind.Property,Co.CompletionItemKind.Unit,Co.CompletionItemKind.Value,Co.CompletionItemKind.Enum,Co.CompletionItemKind.Keyword,Co.CompletionItemKind.Snippet,Co.CompletionItemKind.Color,Co.CompletionItemKind.File,Co.CompletionItemKind.Reference,Co.CompletionItemKind.Folder,Co.CompletionItemKind.EnumMember,Co.CompletionItemKind.Constant,Co.CompletionItemKind.Struct,Co.CompletionItemKind.Event,Co.CompletionItemKind.Operator,Co.CompletionItemKind.TypeParameter],KJ=class extends GJ.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,Co.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,GJ.ensure)((0,GJ.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Co.MarkupKind.Markdown,Co.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Co.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Co.InsertTextMode.asIs,Co.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Co.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:yht},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:vht.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,m=(_,T,x,M)=>d.sendRequest(Co.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,T,x),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(Co.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,m):m(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,m)=>u.sendRequest(Co.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),m).then(_=>m.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(Co.CompletionResolveRequest.type,m,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[ght.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};H_.CompletionItemFeature=KJ});var pPe=E(B_=>{"use strict";var _ht=B_&&B_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bht=B_&&B_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wht=B_&&B_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_ht(t,e,n[i]);return bht(t,e),t}}();Object.defineProperty(B_,"__esModule",{value:!0});B_.HoverFeature=void 0;var Sht=require("vscode"),uA=an(),YJ=Lo(),Cht=wht(za()),JJ=class extends YJ.TextDocumentLanguageFeature{constructor(e){super(e,uA.HoverRequest.type)}fillClientCapabilities(e){let t=(0,YJ.ensure)((0,YJ.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[uA.MarkupKind.Markdown,uA.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:Cht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(uA.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(m),m=>a.handleFailedRequest(uA.HoverRequest.type,f,m,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Sht.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};B_.HoverFeature=JJ});var mPe=E(W_=>{"use strict";var Dht=W_&&W_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tht=W_&&W_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Eht=W_&&W_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Dht(t,e,n[i]);return Tht(t,e),t}}();Object.defineProperty(W_,"__esModule",{value:!0});W_.DefinitionFeature=void 0;var Pht=require("vscode"),XJ=an(),QJ=Lo(),Rht=Eht(za()),ZJ=class extends QJ.TextDocumentLanguageFeature{constructor(e){super(e,XJ.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,QJ.ensure)((0,QJ.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:Rht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(XJ.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(XJ.DefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Pht.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};W_.DefinitionFeature=ZJ});var vPe=E($_=>{"use strict";var xht=$_&&$_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Oht=$_&&$_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iht=$_&&$_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xht(t,e,n[i]);return Oht(t,e),t}}();Object.defineProperty($_,"__esModule",{value:!0});$_.SignatureHelpFeature=void 0;var gPe=require("vscode"),lA=an(),eX=Lo(),kht=Iht(za()),tX=class extends eX.TextDocumentLanguageFeature{constructor(e){super(e,lA.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,eX.ensure)((0,eX.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[lA.MarkupKind.Markdown,lA.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:kht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,m)=>a.sendRequest(lA.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),m).then(_=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,m),_=>a.handleFailedRequest(lA.SignatureHelpRequest.type,m,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return gPe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return gPe.languages.registerSignatureHelpProvider(n,t,i)}}};$_.SignatureHelpFeature=tX});var yPe=E(V_=>{"use strict";var Aht=V_&&V_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lht=V_&&V_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mht=V_&&V_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Aht(t,e,n[i]);return Lht(t,e),t}}();Object.defineProperty(V_,"__esModule",{value:!0});V_.DocumentHighlightFeature=void 0;var Nht=require("vscode"),rX=an(),nX=Lo(),Fht=Mht(za()),iX=class extends nX.TextDocumentLanguageFeature{constructor(e){super(e,rX.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,nX.ensure)((0,nX.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:Fht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(rX.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(m,f),m=>a.handleFailedRequest(rX.DocumentHighlightRequest.type,f,m,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Nht.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};V_.DocumentHighlightFeature=iX});var aX=E(Gf=>{"use strict";var qht=Gf&&Gf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jht=Gf&&Gf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zht=Gf&&Gf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qht(t,e,n[i]);return jht(t,e),t}}();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.DocumentSymbolFeature=Gf.SupportedSymbolTags=Gf.SupportedSymbolKinds=void 0;var Uht=require("vscode"),vs=an(),oX=Lo(),Hht=zht(za());Gf.SupportedSymbolKinds=[vs.SymbolKind.File,vs.SymbolKind.Module,vs.SymbolKind.Namespace,vs.SymbolKind.Package,vs.SymbolKind.Class,vs.SymbolKind.Method,vs.SymbolKind.Property,vs.SymbolKind.Field,vs.SymbolKind.Constructor,vs.SymbolKind.Enum,vs.SymbolKind.Interface,vs.SymbolKind.Function,vs.SymbolKind.Variable,vs.SymbolKind.Constant,vs.SymbolKind.String,vs.SymbolKind.Number,vs.SymbolKind.Boolean,vs.SymbolKind.Array,vs.SymbolKind.Object,vs.SymbolKind.Key,vs.SymbolKind.Null,vs.SymbolKind.EnumMember,vs.SymbolKind.Struct,vs.SymbolKind.Event,vs.SymbolKind.Operator,vs.SymbolKind.TypeParameter];Gf.SupportedSymbolTags=[vs.SymbolTag.Deprecated];var sX=class extends oX.TextDocumentLanguageFeature{constructor(e){super(e,vs.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,oX.ensure)((0,oX.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Gf.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Gf.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:Hht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(vs.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let m=f[0];return vs.DocumentSymbol.is(m)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(vs.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Uht.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};Gf.DocumentSymbolFeature=sX});var bPe=E(G_=>{"use strict";var Bht=G_&&G_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wht=G_&&G_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$ht=G_&&G_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Bht(t,e,n[i]);return Wht(t,e),t}}();Object.defineProperty(G_,"__esModule",{value:!0});G_.WorkspaceSymbolFeature=void 0;var Vht=require("vscode"),dA=an(),cX=Lo(),_Pe=aX(),Ght=$ht(za()),uX=class extends cX.WorkspaceFeature{constructor(e){super(e,dA.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,cX.ensure)((0,cX.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:_Pe.SupportedSymbolKinds},t.tagSupport={valueSet:_Pe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Ght.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(dA.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(dA.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(dA.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(dA.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[Vht.languages.registerWorkspaceSymbolProvider(t),t]}};G_.WorkspaceSymbolFeature=uX});var wPe=E(K_=>{"use strict";var Kht=K_&&K_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yht=K_&&K_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jht=K_&&K_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kht(t,e,n[i]);return Yht(t,e),t}}();Object.defineProperty(K_,"__esModule",{value:!0});K_.ReferencesFeature=void 0;var Xht=require("vscode"),lX=an(),dX=Lo(),Qht=Jht(za()),fX=class extends dX.TextDocumentLanguageFeature{constructor(e){super(e,lX.ReferencesRequest.type)}fillClientCapabilities(e){(0,dX.ensure)((0,dX.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:Qht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>c.sendRequest(lX.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,m),_).then(T=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(T,_),T=>c.handleFailedRequest(lX.ReferencesRequest.type,_,T,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Xht.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};K_.ReferencesFeature=fX});var SPe=E(Uz=>{"use strict";Object.defineProperty(Uz,"__esModule",{value:!0});Uz.TypeDefinitionFeature=void 0;var Zht=require("vscode"),hX=an(),fA=Lo(),pX=class extends fA.TextDocumentLanguageFeature{constructor(e){super(e,hX.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,fA.ensure)((0,fA.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,fA.ensure)((0,fA.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(hX.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(hX.TypeDefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Zht.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Uz.TypeDefinitionFeature=pX});var CPe=E(Hz=>{"use strict";Object.defineProperty(Hz,"__esModule",{value:!0});Hz.ImplementationFeature=void 0;var ept=require("vscode"),mX=an(),gX=Lo(),vX=class extends gX.TextDocumentLanguageFeature{constructor(e){super(e,mX.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,gX.ensure)((0,gX.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(mX.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(mX.ImplementationRequest.type,f,m,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return ept.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Hz.ImplementationFeature=vX});var bX=E(Bz=>{"use strict";Object.defineProperty(Bz,"__esModule",{value:!0});Bz.ColorProviderFeature=void 0;var tpt=require("vscode"),hA=an(),yX=Lo(),_X=class extends yX.TextDocumentLanguageFeature{constructor(e){super(e,hA.DocumentColorRequest.type)}fillClientCapabilities(e){(0,yX.ensure)((0,yX.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(hA.ColorPresentationRequest.type,m,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(hA.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(hA.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(hA.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[tpt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Bz.ColorProviderFeature=_X});var DPe=E(Y_=>{"use strict";var rpt=Y_&&Y_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),npt=Y_&&Y_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ipt=Y_&&Y_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rpt(t,e,n[i]);return npt(t,e),t}}();Object.defineProperty(Y_,"__esModule",{value:!0});Y_.CodeActionFeature=void 0;var opt=require("vscode"),Kf=an(),spt=ipt(za()),wX=Lo(),SX=class extends wX.TextDocumentLanguageFeature{constructor(e){super(e,Kf.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,wX.ensure)((0,wX.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Kf.CodeActionKind.Empty,Kf.CodeActionKind.QuickFix,Kf.CodeActionKind.Refactor,Kf.CodeActionKind.RefactorExtract,Kf.CodeActionKind.RefactorInline,Kf.CodeActionKind.RefactorMove,Kf.CodeActionKind.RefactorRewrite,Kf.CodeActionKind.Source,Kf.CodeActionKind.SourceOrganizeImports,Kf.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[Kf.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:spt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(m)};return c.sendRequest(Kf.CodeActionRequest.type,T,_).then(x=>_.isCancellationRequested||x===null||x===void 0?null:c.protocol2CodeConverter.asCodeActionResult(x,_),x=>c.handleFailedRequest(Kf.CodeActionRequest.type,_,x,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Kf.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Kf.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[opt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};Y_.CodeActionFeature=SX});var EPe=E(J_=>{"use strict";var apt=J_&&J_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cpt=J_&&J_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),upt=J_&&J_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&apt(t,e,n[i]);return cpt(t,e),t}}();Object.defineProperty(J_,"__esModule",{value:!0});J_.CodeLensFeature=void 0;var TPe=require("vscode"),qP=an(),lpt=upt(za()),pA=Lo(),CX=class extends pA.TextDocumentLanguageFeature{constructor(e){super(e,qP.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,pA.ensure)((0,pA.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,pA.ensure)((0,pA.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(qP.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:lpt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new TPe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(qP.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(qP.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(qP.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(qP.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[TPe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};J_.CodeLensFeature=CX});var PPe=E(tm=>{"use strict";var dpt=tm&&tm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fpt=tm&&tm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hpt=tm&&tm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&dpt(t,e,n[i]);return fpt(t,e),t}}();Object.defineProperty(tm,"__esModule",{value:!0});tm.DocumentOnTypeFormattingFeature=tm.DocumentRangeFormattingFeature=tm.DocumentFormattingFeature=void 0;var Wz=require("vscode"),Ey=an(),PX=hpt(za()),Mw=Lo(),jP;(function(r){function e(t){let n=Wz.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(jP||(jP={}));var DX=class extends Mw.TextDocumentLanguageFeature{constructor(e){super(e,Ey.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Mw.ensure)((0,Mw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:PX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,jP.fromConfiguration(l))};return a.sendRequest(Ey.DocumentFormattingRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(Ey.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[Wz.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tm.DocumentFormattingFeature=DX;var TX=class extends Mw.TextDocumentLanguageFeature{constructor(e){super(e,Ey.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,Mw.ensure)((0,Mw.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:PX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(m,jP.fromConfiguration(d))};return c.sendRequest(Ey.DocumentRangeFormattingRequest.type,T,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(Ey.DocumentRangeFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(m,jP.fromConfiguration(d))};return c.sendRequest(Ey.DocumentRangesFormattingRequest.type,T,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(Ey.DocumentRangesFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[Wz.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tm.DocumentRangeFormattingFeature=TX;var EX=class extends Mw.TextDocumentLanguageFeature{constructor(e){super(e,Ey.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Mw.ensure)((0,Mw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:PX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(m,_,T,x,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),position:l.code2ProtocolConverter.asPosition(_),ch:T,options:l.code2ProtocolConverter.asFormattingOptions(x,jP.fromConfiguration(m))};return l.sendRequest(Ey.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(Ey.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[Wz.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};tm.DocumentOnTypeFormattingFeature=EX});var OPe=E(X_=>{"use strict";var ppt=X_&&X_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mpt=X_&&X_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xPe=X_&&X_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ppt(t,e,n[i]);return mpt(t,e),t}}();Object.defineProperty(X_,"__esModule",{value:!0});X_.RenameFeature=void 0;var gpt=require("vscode"),FT=an(),vpt=xPe(za()),RPe=xPe(fv()),RX=Lo(),xX=class extends RX.TextDocumentLanguageFeature{constructor(e){super(e,FT.RenameRequest.type)}fillClientCapabilities(e){let t=(0,RX.ensure)((0,RX.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=FT.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(RPe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:vpt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:m};return c.sendRequest(FT.RenameRequest.type,T,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(x,_),x=>c.handleFailedRequest(FT.RenameRequest.type,_,x,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(FT.PrepareRenameRequest.type,m,f).then(_=>f.isCancellationRequested?null:FT.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&FT.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return gpt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&RPe.boolean(t.defaultBehavior)}};X_.RenameFeature=xX});var kX=E(Q_=>{"use strict";var ypt=Q_&&Q_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_pt=Q_&&Q_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bpt=Q_&&Q_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ypt(t,e,n[i]);return _pt(t,e),t}}();Object.defineProperty(Q_,"__esModule",{value:!0});Q_.DocumentLinkFeature=void 0;var wpt=require("vscode"),mA=an(),OX=Lo(),Spt=bpt(za()),IX=class extends OX.TextDocumentLanguageFeature{constructor(e){super(e,mA.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,OX.ensure)((0,OX.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:Spt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(mA.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(mA.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(mA.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(mA.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[wpt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Q_.DocumentLinkFeature=IX});var kPe=E(Z_=>{"use strict";var Cpt=Z_&&Z_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dpt=Z_&&Z_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tpt=Z_&&Z_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Cpt(t,e,n[i]);return Dpt(t,e),t}}();Object.defineProperty(Z_,"__esModule",{value:!0});Z_.ExecuteCommandFeature=void 0;var Ept=require("vscode"),AX=an(),Ppt=Tpt(za()),IPe=Lo(),LX=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return AX.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,IPe.ensure)((0,IPe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Ppt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(AX.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(AX.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(Ept.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Z_.ExecuteCommandFeature=LX});var LPe=E($z=>{"use strict";Object.defineProperty($z,"__esModule",{value:!0});$z.FoldingRangeFeature=void 0;var APe=require("vscode"),qT=an(),gA=Lo(),MX=class extends gA.TextDocumentLanguageFeature{constructor(e){super(e,qT.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,gA.ensure)((0,gA.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[qT.FoldingRangeKind.Comment,qT.FoldingRangeKind.Imports,qT.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,gA.ensure)((0,gA.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(qT.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new APe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(qT.FoldingRangeRequest.type,_,m).then(T=>m.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(T,m),T=>c.handleFailedRequest(qT.FoldingRangeRequest.type,m,T,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[APe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};$z.FoldingRangeFeature=MX});var jX=E(Vz=>{"use strict";Object.defineProperty(Vz,"__esModule",{value:!0});Vz.DeclarationFeature=void 0;var Rpt=require("vscode"),NX=an(),FX=Lo(),qX=class extends FX.TextDocumentLanguageFeature{constructor(e){super(e,NX.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,FX.ensure)((0,FX.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(NX.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(m,f),m=>a.handleFailedRequest(NX.DeclarationRequest.type,f,m,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Rpt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Vz.DeclarationFeature=qX});var BX=E(Gz=>{"use strict";Object.defineProperty(Gz,"__esModule",{value:!0});Gz.SelectionRangeFeature=void 0;var xpt=require("vscode"),zX=an(),UX=Lo(),HX=class extends UX.TextDocumentLanguageFeature{constructor(e){super(e,zX.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,UX.ensure)((0,UX.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(zX.SelectionRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(zX.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return xpt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Gz.SelectionRangeFeature=HX});var GX=E(Kz=>{"use strict";Object.defineProperty(Kz,"__esModule",{value:!0});Kz.CallHierarchyFeature=void 0;var Opt=require("vscode"),jT=an(),WX=Lo(),$X=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(jT.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(jT.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(jT.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(jT.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(jT.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(jT.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},VX=class extends WX.TextDocumentLanguageFeature{constructor(e){super(e,jT.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,WX.ensure)((0,WX.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new $X(t);return[Opt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Kz.CallHierarchyFeature=VX});var NPe=E(eb=>{"use strict";var Ipt=eb&&eb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kpt=eb&&eb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),MPe=eb&&eb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Ipt(t,e,n[i]);return kpt(t,e),t}}();Object.defineProperty(eb,"__esModule",{value:!0});eb.SemanticTokensFeature=void 0;var Yz=MPe(require("vscode")),Fi=an(),vA=Lo(),Apt=MPe(fv()),KX=class extends vA.TextDocumentLanguageFeature{constructor(e){super(e,Fi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,vA.ensure)((0,vA.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Fi.SemanticTokenTypes.namespace,Fi.SemanticTokenTypes.type,Fi.SemanticTokenTypes.class,Fi.SemanticTokenTypes.enum,Fi.SemanticTokenTypes.interface,Fi.SemanticTokenTypes.struct,Fi.SemanticTokenTypes.typeParameter,Fi.SemanticTokenTypes.parameter,Fi.SemanticTokenTypes.variable,Fi.SemanticTokenTypes.property,Fi.SemanticTokenTypes.enumMember,Fi.SemanticTokenTypes.event,Fi.SemanticTokenTypes.function,Fi.SemanticTokenTypes.method,Fi.SemanticTokenTypes.macro,Fi.SemanticTokenTypes.keyword,Fi.SemanticTokenTypes.modifier,Fi.SemanticTokenTypes.comment,Fi.SemanticTokenTypes.string,Fi.SemanticTokenTypes.number,Fi.SemanticTokenTypes.regexp,Fi.SemanticTokenTypes.operator,Fi.SemanticTokenTypes.decorator,Fi.SemanticTokenTypes.label],t.tokenModifiers=[Fi.SemanticTokenModifiers.declaration,Fi.SemanticTokenModifiers.definition,Fi.SemanticTokenModifiers.readonly,Fi.SemanticTokenModifiers.static,Fi.SemanticTokenModifiers.deprecated,Fi.SemanticTokenModifiers.abstract,Fi.SemanticTokenModifiers.async,Fi.SemanticTokenModifiers.modification,Fi.SemanticTokenModifiers.documentation,Fi.SemanticTokenModifiers.defaultLibrary],t.formats=[Fi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,vA.ensure)((0,vA.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Fi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=Apt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new Yz.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(m,_)=>{let T=this._client,x=T.middleware,M=(A,U)=>{let ne={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(A)};return T.sendRequest(Fi.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:T.protocol2CodeConverter.asSemanticTokens(de,U),de=>T.handleFailedRequest(Fi.SemanticTokensRequest.type,U,de,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(m,_,M):M(m,_)},provideDocumentSemanticTokensEdits:i?(m,_,T)=>{let x=this._client,M=x.middleware,A=(U,ne,de)=>{let ye={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return x.sendRequest(Fi.SemanticTokensDeltaRequest.type,ye,de).then(async V=>de.isCancellationRequested?null:Fi.SemanticTokens.is(V)?await x.protocol2CodeConverter.asSemanticTokens(V,de):await x.protocol2CodeConverter.asSemanticTokensEdits(V,de),V=>x.handleFailedRequest(Fi.SemanticTokensDeltaRequest.type,de,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(m,_,T,A):A(m,_,T)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(m,_,T)=>{let x=this._client,M=x.middleware,A=(U,ne,de)=>{let ye={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),range:x.code2ProtocolConverter.asRange(ne)};return x.sendRequest(Fi.SemanticTokensRangeRequest.type,ye,de).then(V=>de.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(V,de),V=>x.handleFailedRequest(Fi.SemanticTokensRangeRequest.type,de,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(m,_,T,A):A(m,_,T)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(Yz.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(Yz.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new Yz.Disposable(()=>u.forEach(m=>m.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};eb.SemanticTokensFeature=KX});var qPe=E(tb=>{"use strict";var Lpt=tb&&tb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mpt=tb&&tb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FPe=tb&&tb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Lpt(t,e,n[i]);return Mpt(t,e),t}}();Object.defineProperty(tb,"__esModule",{value:!0});tb.LinkedEditingFeature=void 0;var Npt=FPe(require("vscode")),YX=FPe(an()),JX=Lo(),XX=class extends JX.TextDocumentLanguageFeature{constructor(e){super(e,YX.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,JX.ensure)((0,JX.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(YX.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(m,f),m=>a.handleFailedRequest(YX.LinkedEditingRangeRequest.type,f,m,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Npt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};tb.LinkedEditingFeature=XX});var tQ=E(Jz=>{"use strict";Object.defineProperty(Jz,"__esModule",{value:!0});Jz.TypeHierarchyFeature=void 0;var Fpt=require("vscode"),zT=an(),QX=Lo(),ZX=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(zT.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(zT.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(zT.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(zT.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(zT.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(zT.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},eQ=class extends QX.TextDocumentLanguageFeature{constructor(e){super(e,zT.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,QX.ensure)((0,QX.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new ZX(t);return[Fpt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Jz.TypeHierarchyFeature=eQ});var nQ=E(Qz=>{"use strict";Object.defineProperty(Qz,"__esModule",{value:!0});Qz.InlineValueFeature=void 0;var jPe=require("vscode"),Xz=an(),yA=Lo(),rQ=class extends yA.TextDocumentLanguageFeature{constructor(e){super(e,Xz.InlineValueRequest.type)}fillClientCapabilities(e){(0,yA.ensure)((0,yA.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,yA.ensure)((0,yA.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(Xz.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new jPe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,m,_,T)=>{let x={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(m),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(Xz.InlineValueRequest.type,x,T).then(M=>T.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,T),M=>u.handleFailedRequest(Xz.InlineValueRequest.type,T,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return jPe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Qz.InlineValueFeature=rQ});var UPe=E(Zz=>{"use strict";Object.defineProperty(Zz,"__esModule",{value:!0});Zz.InlayHintsFeature=void 0;var zPe=require("vscode"),zP=an(),_A=Lo(),iQ=class extends _A.TextDocumentLanguageFeature{constructor(e){super(e,zP.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,_A.ensure)((0,_A.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,_A.ensure)((0,_A.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(zP.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new zPe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let T=await c.sendRequest(zP.InlayHintRequest.type,_,m);return m.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(T,m)}catch(T){return c.handleFailedRequest(zP.InlayHintRequest.type,m,T,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(zP.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let m=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:m}catch(f){return a.handleFailedRequest(zP.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return zPe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Zz.InlayHintsFeature=iQ});var cQ=E(Py=>{"use strict";var qpt=Py&&Py.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jpt=Py&&Py.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zpt=Py&&Py.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qpt(t,e,n[i]);return jpt(t,e),t}}();Object.defineProperty(Py,"__esModule",{value:!0});Py.WorkspaceFoldersFeature=void 0;Py.arrayDiff=sQ;var Upt=zpt(za()),eU=require("vscode"),bA=an();function oQ(r,e){if(r!=null)return r[e]}function sQ(r,e){return r.filter(t=>e.indexOf(t)<0)}var aQ=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return bA.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=eU.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(bA.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=eU.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=oQ(oQ(oQ(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=Upt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=sQ(this._initialFolders,e),i=sQ(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${bA.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(bA.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=eU.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${bA.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(eU.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Py.WorkspaceFoldersFeature=aQ});var WPe=E(Zu=>{"use strict";var Hpt=Zu&&Zu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bpt=Zu&&Zu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nU=Zu&&Zu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Hpt(t,e,n[i]);return Bpt(t,e),t}}();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.WillDeleteFilesFeature=Zu.WillRenameFilesFeature=Zu.WillCreateFilesFeature=Zu.DidDeleteFilesFeature=Zu.DidRenameFilesFeature=Zu.DidCreateFilesFeature=void 0;var gv=nU(require("vscode")),Wpt=nU(RJ()),Nw=nU(an()),$pt=nU(za());function HPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function Vpt(r,e){return r[e]}function BPe(r,e,t){r[e]=t}var wA=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=HPe(HPe(e,"workspace"),"fileOperations");BPe(t,"dynamicRegistration",!0),BPe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?Vpt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:$pt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new Wpt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===gv.FileType.File&&u.kind===Nw.FileOperationPatternKind.file||l===gv.FileType.Directory&&u.kind===Nw.FileOperationPatternKind.folder)return!0}else if(u.kind===Nw.FileOperationPatternKind.folder&&await r.getFileType(s)===gv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await gv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},tU=class extends wA{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},rU=class extends tU{_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await wA.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},uQ=class extends tU{constructor(e){super(e,gv.workspace.onDidCreateFiles,Nw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Zu.DidCreateFilesFeature=uQ;var lQ=class extends rU{constructor(e){super(e,gv.workspace.onDidRenameFiles,Nw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=gv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Zu.DidRenameFilesFeature=lQ;var dQ=class extends rU{constructor(e){super(e,gv.workspace.onDidDeleteFiles,Nw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=gv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Zu.DidDeleteFilesFeature=dQ;var SA=class extends wA{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},fQ=class extends SA{constructor(e){super(e,gv.workspace.onWillCreateFiles,Nw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Zu.WillCreateFilesFeature=fQ;var hQ=class extends SA{constructor(e){super(e,gv.workspace.onWillRenameFiles,Nw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Zu.WillRenameFilesFeature=hQ;var pQ=class extends SA{constructor(e){super(e,gv.workspace.onWillDeleteFiles,Nw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Zu.WillDeleteFilesFeature=pQ});var $Pe=E(rb=>{"use strict";var Gpt=rb&&rb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kpt=rb&&rb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ypt=rb&&rb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Gpt(t,e,n[i]);return Kpt(t,e),t}}();Object.defineProperty(rb,"__esModule",{value:!0});rb.InlineCompletionItemFeature=void 0;var Jpt=require("vscode"),mQ=an(),gQ=Lo(),Xpt=Ypt(za()),vQ=class extends gQ.TextDocumentLanguageFeature{constructor(e){super(e,mQ.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,gQ.ensure)((0,gQ.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:Xpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,m,_)=>c.sendRequest(mQ.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,m),_).then(T=>_.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(T,_),T=>c.handleFailedRequest(mQ.InlineCompletionRequest.type,_,T,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[Jpt.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};rb.InlineCompletionItemFeature=vQ});var KPe=E(nb=>{"use strict";var Qpt=nb&&nb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zpt=nb&&nb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),GPe=nb&&nb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qpt(t,e,n[i]);return Zpt(t,e),t}}();Object.defineProperty(nb,"__esModule",{value:!0});nb.TextDocumentContentFeature=void 0;var yQ=GPe(require("vscode")),UP=an(),VPe=Lo(),emt=GPe(za()),_Q=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:UP.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return UP.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,VPe.ensure)((0,VPe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(UP.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme!==s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=UP.StaticRegistrationOptions.hasId(n)?n.id:emt.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:yQ.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new yQ.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(UP.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(UP.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[yQ.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};nb.TextDocumentContentFeature=_Q});var YPe=E(oU=>{"use strict";Object.defineProperty(oU,"__esModule",{value:!0});oU.FileSystemWatcherFeature=void 0;var tmt=require("vscode"),UT=an(),iU=Lo(),bQ=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return UT.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,iU.ensure)((0,iU.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,iU.ensure)((0,iU.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&UT.WatchKind.Create)!==0,s=(n.kind&UT.WatchKind.Change)!==0,a=(n.kind&UT.WatchKind.Delete)!==0);let c=tmt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:UT.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:UT.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:UT.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};oU.FileSystemWatcherFeature=bQ});var XPe=E(sU=>{"use strict";Object.defineProperty(sU,"__esModule",{value:!0});sU.ProgressFeature=void 0;var JPe=an(),rmt=gJ();function nmt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var wQ=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:JPe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){nmt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new rmt.ProgressPart(this._client,i.token,t))};e.onRequest(JPe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};sU.ProgressFeature=wQ});var OQ=E(ea=>{"use strict";var imt=ea&&ea.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),omt=ea&&ea.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uU=ea&&ea.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&imt(t,e,n[i]);return omt(t,e),t}}();Object.defineProperty(ea,"__esModule",{value:!0});ea.ProposedFeatures=ea.LanguageClient=ea.BaseLanguageClient=ea.ShutdownMode=ea.MessageTransports=ea.SuspendMode=ea.State=ea.CloseAction=ea.ErrorAction=ea.RevealOutputChannelOn=void 0;var Li=require("vscode"),mr=an(),smt=uU(xEe()),amt=uU(Tz()),Ry=uU(fv()),aU=bz(),QPe=uU(za()),cmt=gJ(),og=Lo(),umt=Nz(),CQ=qJ(),ZPe=dPe(),HP=fPe(),lmt=hPe(),dmt=pPe(),fmt=mPe(),hmt=vPe(),pmt=yPe(),mmt=aX(),gmt=bPe(),vmt=wPe(),ymt=SPe(),_mt=CPe(),bmt=bX(),wmt=DPe(),Smt=EPe(),SQ=PPe(),Cmt=OPe(),Dmt=kX(),Tmt=kPe(),Emt=LPe(),Pmt=jX(),Rmt=BX(),xmt=GX(),Omt=NPe(),Imt=qPe(),kmt=tQ(),Amt=nQ(),Lmt=UPe(),Mmt=cQ(),BP=WPe(),Nmt=$Pe(),Fmt=KPe(),qmt=YPe(),jmt=XPe(),HT;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(HT||(ea.RevealOutputChannelOn=HT={}));var CA;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(CA||(ea.ErrorAction=CA={}));var WC;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(WC||(ea.CloseAction=WC={}));var WP;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(WP||(ea.State=WP={}));var eRe;(function(r){r.off="off",r.on="on"})(eRe||(ea.SuspendMode=eRe={}));var DQ;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&Ry.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(DQ||(DQ={}));var TQ=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:CA.Continue}:{action:CA.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:WC.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:WC.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:WC.Restart})}},no;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(no||(no={}));var tRe;(function(r){function e(t){return t&&mr.MessageReader.is(t.reader)&&mr.MessageWriter.is(t.writer)}r.is=e})(tRe||(ea.MessageTransports=tRe={}));var BC;(function(r){r.Restart="restart",r.Stop="stop"})(BC||(ea.ShutdownMode=BC={}));var EQ=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Li.EventEmitter,this._onClose=new Li.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Li.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Li.Uri.parse(c));this._onOpen.fire(a)}};Li.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Li.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Li.Uri?Li.window.activeTextEditor?.document.uri===e:Li.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Li.Uri?e:e.uri;return t.scheme===CQ.NotebookDocumentSyncFeature.CellScheme?Li.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Li.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Li.TabInputText?a=s.uri:s instanceof Li.TabInputTextDiff?a=s.modified:(s instanceof Li.TabInputCustom||s instanceof Li.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},cU=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=mr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=DQ.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??HT.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=no.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new aU.Semaphore(1),this._pendingChangeDelayer=new aU.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new aU.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new mr.Emitter,this._stateChangeEmitter=new mr.Emitter,this._trace=mr.Trace.Off,this._tracer={log:(o,s)=>{Ry.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=smt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=amt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new EQ),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Li.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case no.Starting:return WP.Starting;case no.Running:return WP.Running;case no.StartFailed:return WP.StartFailed;default:return WP.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?mr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new mr.ResponseError(mr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===mr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===mr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o),n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let a=this._clientOptions.middleware?.sendNotification;return a?a(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new TQ(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Ry.string(e.stack)?e.stack:e.message:Ry.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(mr.MessageType.Debug,HT.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(mr.MessageType.Info,HT.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(mr.MessageType.Warning,HT.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(mr.MessageType.Error,HT.Error,"Error",e,t,n)}logOutputMessage(e,t,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i,o)}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===mr.MessageType.Error?Li.window.showErrorMessage:e===mr.MessageType.Warning?Li.window.showWarningMessage:Li.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===no.Initial||this.$state===no.Stopping||this.$state===no.Stopped}needsStop(){return this.$state===no.Starting||this.$state===no.Running}activeConnection(){return this.$state===no.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===no.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===no.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Li.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=no.Starting;try{let i=await this.createConnection();i.onNotification(mr.LogMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:this.error(o.message,void 0,!1);break;case mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case mr.MessageType.Info:this.info(o.message,void 0,!1);break;case mr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(mr.ShowMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:Li.window.showErrorMessage(o.message);break;case mr.MessageType.Warning:Li.window.showWarningMessage(o.message);break;case mr.MessageType.Info:Li.window.showInformationMessage(o.message);break;default:Li.window.showInformationMessage(o.message)}}),i.onRequest(mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case mr.MessageType.Error:s=Li.window.showErrorMessage;break;case mr.MessageType.Warning:s=Li.window.showWarningMessage;break;case mr.MessageType.Info:s=Li.window.showInformationMessage;break;default:s=Li.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(mr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Li.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Li.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=no.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Li.env.appName,version:Li.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Li.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Ry.func(t)?t():t,trace:mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=QPe.generateUuid(),a=new cmt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=no.Running;let i;Ry.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===mr.TextDocumentSyncKind.None?i={openClose:!1,change:mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof mr.ResponseError&&n.data&&n.data.retry?Li.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Li.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Li.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(BC.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===no.Stopped||this.$state===no.Initial)return;if(this.$state===no.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==no.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=no.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=no.Stopped,e===BC.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===BC.Stop||e===BC.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(mr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(mr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,mr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Li.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Li.env.language}async $start(){if(this.$state===no.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=zmt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===no.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:WC.DoNotRestart};if(this.$state!==no.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===WC.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(BC.Stop),this.$state===no.Starting?this.$state=no.StartFailed:this.$state=no.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===WC.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(BC.Restart),this.$state=no.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===CA.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Li.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Li.workspace.getConfiguration(this._id),i=mr.Trace.Off,o=mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=mr.Trace.fromString(s):(i=mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;Ry.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(mr.DidChangeWatchedFilesNotification.type.method).registerRaw(QPe.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),og.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof CQ.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new ZPe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new HP.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new HP.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new HP.WillSaveFeature(this)),this.registerFeature(new HP.WillSaveWaitUntilFeature(this)),this.registerFeature(new HP.DidSaveTextDocumentFeature(this)),this.registerFeature(new HP.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new qmt.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new lmt.CompletionItemFeature(this)),this.registerFeature(new dmt.HoverFeature(this)),this.registerFeature(new hmt.SignatureHelpFeature(this)),this.registerFeature(new fmt.DefinitionFeature(this)),this.registerFeature(new vmt.ReferencesFeature(this)),this.registerFeature(new pmt.DocumentHighlightFeature(this)),this.registerFeature(new mmt.DocumentSymbolFeature(this)),this.registerFeature(new gmt.WorkspaceSymbolFeature(this)),this.registerFeature(new wmt.CodeActionFeature(this)),this.registerFeature(new Smt.CodeLensFeature(this)),this.registerFeature(new SQ.DocumentFormattingFeature(this)),this.registerFeature(new SQ.DocumentRangeFormattingFeature(this)),this.registerFeature(new SQ.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new Cmt.RenameFeature(this)),this.registerFeature(new Dmt.DocumentLinkFeature(this)),this.registerFeature(new Tmt.ExecuteCommandFeature(this)),this.registerFeature(new ZPe.SyncConfigurationFeature(this)),this.registerFeature(new ymt.TypeDefinitionFeature(this)),this.registerFeature(new _mt.ImplementationFeature(this)),this.registerFeature(new bmt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new Mmt.WorkspaceFoldersFeature(this)),this.registerFeature(new Emt.FoldingRangeFeature(this)),this.registerFeature(new Pmt.DeclarationFeature(this)),this.registerFeature(new Rmt.SelectionRangeFeature(this)),this.registerFeature(new jmt.ProgressFeature(this)),this.registerFeature(new xmt.CallHierarchyFeature(this)),this.registerFeature(new Omt.SemanticTokensFeature(this)),this.registerFeature(new Imt.LinkedEditingFeature(this)),this.registerFeature(new BP.DidCreateFilesFeature(this)),this.registerFeature(new BP.DidRenameFilesFeature(this)),this.registerFeature(new BP.DidDeleteFilesFeature(this)),this.registerFeature(new BP.WillCreateFilesFeature(this)),this.registerFeature(new BP.WillRenameFilesFeature(this)),this.registerFeature(new BP.WillDeleteFilesFeature(this)),this.registerFeature(new kmt.TypeHierarchyFeature(this)),this.registerFeature(new Amt.InlineValueFeature(this)),this.registerFeature(new Lmt.InlayHintsFeature(this)),this.registerFeature(new umt.DiagnosticFeature(this)),this.registerFeature(new CQ.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(xQ.createAll(this))}fillInitializeParams(e){for(let t of this._features)Ry.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,og.ensure)(e,"workspace").applyEdit=!0;let t=(0,og.ensure)((0,og.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[mr.ResourceOperationKind.Create,mr.ResourceOperationKind.Rename,mr.ResourceOperationKind.Delete],t.failureHandling=mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,og.ensure)((0,og.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[mr.DiagnosticTag.Unnecessary,mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,og.ensure)((0,og.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,og.ensure)(e,"window"),s=(0,og.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,og.ensure)(o,"showDocument");a.support=!0;let c=(0,og.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)Ry.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof mr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new aU.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Li.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):Ry.asPromise(Li.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([mr.SemanticTokensRequest.method,mr.SemanticTokensRangeRequest.method,mr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([mr.CompletionResolveRequest.method,mr.CodeLensResolveRequest.method,mr.CodeActionResolveRequest.method,mr.InlayHintResolveRequest.method,mr.DocumentLinkResolveRequest.method,mr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof mr.ResponseError){if(n.code===mr.ErrorCodes.PendingResponseRejected||n.code===mr.ErrorCodes.ConnectionInactive)return i;if(n.code===mr.LSPErrorCodes.RequestCancelled||n.code===mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new og.LSPCancellationError(n.data):new Li.CancellationError}else if(n.code===mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Li.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};ea.BaseLanguageClient=cU;var PQ=class extends cU{serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};ea.LanguageClient=PQ;var RQ=class{error(e){(0,mr.RAL)().console.error(e)}warn(e){(0,mr.RAL)().console.warn(e)}info(e){(0,mr.RAL)().console.info(e)}log(e){(0,mr.RAL)().console.log(e)}};function zmt(r,e,t,n,i){let o=new RQ,s=(0,mr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:mr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(Ry.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(mr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(mr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(mr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var xQ;(function(r){function e(t){return[new Nmt.InlineCompletionItemFeature(t),new Fmt.TextDocumentContentFeature(t)]}r.createAll=e})(xQ||(ea.ProposedFeatures=xQ={}))});var nRe=E(Fw=>{"use strict";var Umt=Fw&&Fw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hmt=Fw&&Fw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bmt=Fw&&Fw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Umt(t,e,n[i]);return Hmt(t,e),t}}();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.terminate=Kmt;var rRe=Bmt(require("child_process")),Wmt=require("path"),$mt=process.platform==="win32",Vmt=process.platform==="darwin",Gmt=process.platform==="linux";function Kmt(r,e){if($mt)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),rRe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(Gmt||Vmt)try{let t=(0,Wmt.join)(__dirname,"terminateProcess.sh");return!rRe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var sRe=E(MQ=>{"use strict";Object.defineProperty(MQ,"__esModule",{value:!0});var iRe=require("util"),qw=Xu(),IQ=class r extends qw.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new iRe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},kQ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),qw.Disposable.create(()=>this.stream.off("data",e))}},AQ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},oRe=Object.freeze({messageBuffer:Object.freeze({create:r=>new IQ(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new iRe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new kQ(r),asWritableStream:r=>new AQ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function LQ(){return oRe}(function(r){function e(){qw.RAL.install(oRe)}r.install=e})(LQ||(LQ={}));MQ.default=LQ});var UQ=E(Mo=>{"use strict";var cRe=Mo&&Mo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ymt=Mo&&Mo.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zQ=Mo&&Mo.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&cRe(t,e,n[i]);return Ymt(t,e),t}}(),Jmt=Mo&&Mo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cRe(e,r,t)},Xmt=Mo&&Mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.StreamMessageWriter=Mo.StreamMessageReader=Mo.SocketMessageWriter=Mo.SocketMessageReader=Mo.PortMessageWriter=Mo.PortMessageReader=Mo.IPCMessageWriter=Mo.IPCMessageReader=void 0;Mo.generateRandomPipeName=ngt;Mo.createClientPipeTransport=igt;Mo.createServerPipeTransport=ogt;Mo.createClientSocketTransport=sgt;Mo.createServerSocketTransport=agt;Mo.createMessageConnection=lgt;var DA=Xmt(sRe());DA.default.install();var Qmt=zQ(require("path")),Zmt=zQ(require("os")),egt=zQ(require("fs")),aRe=require("crypto"),fU=require("net"),sg=Xu();Jmt(Xu(),Mo);var NQ=class extends sg.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),sg.Disposable.create(()=>this.process.off("message",e))}};Mo.IPCMessageReader=NQ;var FQ=class extends sg.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.IPCMessageWriter=FQ;var qQ=class extends sg.AbstractMessageReader{onData;constructor(e){super(),this.onData=new sg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Mo.PortMessageReader=qQ;var jQ=class extends sg.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.PortMessageWriter=jQ;var BT=class extends sg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,DA.default)().stream.asReadableStream(e),t)}};Mo.SocketMessageReader=BT;var WT=class extends sg.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,DA.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Mo.SocketMessageWriter=WT;var lU=class extends sg.ReadableStreamMessageReader{constructor(e,t){super((0,DA.default)().stream.asReadableStream(e),t)}};Mo.StreamMessageReader=lU;var dU=class extends sg.WriteableStreamMessageWriter{constructor(e,t){super((0,DA.default)().stream.asWritableStream(e),t)}};Mo.StreamMessageWriter=dU;var tgt=process.env.XDG_RUNTIME_DIR,rgt=new Map([["linux",107],["darwin",103]]);function ngt(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,aRe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=egt.realpathSync(tgt??Zmt.tmpdir()),n=rgt.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,aRe.randomBytes)(Math.floor(r/2)).toString("hex");return Qmt.join(t,`lsp-${i}.sock`)}function igt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,fU.createServer)(a=>{s.close(),t([new BT(a,e),new WT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function ogt(r,e="utf-8"){let t=(0,fU.createConnection)(r);return[new BT(t,e),new WT(t,e)]}function sgt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,fU.createServer)(a=>{s.close(),t([new BT(a,e),new WT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function agt(r,e="utf-8"){let t=(0,fU.createConnection)(r,"127.0.0.1");return[new BT(t,e),new WT(t,e)]}function cgt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function ugt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function lgt(r,e,t,n){t||(t=sg.NullLogger);let i=cgt(r)?new lU(r):r,o=ugt(e)?new dU(e):e;return sg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,sg.createMessageConnection)(i,o,t,n)}});var HQ=E(jw=>{"use strict";var dgt=jw&&jw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uRe=jw&&jw.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dgt(e,r,t)};Object.defineProperty(jw,"__esModule",{value:!0});jw.createProtocolConnection=hgt;var fgt=UQ();uRe(UQ(),jw);uRe(an(),jw);function hgt(r,e,t,n){return(0,fgt.createMessageConnection)(r,e,t,n)}});var TA=E((_3t,lRe)=>{var pgt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};lRe.exports=pgt});var hU=E((b3t,dRe)=>{var mgt="2.0.0",ggt=Number.MAX_SAFE_INTEGER||9007199254740991,vgt=16,ygt=250,_gt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];dRe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:vgt,MAX_SAFE_BUILD_LENGTH:ygt,MAX_SAFE_INTEGER:ggt,RELEASE_TYPES:_gt,SEMVER_SPEC_VERSION:mgt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pU=E((ib,fRe)=>{var{MAX_SAFE_COMPONENT_LENGTH:BQ,MAX_SAFE_BUILD_LENGTH:bgt,MAX_LENGTH:wgt}=hU(),Sgt=TA();ib=fRe.exports={};var Cgt=ib.re=[],Dgt=ib.safeRe=[],en=ib.src=[],Tgt=ib.safeSrc=[],tn=ib.t={},Egt=0,WQ="[a-zA-Z0-9-]",Pgt=[["\\s",1],["\\d",wgt],[WQ,bgt]],Rgt=r=>{for(let[e,t]of Pgt)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Ui=(r,e,t)=>{let n=Rgt(e),i=Egt++;Sgt(r,i,e),tn[r]=i,en[i]=e,Tgt[i]=n,Cgt[i]=new RegExp(e,t?"g":void 0),Dgt[i]=new RegExp(n,t?"g":void 0)};Ui("NUMERICIDENTIFIER","0|[1-9]\\d*");Ui("NUMERICIDENTIFIERLOOSE","\\d+");Ui("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${WQ}*`);Ui("MAINVERSION",`(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})`);Ui("MAINVERSIONLOOSE",`(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})`);Ui("PRERELEASEIDENTIFIER",`(?:${en[tn.NUMERICIDENTIFIER]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASEIDENTIFIERLOOSE",`(?:${en[tn.NUMERICIDENTIFIERLOOSE]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASE",`(?:-(${en[tn.PRERELEASEIDENTIFIER]}(?:\\.${en[tn.PRERELEASEIDENTIFIER]})*))`);Ui("PRERELEASELOOSE",`(?:-?(${en[tn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${en[tn.PRERELEASEIDENTIFIERLOOSE]})*))`);Ui("BUILDIDENTIFIER",`${WQ}+`);Ui("BUILD",`(?:\\+(${en[tn.BUILDIDENTIFIER]}(?:\\.${en[tn.BUILDIDENTIFIER]})*))`);Ui("FULLPLAIN",`v?${en[tn.MAINVERSION]}${en[tn.PRERELEASE]}?${en[tn.BUILD]}?`);Ui("FULL",`^${en[tn.FULLPLAIN]}$`);Ui("LOOSEPLAIN",`[v=\\s]*${en[tn.MAINVERSIONLOOSE]}${en[tn.PRERELEASELOOSE]}?${en[tn.BUILD]}?`);Ui("LOOSE",`^${en[tn.LOOSEPLAIN]}$`);Ui("GTLT","((?:<|>)?=?)");Ui("XRANGEIDENTIFIERLOOSE",`${en[tn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ui("XRANGEIDENTIFIER",`${en[tn.NUMERICIDENTIFIER]}|x|X|\\*`);Ui("XRANGEPLAIN",`[v=\\s]*(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:${en[tn.PRERELEASE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGEPLAINLOOSE",`[v=\\s]*(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:${en[tn.PRERELEASELOOSE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAIN]}$`);Ui("XRANGELOOSE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COERCEPLAIN",`(^|[^\\d])(\\d{1,${BQ}})(?:\\.(\\d{1,${BQ}}))?(?:\\.(\\d{1,${BQ}}))?`);Ui("COERCE",`${en[tn.COERCEPLAIN]}(?:$|[^\\d])`);Ui("COERCEFULL",en[tn.COERCEPLAIN]+`(?:${en[tn.PRERELEASE]})?(?:${en[tn.BUILD]})?(?:$|[^\\d])`);Ui("COERCERTL",en[tn.COERCE],!0);Ui("COERCERTLFULL",en[tn.COERCEFULL],!0);Ui("LONETILDE","(?:~>?)");Ui("TILDETRIM",`(\\s*)${en[tn.LONETILDE]}\\s+`,!0);ib.tildeTrimReplace="$1~";Ui("TILDE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAIN]}$`);Ui("TILDELOOSE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("LONECARET","(?:\\^)");Ui("CARETTRIM",`(\\s*)${en[tn.LONECARET]}\\s+`,!0);ib.caretTrimReplace="$1^";Ui("CARET",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAIN]}$`);Ui("CARETLOOSE",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COMPARATORLOOSE",`^${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]})$|^$`);Ui("COMPARATOR",`^${en[tn.GTLT]}\\s*(${en[tn.FULLPLAIN]})$|^$`);Ui("COMPARATORTRIM",`(\\s*)${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]}|${en[tn.XRANGEPLAIN]})`,!0);ib.comparatorTrimReplace="$1$2$3";Ui("HYPHENRANGE",`^\\s*(${en[tn.XRANGEPLAIN]})\\s+-\\s+(${en[tn.XRANGEPLAIN]})\\s*$`);Ui("HYPHENRANGELOOSE",`^\\s*(${en[tn.XRANGEPLAINLOOSE]})\\s+-\\s+(${en[tn.XRANGEPLAINLOOSE]})\\s*$`);Ui("STAR","(<|>)?=?\\s*\\*");Ui("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ui("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var mU=E((w3t,hRe)=>{var xgt=Object.freeze({loose:!0}),Ogt=Object.freeze({}),Igt=r=>r?typeof r!="object"?xgt:r:Ogt;hRe.exports=Igt});var vRe=E((S3t,gRe)=>{var pRe=/^[0-9]+$/,mRe=(r,e)=>{let t=pRe.test(r),n=pRe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},kgt=(r,e)=>mRe(e,r);gRe.exports={compareIdentifiers:mRe,rcompareIdentifiers:kgt}});var EA=E((C3t,wRe)=>{var gU=TA(),{MAX_LENGTH:yRe,MAX_SAFE_INTEGER:vU}=hU(),{safeRe:_Re,safeSrc:bRe,t:yU}=pU(),Agt=mU(),{compareIdentifiers:$P}=vRe(),$Q=class r{constructor(e,t){if(t=Agt(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>yRe)throw new TypeError(`version is longer than ${yRe} characters`);gU("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?_Re[yU.LOOSE]:_Re[yU.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>vU||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vU||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vU||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<vU)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(gU("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),$P(this.major,e.major)||$P(this.minor,e.minor)||$P(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(gU("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $P(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(gU("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $P(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?bRe[yU.PRERELEASELOOSE]:bRe[yU.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),$P(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};wRe.exports=$Q});var DRe=E((D3t,CRe)=>{var SRe=EA(),Lgt=(r,e,t=!1)=>{if(r instanceof SRe)return r;try{return new SRe(r,e)}catch(n){if(!t)return null;throw n}};CRe.exports=Lgt});var ERe=E((T3t,TRe)=>{var VQ=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};TRe.exports=VQ});var $T=E((E3t,RRe)=>{var PRe=EA(),Mgt=(r,e,t)=>new PRe(r,t).compare(new PRe(e,t));RRe.exports=Mgt});var ORe=E((P3t,xRe)=>{var Ngt=$T(),Fgt=(r,e,t)=>Ngt(r,e,t)===0;xRe.exports=Fgt});var kRe=E((R3t,IRe)=>{var qgt=$T(),jgt=(r,e,t)=>qgt(r,e,t)!==0;IRe.exports=jgt});var LRe=E((x3t,ARe)=>{var zgt=$T(),Ugt=(r,e,t)=>zgt(r,e,t)>0;ARe.exports=Ugt});var NRe=E((O3t,MRe)=>{var Hgt=$T(),Bgt=(r,e,t)=>Hgt(r,e,t)>=0;MRe.exports=Bgt});var qRe=E((I3t,FRe)=>{var Wgt=$T(),$gt=(r,e,t)=>Wgt(r,e,t)<0;FRe.exports=$gt});var zRe=E((k3t,jRe)=>{var Vgt=$T(),Ggt=(r,e,t)=>Vgt(r,e,t)<=0;jRe.exports=Ggt});var HRe=E((A3t,URe)=>{var Kgt=ORe(),Ygt=kRe(),Jgt=LRe(),Xgt=NRe(),Qgt=qRe(),Zgt=zRe(),evt=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Kgt(r,t,n);case"!=":return Ygt(r,t,n);case">":return Jgt(r,t,n);case">=":return Xgt(r,t,n);case"<":return Qgt(r,t,n);case"<=":return Zgt(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};URe.exports=evt});var YRe=E((L3t,KRe)=>{var PA=Symbol("SemVer ANY"),YQ=class r{static get ANY(){return PA}constructor(e,t){if(t=BRe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),KQ("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===PA?this.value="":this.value=this.operator+this.semver.version,KQ("comp",this)}parse(e){let t=this.options.loose?WRe[$Re.COMPARATORLOOSE]:WRe[$Re.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new VRe(n[2],this.options.loose):this.semver=PA}toString(){return this.value}test(e){if(KQ("Comparator.test",e,this.options.loose),this.semver===PA||e===PA)return!0;if(typeof e=="string")try{e=new VRe(e,this.options)}catch{return!1}return GQ(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new GRe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new GRe(this.value,t).test(e.semver):(t=BRe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||GQ(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||GQ(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};KRe.exports=YQ;var BRe=mU(),{safeRe:WRe,t:$Re}=pU(),GQ=HRe(),KQ=TA(),VRe=EA(),GRe=JQ()});var JQ=E((M3t,ZRe)=>{var tvt=/\s+/g,XQ=class r{constructor(e,t){if(t=nvt(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof QQ)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(tvt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!XRe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&lvt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&cvt)|(this.options.loose&&uvt))+":"+e,i=JRe.get(n);if(i)return i;let o=this.options.loose,s=o?rm[Yh.HYPHENRANGELOOSE]:rm[Yh.HYPHENRANGE];e=e.replace(s,bvt(this.options.includePrerelease)),Ha("hyphen replace",e),e=e.replace(rm[Yh.COMPARATORTRIM],ovt),Ha("comparator trim",e),e=e.replace(rm[Yh.TILDETRIM],svt),Ha("tilde trim",e),e=e.replace(rm[Yh.CARETTRIM],avt),Ha("caret trim",e);let a=e.split(" ").map(d=>dvt(d,this.options)).join(" ").split(/\s+/).map(d=>_vt(d,this.options));o&&(a=a.filter(d=>(Ha("loose invalid filter",d,this.options),!!d.match(rm[Yh.COMPARATORLOOSE])))),Ha("range list",a);let c=new Map,u=a.map(d=>new QQ(d,this.options));for(let d of u){if(XRe(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return JRe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>QRe(n,t)&&e.set.some(i=>QRe(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ivt(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(wvt(this.set[t],e,this.options))return!0;return!1}};ZRe.exports=XQ;var rvt=ERe(),JRe=new rvt,nvt=mU(),QQ=YRe(),Ha=TA(),ivt=EA(),{safeRe:rm,t:Yh,comparatorTrimReplace:ovt,tildeTrimReplace:svt,caretTrimReplace:avt}=pU(),{FLAG_INCLUDE_PRERELEASE:cvt,FLAG_LOOSE:uvt}=hU(),XRe=r=>r.value==="<0.0.0-0",lvt=r=>r.value==="",QRe=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},dvt=(r,e)=>(Ha("comp",r,e),r=pvt(r,e),Ha("caret",r),r=fvt(r,e),Ha("tildes",r),r=gvt(r,e),Ha("xrange",r),r=yvt(r,e),Ha("stars",r),r),Jh=r=>!r||r.toLowerCase()==="x"||r==="*",fvt=(r,e)=>r.trim().split(/\s+/).map(t=>hvt(t,e)).join(" "),hvt=(r,e)=>{let t=e.loose?rm[Yh.TILDELOOSE]:rm[Yh.TILDE];return r.replace(t,(n,i,o,s,a)=>{Ha("tilde",r,n,i,o,s,a);let c;return Jh(i)?c="":Jh(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Jh(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Ha("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ha("tilde return",c),c})},pvt=(r,e)=>r.trim().split(/\s+/).map(t=>mvt(t,e)).join(" "),mvt=(r,e)=>{Ha("caret",r,e);let t=e.loose?rm[Yh.CARETLOOSE]:rm[Yh.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Ha("caret",r,i,o,s,a,c);let u;return Jh(o)?u="":Jh(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Jh(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Ha("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Ha("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Ha("caret return",u),u})},gvt=(r,e)=>(Ha("replaceXRanges",r,e),r.split(/\s+/).map(t=>vvt(t,e)).join(" ")),vvt=(r,e)=>{r=r.trim();let t=e.loose?rm[Yh.XRANGELOOSE]:rm[Yh.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Ha("xRange",r,n,i,o,s,a,c);let u=Jh(o),l=u||Jh(s),d=l||Jh(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Ha("xRange return",n),n})},yvt=(r,e)=>(Ha("replaceStars",r,e),r.trim().replace(rm[Yh.STAR],"")),_vt=(r,e)=>(Ha("replaceGTE0",r,e),r.trim().replace(rm[e.includePrerelease?Yh.GTE0PRE:Yh.GTE0],"")),bvt=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>(Jh(n)?t="":Jh(i)?t=`>=${n}.0.0${r?"-0":""}`:Jh(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Jh(u)?c="":Jh(l)?c=`<${+u+1}.0.0-0`:Jh(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),wvt=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ha(r[n].semver),r[n].semver!==QQ.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var txe=E((N3t,exe)=>{var Svt=JQ(),Cvt=(r,e,t)=>{try{e=new Svt(e,t)}catch{return!1}return e.test(r)};exe.exports=Cvt});var _U=E(ag=>{"use strict";var Dvt=ag&&ag.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZQ=ag&&ag.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dvt(e,r,t)};Object.defineProperty(ag,"__esModule",{value:!0});ag.DiagnosticPullMode=ag.vsdiag=void 0;ZQ(an(),ag);ZQ(Lo(),ag);var rxe=Nz();Object.defineProperty(ag,"vsdiag",{enumerable:!0,get:function(){return rxe.vsdiag}});Object.defineProperty(ag,"DiagnosticPullMode",{enumerable:!0,get:function(){return rxe.DiagnosticPullMode}});ZQ(OQ(),ag)});var Uw=E(hd=>{"use strict";var oxe=hd&&hd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tvt=hd&&hd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bU=hd&&hd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&oxe(t,e,n[i]);return Tvt(t,e),t}}(),sxe=hd&&hd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&oxe(e,r,t)};Object.defineProperty(hd,"__esModule",{value:!0});hd.SettingMonitor=hd.LanguageClient=hd.TransportKind=void 0;var zw=bU(require("child_process")),eZ=bU(require("fs")),tZ=bU(require("path")),VC=require("vscode"),gc=bU(fv()),nxe=OQ(),Evt=nRe(),Bc=HQ(),Pvt=DRe(),Rvt=txe();sxe(HQ(),hd);sxe(_U(),hd);var ixe="^1.91.0",Wc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Wc||(hd.TransportKind=Wc={}));var $C;(function(r){function e(t){let n=t;return n&&n.kind===Wc.socket&&gc.number(n.port)}r.isSocket=e})($C||($C={}));var rZ;(function(r){function e(t){return gc.string(t.command)}r.is=e})(rZ||(rZ={}));var nZ;(function(r){function e(t){return gc.string(t.module)}r.is=e})(nZ||(nZ={}));var iZ;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(iZ||(iZ={}));var oZ;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(oZ||(oZ={}));var sZ=class extends nxe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;gc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw gc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=Pvt(VC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${VC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!Rvt(e,ixe))throw new Error(`The language client requires VS Code version ${ixe} but received version ${VC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,Evt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(m=>f[m]=process.env[m]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(m=>f[m]=l[m]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(gc.func(a))return a().then(l=>{if(nxe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(iZ.is(l))return this._isDetached=!!l.detached,{reader:new Bc.StreamMessageReader(l.reader),writer:new Bc.StreamMessageWriter(l.writer)};{let d;return oZ.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(gc.string(f)?f:f.toString(e))),{reader:new Bc.StreamMessageReader(d.stdout),writer:new Bc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(nZ.is(c)&&c.module){let d=c,f=d.transport||Wc.stdio;if(d.runtime){let m=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>m.push(A)),m.push(d.module),d.args&&d.args.forEach(A=>m.push(A));let T=Object.create(null);T.cwd=l,T.env=t(_.env,!1);let x=this._getRuntimePath(d.runtime,l),M;if(f===Wc.ipc?(T.stdio=[null,null,null,"ipc"],m.push("--node-ipc")):f===Wc.stdio?m.push("--stdio"):f===Wc.pipe?(M=(0,Bc.generateRandomPipeName)(),m.push(`--pipe=${M}`)):$C.isSocket(f)&&m.push(`--socket=${f.port}`),m.push(`--clientProcessId=${process.pid.toString()}`),f===Wc.ipc||f===Wc.stdio){let A=zw.spawn(x,m,T);return!A||!A.pid?VP(A,`Launching server using runtime ${x} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(gc.string(U)?U:U.toString(e))),f===Wc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(gc.string(U)?U:U.toString(e))),Promise.resolve({reader:new Bc.IPCMessageReader(A),writer:new Bc.IPCMessageWriter(A)})):Promise.resolve({reader:new Bc.StreamMessageReader(A.stdout),writer:new Bc.StreamMessageWriter(A.stdin)}))}else{if(f===Wc.pipe)return(0,Bc.createClientPipeTransport)(M).then(A=>{let U=zw.spawn(x,m,T);return!U||!U.pid?VP(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if($C.isSocket(f))return(0,Bc.createClientSocketTransport)(f.port).then(A=>{let U=zw.spawn(x,m,T);return!U||!U.pid?VP(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let m;return new Promise((_,T)=>{let x=(d.args&&d.args.slice())??[];f===Wc.ipc?x.push("--node-ipc"):f===Wc.stdio?x.push("--stdio"):f===Wc.pipe?(m=(0,Bc.generateRandomPipeName)(),x.push(`--pipe=${m}`)):$C.isSocket(f)&&x.push(`--socket=${f.port}`),x.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===Wc.ipc||f===Wc.stdio){let A=zw.fork(d.module,x||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(gc.string(U)?U:U.toString(e))),f===Wc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(gc.string(U)?U:U.toString(e))),_({reader:new Bc.IPCMessageReader(this._serverProcess),writer:new Bc.IPCMessageWriter(this._serverProcess)})):_({reader:new Bc.StreamMessageReader(A.stdout),writer:new Bc.StreamMessageWriter(A.stdin)})}else f===Wc.pipe?(0,Bc.createClientPipeTransport)(m).then(A=>{let U=zw.fork(d.module,x||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},T)},T):$C.isSocket(f)&&(0,Bc.createClientSocketTransport)(f.port).then(A=>{let U=zw.fork(d.module,x||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(gc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},T)},T)})}}else if(rZ.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],m,_=c.transport;if(_===Wc.stdio)f.push("--stdio");else if(_===Wc.pipe)m=(0,Bc.generateRandomPipeName)(),f.push(`--pipe=${m}`);else if($C.isSocket(_))f.push(`--socket=${_.port}`);else if(_===Wc.ipc)throw new Error("Transport kind ipc is not support for command executable");let T=Object.assign({},d.options);if(T.cwd=T.cwd||l,_===void 0||_===Wc.stdio){let x=zw.spawn(d.command,f,T);return!x||!x.pid?VP(x,`Launching server using command ${d.command} failed.`):(x.stderr.on("data",M=>this.outputChannel.append(gc.string(M)?M:M.toString(e))),this._serverProcess=x,this._isDetached=!!T.detached,Promise.resolve({reader:new Bc.StreamMessageReader(x.stdout),writer:new Bc.StreamMessageWriter(x.stdin)}))}else{if(_===Wc.pipe)return(0,Bc.createClientPipeTransport)(m).then(x=>{let M=zw.spawn(d.command,f,T);return!M||!M.pid?VP(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!T.detached,M.stderr.on("data",A=>this.outputChannel.append(gc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(gc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if($C.isSocket(_))return(0,Bc.createClientSocketTransport)(_.port).then(x=>{let M=zw.spawn(d.command,f,T);return!M||!M.pid?VP(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!T.detached,M.stderr.on("data",A=>this.outputChannel.append(gc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(gc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,d)=>{l===0?this.info("Server process exited successfully",void 0,!1):l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,t){if(tZ.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=tZ.join(n,e);if(eZ.existsSync(i))return i}if(t!==void 0){let i=tZ.join(t,e);if(eZ.existsSync(i))return i}return e}_mainGetRootPath(){let e=VC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{eZ.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};hd.LanguageClient=sZ;var aZ=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return VC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new VC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?VC.workspace.getConfiguration(t).get(n,!1):VC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};hd.SettingMonitor=aZ;function VP(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var Pxe=E((Txe,Exe)=>{Txe=Exe.exports=function(r){for(var e=0;e<r.length;){if(r[e]==9||r[e]==10||r[e]==13||32<=r[e]&&r[e]<=126){e+=1;continue}if(194<=r[e]&&r[e]<=223&&128<=r[e+1]&&r[e+1]<=191){e+=2;continue}if(r[e]==224&&160<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||(225<=r[e]&&r[e]<=236||r[e]==238||r[e]==239)&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||r[e]==237&&128<=r[e+1]&&r[e+1]<=159&&128<=r[e+2]&&r[e+2]<=191){e+=3;continue}if(r[e]==240&&144<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||241<=r[e]&&r[e]<=243&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||r[e]==244&&128<=r[e+1]&&r[e+1]<=143&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191){e+=4;continue}return!1}return!0}});var xxe=E((J3t,Rxe)=>{"use strict";var kvt=Pxe();Rxe.exports=r=>{if(!Buffer.isBuffer(r))throw new TypeError(`Expected a Buffer, got ${typeof r}`);return r[0]===239&&r[1]===187&&r[2]===191&&kvt(r)?r.slice(3):r}});var DOe=E((sL,NZ)=>{(function(r,e){typeof sL=="object"&&typeof NZ=="object"?NZ.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof sL=="object"?sL["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(sL,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,m){var _,T,x,M=d&l.F,A=d&l.G,U=d&l.S,ne=d&l.P,de=d&l.B,ye=d&l.W,V=A?s:s[f]||(s[f]={}),W=V[u],ee=A?o:U?o[f]:(o[f]||{})[u];A&&(m=f);for(_ in m)T=!M&&ee&&ee[_]!==void 0,T&&_ in V||(x=T?ee[_]:m[_],V[_]=A&&typeof ee[_]!="function"?m[_]:de&&T?a(x,o):ye&&ee[_]==x?function(Se){var se=function(ce,qe,Ne){if(this instanceof Se){switch(arguments.length){case 0:return new Se;case 1:return new Se(ce);case 2:return new Se(ce,qe)}return new Se(ce,qe,Ne)}return Se.apply(this,arguments)};return se[u]=Se[u],se}(x):ne&&typeof x=="function"?a(Function.call,x):x,ne&&((V.virtual||(V.virtual={}))[_]=x,d&l.R&&W&&!W[_]&&c(W,_,x)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),m=i(52),_=i(1)("iterator"),T=!([].keys&&"next"in[].keys()),x="@@iterator",M="keys",A="values",U=function(){return this};t.exports=function(ne,de,ye,V,W,ee,Se){d(ye,de,V);var se,ce,qe,Ne=function(st){if(!T&&st in xe)return xe[st];switch(st){case M:return function(){return new ye(this,st)};case A:return function(){return new ye(this,st)}}return function(){return new ye(this,st)}},ue=de+" Iterator",De=W==A,we=!1,xe=ne.prototype,Me=xe[_]||xe[x]||W&&xe[W],$e=Me||Ne(W),Ct=W?De?Ne("entries"):$e:void 0,ze=de=="Array"&&xe.entries||Me;if(ze&&(qe=m(ze.call(new ne)),qe!==Object.prototype&&(f(qe,ue,!0),o||u(qe,_)||c(qe,_,U))),De&&Me&&Me.name!==A&&(we=!0,$e=function(){return Me.call(this)}),o&&!Se||!T&&!we&&xe[_]||c(xe,_,$e),l[de]=$e,l[ue]=U,W)if(se={values:De?$e:Ne(A),keys:ee?$e:Ne(M),entries:Ct},Se)for(ce in se)ce in xe||a(xe,ce,se[ce]);else s(s.P+s.F*(T||we),de,se);return se}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),m=f.process,_=f.setImmediate,T=f.clearImmediate,x=f.MessageChannel,M=0,A={},U="onreadystatechange",ne=function(){var ye=+this;if(A.hasOwnProperty(ye)){var V=A[ye];delete A[ye],V()}},de=function(ye){ne.call(ye.data)};_&&T||(_=function(ye){for(var V=[],W=1;arguments.length>W;)V.push(arguments[W++]);return A[++M]=function(){u(typeof ye=="function"?ye:Function(ye),V)},o(M),M},T=function(ye){delete A[ye]},i(11)(m)=="process"?o=function(ye){m.nextTick(c(ne,ye,1))}:x?(s=new x,a=s.port2,s.port1.onmessage=de,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(ye){f.postMessage(ye+"","*")},f.addEventListener("message",de,!1)):o=U in d("script")?function(ye){l.appendChild(d("script"))[U]=function(){l.removeChild(this),ne.call(ye)}}:function(ye){setTimeout(c(ne,ye,1),0)}),t.exports={set:_,clear:T}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(U){return U&&U.__esModule?U:{default:U}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(U){return(0,_.createHash)("sha256").update(U).digest("hex")}function c(U){switch(x){case"darwin":return U.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return U.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(U){var ne=c((0,m.execSync)(A[x]).toString());return U?ne:a(ne)}function l(U){return new f.default(function(ne,de){return(0,m.exec)(A[x],{},function(ye,V,W){if(ye)return de(new Error("Error while obtaining machine id: "+ye.stack));var ee=c(V.toString());return ne(U?ee:a(ee))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var m=i(70),_=i(71),T=process,x=T.platform,M={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},A={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:M[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,m=o(u),_=s(m.length),T=a(d,_);if(c&&l!=l){for(;_>T;)if(f=m[T++],f!=f)return!0}else for(;_>T;T++)if((c||T in m)&&m[T]===l)return c||T||0;return!c&&-1}}},function(t,m,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},m=t.exports=function(_,T,x,M,A){var U,ne,de,ye,V=A?function(){return _}:l(_),W=o(x,M,T?2:1),ee=0;if(typeof V!="function")throw TypeError(_+" is not iterable!");if(a(V)){for(U=u(_.length);U>ee;ee++)if(ye=T?W(c(ne=_[ee])[0],ne[1]):W(_[ee]),ye===d||ye===f)return ye}else for(de=V.call(_);!(ne=de.next()).done;)if(ye=s(de,W,ne.value,T),ye===d||ye===f)return ye};m.BREAK=d,m.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,m,_=function(){var A,U;for(l&&(A=c.domain)&&A.exit();d;){U=d.fn,d=d.next;try{U()}catch(ne){throw d?m():f=void 0,ne}}f=void 0,A&&A.enter()};if(l)m=function(){c.nextTick(_)};else if(a){var T=!0,x=document.createTextNode("");new a(_).observe(x,{characterData:!0}),m=function(){x.data=T=!T}}else if(u&&u.resolve){var M=u.resolve();m=function(){M.then(_)}}else m=function(){s.call(o,_)};return function(A){var U={fn:A,next:void 0};f&&(f.next=U),d||(d=U,m()),f=U}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,m=i(16)("iframe"),_=a.length,T=">";for(m.style.display="none",i(25).appendChild(m),m.src="javascript:",f=m.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+T),f.close(),d=f.F;_--;)delete d[l][a[_]];return d()};t.exports=Object.create||function(f,m){var _;return f!==null?(u[l]=o(f),_=new u,u[l]=null,_[c]=f):_=d(),m===void 0?_:s(_,m)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,m=0;f>m;)o.f(c,l=d[m++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,m){if(f=a(f),m=c(m,!0),l)try{return d(f,m)}catch{}if(u(f,m))return s(!o.f.call(f,m),f[m])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),m=0,_=[];for(d in f)d!=c&&o(f,d)&&_.push(d);for(;l.length>m;)o(f,d=l[m++])&&(~a(_,d)||_.push(d));return _}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),m=o(u),_=f.length;return m<0||m>=_?a?"":void 0:(l=f.charCodeAt(m),l<55296||l>56319||m+1===_||(d=f.charCodeAt(m+1))<56320||d>57343?a?f.charAt(m):l:a?f.slice(m,m+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),m=i(9),_=(i(3),i(14)),T=i(38),x=i(40),M=(i(58).set,i(60)),A=i(30).set,U=i(48)(),ne="Promise",de=u.TypeError,V=u.process,ye=u[ne],V=u.process,W=d(V)=="process",ee=function(){},Se=!!function(){try{var ze=ye.resolve(1),st=(ze.constructor={})[i(1)("species")]=function(at){at(ee,ee)};return(W||typeof PromiseRejectionEvent=="function")&&ze.then(ee)instanceof st}catch{}}(),se=function(ze,st){return ze===st||ze===ye&&st===a},ce=function(ze){var st;return!(!m(ze)||typeof(st=ze.then)!="function")&&st},qe=function(ze){return se(ye,ze)?new Ne(ze):new s(ze)},Ne=s=function(ze){var st,at;this.promise=new ze(function(tt,fr){if(st!==void 0||at!==void 0)throw de("Bad Promise constructor");st=tt,at=fr}),this.resolve=_(st),this.reject=_(at)},ue=function(ze){try{ze()}catch(st){return{error:st}}},De=function(ze,st){if(!ze._n){ze._n=!0;var at=ze._c;U(function(){for(var tt=ze._v,fr=ze._s==1,Lr=0,zr=function(cr){var xt,hr,Mt=fr?cr.ok:cr.fail,on=cr.resolve,ln=cr.reject,On=cr.domain;try{Mt?(fr||(ze._h==2&&Me(ze),ze._h=1),Mt===!0?xt=tt:(On&&On.enter(),xt=Mt(tt),On&&On.exit()),xt===cr.promise?ln(de("Promise-chain cycle")):(hr=ce(xt))?hr.call(xt,on,ln):on(xt)):ln(tt)}catch(Or){ln(Or)}};at.length>Lr;)zr(at[Lr++]);ze._c=[],ze._n=!1,st&&!ze._h&&we(ze)})}},we=function(ze){A.call(u,function(){var st,at,tt,fr=ze._v;if(xe(ze)&&(st=ue(function(){W?V.emit("unhandledRejection",fr,ze):(at=u.onunhandledrejection)?at({promise:ze,reason:fr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",fr)}),ze._h=W||xe(ze)?2:1),ze._a=void 0,st)throw st.error})},xe=function(ze){if(ze._h==1)return!1;for(var st,at=ze._a||ze._c,tt=0;at.length>tt;)if(st=at[tt++],st.fail||!xe(st.promise))return!1;return!0},Me=function(ze){A.call(u,function(){var st;W?V.emit("rejectionHandled",ze):(st=u.onrejectionhandled)&&st({promise:ze,reason:ze._v})})},$e=function(ze){var st=this;st._d||(st._d=!0,st=st._w||st,st._v=ze,st._s=2,st._a||(st._a=st._c.slice()),De(st,!0))},Ct=function(ze){var st,at=this;if(!at._d){at._d=!0,at=at._w||at;try{if(at===ze)throw de("Promise can't be resolved itself");(st=ce(ze))?U(function(){var tt={_w:at,_d:!1};try{st.call(ze,l(Ct,tt,1),l($e,tt,1))}catch(fr){$e.call(tt,fr)}}):(at._v=ze,at._s=1,De(at,!1))}catch(tt){$e.call({_w:at,_d:!1},tt)}}};Se||(ye=function(ze){T(this,ye,ne,"_h"),_(ze),o.call(this);try{ze(l(Ct,this,1),l($e,this,1))}catch(st){$e.call(this,st)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(ye.prototype,{then:function(ze,st){var at=qe(M(this,ye));return at.ok=typeof ze!="function"||ze,at.fail=typeof st=="function"&&st,at.domain=W?V.domain:void 0,this._c.push(at),this._a&&this._a.push(at),this._s&&De(this,!1),at.promise},catch:function(ze){return this.then(void 0,ze)}}),Ne=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l($e,ze,1)}),f(f.G+f.W+f.F*!Se,{Promise:ye}),i(18)(ye,ne),i(59)(ne),a=i(6)[ne],f(f.S+f.F*!Se,ne,{reject:function(ze){var st=qe(this),at=st.reject;return at(ze),st.promise}}),f(f.S+f.F*(c||!Se),ne,{resolve:function(ze){if(ze instanceof ye&&se(ze.constructor,this))return ze;var st=qe(this),at=st.resolve;return at(ze),st.promise}}),f(f.S+f.F*!(Se&&i(46)(function(ze){ye.all(ze).catch(ee)})),ne,{all:function(ze){var st=this,at=qe(st),tt=at.resolve,fr=at.reject,Lr=ue(function(){var zr=[],cr=0,xt=1;x(ze,!1,function(hr){var Mt=cr++,on=!1;zr.push(void 0),xt++,st.resolve(hr).then(function(ln){on||(on=!0,zr[Mt]=ln,--xt||tt(zr))},fr)}),--xt||tt(zr)});return Lr&&fr(Lr.error),at.promise},race:function(ze){var st=this,at=qe(st),tt=at.reject,fr=ue(function(){x(ze,!1,function(Lr){st.resolve(Lr).then(at.resolve,tt)})});return fr&&tt(fr.error),at.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],m=f&&f.prototype;m&&!m[c]&&s(m,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var FZ=E(cR=>{"use strict";Object.defineProperty(cR,"__esModule",{value:!0});cR.JS_DEBUG_NAME=cR.SERVER_APP_NAME=void 0;cR.SERVER_APP_NAME=".NET Application Server";cR.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var jZ=E((j8t,kOe)=>{"use strict";var Fyt=require("util"),xOe=require("path"),OOe=require("child_process"),qZ=1e3*1e3*10,IOe=Fyt.promisify(OOe.execFile),qyt=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=xOe.join(__dirname,"vendor",r),{stdout:t}=await IOe(e,{maxBuffer:qZ,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},jyt=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await IOe("ps",[e,`pid,${n}`],{maxBuffer:qZ});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:xOe.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},ROe="ps output parsing failed",zyt="pid,ppid,uid,%cpu,%mem,comm,args",Uyt=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,Hyt=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=OOe.execFile("ps",[e,zyt],{maxBuffer:qZ},(m,_)=>{m===null?l([f.pid,_]):d(m)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=Uyt.exec(l);if(f===null)throw new Error(ROe);let{pid:m,ppid:_,uid:T,cpu:x,memory:M}=f.groups,A={pid:Number.parseInt(m,10),ppid:Number.parseInt(_,10),uid:Number.parseInt(T,10),cpu:Number.parseFloat(x),memory:Number.parseFloat(M),name:void 0,cmd:void 0};return A.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),A});if(o===void 0||s===-1||a===-1)throw new Error(ROe);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},Byt=async(r={})=>{try{return await Hyt(r)}catch{return jyt(r)}};kOe.exports=process.platform==="win32"?qyt:Byt});var NOe=E(ab=>{"use strict";var LOe=ab&&ab.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ab,"__esModule",{value:!0});ab.onDidTerminateDebugSession=ab.isValidEvent=void 0;var Wyt=jZ(),AOe=FZ(),$yt=r=>r===AOe.JS_DEBUG_NAME||r===AOe.SERVER_APP_NAME;ab.isValidEvent=$yt;var MOe=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function Vyt(r,e,t){return LOe(this,void 0,void 0,function*(){t&&(typeof t=="number"?Gyt(r,e,t):yield Kyt(r,e,t))})}ab.onDidTerminateDebugSession=Vyt;function Gyt(r,e,t){(0,ab.isValidEvent)(r.name)&&MOe(t,e)}function Kyt(r,e,t){return LOe(this,void 0,void 0,function*(){if(!(0,ab.isValidEvent)(r.name))return;let n=[];try{n=yield Wyt()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&MOe(i.pid,e)})}});var qOe=E(uR=>{"use strict";var aL=uR&&uR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(uR,"__esModule",{value:!0});uR.BlazorDebugConfigurationProvider=void 0;var Yyt=require("fs"),Jyt=require("path"),FOe=require("url"),zZ=FZ(),Xyt=NOe(),UZ=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return aL(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,FOe.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,FOe.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,Yyt.readFileSync)((0,Jyt.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return aL(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:zZ.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>aL(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,Xyt.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return aL(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:zZ.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[zZ.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>aL(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};uR.BlazorDebugConfigurationProvider=UZ});var jOe=E(lR=>{"use strict";Object.defineProperty(lR,"__esModule",{value:!0});lR.convertPositionFromSerializable=lR.convertPositionToSerializable=void 0;var Qyt=require("vscode");function Zyt(r){return{line:r.line,character:r.character}}lR.convertPositionToSerializable=Zyt;function e_t(r){return new Qyt.Position(r.line,r.character)}lR.convertPositionFromSerializable=e_t});var fR=E(dR=>{"use strict";Object.defineProperty(dR,"__esModule",{value:!0});dR.convertRangeFromSerializable=dR.convertRangeToSerializable=void 0;var t_t=require("vscode"),nH=jOe();function r_t(r){return{start:(0,nH.convertPositionToSerializable)(r.start),end:(0,nH.convertPositionToSerializable)(r.end)}}dR.convertRangeToSerializable=r_t;function n_t(r){return new t_t.Range((0,nH.convertPositionFromSerializable)(r.start),(0,nH.convertPositionFromSerializable)(r.end))}dR.convertRangeFromSerializable=n_t});var cL=E(hR=>{"use strict";Object.defineProperty(hR,"__esModule",{value:!0});hR.convertTextEditFromSerializable=hR.convertTextEditToSerializable=void 0;var i_t=require("vscode"),zOe=fR();function o_t(r){return{range:(0,zOe.convertRangeToSerializable)(r.range),newText:r.newText}}hR.convertTextEditToSerializable=o_t;function s_t(r){return new i_t.TextEdit((0,zOe.convertRangeFromSerializable)(r.range),r.newText)}hR.convertTextEditFromSerializable=s_t});var HOe=E(iH=>{"use strict";Object.defineProperty(iH,"__esModule",{value:!0});iH.convertWorkspaceEditFromSerializable=void 0;var KT=require("vscode"),UOe=cL();function a_t(r){let e=new KT.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(KT.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(KT.Uri.parse(t.oldUri),KT.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(KT.Uri.parse(t.uri),t.options);else{let n=t.edits.map(UOe.convertTextEditFromSerializable);e.set(KT.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(UOe.convertTextEditFromSerializable);e.set(KT.Uri.parse(t),n)}return e}iH.convertWorkspaceEditFromSerializable=a_t});var WOe=E(pR=>{"use strict";var c_t=pR&&pR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(pR,"__esModule",{value:!0});pR.RazorCodeActionRunner=void 0;var HZ=require("vscode"),BOe=HOe(),uL=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return HZ.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return c_t(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,BOe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,BOe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return HZ.workspace.applyEdit(i).then(()=>HZ.workspace.applyEdit(n))})}};pR.RazorCodeActionRunner=uL;uL.codeActionResolveEndpoint="textDocument/codeActionResolve";uL.razorCodeActionRunnerCommand="razor/runCodeAction"});var Ww=E(lL=>{"use strict";Object.defineProperty(lL,"__esModule",{value:!0});lL.RazorDocumentChangeKind=void 0;var u_t;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})(u_t=lL.RazorDocumentChangeKind||(lL.RazorDocumentChangeKind={}))});var vv=E(dL=>{"use strict";Object.defineProperty(dL,"__esModule",{value:!0});dL.LanguageKind=void 0;var l_t;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(l_t=dL.LanguageKind||(dL.LanguageKind={}))});var ug=E(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0});oH.getUriPath=void 0;function d_t(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}oH.getUriPath=d_t});var xy=E(mR=>{"use strict";var f_t=mR&&mR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(mR,"__esModule",{value:!0});mR.RazorLanguageFeatureBase=void 0;var BZ=vv(),h_t=ug(),WZ=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return f_t(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case BZ.LanguageKind.CSharp:case BZ.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===BZ.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,h_t.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};mR.RazorLanguageFeatureBase=WZ});var $Oe=E(sH=>{"use strict";Object.defineProperty(sH,"__esModule",{value:!0});sH.RazorCodeLens=void 0;var p_t=require("vscode"),$Z=class extends p_t.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};sH.RazorCodeLens=$Z});var KOe=E(gR=>{"use strict";var aH=gR&&gR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(gR,"__esModule",{value:!0});gR.RazorCodeLensProvider=void 0;var cH=require("vscode"),m_t=Ww(),g_t=xy(),VOe=vv(),GOe=$Oe(),VZ=class extends g_t.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new cH.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>aH(this,void 0,void 0,function*(){if(s.kind!==m_t.RazorDocumentChangeKind.added)return;cH.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return aH(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield cH.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(VOe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new GOe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return aH(this,void 0,void 0,function*(){if(e instanceof GOe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return aH(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==VOe.LanguageKind.CSharp)return e;let o=yield cH.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};gR.RazorCodeLensProvider=VZ});var yv=E(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.asPromise=lu.thenable=lu.typedArray=lu.stringArray=lu.array=lu.func=lu.error=lu.number=lu.string=lu.boolean=void 0;function v_t(r){return r===!0||r===!1}lu.boolean=v_t;function YOe(r){return typeof r=="string"||r instanceof String}lu.string=YOe;function y_t(r){return typeof r=="number"||r instanceof Number}lu.number=y_t;function __t(r){return r instanceof Error}lu.error=__t;function JOe(r){return typeof r=="function"}lu.func=JOe;function XOe(r){return Array.isArray(r)}lu.array=XOe;function b_t(r){return XOe(r)&&r.every(e=>YOe(e))}lu.stringArray=b_t;function w_t(r,e){return Array.isArray(r)&&r.every(e)}lu.typedArray=w_t;function QOe(r){return r&&JOe(r.then)}lu.thenable=QOe;function S_t(r){return r instanceof Promise?r:QOe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}lu.asPromise=S_t});var $w=E(YZ=>{"use strict";Object.defineProperty(YZ,"__esModule",{value:!0});var GZ;function KZ(){if(GZ===void 0)throw new Error("No runtime abstraction layer installed");return GZ}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");GZ=t}r.install=e})(KZ||(KZ={}));YZ.default=KZ});var JZ=E(fL=>{"use strict";Object.defineProperty(fL,"__esModule",{value:!0});fL.Disposable=void 0;var C_t;(function(r){function e(t){return{dispose:t}}r.create=e})(C_t=fL.Disposable||(fL.Disposable={}))});var ZOe=E(uH=>{"use strict";Object.defineProperty(uH,"__esModule",{value:!0});uH.AbstractMessageBuffer=void 0;var D_t=13,T_t=10,E_t=`\r
`,XZ=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case D_t:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case T_t:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(E_t);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};uH.AbstractMessageBuffer=XZ});var rIe=E(tee=>{"use strict";Object.defineProperty(tee,"__esModule",{value:!0});var P_t=$w(),eIe=require("util"),YT=JZ(),R_t=ZOe(),lH=class r extends R_t.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new eIe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};lH.emptyBuffer=Buffer.allocUnsafe(0);var QZ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),YT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),YT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),YT.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),YT.Disposable.create(()=>this.stream.off("data",e))}},ZZ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),YT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),YT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),YT.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},tIe=Object.freeze({messageBuffer:Object.freeze({create:r=>new lH(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new eIe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new QZ(r),asWritableStream:r=>new ZZ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function eee(){return tIe}(function(r){function e(){P_t.default.install(tIe)}r.install=e})(eee||(eee={}));tee.default=eee});var vR=E(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.stringArray=Xf.array=Xf.func=Xf.error=Xf.number=Xf.string=Xf.boolean=void 0;function x_t(r){return r===!0||r===!1}Xf.boolean=x_t;function nIe(r){return typeof r=="string"||r instanceof String}Xf.string=nIe;function O_t(r){return typeof r=="number"||r instanceof Number}Xf.number=O_t;function I_t(r){return r instanceof Error}Xf.error=I_t;function k_t(r){return typeof r=="function"}Xf.func=k_t;function iIe(r){return Array.isArray(r)}Xf.array=iIe;function A_t(r){return iIe(r)&&r.every(e=>nIe(e))}Xf.stringArray=A_t});var Tee=E(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Message=Rn.NotificationType9=Rn.NotificationType8=Rn.NotificationType7=Rn.NotificationType6=Rn.NotificationType5=Rn.NotificationType4=Rn.NotificationType3=Rn.NotificationType2=Rn.NotificationType1=Rn.NotificationType0=Rn.NotificationType=Rn.RequestType9=Rn.RequestType8=Rn.RequestType7=Rn.RequestType6=Rn.RequestType5=Rn.RequestType4=Rn.RequestType3=Rn.RequestType2=Rn.RequestType1=Rn.RequestType=Rn.RequestType0=Rn.AbstractMessageSignature=Rn.ParameterStructures=Rn.ResponseError=Rn.ErrorCodes=void 0;var JT=vR(),oIe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(oIe=Rn.ErrorCodes||(Rn.ErrorCodes={}));var ree=class r extends Error{constructor(e,t,n){super(t),this.code=JT.number(e)?e:oIe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Rn.ResponseError=ree;var om=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Rn.ParameterStructures=om;om.auto=new om("auto");om.byPosition=new om("byPosition");om.byName=new om("byName");var Va=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return om.auto}};Rn.AbstractMessageSignature=Va;var nee=class extends Va{constructor(e){super(e,0)}};Rn.RequestType0=nee;var iee=class extends Va{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType=iee;var oee=class extends Va{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType1=oee;var see=class extends Va{constructor(e){super(e,2)}};Rn.RequestType2=see;var aee=class extends Va{constructor(e){super(e,3)}};Rn.RequestType3=aee;var cee=class extends Va{constructor(e){super(e,4)}};Rn.RequestType4=cee;var uee=class extends Va{constructor(e){super(e,5)}};Rn.RequestType5=uee;var lee=class extends Va{constructor(e){super(e,6)}};Rn.RequestType6=lee;var dee=class extends Va{constructor(e){super(e,7)}};Rn.RequestType7=dee;var fee=class extends Va{constructor(e){super(e,8)}};Rn.RequestType8=fee;var hee=class extends Va{constructor(e){super(e,9)}};Rn.RequestType9=hee;var pee=class extends Va{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType=pee;var mee=class extends Va{constructor(e){super(e,0)}};Rn.NotificationType0=mee;var gee=class extends Va{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType1=gee;var vee=class extends Va{constructor(e){super(e,2)}};Rn.NotificationType2=vee;var yee=class extends Va{constructor(e){super(e,3)}};Rn.NotificationType3=yee;var _ee=class extends Va{constructor(e){super(e,4)}};Rn.NotificationType4=_ee;var bee=class extends Va{constructor(e){super(e,5)}};Rn.NotificationType5=bee;var wee=class extends Va{constructor(e){super(e,6)}};Rn.NotificationType6=wee;var See=class extends Va{constructor(e){super(e,7)}};Rn.NotificationType7=See;var Cee=class extends Va{constructor(e){super(e,8)}};Rn.NotificationType8=Cee;var Dee=class extends Va{constructor(e){super(e,9)}};Rn.NotificationType9=Dee;var L_t;(function(r){function e(i){let o=i;return o&&JT.string(o.method)&&(JT.string(o.id)||JT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&JT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(JT.string(o.id)||JT.number(o.id)||o.id===null)}r.isResponse=n})(L_t=Rn.Message||(Rn.Message={}))});var Pee=E(Vw=>{"use strict";var sIe;Object.defineProperty(Vw,"__esModule",{value:!0});Vw.LRUCache=Vw.LinkedMap=Vw.Touch=void 0;var Qh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Qh=Vw.Touch||(Vw.Touch={}));var dH=class{constructor(){this[sIe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Qh.None){let n=this._map.get(e);if(n)return t!==Qh.None&&this.touch(n,t),n.value}set(e,t,n=Qh.None){let i=this._map.get(e);if(i)i.value=t,n!==Qh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Qh.None:this.addItemLast(i);break;case Qh.First:this.addItemFirst(i);break;case Qh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(sIe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Qh.First&&t!==Qh.Last)){if(t===Qh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Qh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};Vw.LinkedMap=dH;var Eee=class extends dH{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Qh.AsNew){return super.get(e,t)}peek(e){return super.get(e,Qh.None)}set(e,t){return super.set(e,t,Qh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Vw.LRUCache=Eee});var yR=E(XT=>{"use strict";Object.defineProperty(XT,"__esModule",{value:!0});XT.Emitter=XT.Event=void 0;var M_t=$w(),N_t;(function(r){let e={dispose(){}};r.None=function(){return e}})(N_t=XT.Event||(XT.Event={}));var Ree=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,M_t.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},fH=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Ree),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};XT.Emitter=fH;fH._noop=function(){}});var kee=E(QT=>{"use strict";Object.defineProperty(QT,"__esModule",{value:!0});QT.CancellationTokenSource=QT.CancellationToken=void 0;var F_t=$w(),q_t=vR(),xee=yR(),Oee;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xee.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:xee.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||q_t.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Oee=QT.CancellationToken||(QT.CancellationToken={}));var j_t=Object.freeze(function(r,e){let t=(0,F_t.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),hH=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?j_t:(this._emitter||(this._emitter=new xee.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Iee=class{get token(){return this._token||(this._token=new hH),this._token}cancel(){this._token?this._token.cancel():this._token=Oee.Cancelled}dispose(){this._token?this._token instanceof hH&&this._token.dispose():this._token=Oee.None}};QT.CancellationTokenSource=Iee});var aIe=E(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});Gw.ReadableStreamMessageReader=Gw.AbstractMessageReader=Gw.MessageReader=void 0;var Lee=$w(),_R=vR(),Aee=yR(),z_t;(function(r){function e(t){let n=t;return n&&_R.func(n.listen)&&_R.func(n.dispose)&&_R.func(n.onError)&&_R.func(n.onClose)&&_R.func(n.onPartialMessage)}r.is=e})(z_t=Gw.MessageReader||(Gw.MessageReader={}));var pH=class{constructor(){this.errorEmitter=new Aee.Emitter,this.closeEmitter=new Aee.Emitter,this.partialMessageEmitter=new Aee.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${_R.string(e.message)?e.message:"unknown"}`)}};Gw.AbstractMessageReader=pH;var Mee;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Lee.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(Mee||(Mee={}));var Nee=class extends pH{constructor(e,t){super(),this.readable=e,this.options=Mee.fromOptions(t),this.buffer=(0,Lee.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Lee.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Gw.ReadableStreamMessageReader=Nee});var cIe=E(mH=>{"use strict";Object.defineProperty(mH,"__esModule",{value:!0});mH.Semaphore=void 0;var U_t=$w(),Fee=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,U_t.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};mH.Semaphore=Fee});var fIe=E(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});Kw.WriteableStreamMessageWriter=Kw.AbstractMessageWriter=Kw.MessageWriter=void 0;var uIe=$w(),hL=vR(),H_t=cIe(),lIe=yR(),B_t="Content-Length: ",dIe=`\r
`,W_t;(function(r){function e(t){let n=t;return n&&hL.func(n.dispose)&&hL.func(n.onClose)&&hL.func(n.onError)&&hL.func(n.write)}r.is=e})(W_t=Kw.MessageWriter||(Kw.MessageWriter={}));var gH=class{constructor(){this.errorEmitter=new lIe.Emitter,this.closeEmitter=new lIe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${hL.string(e.message)?e.message:"unknown"}`)}};Kw.AbstractMessageWriter=gH;var qee;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,uIe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,uIe.default)().applicationJson.encoder}}r.fromOptions=e})(qee||(qee={}));var jee=class extends gH{constructor(e,t){super(),this.writable=e,this.options=qee.fromOptions(t),this.errorCount=0,this.writeSemaphore=new H_t.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(B_t,n.byteLength.toString(),dIe),i.push(dIe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Kw.WriteableStreamMessageWriter=jee});var yIe=E(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.createMessageConnection=ni.ConnectionOptions=ni.CancellationStrategy=ni.CancellationSenderStrategy=ni.CancellationReceiverStrategy=ni.ConnectionStrategy=ni.ConnectionError=ni.ConnectionErrors=ni.LogTraceNotification=ni.SetTraceNotification=ni.TraceFormat=ni.TraceValues=ni.Trace=ni.NullLogger=ni.ProgressType=ni.ProgressToken=void 0;var hIe=$w(),Rl=vR(),vi=Tee(),pIe=Pee(),pL=yR(),zee=kee(),gL;(function(r){r.type=new vi.NotificationType("$/cancelRequest")})(gL||(gL={}));var mIe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(mIe=ni.ProgressToken||(ni.ProgressToken={}));var mL;(function(r){r.type=new vi.NotificationType("$/progress")})(mL||(mL={}));var Uee=class{constructor(){}};ni.ProgressType=Uee;var Hee;(function(r){function e(t){return Rl.func(t)}r.is=e})(Hee||(Hee={}));ni.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var js;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(js=ni.Trace||(ni.Trace={}));var $_t;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})($_t=ni.TraceValues||(ni.TraceValues={}));(function(r){function e(n){if(!Rl.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(js=ni.Trace||(ni.Trace={}));var Oy;(function(r){r.Text="text",r.JSON="json"})(Oy=ni.TraceFormat||(ni.TraceFormat={}));(function(r){function e(t){return Rl.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(Oy=ni.TraceFormat||(ni.TraceFormat={}));var gIe;(function(r){r.type=new vi.NotificationType("$/setTrace")})(gIe=ni.SetTraceNotification||(ni.SetTraceNotification={}));var Bee;(function(r){r.type=new vi.NotificationType("$/logTrace")})(Bee=ni.LogTraceNotification||(ni.LogTraceNotification={}));var vH;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(vH=ni.ConnectionErrors||(ni.ConnectionErrors={}));var bR=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ni.ConnectionError=bR;var vIe;(function(r){function e(t){let n=t;return n&&Rl.func(n.cancelUndispatched)}r.is=e})(vIe=ni.ConnectionStrategy||(ni.ConnectionStrategy={}));var Wee;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new zee.CancellationTokenSource}});function e(t){let n=t;return n&&Rl.func(n.createCancellationTokenSource)}r.is=e})(Wee=ni.CancellationReceiverStrategy||(ni.CancellationReceiverStrategy={}));var $ee;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(gL.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Rl.func(n.sendCancellation)&&Rl.func(n.cleanup)}r.is=e})($ee=ni.CancellationSenderStrategy||(ni.CancellationSenderStrategy={}));var Vee;(function(r){r.Message=Object.freeze({receiver:Wee.Message,sender:$ee.Message});function e(t){let n=t;return n&&Wee.is(n.receiver)&&$ee.is(n.sender)}r.is=e})(Vee=ni.CancellationStrategy||(ni.CancellationStrategy={}));var V_t;(function(r){function e(t){let n=t;return n&&(Vee.is(n.cancellationStrategy)||vIe.is(n.connectionStrategy))}r.is=e})(V_t=ni.ConnectionOptions||(ni.ConnectionOptions={}));var Iy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Iy||(Iy={}));function G_t(r,e,t,n){let i=t!==void 0?t:ni.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,m=new Map,_,T=new pIe.LinkedMap,x=new Map,M=new Set,A=new Map,U=js.Off,ne=Oy.Text,de,ye=Iy.New,V=new pL.Emitter,W=new pL.Emitter,ee=new pL.Emitter,Se=new pL.Emitter,se=new pL.Emitter,ce=n&&n.cancellationStrategy?n.cancellationStrategy:Vee.Message;function qe(Oe){if(Oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Oe.toString()}function Ne(Oe){return Oe===null?"res-unknown-"+(++a).toString():"res-"+Oe.toString()}function ue(){return"not-"+(++s).toString()}function De(Oe,oe){vi.Message.isRequest(oe)?Oe.set(qe(oe.id),oe):vi.Message.isResponse(oe)?Oe.set(Ne(oe.id),oe):Oe.set(ue(),oe)}function we(Oe){}function xe(){return ye===Iy.Listening}function Me(){return ye===Iy.Closed}function $e(){return ye===Iy.Disposed}function Ct(){(ye===Iy.New||ye===Iy.Listening)&&(ye=Iy.Closed,W.fire(void 0))}function ze(Oe){V.fire([Oe,void 0,void 0])}function st(Oe){V.fire(Oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||T.size===0||(_=(0,hIe.default)().timer.setImmediate(()=>{_=void 0,tt()}))}function tt(){if(T.size===0)return;let Oe=T.shift();try{vi.Message.isRequest(Oe)?Lr(Oe):vi.Message.isNotification(Oe)?cr(Oe):vi.Message.isResponse(Oe)?zr(Oe):xt(Oe)}finally{at()}}let fr=Oe=>{try{if(vi.Message.isNotification(Oe)&&Oe.method===gL.type.method){let oe=Oe.params.id,Q=qe(oe),_e=T.get(Q);if(vi.Message.isRequest(_e)){let ft=n?.connectionStrategy,Yt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(_e,we):void 0;if(Yt&&(Yt.error!==void 0||Yt.result!==void 0)){T.delete(Q),A.delete(oe),Yt.id=_e.id,ln(Yt,Oe.method,Date.now()),e.write(Yt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Je=A.get(oe);if(Je!==void 0){Je.cancel(),Or(Oe);return}else M.add(oe)}De(T,Oe)}finally{at()}};function Lr(Oe){if($e())return;function oe(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id};Jt instanceof vi.ResponseError?K.error=Jt.toJson():K.result=Jt===void 0?null:Jt,ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id,error:Jt.toJson()};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function _e(Jt,$t,kt){Jt===void 0&&(Jt=null);let K={jsonrpc:c,id:Oe.id,result:Jt};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}On(Oe);let Je=l.get(Oe.method),ft,Yt;Je&&(ft=Je.type,Yt=Je.handler);let rr=Date.now();if(Yt||u){let Jt=Oe.id??String(Date.now()),$t=ce.receiver.createCancellationTokenSource(Jt);Oe.id!==null&&M.has(Oe.id)&&$t.cancel(),Oe.id!==null&&A.set(Jt,$t);try{let kt;if(Yt)if(Oe.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines ${ft.numberOfParams} params but received none.`),Oe.method,rr);return}kt=Yt($t.token)}else if(Array.isArray(Oe.params)){if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byName){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by name but received parameters by position`),Oe.method,rr);return}kt=Yt(...Oe.params,$t.token)}else{if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byPosition){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by position but received parameters by name`),Oe.method,rr);return}kt=Yt(Oe.params,$t.token)}else u&&(kt=u(Oe.method,Oe.params,$t.token));let K=kt;kt?K.then?K.then(Fe=>{A.delete(Jt),oe(Fe,Oe.method,rr)},Fe=>{A.delete(Jt),Fe instanceof vi.ResponseError?Q(Fe,Oe.method,rr):Fe&&Rl.string(Fe.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${Fe.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}):(A.delete(Jt),oe(kt,Oe.method,rr)):(A.delete(Jt),_e(kt,Oe.method,rr))}catch(kt){A.delete(Jt),kt instanceof vi.ResponseError?oe(kt,Oe.method,rr):kt&&Rl.string(kt.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${kt.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}}else Q(new vi.ResponseError(vi.ErrorCodes.MethodNotFound,`Unhandled method ${Oe.method}`),Oe.method,rr)}function zr(Oe){if(!$e())if(Oe.id===null)Oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Oe.id,Q=x.get(oe);if(Hn(Oe,Q),Q!==void 0){x.delete(oe);try{if(Oe.error){let _e=Oe.error;Q.reject(new vi.ResponseError(_e.code,_e.message,_e.data))}else if(Oe.result!==void 0)Q.resolve(Oe.result);else throw new Error("Should never happen.")}catch(_e){_e.message?i.error(`Response handler '${Q.method}' failed with message: ${_e.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function cr(Oe){if($e())return;let oe,Q;if(Oe.method===gL.type.method){let _e=Oe.params.id;M.delete(_e),Or(Oe);return}else{let _e=f.get(Oe.method);_e&&(Q=_e.handler,oe=_e.type)}if(Q||d)try{if(Or(Oe),Q)if(Oe.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Oe.params)){let _e=Oe.params;Oe.method===mL.type.method&&_e.length===2&&mIe.is(_e[0])?Q({token:_e[0],value:_e[1]}):(oe!==void 0&&(oe.parameterStructures===vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Oe.params.length&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received ${_e.length} arguments`)),Q(..._e))}else oe!==void 0&&oe.parameterStructures===vi.ParameterStructures.byPosition&&i.error(`Notification ${Oe.method} defines parameters by position but received parameters by name`),Q(Oe.params);else d&&d(Oe.method,Oe.params)}catch(_e){_e.message?i.error(`Notification handler '${Oe.method}' failed with message: ${_e.message}`):i.error(`Notification handler '${Oe.method}' failed unexpectedly.`)}else ee.fire(Oe)}function xt(Oe){if(!Oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Oe,null,4)}`);let oe=Oe;if(Rl.string(oe.id)||Rl.number(oe.id)){let Q=oe.id,_e=x.get(Q);_e&&_e.reject(new Error("The received response has neither a result nor an error property."))}}function hr(Oe){if(Oe!=null)switch(U){case js.Verbose:return JSON.stringify(Oe,null,4);case js.Compact:return JSON.stringify(Oe);default:return}}function Mt(Oe){if(!(U===js.Off||!de))if(ne===Oy.Text){let oe;(U===js.Verbose||U===js.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Sending request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("send-request",Oe)}function on(Oe){if(!(U===js.Off||!de))if(ne===Oy.Text){let oe;(U===js.Verbose||U===js.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Sending notification '${Oe.method}'.`,oe)}else $r("send-notification",Oe)}function ln(Oe,oe,Q){if(!(U===js.Off||!de))if(ne===Oy.Text){let _e;(U===js.Verbose||U===js.Compact)&&(Oe.error&&Oe.error.data?_e=`Error data: ${hr(Oe.error.data)}

`:Oe.result?_e=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(_e=`No result returned.

`)),de.log(`Sending response '${oe} - (${Oe.id})'. Processing request took ${Date.now()-Q}ms`,_e)}else $r("send-response",Oe)}function On(Oe){if(!(U===js.Off||!de))if(ne===Oy.Text){let oe;(U===js.Verbose||U===js.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Received request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("receive-request",Oe)}function Or(Oe){if(!(U===js.Off||!de||Oe.method===Bee.type.method))if(ne===Oy.Text){let oe;(U===js.Verbose||U===js.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Received notification '${Oe.method}'.`,oe)}else $r("receive-notification",Oe)}function Hn(Oe,oe){if(!(U===js.Off||!de))if(ne===Oy.Text){let Q;if((U===js.Verbose||U===js.Compact)&&(Oe.error&&Oe.error.data?Q=`Error data: ${hr(Oe.error.data)}

`:Oe.result?Q=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(Q=`No result returned.

`)),oe){let _e=Oe.error?` Request failed: ${Oe.error.message} (${Oe.error.code}).`:"";de.log(`Received response '${oe.method} - (${Oe.id})' in ${Date.now()-oe.timerStart}ms.${_e}`,Q)}else de.log(`Received response ${Oe.id} without active response promise.`,Q)}else $r("receive-response",Oe)}function $r(Oe,oe){if(!de||U===js.Off)return;let Q={isLSPMessage:!0,type:Oe,message:oe,timestamp:Date.now()};de.log(Q)}function dn(){if(Me())throw new bR(vH.Closed,"Connection is closed.");if($e())throw new bR(vH.Disposed,"Connection is disposed.")}function ii(){if(xe())throw new bR(vH.AlreadyListening,"Connection is already listening")}function Vr(){if(!xe())throw new Error("Call listen() first.")}function An(Oe){return Oe===void 0?null:Oe}function Ri(Oe){if(Oe!==null)return Oe}function Gr(Oe){return Oe!=null&&!Array.isArray(Oe)&&typeof Oe=="object"}function Ji(Oe,oe){switch(Oe){case vi.ParameterStructures.auto:return Gr(oe)?Ri(oe):[An(oe)];case vi.ParameterStructures.byName:if(!Gr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Ri(oe);case vi.ParameterStructures.byPosition:return[An(oe)];default:throw new Error(`Unknown parameter structure ${Oe.toString()}`)}}function oi(Oe,oe){let Q,_e=Oe.numberOfParams;switch(_e){case 0:Q=void 0;break;case 1:Q=Ji(Oe.parameterStructures,oe[0]);break;default:Q=[];for(let Je=0;Je<oe.length&&Je<_e;Je++)Q.push(An(oe[Je]));if(oe.length<_e)for(let Je=oe.length;Je<_e;Je++)Q.push(null);break}return Q}let fn={sendNotification:(Oe,...oe)=>{dn();let Q,_e;if(Rl.string(Oe)){Q=Oe;let ft=oe[0],Yt=0,rr=vi.ParameterStructures.auto;vi.ParameterStructures.is(ft)&&(Yt=1,rr=ft);let Jt=oe.length,$t=Jt-Yt;switch($t){case 0:_e=void 0;break;case 1:_e=Ji(rr,oe[Yt]);break;default:if(rr===vi.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' notification parameter structure.`);_e=oe.slice(Yt,Jt).map(kt=>An(kt));break}}else{let ft=oe;Q=Oe.method,_e=oi(Oe,ft)}let Je={jsonrpc:c,method:Q,params:_e};return on(Je),e.write(Je).catch(()=>i.error("Sending notification failed."))},onNotification:(Oe,oe)=>{dn();let Q;return Rl.func(Oe)?d=Oe:oe&&(Rl.string(Oe)?(Q=Oe,f.set(Oe,{type:void 0,handler:oe})):(Q=Oe.method,f.set(Oe.method,{type:Oe,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Oe,oe,Q)=>{if(m.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return m.set(oe,Q),{dispose:()=>{m.delete(oe)}}},sendProgress:(Oe,oe,Q)=>fn.sendNotification(mL.type,{token:oe,value:Q}),onUnhandledProgress:Se.event,sendRequest:(Oe,...oe)=>{dn(),Vr();let Q,_e,Je;if(Rl.string(Oe)){Q=Oe;let Jt=oe[0],$t=oe[oe.length-1],kt=0,K=vi.ParameterStructures.auto;vi.ParameterStructures.is(Jt)&&(kt=1,K=Jt);let Fe=oe.length;zee.CancellationToken.is($t)&&(Fe=Fe-1,Je=$t);let Ht=Fe-kt;switch(Ht){case 0:_e=void 0;break;case 1:_e=Ji(K,oe[kt]);break;default:if(K===vi.ParameterStructures.byName)throw new Error(`Received ${Ht} parameters for 'by Name' request parameter structure.`);_e=oe.slice(kt,Fe).map(Tr=>An(Tr));break}}else{let Jt=oe;Q=Oe.method,_e=oi(Oe,Jt);let $t=Oe.numberOfParams;Je=zee.CancellationToken.is(Jt[$t])?Jt[$t]:void 0}let ft=o++,Yt;return Je&&(Yt=Je.onCancellationRequested(()=>{let Jt=ce.sender.sendCancellation(fn,ft);return Jt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Jt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Jt,$t)=>{let kt={jsonrpc:c,id:ft,method:Q,params:_e},K=Tr=>{Jt(Tr),ce.sender.cleanup(ft),Yt?.dispose()},Fe=Tr=>{$t(Tr),ce.sender.cleanup(ft),Yt?.dispose()},Ht={method:Q,timerStart:Date.now(),resolve:K,reject:Fe};Mt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Tr){Ht.reject(new vi.ResponseError(vi.ErrorCodes.MessageWriteError,Tr.message?Tr.message:"Unknown reason")),Ht=null}Ht&&x.set(ft,Ht)})},onRequest:(Oe,oe)=>{dn();let Q=null;return Hee.is(Oe)?(Q=void 0,u=Oe):Rl.string(Oe)?(Q=null,oe!==void 0&&(Q=Oe,l.set(Oe,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Oe.method,l.set(Oe.method,{type:Oe,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>x.size>0,trace:async(Oe,oe,Q)=>{let _e=!1,Je=Oy.Text;Q!==void 0&&(Rl.boolean(Q)?_e=Q:(_e=Q.sendNotification||!1,Je=Q.traceFormat||Oy.Text)),U=Oe,ne=Je,U===js.Off?de=void 0:de=oe,_e&&!Me()&&!$e()&&await fn.sendNotification(gIe.type,{value:js.toString(Oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:se.event,end:()=>{e.end()},dispose:()=>{if($e())return;ye=Iy.Disposed,se.fire(void 0);let Oe=new vi.ResponseError(vi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of x.values())oe.reject(Oe);x=new Map,A=new Map,M=new Set,T=new pIe.LinkedMap,Rl.func(e.dispose)&&e.dispose(),Rl.func(r.dispose)&&r.dispose()},listen:()=>{dn(),ii(),ye=Iy.Listening,r.listen(fr)},inspect:()=>{(0,hIe.default)().console.log("inspect")}};return fn.onNotification(Bee.type,Oe=>{if(U===js.Off||!de)return;let oe=U===js.Verbose||U===js.Compact;de.log(Oe.message,oe?Oe.verbose:void 0)}),fn.onNotification(mL.type,Oe=>{let oe=m.get(Oe.token);oe?oe(Oe.value):Se.fire(Oe)}),fn}ni.createMessageConnection=G_t});var Jee=E(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.TraceFormat=Gt.TraceValues=Gt.Trace=Gt.ProgressType=Gt.ProgressToken=Gt.createMessageConnection=Gt.NullLogger=Gt.ConnectionOptions=Gt.ConnectionStrategy=Gt.WriteableStreamMessageWriter=Gt.AbstractMessageWriter=Gt.MessageWriter=Gt.ReadableStreamMessageReader=Gt.AbstractMessageReader=Gt.MessageReader=Gt.CancellationToken=Gt.CancellationTokenSource=Gt.Emitter=Gt.Event=Gt.Disposable=Gt.LRUCache=Gt.Touch=Gt.LinkedMap=Gt.ParameterStructures=Gt.NotificationType9=Gt.NotificationType8=Gt.NotificationType7=Gt.NotificationType6=Gt.NotificationType5=Gt.NotificationType4=Gt.NotificationType3=Gt.NotificationType2=Gt.NotificationType1=Gt.NotificationType0=Gt.NotificationType=Gt.ErrorCodes=Gt.ResponseError=Gt.RequestType9=Gt.RequestType8=Gt.RequestType7=Gt.RequestType6=Gt.RequestType5=Gt.RequestType4=Gt.RequestType3=Gt.RequestType2=Gt.RequestType1=Gt.RequestType0=Gt.RequestType=Gt.Message=Gt.RAL=void 0;Gt.CancellationStrategy=Gt.CancellationSenderStrategy=Gt.CancellationReceiverStrategy=Gt.ConnectionError=Gt.ConnectionErrors=Gt.LogTraceNotification=Gt.SetTraceNotification=void 0;var Sa=Tee();Object.defineProperty(Gt,"Message",{enumerable:!0,get:function(){return Sa.Message}});Object.defineProperty(Gt,"RequestType",{enumerable:!0,get:function(){return Sa.RequestType}});Object.defineProperty(Gt,"RequestType0",{enumerable:!0,get:function(){return Sa.RequestType0}});Object.defineProperty(Gt,"RequestType1",{enumerable:!0,get:function(){return Sa.RequestType1}});Object.defineProperty(Gt,"RequestType2",{enumerable:!0,get:function(){return Sa.RequestType2}});Object.defineProperty(Gt,"RequestType3",{enumerable:!0,get:function(){return Sa.RequestType3}});Object.defineProperty(Gt,"RequestType4",{enumerable:!0,get:function(){return Sa.RequestType4}});Object.defineProperty(Gt,"RequestType5",{enumerable:!0,get:function(){return Sa.RequestType5}});Object.defineProperty(Gt,"RequestType6",{enumerable:!0,get:function(){return Sa.RequestType6}});Object.defineProperty(Gt,"RequestType7",{enumerable:!0,get:function(){return Sa.RequestType7}});Object.defineProperty(Gt,"RequestType8",{enumerable:!0,get:function(){return Sa.RequestType8}});Object.defineProperty(Gt,"RequestType9",{enumerable:!0,get:function(){return Sa.RequestType9}});Object.defineProperty(Gt,"ResponseError",{enumerable:!0,get:function(){return Sa.ResponseError}});Object.defineProperty(Gt,"ErrorCodes",{enumerable:!0,get:function(){return Sa.ErrorCodes}});Object.defineProperty(Gt,"NotificationType",{enumerable:!0,get:function(){return Sa.NotificationType}});Object.defineProperty(Gt,"NotificationType0",{enumerable:!0,get:function(){return Sa.NotificationType0}});Object.defineProperty(Gt,"NotificationType1",{enumerable:!0,get:function(){return Sa.NotificationType1}});Object.defineProperty(Gt,"NotificationType2",{enumerable:!0,get:function(){return Sa.NotificationType2}});Object.defineProperty(Gt,"NotificationType3",{enumerable:!0,get:function(){return Sa.NotificationType3}});Object.defineProperty(Gt,"NotificationType4",{enumerable:!0,get:function(){return Sa.NotificationType4}});Object.defineProperty(Gt,"NotificationType5",{enumerable:!0,get:function(){return Sa.NotificationType5}});Object.defineProperty(Gt,"NotificationType6",{enumerable:!0,get:function(){return Sa.NotificationType6}});Object.defineProperty(Gt,"NotificationType7",{enumerable:!0,get:function(){return Sa.NotificationType7}});Object.defineProperty(Gt,"NotificationType8",{enumerable:!0,get:function(){return Sa.NotificationType8}});Object.defineProperty(Gt,"NotificationType9",{enumerable:!0,get:function(){return Sa.NotificationType9}});Object.defineProperty(Gt,"ParameterStructures",{enumerable:!0,get:function(){return Sa.ParameterStructures}});var Gee=Pee();Object.defineProperty(Gt,"LinkedMap",{enumerable:!0,get:function(){return Gee.LinkedMap}});Object.defineProperty(Gt,"LRUCache",{enumerable:!0,get:function(){return Gee.LRUCache}});Object.defineProperty(Gt,"Touch",{enumerable:!0,get:function(){return Gee.Touch}});var K_t=JZ();Object.defineProperty(Gt,"Disposable",{enumerable:!0,get:function(){return K_t.Disposable}});var _Ie=yR();Object.defineProperty(Gt,"Event",{enumerable:!0,get:function(){return _Ie.Event}});Object.defineProperty(Gt,"Emitter",{enumerable:!0,get:function(){return _Ie.Emitter}});var bIe=kee();Object.defineProperty(Gt,"CancellationTokenSource",{enumerable:!0,get:function(){return bIe.CancellationTokenSource}});Object.defineProperty(Gt,"CancellationToken",{enumerable:!0,get:function(){return bIe.CancellationToken}});var Kee=aIe();Object.defineProperty(Gt,"MessageReader",{enumerable:!0,get:function(){return Kee.MessageReader}});Object.defineProperty(Gt,"AbstractMessageReader",{enumerable:!0,get:function(){return Kee.AbstractMessageReader}});Object.defineProperty(Gt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Kee.ReadableStreamMessageReader}});var Yee=fIe();Object.defineProperty(Gt,"MessageWriter",{enumerable:!0,get:function(){return Yee.MessageWriter}});Object.defineProperty(Gt,"AbstractMessageWriter",{enumerable:!0,get:function(){return Yee.AbstractMessageWriter}});Object.defineProperty(Gt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Yee.WriteableStreamMessageWriter}});var Qf=yIe();Object.defineProperty(Gt,"ConnectionStrategy",{enumerable:!0,get:function(){return Qf.ConnectionStrategy}});Object.defineProperty(Gt,"ConnectionOptions",{enumerable:!0,get:function(){return Qf.ConnectionOptions}});Object.defineProperty(Gt,"NullLogger",{enumerable:!0,get:function(){return Qf.NullLogger}});Object.defineProperty(Gt,"createMessageConnection",{enumerable:!0,get:function(){return Qf.createMessageConnection}});Object.defineProperty(Gt,"ProgressToken",{enumerable:!0,get:function(){return Qf.ProgressToken}});Object.defineProperty(Gt,"ProgressType",{enumerable:!0,get:function(){return Qf.ProgressType}});Object.defineProperty(Gt,"Trace",{enumerable:!0,get:function(){return Qf.Trace}});Object.defineProperty(Gt,"TraceValues",{enumerable:!0,get:function(){return Qf.TraceValues}});Object.defineProperty(Gt,"TraceFormat",{enumerable:!0,get:function(){return Qf.TraceFormat}});Object.defineProperty(Gt,"SetTraceNotification",{enumerable:!0,get:function(){return Qf.SetTraceNotification}});Object.defineProperty(Gt,"LogTraceNotification",{enumerable:!0,get:function(){return Qf.LogTraceNotification}});Object.defineProperty(Gt,"ConnectionErrors",{enumerable:!0,get:function(){return Qf.ConnectionErrors}});Object.defineProperty(Gt,"ConnectionError",{enumerable:!0,get:function(){return Qf.ConnectionError}});Object.defineProperty(Gt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qf.CancellationReceiverStrategy}});Object.defineProperty(Gt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qf.CancellationSenderStrategy}});Object.defineProperty(Gt,"CancellationStrategy",{enumerable:!0,get:function(){return Qf.CancellationStrategy}});var Y_t=$w();Gt.RAL=Y_t.default});var t0=E(_s=>{"use strict";var J_t=_s&&_s.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),X_t=_s&&_s.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&J_t(e,r,t)};Object.defineProperty(_s,"__esModule",{value:!0});_s.createMessageConnection=_s.createServerSocketTransport=_s.createClientSocketTransport=_s.createServerPipeTransport=_s.createClientPipeTransport=_s.generateRandomPipeName=_s.StreamMessageWriter=_s.StreamMessageReader=_s.SocketMessageWriter=_s.SocketMessageReader=_s.IPCMessageWriter=_s.IPCMessageReader=void 0;var wR=rIe();wR.default.install();var cb=Jee(),wIe=require("path"),Q_t=require("os"),Z_t=require("crypto"),bH=require("net");X_t(Jee(),_s);var Xee=class extends cb.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),cb.Disposable.create(()=>this.process.off("message",e))}};_s.IPCMessageReader=Xee;var Qee=class extends cb.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};_s.IPCMessageWriter=Qee;var ZT=class extends cb.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,wR.default)().stream.asReadableStream(e),t)}};_s.SocketMessageReader=ZT;var e0=class extends cb.WriteableStreamMessageWriter{constructor(e,t){super((0,wR.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};_s.SocketMessageWriter=e0;var yH=class extends cb.ReadableStreamMessageReader{constructor(e,t){super((0,wR.default)().stream.asReadableStream(e),t)}};_s.StreamMessageReader=yH;var _H=class extends cb.WriteableStreamMessageWriter{constructor(e,t){super((0,wR.default)().stream.asWritableStream(e),t)}};_s.StreamMessageWriter=_H;var SIe=process.env.XDG_RUNTIME_DIR,ebt=new Map([["linux",107],["darwin",103]]);function tbt(){let r=(0,Z_t.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;SIe?e=wIe.join(SIe,`vscode-ipc-${r}.sock`):e=wIe.join(Q_t.tmpdir(),`vscode-${r}.sock`);let t=ebt.get(process.platform);return t!==void 0&&e.length>=t&&(0,wR.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}_s.generateRandomPipeName=tbt;function rbt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,bH.createServer)(a=>{s.close(),t([new ZT(a,e),new e0(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}_s.createClientPipeTransport=rbt;function nbt(r,e="utf-8"){let t=(0,bH.createConnection)(r);return[new ZT(t,e),new e0(t,e)]}_s.createServerPipeTransport=nbt;function ibt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,bH.createServer)(a=>{s.close(),t([new ZT(a,e),new e0(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}_s.createClientSocketTransport=ibt;function obt(r,e="utf-8"){let t=(0,bH.createConnection)(r,"127.0.0.1");return[new ZT(t,e),new e0(t,e)]}_s.createServerSocketTransport=obt;function sbt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function abt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function cbt(r,e,t,n){t||(t=cb.NullLogger);let i=sbt(r)?new yH(r):r,o=abt(e)?new _H(e):e;return cb.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,cb.createMessageConnection)(i,o,t,n)}_s.createMessageConnection=cbt});var Zee=E((mKt,CIe)=>{"use strict";CIe.exports=t0()});var SH=E((DIe,wH)=>{(function(r){if(typeof wH=="object"&&typeof wH.exports=="object"){var e=r(require,DIe);e!==void 0&&(wH.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(re){function Re(je){return typeof je=="string"}re.is=Re})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(re){function Re(je){return typeof je=="string"}re.is=Re})(n=e.URI||(e.URI={}));var i;(function(re){re.MIN_VALUE=-2147483648,re.MAX_VALUE=2147483647;function Re(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Re})(i=e.integer||(e.integer={}));var o;(function(re){re.MIN_VALUE=0,re.MAX_VALUE=2147483647;function Re(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Re})(o=e.uinteger||(e.uinteger={}));var s;(function(re){function Re(he,S){return he===Number.MAX_VALUE&&(he=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:he,character:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}re.is=je})(s=e.Position||(e.Position={}));var a;(function(re){function Re(he,S,fe,Ye){if(He.uinteger(he)&&He.uinteger(S)&&He.uinteger(fe)&&He.uinteger(Ye))return{start:s.create(he,S),end:s.create(fe,Ye)};if(s.is(he)&&s.is(S))return{start:he,end:S};throw new Error("Range#create called with invalid arguments[".concat(he,", ").concat(S,", ").concat(fe,", ").concat(Ye,"]"))}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}re.is=je})(a=e.Range||(e.Range={}));var c;(function(re){function Re(he,S){return{uri:he,range:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}re.is=je})(c=e.Location||(e.Location={}));var u;(function(re){function Re(he,S,fe,Ye){return{targetUri:he,targetRange:S,targetSelectionRange:fe,originSelectionRange:Ye}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}re.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(re){function Re(he,S,fe,Ye){return{red:he,green:S,blue:fe,alpha:Ye}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}re.is=je})(l=e.Color||(e.Color={}));var d;(function(re){function Re(he,S){return{range:he,color:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}re.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(re){function Re(he,S,fe){return{label:he,textEdit:S,additionalTextEdits:fe}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||de.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,de.is))}re.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(re){re.Comment="comment",re.Imports="imports",re.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var _;(function(re){function Re(he,S,fe,Ye,Dr,Wr){var Xr={startLine:he,endLine:S};return He.defined(fe)&&(Xr.startCharacter=fe),He.defined(Ye)&&(Xr.endCharacter=Ye),He.defined(Dr)&&(Xr.kind=Dr),He.defined(Wr)&&(Xr.collapsedText=Wr),Xr}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}re.is=je})(_=e.FoldingRange||(e.FoldingRange={}));var T;(function(re){function Re(he,S){return{location:he,message:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}re.is=je})(T=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var x;(function(re){re.Error=1,re.Warning=2,re.Information=3,re.Hint=4})(x=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var M;(function(re){re.Unnecessary=1,re.Deprecated=2})(M=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&He.string(he.href)}re.is=Re})(A=e.CodeDescription||(e.CodeDescription={}));var U;(function(re){function Re(he,S,fe,Ye,Dr,Wr){var Xr={range:he,message:S};return He.defined(fe)&&(Xr.severity=fe),He.defined(Ye)&&(Xr.code=Ye),He.defined(Dr)&&(Xr.source=Dr),He.defined(Wr)&&(Xr.relatedInformation=Wr),Xr}re.create=Re;function je(he){var S,fe=he;return He.defined(fe)&&a.is(fe.range)&&He.string(fe.message)&&(He.number(fe.severity)||He.undefined(fe.severity))&&(He.integer(fe.code)||He.string(fe.code)||He.undefined(fe.code))&&(He.undefined(fe.codeDescription)||He.string((S=fe.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(fe.source)||He.undefined(fe.source))&&(He.undefined(fe.relatedInformation)||He.typedArray(fe.relatedInformation,T.is))}re.is=je})(U=e.Diagnostic||(e.Diagnostic={}));var ne;(function(re){function Re(he,S){for(var fe=[],Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];var Dr={title:he,command:S};return He.defined(fe)&&fe.length>0&&(Dr.arguments=fe),Dr}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}re.is=je})(ne=e.Command||(e.Command={}));var de;(function(re){function Re(fe,Ye){return{range:fe,newText:Ye}}re.replace=Re;function je(fe,Ye){return{range:{start:fe,end:fe},newText:Ye}}re.insert=je;function he(fe){return{range:fe,newText:""}}re.del=he;function S(fe){var Ye=fe;return He.objectLiteral(Ye)&&He.string(Ye.newText)&&a.is(Ye.range)}re.is=S})(de=e.TextEdit||(e.TextEdit={}));var ye;(function(re){function Re(he,S,fe){var Ye={label:he};return S!==void 0&&(Ye.needsConfirmation=S),fe!==void 0&&(Ye.description=fe),Ye}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}re.is=je})(ye=e.ChangeAnnotation||(e.ChangeAnnotation={}));var V;(function(re){function Re(je){var he=je;return He.string(he)}re.is=Re})(V=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(re){function Re(fe,Ye,Dr){return{range:fe,newText:Ye,annotationId:Dr}}re.replace=Re;function je(fe,Ye,Dr){return{range:{start:fe,end:fe},newText:Ye,annotationId:Dr}}re.insert=je;function he(fe,Ye){return{range:fe,newText:"",annotationId:Ye}}re.del=he;function S(fe){var Ye=fe;return de.is(Ye)&&(ye.is(Ye.annotationId)||V.is(Ye.annotationId))}re.is=S})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ee;(function(re){function Re(he,S){return{textDocument:he,edits:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&Me.is(S.textDocument)&&Array.isArray(S.edits)}re.is=je})(ee=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Se;(function(re){function Re(he,S,fe){var Ye={kind:"create",uri:he};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Ye.options=S),fe!==void 0&&(Ye.annotationId=fe),Ye}re.create=Re;function je(he){var S=he;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(Se=e.CreateFile||(e.CreateFile={}));var se;(function(re){function Re(he,S,fe,Ye){var Dr={kind:"rename",oldUri:he,newUri:S};return fe!==void 0&&(fe.overwrite!==void 0||fe.ignoreIfExists!==void 0)&&(Dr.options=fe),Ye!==void 0&&(Dr.annotationId=Ye),Dr}re.create=Re;function je(he){var S=he;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(se=e.RenameFile||(e.RenameFile={}));var ce;(function(re){function Re(he,S,fe){var Ye={kind:"delete",uri:he};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Ye.options=S),fe!==void 0&&(Ye.annotationId=fe),Ye}re.create=Re;function je(he){var S=he;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(ce=e.DeleteFile||(e.DeleteFile={}));var qe;(function(re){function Re(je){var he=je;return he&&(he.changes!==void 0||he.documentChanges!==void 0)&&(he.documentChanges===void 0||he.documentChanges.every(function(S){return He.string(S.kind)?Se.is(S)||se.is(S)||ce.is(S):ee.is(S)}))}re.is=Re})(qe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ne=function(){function re(Re,je){this.edits=Re,this.changeAnnotations=je}return re.prototype.insert=function(Re,je,he){var S,fe;if(he===void 0?S=de.insert(Re,je):V.is(he)?(fe=he,S=W.insert(Re,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=W.insert(Re,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.replace=function(Re,je,he){var S,fe;if(he===void 0?S=de.replace(Re,je):V.is(he)?(fe=he,S=W.replace(Re,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=W.replace(Re,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.delete=function(Re,je){var he,S;if(je===void 0?he=de.del(Re):V.is(je)?(S=je,he=W.del(Re,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),he=W.del(Re,S)),this.edits.push(he),S!==void 0)return S},re.prototype.add=function(Re){this.edits.push(Re)},re.prototype.all=function(){return this.edits},re.prototype.clear=function(){this.edits.splice(0,this.edits.length)},re.prototype.assertChangeAnnotations=function(Re){if(Re===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},re}(),ue=function(){function re(Re){this._annotations=Re===void 0?Object.create(null):Re,this._counter=0,this._size=0}return re.prototype.all=function(){return this._annotations},Object.defineProperty(re.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),re.prototype.manage=function(Re,je){var he;if(V.is(Re)?he=Re:(he=this.nextId(),je=Re),this._annotations[he]!==void 0)throw new Error("Id ".concat(he," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(he));return this._annotations[he]=je,this._size++,he},re.prototype.nextId=function(){return this._counter++,this._counter.toString()},re}(),De=function(){function re(Re){var je=this;this._textEditChanges=Object.create(null),Re!==void 0?(this._workspaceEdit=Re,Re.documentChanges?(this._changeAnnotations=new ue(Re.changeAnnotations),Re.changeAnnotations=this._changeAnnotations.all(),Re.documentChanges.forEach(function(he){if(ee.is(he)){var S=new Ne(he.edits,je._changeAnnotations);je._textEditChanges[he.textDocument.uri]=S}})):Re.changes&&Object.keys(Re.changes).forEach(function(he){var S=new Ne(Re.changes[he]);je._textEditChanges[he]=S})):this._workspaceEdit={}}return Object.defineProperty(re.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),re.prototype.getTextEditChange=function(Re){if(Me.is(Re)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:Re.uri,version:Re.version},he=this._textEditChanges[je.uri];if(!he){var S=[],fe={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(fe),he=new Ne(S,this._changeAnnotations),this._textEditChanges[je.uri]=he}return he}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var he=this._textEditChanges[Re];if(!he){var S=[];this._workspaceEdit.changes[Re]=S,he=new Ne(S),this._textEditChanges[Re]=he}return he}},re.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ue,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},re.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},re.prototype.createFile=function(Re,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ye.is(je)||V.is(je)?S=je:he=je;var fe,Ye;if(S===void 0?fe=Se.create(Re,he):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),fe=Se.create(Re,he,Ye)),this._workspaceEdit.documentChanges.push(fe),Ye!==void 0)return Ye},re.prototype.renameFile=function(Re,je,he,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe;ye.is(he)||V.is(he)?fe=he:S=he;var Ye,Dr;if(fe===void 0?Ye=se.create(Re,je,S):(Dr=V.is(fe)?fe:this._changeAnnotations.manage(fe),Ye=se.create(Re,je,S,Dr)),this._workspaceEdit.documentChanges.push(Ye),Dr!==void 0)return Dr},re.prototype.deleteFile=function(Re,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ye.is(je)||V.is(je)?S=je:he=je;var fe,Ye;if(S===void 0?fe=ce.create(Re,he):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),fe=ce.create(Re,he,Ye)),this._workspaceEdit.documentChanges.push(fe),Ye!==void 0)return Ye},re}();e.WorkspaceChange=De;var we;(function(re){function Re(he){return{uri:he}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)}re.is=je})(we=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xe;(function(re){function Re(he,S){return{uri:he,version:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}re.is=je})(xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Me;(function(re){function Re(he,S){return{uri:he,version:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}re.is=je})(Me=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var $e;(function(re){function Re(he,S,fe,Ye){return{uri:he,languageId:S,version:fe,text:Ye}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}re.is=je})($e=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(re){re.PlainText="plaintext",re.Markdown="markdown";function Re(je){var he=je;return he===re.PlainText||he===re.Markdown}re.is=Re})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(re){function Re(je){var he=je;return He.objectLiteral(je)&&Ct.is(he.kind)&&He.string(he.value)}re.is=Re})(ze=e.MarkupContent||(e.MarkupContent={}));var st;(function(re){re.Text=1,re.Method=2,re.Function=3,re.Constructor=4,re.Field=5,re.Variable=6,re.Class=7,re.Interface=8,re.Module=9,re.Property=10,re.Unit=11,re.Value=12,re.Enum=13,re.Keyword=14,re.Snippet=15,re.Color=16,re.File=17,re.Reference=18,re.Folder=19,re.EnumMember=20,re.Constant=21,re.Struct=22,re.Event=23,re.Operator=24,re.TypeParameter=25})(st=e.CompletionItemKind||(e.CompletionItemKind={}));var at;(function(re){re.PlainText=1,re.Snippet=2})(at=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(re){re.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var fr;(function(re){function Re(he,S,fe){return{newText:he,insert:S,replace:fe}}re.create=Re;function je(he){var S=he;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}re.is=je})(fr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Lr;(function(re){re.asIs=1,re.adjustIndentation=2})(Lr=e.InsertTextMode||(e.InsertTextMode={}));var zr;(function(re){function Re(je){var he=je;return he&&(He.string(he.detail)||he.detail===void 0)&&(He.string(he.description)||he.description===void 0)}re.is=Re})(zr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var cr;(function(re){function Re(je){return{label:je}}re.create=Re})(cr=e.CompletionItem||(e.CompletionItem={}));var xt;(function(re){function Re(je,he){return{items:je||[],isIncomplete:!!he}}re.create=Re})(xt=e.CompletionList||(e.CompletionList={}));var hr;(function(re){function Re(he){return he.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}re.fromPlainText=Re;function je(he){var S=he;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}re.is=je})(hr=e.MarkedString||(e.MarkedString={}));var Mt;(function(re){function Re(je){var he=je;return!!he&&He.objectLiteral(he)&&(ze.is(he.contents)||hr.is(he.contents)||He.typedArray(he.contents,hr.is))&&(je.range===void 0||a.is(je.range))}re.is=Re})(Mt=e.Hover||(e.Hover={}));var on;(function(re){function Re(je,he){return he?{label:je,documentation:he}:{label:je}}re.create=Re})(on=e.ParameterInformation||(e.ParameterInformation={}));var ln;(function(re){function Re(je,he){for(var S=[],fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];var Ye={label:je};return He.defined(he)&&(Ye.documentation=he),He.defined(S)?Ye.parameters=S:Ye.parameters=[],Ye}re.create=Re})(ln=e.SignatureInformation||(e.SignatureInformation={}));var On;(function(re){re.Text=1,re.Read=2,re.Write=3})(On=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Or;(function(re){function Re(je,he){var S={range:je};return He.number(he)&&(S.kind=he),S}re.create=Re})(Or=e.DocumentHighlight||(e.DocumentHighlight={}));var Hn;(function(re){re.File=1,re.Module=2,re.Namespace=3,re.Package=4,re.Class=5,re.Method=6,re.Property=7,re.Field=8,re.Constructor=9,re.Enum=10,re.Interface=11,re.Function=12,re.Variable=13,re.Constant=14,re.String=15,re.Number=16,re.Boolean=17,re.Array=18,re.Object=19,re.Key=20,re.Null=21,re.EnumMember=22,re.Struct=23,re.Event=24,re.Operator=25,re.TypeParameter=26})(Hn=e.SymbolKind||(e.SymbolKind={}));var $r;(function(re){re.Deprecated=1})($r=e.SymbolTag||(e.SymbolTag={}));var dn;(function(re){function Re(je,he,S,fe,Ye){var Dr={name:je,kind:he,location:{uri:fe,range:S}};return Ye&&(Dr.containerName=Ye),Dr}re.create=Re})(dn=e.SymbolInformation||(e.SymbolInformation={}));var ii;(function(re){function Re(je,he,S,fe){return fe!==void 0?{name:je,kind:he,location:{uri:S,range:fe}}:{name:je,kind:he,location:{uri:S}}}re.create=Re})(ii=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var Vr;(function(re){function Re(he,S,fe,Ye,Dr,Wr){var Xr={name:he,detail:S,kind:fe,range:Ye,selectionRange:Dr};return Wr!==void 0&&(Xr.children=Wr),Xr}re.create=Re;function je(he){var S=he;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}re.is=je})(Vr=e.DocumentSymbol||(e.DocumentSymbol={}));var An;(function(re){re.Empty="",re.QuickFix="quickfix",re.Refactor="refactor",re.RefactorExtract="refactor.extract",re.RefactorInline="refactor.inline",re.RefactorRewrite="refactor.rewrite",re.Source="source",re.SourceOrganizeImports="source.organizeImports",re.SourceFixAll="source.fixAll"})(An=e.CodeActionKind||(e.CodeActionKind={}));var Ri;(function(re){re.Invoked=1,re.Automatic=2})(Ri=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Gr;(function(re){function Re(he,S,fe){var Ye={diagnostics:he};return S!=null&&(Ye.only=S),fe!=null&&(Ye.triggerKind=fe),Ye}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.typedArray(S.diagnostics,U.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===Ri.Invoked||S.triggerKind===Ri.Automatic)}re.is=je})(Gr=e.CodeActionContext||(e.CodeActionContext={}));var Ji;(function(re){function Re(he,S,fe){var Ye={title:he},Dr=!0;return typeof S=="string"?(Dr=!1,Ye.kind=S):ne.is(S)?Ye.command=S:Ye.edit=S,Dr&&fe!==void 0&&(Ye.kind=fe),Ye}re.create=Re;function je(he){var S=he;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,U.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||ne.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||qe.is(S.edit))}re.is=je})(Ji=e.CodeAction||(e.CodeAction={}));var oi;(function(re){function Re(he,S){var fe={range:he};return He.defined(S)&&(fe.data=S),fe}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||ne.is(S.command))}re.is=je})(oi=e.CodeLens||(e.CodeLens={}));var fn;(function(re){function Re(he,S){return{tabSize:he,insertSpaces:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}re.is=je})(fn=e.FormattingOptions||(e.FormattingOptions={}));var Oe;(function(re){function Re(he,S,fe){return{range:he,target:S,data:fe}}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}re.is=je})(Oe=e.DocumentLink||(e.DocumentLink={}));var oe;(function(re){function Re(he,S){return{range:he,parent:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||re.is(S.parent))}re.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(re){re.namespace="namespace",re.type="type",re.class="class",re.enum="enum",re.interface="interface",re.struct="struct",re.typeParameter="typeParameter",re.parameter="parameter",re.variable="variable",re.property="property",re.enumMember="enumMember",re.event="event",re.function="function",re.method="method",re.macro="macro",re.keyword="keyword",re.modifier="modifier",re.comment="comment",re.string="string",re.number="number",re.regexp="regexp",re.operator="operator",re.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var _e;(function(re){re.declaration="declaration",re.definition="definition",re.readonly="readonly",re.static="static",re.deprecated="deprecated",re.abstract="abstract",re.async="async",re.modification="modification",re.documentation="documentation",re.defaultLibrary="defaultLibrary"})(_e=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Je;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&(he.resultId===void 0||typeof he.resultId=="string")&&Array.isArray(he.data)&&(he.data.length===0||typeof he.data[0]=="number")}re.is=Re})(Je=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(re){function Re(he,S){return{range:he,text:S}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.string(S.text)}re.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Yt;(function(re){function Re(he,S,fe){return{range:he,variableName:S,caseSensitiveLookup:fe}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}re.is=je})(Yt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var rr;(function(re){function Re(he,S){return{range:he,expression:S}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}re.is=je})(rr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Jt;(function(re){function Re(he,S){return{frameId:he,stoppedLocation:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(he.stoppedLocation)}re.is=je})(Jt=e.InlineValueContext||(e.InlineValueContext={}));var $t;(function(re){re.Type=1,re.Parameter=2;function Re(je){return je===1||je===2}re.is=Re})($t=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(re){function Re(he){return{value:he}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||ne.is(S.command))}re.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(re){function Re(he,S,fe){var Ye={position:he,label:S};return fe!==void 0&&(Ye.kind=fe),Ye}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||$t.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,de.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}re.is=je})(K=e.InlayHint||(e.InlayHint={}));var Fe;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&n.is(he.uri)&&He.string(he.name)}re.is=Re})(Fe=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Ht;(function(re){function Re(fe,Ye,Dr,Wr){return new Tr(fe,Ye,Dr,Wr)}re.create=Re;function je(fe){var Ye=fe;return!!(He.defined(Ye)&&He.string(Ye.uri)&&(He.undefined(Ye.languageId)||He.string(Ye.languageId))&&He.uinteger(Ye.lineCount)&&He.func(Ye.getText)&&He.func(Ye.positionAt)&&He.func(Ye.offsetAt))}re.is=je;function he(fe,Ye){for(var Dr=fe.getText(),Wr=S(Ye,function(es,Bs){var ta=es.range.start.line-Bs.range.start.line;return ta===0?es.range.start.character-Bs.range.start.character:ta}),Xr=Dr.length,qn=Wr.length-1;qn>=0;qn--){var xi=Wr[qn],ks=fe.offsetAt(xi.range.start),Sn=fe.offsetAt(xi.range.end);if(Sn<=Xr)Dr=Dr.substring(0,ks)+xi.newText+Dr.substring(Sn,Dr.length);else throw new Error("Overlapping edit");Xr=ks}return Dr}re.applyEdits=he;function S(fe,Ye){if(fe.length<=1)return fe;var Dr=fe.length/2|0,Wr=fe.slice(0,Dr),Xr=fe.slice(Dr);S(Wr,Ye),S(Xr,Ye);for(var qn=0,xi=0,ks=0;qn<Wr.length&&xi<Xr.length;){var Sn=Ye(Wr[qn],Xr[xi]);Sn<=0?fe[ks++]=Wr[qn++]:fe[ks++]=Xr[xi++]}for(;qn<Wr.length;)fe[ks++]=Wr[qn++];for(;xi<Xr.length;)fe[ks++]=Xr[xi++];return fe}})(Ht=e.TextDocument||(e.TextDocument={}));var Tr=function(){function re(Re,je,he,S){this._uri=Re,this._languageId=je,this._version=he,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(re.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),re.prototype.getText=function(Re){if(Re){var je=this.offsetAt(Re.start),he=this.offsetAt(Re.end);return this._content.substring(je,he)}return this._content},re.prototype.update=function(Re,je){this._content=Re.text,this._version=je,this._lineOffsets=void 0},re.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Re=[],je=this._content,he=!0,S=0;S<je.length;S++){he&&(Re.push(S),he=!1);var fe=je.charAt(S);he=fe==="\r"||fe===`
`,fe==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}he&&je.length>0&&Re.push(je.length),this._lineOffsets=Re}return this._lineOffsets},re.prototype.positionAt=function(Re){Re=Math.max(Math.min(Re,this._content.length),0);var je=this.getLineOffsets(),he=0,S=je.length;if(S===0)return s.create(0,Re);for(;he<S;){var fe=Math.floor((he+S)/2);je[fe]>Re?S=fe:he=fe+1}var Ye=he-1;return s.create(Ye,Re-je[Ye])},re.prototype.offsetAt=function(Re){var je=this.getLineOffsets();if(Re.line>=je.length)return this._content.length;if(Re.line<0)return 0;var he=je[Re.line],S=Re.line+1<je.length?je[Re.line+1]:this._content.length;return Math.max(Math.min(he+Re.character,S),he)},Object.defineProperty(re.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),re}(),He;(function(re){var Re=Object.prototype.toString;function je(Sn){return typeof Sn<"u"}re.defined=je;function he(Sn){return typeof Sn>"u"}re.undefined=he;function S(Sn){return Sn===!0||Sn===!1}re.boolean=S;function fe(Sn){return Re.call(Sn)==="[object String]"}re.string=fe;function Ye(Sn){return Re.call(Sn)==="[object Number]"}re.number=Ye;function Dr(Sn,es,Bs){return Re.call(Sn)==="[object Number]"&&es<=Sn&&Sn<=Bs}re.numberRange=Dr;function Wr(Sn){return Re.call(Sn)==="[object Number]"&&-2147483648<=Sn&&Sn<=2147483647}re.integer=Wr;function Xr(Sn){return Re.call(Sn)==="[object Number]"&&0<=Sn&&Sn<=2147483647}re.uinteger=Xr;function qn(Sn){return Re.call(Sn)==="[object Function]"}re.func=qn;function xi(Sn){return Sn!==null&&typeof Sn=="object"}re.objectLiteral=xi;function ks(Sn,es){return Array.isArray(Sn)&&Sn.every(es)}re.typedArray=ks})(He||(He={}))})});var Vc=E(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.ProtocolNotificationType=Zh.ProtocolNotificationType0=Zh.ProtocolRequestType=Zh.ProtocolRequestType0=Zh.RegistrationType=Zh.MessageDirection=void 0;var SR=t0(),ubt;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(ubt=Zh.MessageDirection||(Zh.MessageDirection={}));var ete=class{constructor(e){this.method=e}};Zh.RegistrationType=ete;var tte=class extends SR.RequestType0{constructor(e){super(e)}};Zh.ProtocolRequestType0=tte;var rte=class extends SR.RequestType{constructor(e){super(e,SR.ParameterStructures.byName)}};Zh.ProtocolRequestType=rte;var nte=class extends SR.NotificationType0{constructor(e){super(e)}};Zh.ProtocolNotificationType0=nte;var ite=class extends SR.NotificationType{constructor(e){super(e,SR.ParameterStructures.byName)}};Zh.ProtocolNotificationType=ite});var CH=E(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.objectLiteral=tl.typedArray=tl.stringArray=tl.array=tl.func=tl.error=tl.number=tl.string=tl.boolean=void 0;function lbt(r){return r===!0||r===!1}tl.boolean=lbt;function TIe(r){return typeof r=="string"||r instanceof String}tl.string=TIe;function dbt(r){return typeof r=="number"||r instanceof Number}tl.number=dbt;function fbt(r){return r instanceof Error}tl.error=fbt;function hbt(r){return typeof r=="function"}tl.func=hbt;function EIe(r){return Array.isArray(r)}tl.array=EIe;function pbt(r){return EIe(r)&&r.every(e=>TIe(e))}tl.stringArray=pbt;function mbt(r,e){return Array.isArray(r)&&r.every(e)}tl.typedArray=mbt;function gbt(r){return r!==null&&typeof r=="object"}tl.objectLiteral=gbt});var RIe=E(vL=>{"use strict";Object.defineProperty(vL,"__esModule",{value:!0});vL.ImplementationRequest=void 0;var PIe=Vc(),vbt;(function(r){r.method="textDocument/implementation",r.messageDirection=PIe.MessageDirection.clientToServer,r.type=new PIe.ProtocolRequestType(r.method)})(vbt=vL.ImplementationRequest||(vL.ImplementationRequest={}))});var OIe=E(yL=>{"use strict";Object.defineProperty(yL,"__esModule",{value:!0});yL.TypeDefinitionRequest=void 0;var xIe=Vc(),ybt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=xIe.MessageDirection.clientToServer,r.type=new xIe.ProtocolRequestType(r.method)})(ybt=yL.TypeDefinitionRequest||(yL.TypeDefinitionRequest={}))});var IIe=E(ZC=>{"use strict";Object.defineProperty(ZC,"__esModule",{value:!0});ZC.DidChangeWorkspaceFoldersNotification=ZC.WorkspaceFoldersRequest=void 0;var DH=Vc(),_bt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=DH.MessageDirection.serverToClient,r.type=new DH.ProtocolRequestType0(r.method)})(_bt=ZC.WorkspaceFoldersRequest||(ZC.WorkspaceFoldersRequest={}));var bbt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=DH.MessageDirection.clientToServer,r.type=new DH.ProtocolNotificationType(r.method)})(bbt=ZC.DidChangeWorkspaceFoldersNotification||(ZC.DidChangeWorkspaceFoldersNotification={}))});var AIe=E(_L=>{"use strict";Object.defineProperty(_L,"__esModule",{value:!0});_L.ConfigurationRequest=void 0;var kIe=Vc(),wbt;(function(r){r.method="workspace/configuration",r.messageDirection=kIe.MessageDirection.serverToClient,r.type=new kIe.ProtocolRequestType(r.method)})(wbt=_L.ConfigurationRequest||(_L.ConfigurationRequest={}))});var LIe=E(eD=>{"use strict";Object.defineProperty(eD,"__esModule",{value:!0});eD.ColorPresentationRequest=eD.DocumentColorRequest=void 0;var TH=Vc(),Sbt;(function(r){r.method="textDocument/documentColor",r.messageDirection=TH.MessageDirection.clientToServer,r.type=new TH.ProtocolRequestType(r.method)})(Sbt=eD.DocumentColorRequest||(eD.DocumentColorRequest={}));var Cbt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=TH.MessageDirection.clientToServer,r.type=new TH.ProtocolRequestType(r.method)})(Cbt=eD.ColorPresentationRequest||(eD.ColorPresentationRequest={}))});var NIe=E(bL=>{"use strict";Object.defineProperty(bL,"__esModule",{value:!0});bL.FoldingRangeRequest=void 0;var MIe=Vc(),Dbt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=MIe.MessageDirection.clientToServer,r.type=new MIe.ProtocolRequestType(r.method)})(Dbt=bL.FoldingRangeRequest||(bL.FoldingRangeRequest={}))});var qIe=E(wL=>{"use strict";Object.defineProperty(wL,"__esModule",{value:!0});wL.DeclarationRequest=void 0;var FIe=Vc(),Tbt;(function(r){r.method="textDocument/declaration",r.messageDirection=FIe.MessageDirection.clientToServer,r.type=new FIe.ProtocolRequestType(r.method)})(Tbt=wL.DeclarationRequest||(wL.DeclarationRequest={}))});var zIe=E(SL=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.SelectionRangeRequest=void 0;var jIe=Vc(),Ebt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=jIe.MessageDirection.clientToServer,r.type=new jIe.ProtocolRequestType(r.method)})(Ebt=SL.SelectionRangeRequest||(SL.SelectionRangeRequest={}))});var UIe=E(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});ky.WorkDoneProgressCancelNotification=ky.WorkDoneProgressCreateRequest=ky.WorkDoneProgress=void 0;var Pbt=t0(),EH=Vc(),Rbt;(function(r){r.type=new Pbt.ProgressType;function e(t){return t===r.type}r.is=e})(Rbt=ky.WorkDoneProgress||(ky.WorkDoneProgress={}));var xbt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=EH.MessageDirection.serverToClient,r.type=new EH.ProtocolRequestType(r.method)})(xbt=ky.WorkDoneProgressCreateRequest||(ky.WorkDoneProgressCreateRequest={}));var Obt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=EH.MessageDirection.clientToServer,r.type=new EH.ProtocolNotificationType(r.method)})(Obt=ky.WorkDoneProgressCancelNotification||(ky.WorkDoneProgressCancelNotification={}))});var HIe=E(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.CallHierarchyOutgoingCallsRequest=Ay.CallHierarchyIncomingCallsRequest=Ay.CallHierarchyPrepareRequest=void 0;var CR=Vc(),Ibt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType(r.method)})(Ibt=Ay.CallHierarchyPrepareRequest||(Ay.CallHierarchyPrepareRequest={}));var kbt;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType(r.method)})(kbt=Ay.CallHierarchyIncomingCallsRequest||(Ay.CallHierarchyIncomingCallsRequest={}));var Abt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType(r.method)})(Abt=Ay.CallHierarchyOutgoingCallsRequest||(Ay.CallHierarchyOutgoingCallsRequest={}))});var BIe=E(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.SemanticTokensRefreshRequest=rl.SemanticTokensRangeRequest=rl.SemanticTokensDeltaRequest=rl.SemanticTokensRequest=rl.SemanticTokensRegistrationType=rl.TokenFormat=void 0;var Yw=Vc(),Lbt;(function(r){r.Relative="relative"})(Lbt=rl.TokenFormat||(rl.TokenFormat={}));var PH;(function(r){r.method="textDocument/semanticTokens",r.type=new Yw.RegistrationType(r.method)})(PH=rl.SemanticTokensRegistrationType||(rl.SemanticTokensRegistrationType={}));var Mbt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Yw.MessageDirection.clientToServer,r.type=new Yw.ProtocolRequestType(r.method),r.registrationMethod=PH.method})(Mbt=rl.SemanticTokensRequest||(rl.SemanticTokensRequest={}));var Nbt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Yw.MessageDirection.clientToServer,r.type=new Yw.ProtocolRequestType(r.method),r.registrationMethod=PH.method})(Nbt=rl.SemanticTokensDeltaRequest||(rl.SemanticTokensDeltaRequest={}));var Fbt;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Yw.MessageDirection.clientToServer,r.type=new Yw.ProtocolRequestType(r.method),r.registrationMethod=PH.method})(Fbt=rl.SemanticTokensRangeRequest||(rl.SemanticTokensRangeRequest={}));var qbt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Yw.MessageDirection.clientToServer,r.type=new Yw.ProtocolRequestType0(r.method)})(qbt=rl.SemanticTokensRefreshRequest||(rl.SemanticTokensRefreshRequest={}))});var $Ie=E(CL=>{"use strict";Object.defineProperty(CL,"__esModule",{value:!0});CL.ShowDocumentRequest=void 0;var WIe=Vc(),jbt;(function(r){r.method="window/showDocument",r.messageDirection=WIe.MessageDirection.serverToClient,r.type=new WIe.ProtocolRequestType(r.method)})(jbt=CL.ShowDocumentRequest||(CL.ShowDocumentRequest={}))});var GIe=E(DL=>{"use strict";Object.defineProperty(DL,"__esModule",{value:!0});DL.LinkedEditingRangeRequest=void 0;var VIe=Vc(),zbt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=VIe.MessageDirection.clientToServer,r.type=new VIe.ProtocolRequestType(r.method)})(zbt=DL.LinkedEditingRangeRequest||(DL.LinkedEditingRangeRequest={}))});var KIe=E(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.WillDeleteFilesRequest=Gc.DidDeleteFilesNotification=Gc.DidRenameFilesNotification=Gc.WillRenameFilesRequest=Gc.DidCreateFilesNotification=Gc.WillCreateFilesRequest=Gc.FileOperationPatternKind=void 0;var _v=Vc(),Ubt;(function(r){r.file="file",r.folder="folder"})(Ubt=Gc.FileOperationPatternKind||(Gc.FileOperationPatternKind={}));var Hbt;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolRequestType(r.method)})(Hbt=Gc.WillCreateFilesRequest||(Gc.WillCreateFilesRequest={}));var Bbt;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolNotificationType(r.method)})(Bbt=Gc.DidCreateFilesNotification||(Gc.DidCreateFilesNotification={}));var Wbt;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolRequestType(r.method)})(Wbt=Gc.WillRenameFilesRequest||(Gc.WillRenameFilesRequest={}));var $bt;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolNotificationType(r.method)})($bt=Gc.DidRenameFilesNotification||(Gc.DidRenameFilesNotification={}));var Vbt;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolNotificationType(r.method)})(Vbt=Gc.DidDeleteFilesNotification||(Gc.DidDeleteFilesNotification={}));var Gbt;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=_v.MessageDirection.clientToServer,r.type=new _v.ProtocolRequestType(r.method)})(Gbt=Gc.WillDeleteFilesRequest||(Gc.WillDeleteFilesRequest={}))});var JIe=E(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.MonikerRequest=Ly.MonikerKind=Ly.UniquenessLevel=void 0;var YIe=Vc(),Kbt;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(Kbt=Ly.UniquenessLevel||(Ly.UniquenessLevel={}));var Ybt;(function(r){r.$import="import",r.$export="export",r.local="local"})(Ybt=Ly.MonikerKind||(Ly.MonikerKind={}));var Jbt;(function(r){r.method="textDocument/moniker",r.messageDirection=YIe.MessageDirection.clientToServer,r.type=new YIe.ProtocolRequestType(r.method)})(Jbt=Ly.MonikerRequest||(Ly.MonikerRequest={}))});var XIe=E(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.TypeHierarchySubtypesRequest=My.TypeHierarchySupertypesRequest=My.TypeHierarchyPrepareRequest=void 0;var DR=Vc(),Xbt;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=DR.MessageDirection.clientToServer,r.type=new DR.ProtocolRequestType(r.method)})(Xbt=My.TypeHierarchyPrepareRequest||(My.TypeHierarchyPrepareRequest={}));var Qbt;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=DR.MessageDirection.clientToServer,r.type=new DR.ProtocolRequestType(r.method)})(Qbt=My.TypeHierarchySupertypesRequest||(My.TypeHierarchySupertypesRequest={}));var Zbt;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=DR.MessageDirection.clientToServer,r.type=new DR.ProtocolRequestType(r.method)})(Zbt=My.TypeHierarchySubtypesRequest||(My.TypeHierarchySubtypesRequest={}))});var QIe=E(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0});tD.InlineValueRefreshRequest=tD.InlineValueRequest=void 0;var RH=Vc(),ewt;(function(r){r.method="textDocument/inlineValue",r.messageDirection=RH.MessageDirection.clientToServer,r.type=new RH.ProtocolRequestType(r.method)})(ewt=tD.InlineValueRequest||(tD.InlineValueRequest={}));var twt;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=RH.MessageDirection.clientToServer,r.type=new RH.ProtocolRequestType0(r.method)})(twt=tD.InlineValueRefreshRequest||(tD.InlineValueRefreshRequest={}))});var ZIe=E(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.InlayHintRefreshRequest=Ny.InlayHintResolveRequest=Ny.InlayHintRequest=void 0;var TR=Vc(),rwt;(function(r){r.method="textDocument/inlayHint",r.messageDirection=TR.MessageDirection.clientToServer,r.type=new TR.ProtocolRequestType(r.method)})(rwt=Ny.InlayHintRequest||(Ny.InlayHintRequest={}));var nwt;(function(r){r.method="inlayHint/resolve",r.messageDirection=TR.MessageDirection.clientToServer,r.type=new TR.ProtocolRequestType(r.method)})(nwt=Ny.InlayHintResolveRequest||(Ny.InlayHintResolveRequest={}));var iwt;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=TR.MessageDirection.clientToServer,r.type=new TR.ProtocolRequestType0(r.method)})(iwt=Ny.InlayHintRefreshRequest||(Ny.InlayHintRefreshRequest={}))});var tke=E(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.DiagnosticRefreshRequest=Zd.WorkspaceDiagnosticRequest=Zd.DocumentDiagnosticRequest=Zd.DocumentDiagnosticReportKind=Zd.DiagnosticServerCancellationData=void 0;var eke=t0(),owt=CH(),ER=Vc(),swt;(function(r){function e(t){let n=t;return n&&owt.boolean(n.retriggerRequest)}r.is=e})(swt=Zd.DiagnosticServerCancellationData||(Zd.DiagnosticServerCancellationData={}));var awt;(function(r){r.Full="full",r.Unchanged="unchanged"})(awt=Zd.DocumentDiagnosticReportKind||(Zd.DocumentDiagnosticReportKind={}));var cwt;(function(r){r.method="textDocument/diagnostic",r.messageDirection=ER.MessageDirection.clientToServer,r.type=new ER.ProtocolRequestType(r.method),r.partialResult=new eke.ProgressType})(cwt=Zd.DocumentDiagnosticRequest||(Zd.DocumentDiagnosticRequest={}));var uwt;(function(r){r.method="workspace/diagnostic",r.messageDirection=ER.MessageDirection.clientToServer,r.type=new ER.ProtocolRequestType(r.method),r.partialResult=new eke.ProgressType})(uwt=Zd.WorkspaceDiagnosticRequest||(Zd.WorkspaceDiagnosticRequest={}));var lwt;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=ER.MessageDirection.clientToServer,r.type=new ER.ProtocolRequestType0(r.method)})(lwt=Zd.DiagnosticRefreshRequest||(Zd.DiagnosticRefreshRequest={}))});var ike=E(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.DidCloseNotebookDocumentNotification=ds.DidSaveNotebookDocumentNotification=ds.DidChangeNotebookDocumentNotification=ds.NotebookCellArrayChange=ds.DidOpenNotebookDocumentNotification=ds.NotebookDocumentSyncRegistrationType=ds.NotebookDocument=ds.NotebookCell=ds.ExecutionSummary=ds.NotebookCellKind=void 0;var TL=SH(),Fy=CH(),ub=Vc(),rke;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(rke=ds.NotebookCellKind||(ds.NotebookCellKind={}));var nke;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return Fy.objectLiteral(o)&&TL.uinteger.is(o.executionOrder)&&(o.success===void 0||Fy.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(nke=ds.ExecutionSummary||(ds.ExecutionSummary={}));var ote;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return Fy.objectLiteral(s)&&rke.is(s.kind)&&TL.DocumentUri.is(s.document)&&(s.metadata===void 0||Fy.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!nke.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(Fy.objectLiteral(o)&&Fy.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(ote=ds.NotebookCell||(ds.NotebookCell={}));var dwt;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return Fy.objectLiteral(i)&&Fy.string(i.uri)&&TL.integer.is(i.version)&&Fy.typedArray(i.cells,ote.is)}r.is=t})(dwt=ds.NotebookDocument||(ds.NotebookDocument={}));var EL;(function(r){r.method="notebookDocument/sync",r.messageDirection=ub.MessageDirection.clientToServer,r.type=new ub.RegistrationType(r.method)})(EL=ds.NotebookDocumentSyncRegistrationType||(ds.NotebookDocumentSyncRegistrationType={}));var fwt;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=ub.MessageDirection.clientToServer,r.type=new ub.ProtocolNotificationType(r.method),r.registrationMethod=EL.method})(fwt=ds.DidOpenNotebookDocumentNotification||(ds.DidOpenNotebookDocumentNotification={}));var hwt;(function(r){function e(n){let i=n;return Fy.objectLiteral(i)&&TL.uinteger.is(i.start)&&TL.uinteger.is(i.deleteCount)&&(i.cells===void 0||Fy.typedArray(i.cells,ote.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(hwt=ds.NotebookCellArrayChange||(ds.NotebookCellArrayChange={}));var pwt;(function(r){r.method="notebookDocument/didChange",r.messageDirection=ub.MessageDirection.clientToServer,r.type=new ub.ProtocolNotificationType(r.method),r.registrationMethod=EL.method})(pwt=ds.DidChangeNotebookDocumentNotification||(ds.DidChangeNotebookDocumentNotification={}));var mwt;(function(r){r.method="notebookDocument/didSave",r.messageDirection=ub.MessageDirection.clientToServer,r.type=new ub.ProtocolNotificationType(r.method),r.registrationMethod=EL.method})(mwt=ds.DidSaveNotebookDocumentNotification||(ds.DidSaveNotebookDocumentNotification={}));var gwt;(function(r){r.method="notebookDocument/didClose",r.messageDirection=ub.MessageDirection.clientToServer,r.type=new ub.ProtocolNotificationType(r.method),r.registrationMethod=EL.method})(gwt=ds.DidCloseNotebookDocumentNotification||(ds.DidCloseNotebookDocumentNotification={}))});var hke=E(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Er=Vc(),oke=SH(),ef=CH(),vwt=RIe();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return vwt.ImplementationRequest}});var ywt=OIe();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ywt.TypeDefinitionRequest}});var ske=IIe();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ske.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ske.DidChangeWorkspaceFoldersNotification}});var _wt=AIe();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return _wt.ConfigurationRequest}});var ake=LIe();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return ake.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return ake.ColorPresentationRequest}});var bwt=NIe();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return bwt.FoldingRangeRequest}});var wwt=qIe();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return wwt.DeclarationRequest}});var Swt=zIe();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return Swt.SelectionRangeRequest}});var ste=UIe();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return ste.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return ste.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return ste.WorkDoneProgressCancelNotification}});var ate=HIe();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ate.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ate.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ate.CallHierarchyPrepareRequest}});var PR=BIe();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return PR.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return PR.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return PR.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return PR.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return PR.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return PR.SemanticTokensRegistrationType}});var Cwt=$Ie();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return Cwt.ShowDocumentRequest}});var Dwt=GIe();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Dwt.LinkedEditingRangeRequest}});var r0=KIe();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return r0.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return r0.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return r0.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return r0.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return r0.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return r0.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return r0.WillDeleteFilesRequest}});var cte=JIe();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return cte.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return cte.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return cte.MonikerRequest}});var ute=XIe();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return ute.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return ute.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return ute.TypeHierarchySupertypesRequest}});var cke=QIe();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return cke.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return cke.InlineValueRefreshRequest}});var lte=ZIe();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return lte.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return lte.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return lte.InlayHintRefreshRequest}});var PL=tke();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return PL.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return PL.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return PL.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return PL.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return PL.DiagnosticRefreshRequest}});var lb=ike();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return lb.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return lb.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return lb.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return lb.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return lb.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return lb.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return lb.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return lb.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return lb.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return lb.DidCloseNotebookDocumentNotification}});var uke;(function(r){function e(t){let n=t;return ef.string(n.language)||ef.string(n.scheme)||ef.string(n.pattern)}r.is=e})(uke=me.TextDocumentFilter||(me.TextDocumentFilter={}));var lke;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(ef.string(n.notebookType)||ef.string(n.scheme)||ef.string(n.pattern))}r.is=e})(lke=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var dke;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(ef.string(n.notebook)||lke.is(n.notebook))&&(n.language===void 0||ef.string(n.language))}r.is=e})(dke=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var fke;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!ef.string(n)&&!uke.is(n)&&!dke.is(n))return!1;return!0}r.is=e})(fke=me.DocumentSelector||(me.DocumentSelector={}));var Twt;(function(r){r.method="client/registerCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(Twt=me.RegistrationRequest||(me.RegistrationRequest={}));var Ewt;(function(r){r.method="client/unregisterCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(Ewt=me.UnregistrationRequest||(me.UnregistrationRequest={}));var Pwt;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(Pwt=me.ResourceOperationKind||(me.ResourceOperationKind={}));var Rwt;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(Rwt=me.FailureHandlingKind||(me.FailureHandlingKind={}));var xwt;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(xwt=me.PositionEncodingKind||(me.PositionEncodingKind={}));var Owt;(function(r){function e(t){let n=t;return n&&ef.string(n.id)&&n.id.length>0}r.hasId=e})(Owt=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var Iwt;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||fke.is(n.documentSelector))}r.is=e})(Iwt=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var kwt;(function(r){function e(n){let i=n;return ef.objectLiteral(i)&&(i.workDoneProgress===void 0||ef.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&ef.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(kwt=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var Awt;(function(r){r.method="initialize",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Awt=me.InitializeRequest||(me.InitializeRequest={}));var Lwt;(function(r){r.unknownProtocolVersion=1})(Lwt=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var Mwt;(function(r){r.method="initialized",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Mwt=me.InitializedNotification||(me.InitializedNotification={}));var Nwt;(function(r){r.method="shutdown",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType0(r.method)})(Nwt=me.ShutdownRequest||(me.ShutdownRequest={}));var Fwt;(function(r){r.method="exit",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType0(r.method)})(Fwt=me.ExitNotification||(me.ExitNotification={}));var qwt;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(qwt=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var jwt;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(jwt=me.MessageType||(me.MessageType={}));var zwt;(function(r){r.method="window/showMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(zwt=me.ShowMessageNotification||(me.ShowMessageNotification={}));var Uwt;(function(r){r.method="window/showMessageRequest",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(Uwt=me.ShowMessageRequest||(me.ShowMessageRequest={}));var Hwt;(function(r){r.method="window/logMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Hwt=me.LogMessageNotification||(me.LogMessageNotification={}));var Bwt;(function(r){r.method="telemetry/event",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Bwt=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var Wwt;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Wwt=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var $wt;(function(r){r.method="textDocument/didOpen",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})($wt=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var Vwt;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(Vwt=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var Gwt;(function(r){r.method="textDocument/didChange",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Gwt=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var Kwt;(function(r){r.method="textDocument/didClose",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Kwt=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var Ywt;(function(r){r.method="textDocument/didSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Ywt=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var Jwt;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(Jwt=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var Xwt;(function(r){r.method="textDocument/willSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Xwt=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var Qwt;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Qwt=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var Zwt;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Zwt=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var eSt;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(eSt=me.FileChangeType||(me.FileChangeType={}));var tSt;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(oke.URI.is(n.baseUri)||oke.WorkspaceFolder.is(n.baseUri))&&ef.string(n.pattern)}r.is=e})(tSt=me.RelativePattern||(me.RelativePattern={}));var rSt;(function(r){r.Create=1,r.Change=2,r.Delete=4})(rSt=me.WatchKind||(me.WatchKind={}));var nSt;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(nSt=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var iSt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(iSt=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var oSt;(function(r){r.method="textDocument/completion",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(oSt=me.CompletionRequest||(me.CompletionRequest={}));var sSt;(function(r){r.method="completionItem/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(sSt=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var aSt;(function(r){r.method="textDocument/hover",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(aSt=me.HoverRequest||(me.HoverRequest={}));var cSt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(cSt=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var uSt;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(uSt=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var lSt;(function(r){r.method="textDocument/definition",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(lSt=me.DefinitionRequest||(me.DefinitionRequest={}));var dSt;(function(r){r.method="textDocument/references",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(dSt=me.ReferencesRequest||(me.ReferencesRequest={}));var fSt;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(fSt=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var hSt;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(hSt=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var pSt;(function(r){r.method="textDocument/codeAction",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(pSt=me.CodeActionRequest||(me.CodeActionRequest={}));var mSt;(function(r){r.method="codeAction/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(mSt=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var gSt;(function(r){r.method="workspace/symbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(gSt=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var vSt;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(vSt=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var ySt;(function(r){r.method="textDocument/codeLens",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(ySt=me.CodeLensRequest||(me.CodeLensRequest={}));var _St;(function(r){r.method="codeLens/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(_St=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var bSt;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType0(r.method)})(bSt=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var wSt;(function(r){r.method="textDocument/documentLink",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(wSt=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var SSt;(function(r){r.method="documentLink/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(SSt=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var CSt;(function(r){r.method="textDocument/formatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(CSt=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var DSt;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(DSt=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var TSt;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(TSt=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var ESt;(function(r){r.Identifier=1})(ESt=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var PSt;(function(r){r.method="textDocument/rename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(PSt=me.RenameRequest||(me.RenameRequest={}));var RSt;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(RSt=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var xSt;(function(r){r.method="workspace/executeCommand",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(xSt=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var OSt;(function(r){r.method="workspace/applyEdit",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType("workspace/applyEdit")})(OSt=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var mke=E(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.createProtocolConnection=void 0;var pke=t0();function ISt(r,e,t,n){return pke.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,pke.createMessageConnection)(r,e,t,n)}xH.createProtocolConnection=ISt});var gke=E(ep=>{"use strict";var kSt=ep&&ep.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),OH=ep&&ep.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kSt(e,r,t)};Object.defineProperty(ep,"__esModule",{value:!0});ep.LSPErrorCodes=ep.createProtocolConnection=void 0;OH(t0(),ep);OH(SH(),ep);OH(Vc(),ep);OH(hke(),ep);var ASt=mke();Object.defineProperty(ep,"createProtocolConnection",{enumerable:!0,get:function(){return ASt.createProtocolConnection}});var LSt;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(LSt=ep.LSPErrorCodes||(ep.LSPErrorCodes={}))});var qi=E(db=>{"use strict";var MSt=db&&db.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vke=db&&db.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&MSt(e,r,t)};Object.defineProperty(db,"__esModule",{value:!0});db.createProtocolConnection=void 0;var NSt=Zee();vke(Zee(),db);vke(gke(),db);function FSt(r,e,t,n){return(0,NSt.createMessageConnection)(r,e,t,n)}db.createProtocolConnection=FSt});var OL=E(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.forEach=Zf.mapAsync=Zf.map=Zf.clearTestMode=Zf.setTestMode=Zf.Semaphore=Zf.Delayer=void 0;var xL=qi(),dte=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,xL.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Zf.Delayer=dte;var fte=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,xL.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Zf.Semaphore=fte;var hte=!1;function qSt(){hte=!0}Zf.setTestMode=qSt;function jSt(){hte=!1}Zf.clearTestMode=jSt;var yke=15,RL=class{constructor(e=yke){this.yieldAfter=hte===!0?Math.max(e,2):Math.max(e,yke),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function zSt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new RL(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,xL.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Zf.map=zSt;async function USt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new RL(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,xL.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Zf.mapAsync=USt;async function HSt(r,e,t,n){if(r.length===0)return;let i=new RL(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,xL.RAL)().timer.setImmediate(()=>{a(o(s))})})}Zf.forEach=HSt});var gte=E(mte=>{"use strict";Object.defineProperty(mte,"__esModule",{value:!0});var BSt=require("vscode"),pte=class extends BSt.CompletionItem{constructor(e){super(e)}};mte.default=pte});var _te=E(yte=>{"use strict";Object.defineProperty(yte,"__esModule",{value:!0});var WSt=require("vscode"),vte=class extends WSt.CodeLens{constructor(e){super(e)}};yte.default=vte});var Ste=E(wte=>{"use strict";Object.defineProperty(wte,"__esModule",{value:!0});var $St=require("vscode"),bte=class extends $St.DocumentLink{constructor(e,t){super(e,t)}};wte.default=bte});var Tte=E(Dte=>{"use strict";Object.defineProperty(Dte,"__esModule",{value:!0});var VSt=require("vscode"),Cte=class extends VSt.CodeAction{constructor(e,t){super(e),this.data=t}};Dte.default=Cte});var Rte=E(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.ProtocolDiagnostic=n0.DiagnosticCode=void 0;var GSt=require("vscode"),Ete=yv(),KSt;(function(r){function e(t){let n=t;return n!=null&&(Ete.number(n.value)||Ete.string(n.value))&&Ete.string(n.target)}r.is=e})(KSt=n0.DiagnosticCode||(n0.DiagnosticCode={}));var Pte=class extends GSt.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};n0.ProtocolDiagnostic=Pte});var Ite=E(Ote=>{"use strict";Object.defineProperty(Ote,"__esModule",{value:!0});var YSt=require("vscode"),xte=class extends YSt.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Ote.default=xte});var Lte=E(Ate=>{"use strict";Object.defineProperty(Ate,"__esModule",{value:!0});var JSt=require("vscode"),kte=class extends JSt.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Ate.default=kte});var Fte=E(Nte=>{"use strict";Object.defineProperty(Nte,"__esModule",{value:!0});var IH=require("vscode"),Mte=class extends IH.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof IH.Uri);super(e,t,n,s?i:new IH.Location(i,new IH.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};Nte.default=Mte});var zte=E(jte=>{"use strict";Object.defineProperty(jte,"__esModule",{value:!0});var XSt=require("vscode"),qte=class extends XSt.InlayHint{constructor(e,t,n){super(e,t,n)}};jte.default=qte});var wke=E(kH=>{"use strict";Object.defineProperty(kH,"__esModule",{value:!0});kH.createConverter=void 0;var nl=require("vscode"),Yi=qi(),RR=yv(),_ke=OL(),QSt=gte(),ZSt=_te(),eCt=Ste(),tCt=Tte(),bke=Rte(),rCt=Ite(),nCt=Lte(),iCt=Fte(),oCt=zte(),Ute;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(Ute||(Ute={}));function sCt(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let Fe=K;return!!Fe.document&&!!Fe.contentChanges}function u(K){let Fe=K;return!!Fe.uri&&!!Fe.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let Fe=K.document;return{textDocument:{uri:t(Fe.uri),version:Fe.version},contentChanges:K.contentChanges.map(Tr=>{let He=Tr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Tr.rangeLength,text:Tr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,Fe=!1){let Ht={textDocument:i(K)};return Fe&&(Ht.text=K.getText()),Ht}function m(K){switch(K){case nl.TextDocumentSaveReason.Manual:return Yi.TextDocumentSaveReason.Manual;case nl.TextDocumentSaveReason.AfterDelay:return Yi.TextDocumentSaveReason.AfterDelay;case nl.TextDocumentSaveReason.FocusOut:return Yi.TextDocumentSaveReason.FocusOut}return Yi.TextDocumentSaveReason.Manual}function _(K){return{textDocument:i(K.document),reason:m(K.reason)}}function T(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function x(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function M(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function A(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function U(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function ne(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function de(K,Fe){return{textDocument:i(K),position:ue(Fe)}}function ye(K){switch(K){case nl.CompletionTriggerKind.TriggerCharacter:return Yi.CompletionTriggerKind.TriggerCharacter;case nl.CompletionTriggerKind.TriggerForIncompleteCompletions:return Yi.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Yi.CompletionTriggerKind.Invoked}}function V(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{triggerKind:ye(Ht.triggerKind),triggerCharacter:Ht.triggerCharacter}}}function W(K){switch(K){case nl.SignatureHelpTriggerKind.Invoke:return Yi.SignatureHelpTriggerKind.Invoked;case nl.SignatureHelpTriggerKind.TriggerCharacter:return Yi.SignatureHelpTriggerKind.TriggerCharacter;case nl.SignatureHelpTriggerKind.ContentChange:return Yi.SignatureHelpTriggerKind.ContentChange}}function ee(K){return{label:K.label}}function Se(K){return K.map(ee)}function se(K){return{label:K.label,parameters:Se(K.parameters)}}function ce(K){return K.map(se)}function qe(K){return K===void 0?K:{signatures:ce(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function Ne(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{isRetrigger:Ht.isRetrigger,triggerCharacter:Ht.triggerCharacter,triggerKind:W(Ht.triggerKind),activeSignatureHelp:qe(Ht.activeSignatureHelp)}}}function ue(K){return{line:K.line,character:K.character}}function De(K){return K==null?K:{line:K.line>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.line,character:K.character>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.character}}function we(K,Fe){return _ke.map(K,De,Fe)}function xe(K){return K==null?K:{start:De(K.start),end:De(K.end)}}function Me(K){return K==null?K:Yi.Location.create(n(K.uri),xe(K.range))}function $e(K){switch(K){case nl.DiagnosticSeverity.Error:return Yi.DiagnosticSeverity.Error;case nl.DiagnosticSeverity.Warning:return Yi.DiagnosticSeverity.Warning;case nl.DiagnosticSeverity.Information:return Yi.DiagnosticSeverity.Information;case nl.DiagnosticSeverity.Hint:return Yi.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let Fe=[];for(let Ht of K){let Tr=ze(Ht);Tr!==void 0&&Fe.push(Tr)}return Fe.length>0?Fe:void 0}function ze(K){switch(K){case nl.DiagnosticTag.Unnecessary:return Yi.DiagnosticTag.Unnecessary;case nl.DiagnosticTag.Deprecated:return Yi.DiagnosticTag.Deprecated;default:return}}function st(K){return{message:K.message,location:Me(K.location)}}function at(K){return K.map(st)}function tt(K){if(K!=null)return RR.number(K)||RR.string(K)?K:{value:K.value,target:n(K.target)}}function fr(K){let Fe=Yi.Diagnostic.create(xe(K.range),K.message),Ht=K instanceof bke.ProtocolDiagnostic?K:void 0;Ht!==void 0&&Ht.data!==void 0&&(Fe.data=Ht.data);let Tr=tt(K.code);return bke.DiagnosticCode.is(Tr)?Ht!==void 0&&Ht.hasDiagnosticCode?Fe.code=Tr:(Fe.code=Tr.value,Fe.codeDescription={href:Tr.target}):Fe.code=Tr,RR.number(K.severity)&&(Fe.severity=$e(K.severity)),Array.isArray(K.tags)&&(Fe.tags=Ct(K.tags)),K.relatedInformation&&(Fe.relatedInformation=at(K.relatedInformation)),K.source&&(Fe.source=K.source),Fe}function Lr(K,Fe){return K==null?K:_ke.map(K,fr,Fe)}function zr(K,Fe){switch(K){case"$string":return Fe;case Yi.MarkupKind.PlainText:return{kind:K,value:Fe};case Yi.MarkupKind.Markdown:return{kind:K,value:Fe.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function cr(K){switch(K){case nl.CompletionItemTag.Deprecated:return Yi.CompletionItemTag.Deprecated}}function xt(K){if(K===void 0)return K;let Fe=[];for(let Ht of K){let Tr=cr(Ht);Tr!==void 0&&Fe.push(Tr)}return Fe}function hr(K,Fe){return Fe!==void 0?Fe:K+1}function Mt(K,Fe=!1){let Ht,Tr;RR.string(K.label)?Ht=K.label:(Ht=K.label.label,Fe&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Tr={detail:K.label.detail,description:K.label.description}));let He={label:Ht};Tr!==void 0&&(He.labelDetails=Tr);let re=K instanceof QSt.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!re||re.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=zr(re.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),on(He,K),RR.number(K.kind)&&(He.kind=hr(K.kind,re&&re.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Or(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=oi(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let Re=xt(K.tags);if(re){if(re.data!==void 0&&(He.data=re.data),re.deprecated===!0||re.deprecated===!1){if(re.deprecated===!0&&Re!==void 0&&Re.length>0){let je=Re.indexOf(nl.CompletionItemTag.Deprecated);je!==-1&&Re.splice(je,1)}He.deprecated=re.deprecated}re.insertTextMode!==void 0&&(He.insertTextMode=re.insertTextMode)}return Re!==void 0&&Re.length>0&&(He.tags=Re),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=Yi.InsertTextMode.adjustIndentation),He}function on(K,Fe){let Ht=Yi.InsertTextFormat.PlainText,Tr,He;Fe.textEdit?(Tr=Fe.textEdit.newText,He=Fe.textEdit.range):Fe.insertText instanceof nl.SnippetString?(Ht=Yi.InsertTextFormat.Snippet,Tr=Fe.insertText.value):Tr=Fe.insertText,Fe.range&&(He=Fe.range),K.insertTextFormat=Ht,Fe.fromEdit&&Tr!==void 0&&He!==void 0?K.textEdit=ln(Tr,He):K.insertText=Tr}function ln(K,Fe){return Ute.is(Fe)?Yi.InsertReplaceEdit.create(K,xe(Fe.inserting),xe(Fe.replacing)):{newText:K,range:xe(Fe)}}function On(K){return{range:xe(K.range),newText:K.newText}}function Or(K){return K==null?K:K.map(On)}function Hn(K){return K<=nl.SymbolKind.TypeParameter?K+1:Yi.SymbolKind.Property}function $r(K){return K}function dn(K){return K.map($r)}function ii(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{includeDeclaration:Ht.includeDeclaration}}}async function Vr(K,Fe){let Ht=Yi.CodeAction.create(K.title);if(K instanceof tCt.default&&K.data!==void 0&&(Ht.data=K.data),K.kind!==void 0&&(Ht.kind=Gr(K.kind)),K.diagnostics!==void 0&&(Ht.diagnostics=await Lr(K.diagnostics,Fe)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Ht.command=oi(K.command)),K.isPreferred!==void 0&&(Ht.isPreferred=K.isPreferred),K.disabled!==void 0&&(Ht.disabled={reason:K.disabled.reason}),Ht}async function An(K,Fe){if(K==null)return K;let Ht;return K.only&&RR.string(K.only.value)&&(Ht=[K.only.value]),Yi.CodeActionContext.create(await Lr(K.diagnostics,Fe),Ht,Ri(K.triggerKind))}function Ri(K){switch(K){case nl.CodeActionTriggerKind.Invoke:return Yi.CodeActionTriggerKind.Invoked;case nl.CodeActionTriggerKind.Automatic:return Yi.CodeActionTriggerKind.Automatic;default:return}}function Gr(K){if(K!=null)return K.value}function Ji(K){return K==null?K:Yi.InlineValueContext.create(K.frameId,xe(K.stoppedLocation))}function oi(K){let Fe=Yi.Command.create(K.title,K.command);return K.arguments&&(Fe.arguments=K.arguments),Fe}function fn(K){let Fe=Yi.CodeLens.create(xe(K.range));return K.command&&(Fe.command=oi(K.command)),K instanceof ZSt.default&&K.data&&(Fe.data=K.data),Fe}function Oe(K,Fe){let Ht={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return Fe.trimTrailingWhitespace&&(Ht.trimTrailingWhitespace=!0),Fe.trimFinalNewlines&&(Ht.trimFinalNewlines=!0),Fe.insertFinalNewline&&(Ht.insertFinalNewline=!0),Ht}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function _e(K){let Fe=Yi.DocumentLink.create(xe(K.range));K.target&&(Fe.target=n(K.target)),K.tooltip!==void 0&&(Fe.tooltip=K.tooltip);let Ht=K instanceof eCt.default?K:void 0;return Ht&&Ht.data&&(Fe.data=Ht.data),Fe}function Je(K){return{textDocument:i(K)}}function ft(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=dn(K.tags)),K instanceof rCt.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function Yt(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=dn(K.tags)),K instanceof nCt.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function rr(K){let Fe=K instanceof iCt.default?{name:K.name,kind:Hn(K.kind),location:K.hasRange?Me(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Hn(K.kind),location:Me(K.location)};return K.tags!==void 0&&(Fe.tags=dn(K.tags)),K.containerName!==""&&(Fe.containerName=K.containerName),Fe}function Jt(K){let Fe=typeof K.label=="string"?K.label:K.label.map($t),Ht=Yi.InlayHint.create(De(K.position),Fe);return K.kind!==void 0&&(Ht.kind=K.kind),K.textEdits!==void 0&&(Ht.textEdits=Or(K.textEdits)),K.tooltip!==void 0&&(Ht.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Ht.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Ht.paddingRight=K.paddingRight),K instanceof oCt.default&&K.data!==void 0&&(Ht.data=K.data),Ht}function $t(K){let Fe=Yi.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(Fe.location=Me(K.location)),K.command!==void 0&&(Fe.command=oi(K.command)),K.tooltip!==void 0&&(Fe.tooltip=kt(K.tooltip)),Fe}function kt(K){return typeof K=="string"?K:{kind:Yi.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:T,asDidRenameFilesParams:x,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:V,asSignatureHelpParams:Ne,asWorkerPosition:ue,asRange:xe,asPosition:De,asPositions:we,asLocation:Me,asDiagnosticSeverity:$e,asDiagnosticTag:ze,asDiagnostic:fr,asDiagnostics:Lr,asCompletionItem:Mt,asTextEdit:On,asSymbolKind:Hn,asSymbolTag:$r,asSymbolTags:dn,asReferenceParams:ii,asCodeAction:Vr,asCodeActionContext:An,asInlineValueContext:Ji,asCommand:oi,asCodeLens:fn,asFormattingOptions:Oe,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:_e,asDocumentLinkParams:Je,asCallHierarchyItem:ft,asTypeHierarchyItem:Yt,asInlayHint:Jt,asWorkspaceSymbol:rr}}kH.createConverter=sCt});var Dke=E(LH=>{"use strict";Object.defineProperty(LH,"__esModule",{value:!0});LH.createConverter=void 0;var Br=require("vscode"),yi=qi(),bv=yv(),bs=OL(),aCt=gte(),cCt=_te(),uCt=Ste(),lCt=Tte(),Ske=Rte(),dCt=Ite(),fCt=Lte(),hCt=Fte(),pCt=zte(),Cke=qi(),AH;(function(r){function e(t){let n=t;return n&&bv.string(n.language)&&bv.string(n.value)}r.is=e})(AH||(AH={}));function mCt(r,e,t){let i=r||(H=>Br.Uri.parse(H));function o(H){return i(H)}function s(H){let Ue=[];for(let vt of H)if(typeof vt=="string")Ue.push(vt);else if(Cke.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let Fr=vt.notebook.notebookType??"*";Ue.push({notebookType:Fr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else Cke.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(H,Ue){return bs.map(H,u,Ue)}function c(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=u(H[vt]);return Ue}function u(H){let Ue=new Ske.ProtocolDiagnostic(_(H.range),H.message,x(H.severity),H.data);if(H.code!==void 0){if(typeof H.code=="string"||typeof H.code=="number")yi.CodeDescription.is(H.codeDescription)?Ue.code={value:H.code,target:o(H.codeDescription.href)}:Ue.code=H.code;else if(Ske.DiagnosticCode.is(H.code)){Ue.hasDiagnosticCode=!0;let vt=H.code;Ue.code={value:vt.value,target:o(vt.target)}}}return H.source&&(Ue.source=H.source),H.relatedInformation&&(Ue.relatedInformation=l(H.relatedInformation)),Array.isArray(H.tags)&&(Ue.tags=d(H.tags)),Ue}function l(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++){let Fr=H[vt];Ue[vt]=new Br.DiagnosticRelatedInformation(ze(Fr.location),Fr.message)}return Ue}function d(H){if(!H)return;let Ue=[];for(let vt of H){let Fr=f(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length>0?Ue:void 0}function f(H){switch(H){case yi.DiagnosticTag.Unnecessary:return Br.DiagnosticTag.Unnecessary;case yi.DiagnosticTag.Deprecated:return Br.DiagnosticTag.Deprecated;default:return}}function m(H){return H?new Br.Position(H.line,H.character):void 0}function _(H){return H?new Br.Range(H.start.line,H.start.character,H.end.line,H.end.character):void 0}async function T(H,Ue){return bs.map(H,vt=>new Br.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function x(H){if(H==null)return Br.DiagnosticSeverity.Error;switch(H){case yi.DiagnosticSeverity.Error:return Br.DiagnosticSeverity.Error;case yi.DiagnosticSeverity.Warning:return Br.DiagnosticSeverity.Warning;case yi.DiagnosticSeverity.Information:return Br.DiagnosticSeverity.Information;case yi.DiagnosticSeverity.Hint:return Br.DiagnosticSeverity.Hint}return Br.DiagnosticSeverity.Error}function M(H){if(bv.string(H))return U(H);if(AH.is(H))return U().appendCodeblock(H.value,H.language);if(Array.isArray(H)){let Ue=[];for(let vt of H){let Fr=U();AH.is(vt)?Fr.appendCodeblock(vt.value,vt.language):Fr.appendMarkdown(vt),Ue.push(Fr)}return Ue}else return U(H)}function A(H){if(bv.string(H))return H;switch(H.kind){case yi.MarkupKind.Markdown:return U(H.value);case yi.MarkupKind.PlainText:return H.value;default:return`Unsupported Markup content received. Kind is: ${H.kind}`}}function U(H){let Ue;if(H===void 0||typeof H=="string")Ue=new Br.MarkdownString(H);else switch(H.kind){case yi.MarkupKind.Markdown:Ue=new Br.MarkdownString(H.value);break;case yi.MarkupKind.PlainText:Ue=new Br.MarkdownString,Ue.appendText(H.value);break;default:Ue=new Br.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${H.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function ne(H){if(H)return new Br.Hover(M(H.contents),_(H.range))}async function de(H,Ue,vt){if(!H)return;if(Array.isArray(H))return bs.map(H,Le=>Se(Le,Ue),vt);let Fr=H,{defaultRange:so,commitCharacters:Bi}=ye(Fr,Ue),N=await bs.map(Fr.items,Le=>Se(Le,Bi,so,Fr.itemDefaults?.insertTextMode,Fr.itemDefaults?.insertTextFormat,Fr.itemDefaults?.data),vt);return new Br.CompletionList(N,Fr.isIncomplete)}function ye(H,Ue){let vt=H.itemDefaults?.editRange,Fr=H.itemDefaults?.commitCharacters??Ue;return yi.Range.is(vt)?{defaultRange:_(vt),commitCharacters:Fr}:vt!==void 0?{defaultRange:{inserting:_(vt.insert),replacing:_(vt.replace)},commitCharacters:Fr}:{defaultRange:void 0,commitCharacters:Fr}}function V(H){return yi.CompletionItemKind.Text<=H&&H<=yi.CompletionItemKind.TypeParameter?[H-1,void 0]:[Br.CompletionItemKind.Text,H]}function W(H){switch(H){case yi.CompletionItemTag.Deprecated:return Br.CompletionItemTag.Deprecated}}function ee(H){if(H==null)return[];let Ue=[];for(let vt of H){let Fr=W(vt);Fr!==void 0&&Ue.push(Fr)}return Ue}function Se(H,Ue,vt,Fr,so,Bi){let N=ee(H.tags),Le=se(H),rt=new aCt.default(Le);H.detail&&(rt.detail=H.detail),H.documentation&&(rt.documentation=A(H.documentation),rt.documentationFormat=bv.string(H.documentation)?"$string":H.documentation.kind),H.filterText&&(rt.filterText=H.filterText);let zt=ce(H,vt,so);if(zt&&(rt.insertText=zt.text,rt.range=zt.range,rt.fromEdit=zt.fromEdit),bv.number(H.kind)){let[ao,ji]=V(H.kind);rt.kind=ao,ji&&(rt.originalItemKind=ji)}H.sortText&&(rt.sortText=H.sortText),H.additionalTextEdits&&(rt.additionalTextEdits=De(H.additionalTextEdits));let Ln=H.commitCharacters!==void 0?bv.stringArray(H.commitCharacters)?H.commitCharacters:void 0:Ue;Ln&&(rt.commitCharacters=Ln.slice()),H.command&&(rt.command=dn(H.command)),(H.deprecated===!0||H.deprecated===!1)&&(rt.deprecated=H.deprecated,H.deprecated===!0&&N.push(Br.CompletionItemTag.Deprecated)),(H.preselect===!0||H.preselect===!1)&&(rt.preselect=H.preselect);let Cn=H.data??Bi;Cn!==void 0&&(rt.data=Cn),N.length>0&&(rt.tags=N);let Nn=H.insertTextMode??Fr;return Nn!==void 0&&(rt.insertTextMode=Nn,Nn===yi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function se(H){return yi.CompletionItemLabelDetails.is(H.labelDetails)?{label:H.label,detail:H.labelDetails.detail,description:H.labelDetails.description}:H.label}function ce(H,Ue,vt){let Fr=H.insertTextFormat??vt;if(H.textEdit!==void 0||Ue!==void 0){let[so,Bi]=H.textEdit!==void 0?qe(H.textEdit):[Ue,H.textEditText??H.label];return Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(Bi),range:so,fromEdit:!0}:{text:Bi,range:so,fromEdit:!0}}else return H.insertText?Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(H.insertText),fromEdit:!1}:{text:H.insertText,fromEdit:!1}:void 0}function qe(H){return yi.InsertReplaceEdit.is(H)?[{inserting:_(H.insert),replacing:_(H.replace)},H.newText]:[_(H.range),H.newText]}function Ne(H){if(H)return new Br.TextEdit(_(H.range),H.newText)}async function ue(H,Ue){if(H)return bs.map(H,Ne,Ue)}function De(H){if(!H)return;let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=Ne(H[vt]);return Ue}async function we(H,Ue){if(!H)return;let vt=new Br.SignatureHelp;return bv.number(H.activeSignature)?vt.activeSignature=H.activeSignature:vt.activeSignature=0,bv.number(H.activeParameter)?vt.activeParameter=H.activeParameter:vt.activeParameter=0,H.signatures&&(vt.signatures=await xe(H.signatures,Ue)),vt}async function xe(H,Ue){return bs.mapAsync(H,Me,Ue)}async function Me(H,Ue){let vt=new Br.SignatureInformation(H.label);return H.documentation!==void 0&&(vt.documentation=A(H.documentation)),H.parameters!==void 0&&(vt.parameters=await $e(H.parameters,Ue)),H.activeParameter!==void 0&&(vt.activeParameter=H.activeParameter),vt}function $e(H,Ue){return bs.map(H,Ct,Ue)}function Ct(H){let Ue=new Br.ParameterInformation(H.label);return H.documentation&&(Ue.documentation=A(H.documentation)),Ue}function ze(H){return H?new Br.Location(i(H.uri),_(H.range)):void 0}async function st(H,Ue){if(H)return fr(H,Ue)}async function at(H,Ue){if(H)return fr(H,Ue)}function tt(H){if(!H)return;let Ue={targetUri:i(H.targetUri),targetRange:_(H.targetRange),originSelectionRange:_(H.originSelectionRange),targetSelectionRange:_(H.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function fr(H,Ue){if(H)if(bv.array(H)){if(H.length===0)return[];if(yi.LocationLink.is(H[0])){let vt=H;return bs.map(vt,tt,Ue)}else{let vt=H;return bs.map(vt,ze,Ue)}}else return yi.LocationLink.is(H)?[tt(H)]:ze(H)}async function Lr(H,Ue){if(H)return bs.map(H,ze,Ue)}async function zr(H,Ue){if(H)return bs.map(H,cr,Ue)}function cr(H){let Ue=new Br.DocumentHighlight(_(H.range));return bv.number(H.kind)&&(Ue.kind=xt(H.kind)),Ue}function xt(H){switch(H){case yi.DocumentHighlightKind.Text:return Br.DocumentHighlightKind.Text;case yi.DocumentHighlightKind.Read:return Br.DocumentHighlightKind.Read;case yi.DocumentHighlightKind.Write:return Br.DocumentHighlightKind.Write}return Br.DocumentHighlightKind.Text}async function hr(H,Ue){if(H)return bs.map(H,On,Ue)}function Mt(H){return H<=yi.SymbolKind.TypeParameter?H-1:Br.SymbolKind.Property}function on(H){switch(H){case yi.SymbolTag.Deprecated:return Br.SymbolTag.Deprecated;default:return}}function ln(H){if(H==null)return;let Ue=[];for(let vt of H){let Fr=on(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length===0?void 0:Ue}function On(H){let Ue=H.data,vt=H.location,Fr=vt.range===void 0||Ue!==void 0?new hCt.default(H.name,Mt(H.kind),H.containerName??"",vt.range===void 0?i(vt.uri):new Br.Location(i(H.location.uri),_(vt.range)),Ue):new Br.SymbolInformation(H.name,Mt(H.kind),H.containerName??"",new Br.Location(i(H.location.uri),_(vt.range)));return $r(Fr,H),Fr}async function Or(H,Ue){if(H!=null)return bs.map(H,Hn,Ue)}function Hn(H){let Ue=new Br.DocumentSymbol(H.name,H.detail||"",Mt(H.kind),_(H.range),_(H.selectionRange));if($r(Ue,H),H.children!==void 0&&H.children.length>0){let vt=[];for(let Fr of H.children)vt.push(Hn(Fr));Ue.children=vt}return Ue}function $r(H,Ue){H.tags=ln(Ue.tags),Ue.deprecated&&(H.tags?H.tags.includes(Br.SymbolTag.Deprecated)||(H.tags=H.tags.concat(Br.SymbolTag.Deprecated)):H.tags=[Br.SymbolTag.Deprecated])}function dn(H){let Ue={title:H.title,command:H.command};return H.arguments&&(Ue.arguments=H.arguments),Ue}async function ii(H,Ue){if(H)return bs.map(H,dn,Ue)}let Vr=new Map;Vr.set(yi.CodeActionKind.Empty,Br.CodeActionKind.Empty),Vr.set(yi.CodeActionKind.QuickFix,Br.CodeActionKind.QuickFix),Vr.set(yi.CodeActionKind.Refactor,Br.CodeActionKind.Refactor),Vr.set(yi.CodeActionKind.RefactorExtract,Br.CodeActionKind.RefactorExtract),Vr.set(yi.CodeActionKind.RefactorInline,Br.CodeActionKind.RefactorInline),Vr.set(yi.CodeActionKind.RefactorRewrite,Br.CodeActionKind.RefactorRewrite),Vr.set(yi.CodeActionKind.Source,Br.CodeActionKind.Source),Vr.set(yi.CodeActionKind.SourceOrganizeImports,Br.CodeActionKind.SourceOrganizeImports);function An(H){if(H==null)return;let Ue=Vr.get(H);if(Ue)return Ue;let vt=H.split(".");Ue=Br.CodeActionKind.Empty;for(let Fr of vt)Ue=Ue.append(Fr);return Ue}function Ri(H){if(H!=null)return H.map(Ue=>An(Ue))}async function Gr(H,Ue){if(H==null)return;let vt=new lCt.default(H.title,H.data);return H.kind!==void 0&&(vt.kind=An(H.kind)),H.diagnostics!==void 0&&(vt.diagnostics=c(H.diagnostics)),H.edit!==void 0&&(vt.edit=await Oe(H.edit,Ue)),H.command!==void 0&&(vt.command=dn(H.command)),H.isPreferred!==void 0&&(vt.isPreferred=H.isPreferred),H.disabled!==void 0&&(vt.disabled={reason:H.disabled.reason}),vt}function Ji(H,Ue){return bs.mapAsync(H,async vt=>yi.Command.is(vt)?dn(vt):Gr(vt,Ue),Ue)}function oi(H){if(!H)return;let Ue=new cCt.default(_(H.range));return H.command&&(Ue.command=dn(H.command)),H.data!==void 0&&H.data!==null&&(Ue.data=H.data),Ue}async function fn(H,Ue){if(H)return bs.map(H,oi,Ue)}async function Oe(H,Ue){if(!H)return;let vt=new Map;if(H.changeAnnotations!==void 0){let Bi=H.changeAnnotations;await bs.forEach(Object.keys(Bi),N=>{let Le=oe(Bi[N]);vt.set(N,Le)},Ue)}let Fr=Bi=>{if(Bi!==void 0)return vt.get(Bi)},so=new Br.WorkspaceEdit;if(H.documentChanges){let Bi=H.documentChanges;await bs.forEach(Bi,N=>{if(yi.CreateFile.is(N))so.createFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.RenameFile.is(N))so.renameFile(i(N.oldUri),i(N.newUri),N.options,Fr(N.annotationId));else if(yi.DeleteFile.is(N))so.deleteFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.TextDocumentEdit.is(N)){let Le=i(N.textDocument.uri);for(let rt of N.edits)yi.AnnotatedTextEdit.is(rt)?so.replace(Le,_(rt.range),rt.newText,Fr(rt.annotationId)):so.replace(Le,_(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(N,void 0,4)}`)},Ue)}else if(H.changes){let Bi=H.changes;await bs.forEach(Object.keys(Bi),N=>{so.set(i(N),De(Bi[N]))},Ue)}return so}function oe(H){if(H!==void 0)return{label:H.label,needsConfirmation:!!H.needsConfirmation,description:H.description}}function Q(H){let Ue=_(H.range),vt=H.target?o(H.target):void 0,Fr=new uCt.default(Ue,vt);return H.tooltip!==void 0&&(Fr.tooltip=H.tooltip),H.data!==void 0&&H.data!==null&&(Fr.data=H.data),Fr}async function _e(H,Ue){if(H)return bs.map(H,Q,Ue)}function Je(H){return new Br.Color(H.red,H.green,H.blue,H.alpha)}function ft(H){return new Br.ColorInformation(_(H.range),Je(H.color))}async function Yt(H,Ue){if(H)return bs.map(H,ft,Ue)}function rr(H){let Ue=new Br.ColorPresentation(H.label);return Ue.additionalTextEdits=De(H.additionalTextEdits),H.textEdit&&(Ue.textEdit=Ne(H.textEdit)),Ue}async function Jt(H,Ue){if(H)return bs.map(H,rr,Ue)}function $t(H){if(H)switch(H){case yi.FoldingRangeKind.Comment:return Br.FoldingRangeKind.Comment;case yi.FoldingRangeKind.Imports:return Br.FoldingRangeKind.Imports;case yi.FoldingRangeKind.Region:return Br.FoldingRangeKind.Region}}function kt(H){return new Br.FoldingRange(H.startLine,H.endLine,$t(H.kind))}async function K(H,Ue){if(H)return bs.map(H,kt,Ue)}function Fe(H){return new Br.SelectionRange(_(H.range),H.parent?Fe(H.parent):void 0)}async function Ht(H,Ue){return Array.isArray(H)?bs.map(H,Fe,Ue):[]}function Tr(H){return yi.InlineValueText.is(H)?new Br.InlineValueText(_(H.range),H.text):yi.InlineValueVariableLookup.is(H)?new Br.InlineValueVariableLookup(_(H.range),H.variableName,H.caseSensitiveLookup):new Br.InlineValueEvaluatableExpression(_(H.range),H.expression)}async function He(H,Ue){return Array.isArray(H)?bs.map(H,Tr,Ue):[]}async function re(H,Ue){let vt=typeof H.label=="string"?H.label:await bs.map(H.label,Re,Ue),Fr=new pCt.default(m(H.position),vt);return H.kind!==void 0&&(Fr.kind=H.kind),H.textEdits!==void 0&&(Fr.textEdits=await ue(H.textEdits,Ue)),H.tooltip!==void 0&&(Fr.tooltip=je(H.tooltip)),H.paddingLeft!==void 0&&(Fr.paddingLeft=H.paddingLeft),H.paddingRight!==void 0&&(Fr.paddingRight=H.paddingRight),H.data!==void 0&&(Fr.data=H.data),Fr}function Re(H){let Ue=new Br.InlayHintLabelPart(H.value);return H.location!==void 0&&(Ue.location=ze(H.location)),H.tooltip!==void 0&&(Ue.tooltip=je(H.tooltip)),H.command!==void 0&&(Ue.command=dn(H.command)),Ue}function je(H){return typeof H=="string"?H:U(H)}async function he(H,Ue){if(Array.isArray(H))return bs.mapAsync(H,re,Ue)}function S(H){if(H===null)return;let Ue=new dCt.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function fe(H,Ue){if(H!==null)return bs.map(H,S,Ue)}async function Ye(H,Ue){return new Br.CallHierarchyIncomingCall(S(H.from),await T(H.fromRanges,Ue))}async function Dr(H,Ue){if(H!==null)return bs.mapAsync(H,Ye,Ue)}async function Wr(H,Ue){return new Br.CallHierarchyOutgoingCall(S(H.to),await T(H.fromRanges,Ue))}async function Xr(H,Ue){if(H!==null)return bs.mapAsync(H,Wr,Ue)}async function qn(H,Ue){if(H!=null)return new Br.SemanticTokens(new Uint32Array(H.data),H.resultId)}function xi(H){return new Br.SemanticTokensEdit(H.start,H.deleteCount,H.data!==void 0?new Uint32Array(H.data):void 0)}async function ks(H,Ue){if(H!=null)return new Br.SemanticTokensEdits(H.edits.map(xi),H.resultId)}function Sn(H){return H}async function es(H,Ue){if(H!=null)return new Br.LinkedEditingRanges(await T(H.ranges,Ue),Bs(H.wordPattern))}function Bs(H){if(H!=null)return new RegExp(H)}function ta(H){if(H===null)return;let Ue=new fCt.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function Fo(H,Ue){if(H!==null)return bs.map(H,ta,Ue)}function Eo(H){if(bv.string(H))return H;if(yi.RelativePattern.is(H)){if(yi.URI.is(H.baseUri))return new Br.RelativePattern(o(H.baseUri),H.pattern);if(yi.WorkspaceFolder.is(H.baseUri)){let Ue=Br.workspace.getWorkspaceFolder(o(H.baseUri.uri));return Ue!==void 0?new Br.RelativePattern(Ue,H.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:_,asRanges:T,asPosition:m,asDiagnosticSeverity:x,asDiagnosticTag:f,asHover:ne,asCompletionResult:de,asCompletionItem:Se,asTextEdit:Ne,asTextEdits:ue,asSignatureHelp:we,asSignatureInformations:xe,asSignatureInformation:Me,asParameterInformations:$e,asParameterInformation:Ct,asDeclarationResult:st,asDefinitionResult:at,asLocation:ze,asReferences:Lr,asDocumentHighlights:zr,asDocumentHighlight:cr,asDocumentHighlightKind:xt,asSymbolKind:Mt,asSymbolTag:on,asSymbolTags:ln,asSymbolInformations:hr,asSymbolInformation:On,asDocumentSymbols:Or,asDocumentSymbol:Hn,asCommand:dn,asCommands:ii,asCodeAction:Gr,asCodeActionKind:An,asCodeActionKinds:Ri,asCodeActionResult:Ji,asCodeLens:oi,asCodeLenses:fn,asWorkspaceEdit:Oe,asDocumentLink:Q,asDocumentLinks:_e,asFoldingRangeKind:$t,asFoldingRange:kt,asFoldingRanges:K,asColor:Je,asColorInformation:ft,asColorInformations:Yt,asColorPresentation:rr,asColorPresentations:Jt,asSelectionRange:Fe,asSelectionRanges:Ht,asInlineValue:Tr,asInlineValues:He,asInlayHint:re,asInlayHints:he,asSemanticTokensLegend:Sn,asSemanticTokens:qn,asSemanticTokensEdit:xi,asSemanticTokensEdits:ks,asCallHierarchyItem:S,asCallHierarchyItems:fe,asCallHierarchyIncomingCall:Ye,asCallHierarchyIncomingCalls:Dr,asCallHierarchyOutgoingCall:Wr,asCallHierarchyOutgoingCalls:Xr,asLinkedEditingRanges:es,asTypeHierarchyItem:ta,asTypeHierarchyItems:Fo,asGlobPattern:Eo}}LH.createConverter=mCt});var Kc=E(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.generateUuid=wv.parse=wv.isUUID=wv.v4=wv.empty=void 0;var IL=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},kL=class r extends IL{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};kL._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];kL._timeHighBits=["8","9","a","b"];wv.empty=new IL("00000000-0000-0000-0000-000000000000");function Tke(){return new kL}wv.v4=Tke;var gCt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Eke(r){return gCt.test(r)}wv.isUUID=Eke;function vCt(r){if(!Eke(r))throw new Error("invalid uuid");return new IL(r)}wv.parse=vCt;function yCt(){return Tke().asHex()}wv.generateUuid=yCt});var Bte=E(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.ProgressPart=void 0;var Pke=require("vscode"),Rke=qi(),xke=yv(),Hte=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Rke.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&Pke.window.withProgress({location:Pke.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Rke.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&xke.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(xke.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};MH.ProgressPart=Hte});var Qo=E(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.WorkspaceFeature=il.TextDocumentLanguageFeature=il.TextDocumentEventFeature=il.DynamicDocumentFeature=il.DynamicFeature=il.StaticFeature=il.ensure=il.LSPCancellationError=void 0;var i0=require("vscode"),Wte=qi(),tp=yv(),Oke=Kc(),$te=class extends i0.CancellationError{constructor(e){super(),this.data=e}};il.LSPCancellationError=$te;function _Ct(r,e){return r[e]===void 0&&(r[e]={}),r[e]}il.ensure=_Ct;var bCt;(function(r){function e(t){let n=t;return n!=null&&tp.func(n.fillClientCapabilities)&&tp.func(n.initialize)&&tp.func(n.getState)&&tp.func(n.dispose)&&(n.fillInitializeParams===void 0||tp.func(n.fillInitializeParams))}r.is=e})(bCt=il.StaticFeature||(il.StaticFeature={}));var wCt;(function(r){function e(t){let n=t;return n!=null&&tp.func(n.fillClientCapabilities)&&tp.func(n.initialize)&&tp.func(n.getState)&&tp.func(n.dispose)&&(n.fillInitializeParams===void 0||tp.func(n.fillInitializeParams))&&tp.func(n.register)&&tp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(wCt=il.DynamicFeature||(il.DynamicFeature={}));var AL=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of i0.workspace.textDocuments)if(i0.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};il.DynamicDocumentFeature=AL;var Vte=class extends AL{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new i0.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(i0.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(i0.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};il.TextDocumentEventFeature=Vte;var Gte=class extends AL{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(Wte.TextDocumentRegistrationOptions.is(t)){let n=Wte.StaticRegistrationOptions.hasId(t)?t.id:Oke.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(tp.boolean(t)&&t===!0||Wte.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=tp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[Oke.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return tp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&i0.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};il.TextDocumentLanguageFeature=Gte;var Kte=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};il.WorkspaceFeature=Kte});var nre=E(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.DiagnosticFeature=fb.DiagnosticPullMode=fb.vsdiag=void 0;var SCt=ST(),go=require("vscode"),du=qi(),CCt=Kc(),Yte=Qo();function NH(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var qy;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(qy=fb.vsdiag||(fb.vsdiag={}));var Jte;(function(r){r.onType="onType",r.onSave="onSave"})(Jte=fb.DiagnosticPullMode||(fb.DiagnosticPullMode={}));var eh;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(eh||(eh={}));var Xte=class r{constructor(){this.open=new Set,this._onOpen=new go.EventEmitter,this._onClose=new go.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(go.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(go.Uri.parse(c));this._onOpen.fire(a)}};go.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=go.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof go.Uri?go.window.activeTextEditor?.document.uri===e:go.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof go.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of go.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof go.TabInputText?a=s.uri:s instanceof go.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},pd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(pd||(pd={}));var Qte=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===pd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof go.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===pd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof go.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();(e===pd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===pd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===pd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},Zte=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new go.EventEmitter,this.provider=this.createProvider(),this.diagnostics=go.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Qte,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(pd.document,e,t):this.documentStates.track(pd.document,e);if(s===void 0){let c=new go.CancellationTokenSource;this.openRequests.set(o,{state:eh.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:qy.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof Yte.LSPCancellationError&&du.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:eh.outDated,document:e}),l===void 0&&d instanceof go.CancellationError)l={state:eh.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(pd.document,e);return}if(l.state===eh.outDated)return;u!==void 0&&(u.kind===qy.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===eh.reschedule&&this.pull(e)}else s.state===eh.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:eh.reschedule,document:s.document})):s.state===eh.outDated&&this.openRequests.set(o,{state:eh.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof go.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:eh.reschedule,document:e}):this.pull(e,()=>{this.forget(pd.document,e)}):(i!==void 0&&(i.state===eh.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:eh.outDated,document:e})),this.diagnostics.delete(t),this.forget(pd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,du.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Yte.LSPCancellationError)&&!du.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,du.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new go.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===qy.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(pd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(pd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof go.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:qy.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(du.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:qy.DocumentDiagnosticReportKind.full,items:[]}:d.kind===du.DocumentDiagnosticReportKind.Full?{kind:qy.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:qy.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(du.DocumentDiagnosticRequest.type,u,d,{kind:qy.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===du.DocumentDiagnosticReportKind.Full?{kind:qy.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:qy.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,CCt.generateUuid)(),f=this.client.onProgress(du.WorkspaceDiagnosticRequest.partialResult,d,async _=>{if(_==null){i(null);return}let T={items:[]};for(let x of _.items)try{T.items.push(await o(x))}catch(M){this.client.error("Converting workspace diagnostics failed.",M)}i(T)}),m={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(du.WorkspaceDiagnosticRequest.type,m,l).then(async _=>{if(l.isCancellationRequested)return{items:[]};let T={items:[]};for(let x of _.items)T.items.push(await o(x));return f.dispose(),i(T),{items:[]}},_=>(f.dispose(),this.client.handleFailedRequest(du.DocumentDiagnosticRequest.type,l,_,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===eh.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:eh.outDated,document:t.document});this.diagnostics.dispose()}},ere=class{constructor(e){this.diagnosticRequestor=e,this.documents=new du.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,du.Touch.Last),this.trigger())}remove(e){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,du.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,du.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},tre=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=_=>{let T=n.documentSelector;if(i.match!==void 0)return i.match(T,_);for(let x of T)if(du.TextDocumentFilter.is(x)){if(typeof x=="string"||x.language!==void 0&&x.language!=="*"||x.scheme!==void 0&&x.scheme!=="*"&&x.scheme!==_.scheme)return!1;if(x.pattern!==void 0){let M=new SCt.Minimatch(x.pattern,{noext:!0});if(!M.makeRe()||!M.match(_.fsPath))return!1}}return!0},c=_=>_ instanceof go.Uri?a(_):go.languages.match(o,_)>0&&t.isVisible(_),u=_=>_ instanceof go.Uri?this.activeTextDocument?.uri.toString()===_.toString():this.activeTextDocument===_;this.diagnosticRequestor=new Zte(e,t,n),this.backgroundScheduler=new ere(this.diagnosticRequestor);let l=_=>{!c(_)||!n.interFileDependencies||u(_)||this.backgroundScheduler.add(_)};this.activeTextDocument=go.window.activeTextEditor?.document,go.window.onDidChangeActiveTextEditor(_=>{let T=this.activeTextDocument;this.activeTextDocument=_?.document,T!==void 0&&l(T),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(du.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(_=>{let T=_.original;c(T)&&this.diagnosticRequestor.pull(T,()=>{l(T)})}));let f=new Set;for(let _ of go.workspace.textDocuments)c(_)&&(this.diagnosticRequestor.pull(_,()=>{l(_)}),f.add(_.uri.toString()));if(i.onTabs===!0)for(let _ of t.getTabResources())!f.has(_.toString())&&c(_)&&this.diagnosticRequestor.pull(_,()=>{l(_)});if(t.onOpen(_=>{for(let T of _)c(T)&&!this.diagnosticRequestor.knows(pd.document,T)&&this.diagnosticRequestor.pull(T,()=>{l(T)})}),i.onChange===!0){let _=e.getFeature(du.DidChangeTextDocumentNotification.method);s.push(_.onNotificationSent(async T=>{let x=T.original.document;(i.filter===void 0||!i.filter(x,Jte.onType))&&this.diagnosticRequestor.knows(pd.document,x)&&T.original.contentChanges.length>0&&this.diagnosticRequestor.pull(x,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let _=e.getFeature(du.DidSaveTextDocumentNotification.method);s.push(_.onNotificationSent(T=>{let x=T.original;(i.filter===void 0||!i.filter(x,Jte.onSave))&&this.diagnosticRequestor.knows(pd.document,x)&&this.diagnosticRequestor.pull(T.original,()=>{this.backgroundScheduler.trigger()})}))}let m=e.getFeature(du.DidCloseTextDocumentNotification.method);s.push(m.onNotificationSent(_=>{this.cleanUpDocument(_.original)})),t.onClose(_=>{for(let T of _)this.cleanUpDocument(T)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let _ of go.workspace.textDocuments)c(_)&&this.diagnosticRequestor.pull(_)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=go.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(pd.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},rre=class extends Yte.TextDocumentLanguageFeature{constructor(e){super(e,du.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=NH(NH(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,NH(NH(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(du.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Xte);let t=new tre(this._client,this.tabs,e);return[t.disposable,t]}};fb.DiagnosticFeature=rre});var Ake=E(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});zH.NotebookDocumentSyncFeature=void 0;var th=require("vscode"),DCt=ST(),Jw=qi(),TCt=Kc(),Ike=yv();function kke(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var xR;(function(r){let e;(function(t){function n(f,m){return{version:f.version,uri:m.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,m,_){let T=Jw.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(m,_));return Object.keys(f.metadata).length>0&&(T.metadata=s(f.metadata)),T}t.asNotebookDocument=i;function o(f,m){return f.map(_=>a(_,m))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,m){let _=Jw.NotebookCell.create(c(f.kind),m.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&Ike.number(f.executionSummary.executionOrder)&&Ike.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case th.NotebookCellKind.Markup:return Jw.NotebookCellKind.Markup;case th.NotebookCellKind.Code:return Jw.NotebookCellKind.Code}}function u(f,m){if(f.has(m))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(m)){let _=[];for(let T of m)if(T!==null&&typeof T=="object"||Array.isArray(T))_.push(u(f,T));else{if(T instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(T)}return _}else{let _=Object.keys(m),T=Object.create(null);for(let x of _){let M=m[x];if(M!==null&&typeof M=="object"||Array.isArray(M))T[x]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");T[x]=M}}return T}}function l(f,m){let _=m.asChangeTextDocumentParams(f);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,m){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let T=Object.create(null),x=f.cells;x.structure&&(T.structure={array:{start:x.structure.array.start,deleteCount:x.structure.array.deleteCount,cells:x.structure.array.cells!==void 0?x.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,m)):void 0},didOpen:x.structure.didOpen!==void 0?x.structure.didOpen.map(M=>m.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:x.structure.didClose!==void 0?x.structure.didClose.map(M=>m.asCloseTextDocumentParams(M.document).textDocument):void 0}),x.data!==void 0&&(T.data=x.data.map(M=>r.c2p.asNotebookCell(M,m))),x.textContent!==void 0&&(T.textContent=x.textContent.map(M=>r.c2p.asTextContentChange(M,m))),Object.keys(T).length>0&&(_.cells=T)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(xR||(xR={}));var ire;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let m=l-1,_=d-1;for(;m>=0&&_>=0&&t(a[m],c[_],u);)m--,_--;let T=m+1-f,x=f===_+1?void 0:c.slice(f,_+1);return x!==void 0?{start:f,deleteCount:T,cells:x}:{start:f,deleteCount:T}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let m=0;m<d.length;m++){let _=d[m];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(ire||(ire={}));var ore;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new DCt.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(ore||(ore={}));var FH;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(FH||(FH={}));var qH;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(qH||(qH={}));var OR=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(FH.asDocumentSelector(t)),th.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of th.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);th.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&th.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),th.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of th.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return th.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(th.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){th.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=xR.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Jw.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),qH.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(Jw.DidChangeNotebookDocumentNotification.type,{notebookDocument:xR.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:xR.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),qH.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Jw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(Jw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=xR.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=ire.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],m=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())m.push(_)}o.cells.structure={array:u,didOpen:f,didClose:m}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||ore.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},jH=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Jw.NotebookDocumentSyncRegistrationType.type,th.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof OR&&o.didOpenNotebookCellTextDocument(n,i)}),th.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof OR&&o.didChangeNotebookCellTextDocument(i,t)}),th.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof OR&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=kke(kke(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(FH.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??TCt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new OR(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&th.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of th.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};zH.NotebookDocumentSyncFeature=jH;jH.CellScheme="vscode-notebook-cell"});var Mke=E(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});rD.SyncConfigurationFeature=rD.toJSONObject=rD.ConfigurationFeature=void 0;var IR=require("vscode"),LL=qi(),ECt=yv(),PCt=Kc(),Lke=Qo(),sre=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(LL.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=o0(IR.workspace.getConfiguration(void 0,e).get(t));else{let o=IR.workspace.getConfiguration(t.substr(0,i),e);o&&(n=o0(o.get(t.substr(i+1))))}}else{let i=IR.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=o0(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};rD.ConfigurationFeature=sre;function o0(r){if(r){if(Array.isArray(r))return r.map(o0);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=o0(r[t]));return e}}return r}rD.toJSONObject=o0;var are=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return LL.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Lke.ensure)((0,Lke.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:PCt.generateUuid(),registerOptions:{section:e}})}register(e){let t=IR.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(ECt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(LL.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(LL.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${LL.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=IR.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=IR.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=o0(c)}}return i}};rD.SyncConfigurationFeature=are});var Nke=E(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.DidSaveTextDocumentFeature=sm.WillSaveWaitUntilFeature=sm.WillSaveFeature=sm.DidChangeTextDocumentFeature=sm.DidCloseTextDocumentFeature=sm.DidOpenTextDocumentFeature=void 0;var Sv=require("vscode"),xl=qi(),Yc=Qo(),RCt=OL(),kR=Kc(),cre=class extends Yc.TextDocumentEventFeature{constructor(e,t){super(e,Sv.workspace.onDidOpenTextDocument,xl.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Yc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:kR.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return xl.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Sv.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&Sv.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};sm.DidOpenTextDocumentFeature=cre;var ure=class extends Yc.TextDocumentEventFeature{constructor(e,t){super(e,Sv.workspace.onDidCloseTextDocument,xl.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,Yc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return xl.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:kR.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(Sv.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};sm.DidCloseTextDocumentFeature=ure;var lre=class extends Yc.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new Sv.EventEmitter}get registrationType(){return xl.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==xl.TextDocumentSyncKind.None&&this.register({id:kR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Sv.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(Sv.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===xl.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(xl.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,xl.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===xl.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(xl.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,xl.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new RCt.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${xl.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(Sv.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};sm.DidChangeTextDocumentFeature=lre;var dre=class extends Yc.TextDocumentEventFeature{constructor(e){super(e,Sv.workspace.onWillSaveTextDocument,xl.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Yc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return xl.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:kR.generateUuid(),registerOptions:{documentSelector:t}})}};sm.WillSaveFeature=dre;var fre=class extends Yc.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return xl.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:kR.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Sv.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Yc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(xl.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};sm.WillSaveWaitUntilFeature=fre;var hre=class extends Yc.TextDocumentEventFeature{constructor(e){super(e,Sv.workspace.onDidSaveTextDocument,xl.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Yc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return xl.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Yc.ensure)((0,Yc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:kR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};sm.DidSaveTextDocumentFeature=hre});var Fke=E(UH=>{"use strict";Object.defineProperty(UH,"__esModule",{value:!0});UH.CompletionItemFeature=void 0;var xCt=require("vscode"),Do=qi(),pre=Qo(),OCt=Kc(),ICt=[Do.CompletionItemKind.Text,Do.CompletionItemKind.Method,Do.CompletionItemKind.Function,Do.CompletionItemKind.Constructor,Do.CompletionItemKind.Field,Do.CompletionItemKind.Variable,Do.CompletionItemKind.Class,Do.CompletionItemKind.Interface,Do.CompletionItemKind.Module,Do.CompletionItemKind.Property,Do.CompletionItemKind.Unit,Do.CompletionItemKind.Value,Do.CompletionItemKind.Enum,Do.CompletionItemKind.Keyword,Do.CompletionItemKind.Snippet,Do.CompletionItemKind.Color,Do.CompletionItemKind.File,Do.CompletionItemKind.Reference,Do.CompletionItemKind.Folder,Do.CompletionItemKind.EnumMember,Do.CompletionItemKind.Constant,Do.CompletionItemKind.Struct,Do.CompletionItemKind.Event,Do.CompletionItemKind.Operator,Do.CompletionItemKind.TypeParameter],mre=class extends pre.TextDocumentLanguageFeature{constructor(e){super(e,Do.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,pre.ensure)((0,pre.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Do.MarkupKind.Markdown,Do.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Do.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Do.InsertTextMode.asIs,Do.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Do.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:ICt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:OCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,m=(_,T,x,M)=>d.sendRequest(Do.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,T,x),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(Do.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,m):m(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,m)=>u.sendRequest(Do.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),m).then(_=>m.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(Do.CompletionResolveRequest.type,m,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[xCt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};UH.CompletionItemFeature=mre});var qke=E(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.HoverFeature=void 0;var kCt=require("vscode"),ML=qi(),gre=Qo(),ACt=Kc(),vre=class extends gre.TextDocumentLanguageFeature{constructor(e){super(e,ML.HoverRequest.type)}fillClientCapabilities(e){let t=(0,gre.ensure)((0,gre.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[ML.MarkupKind.Markdown,ML.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:ACt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(ML.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(m),m=>a.handleFailedRequest(ML.HoverRequest.type,f,m,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return kCt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};HH.HoverFeature=vre});var jke=E(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.DefinitionFeature=void 0;var LCt=require("vscode"),yre=qi(),_re=Qo(),MCt=Kc(),bre=class extends _re.TextDocumentLanguageFeature{constructor(e){super(e,yre.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,_re.ensure)((0,_re.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:MCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(yre.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(yre.DefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return LCt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};BH.DefinitionFeature=bre});var Uke=E(WH=>{"use strict";Object.defineProperty(WH,"__esModule",{value:!0});WH.SignatureHelpFeature=void 0;var zke=require("vscode"),NL=qi(),wre=Qo(),NCt=Kc(),Sre=class extends wre.TextDocumentLanguageFeature{constructor(e){super(e,NL.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,wre.ensure)((0,wre.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[NL.MarkupKind.Markdown,NL.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:NCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,m)=>a.sendRequest(NL.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),m).then(_=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,m),_=>a.handleFailedRequest(NL.SignatureHelpRequest.type,m,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return zke.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return zke.languages.registerSignatureHelpProvider(n,t,i)}}};WH.SignatureHelpFeature=Sre});var Hke=E($H=>{"use strict";Object.defineProperty($H,"__esModule",{value:!0});$H.DocumentHighlightFeature=void 0;var FCt=require("vscode"),Cre=qi(),Dre=Qo(),qCt=Kc(),Tre=class extends Dre.TextDocumentLanguageFeature{constructor(e){super(e,Cre.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Dre.ensure)((0,Dre.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:qCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Cre.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(m,f),m=>a.handleFailedRequest(Cre.DocumentHighlightRequest.type,f,m,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[FCt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};$H.DocumentHighlightFeature=Tre});var Rre=E(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.DocumentSymbolFeature=hb.SupportedSymbolTags=hb.SupportedSymbolKinds=void 0;var jCt=require("vscode"),ws=qi(),Ere=Qo(),zCt=Kc();hb.SupportedSymbolKinds=[ws.SymbolKind.File,ws.SymbolKind.Module,ws.SymbolKind.Namespace,ws.SymbolKind.Package,ws.SymbolKind.Class,ws.SymbolKind.Method,ws.SymbolKind.Property,ws.SymbolKind.Field,ws.SymbolKind.Constructor,ws.SymbolKind.Enum,ws.SymbolKind.Interface,ws.SymbolKind.Function,ws.SymbolKind.Variable,ws.SymbolKind.Constant,ws.SymbolKind.String,ws.SymbolKind.Number,ws.SymbolKind.Boolean,ws.SymbolKind.Array,ws.SymbolKind.Object,ws.SymbolKind.Key,ws.SymbolKind.Null,ws.SymbolKind.EnumMember,ws.SymbolKind.Struct,ws.SymbolKind.Event,ws.SymbolKind.Operator,ws.SymbolKind.TypeParameter];hb.SupportedSymbolTags=[ws.SymbolTag.Deprecated];var Pre=class extends Ere.TextDocumentLanguageFeature{constructor(e){super(e,ws.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Ere.ensure)((0,Ere.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:hb.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:hb.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:zCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ws.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let m=f[0];return ws.DocumentSymbol.is(m)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(ws.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[jCt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};hb.DocumentSymbolFeature=Pre});var Wke=E(VH=>{"use strict";Object.defineProperty(VH,"__esModule",{value:!0});VH.WorkspaceSymbolFeature=void 0;var UCt=require("vscode"),FL=qi(),xre=Qo(),Bke=Rre(),HCt=Kc(),Ore=class extends xre.WorkspaceFeature{constructor(e){super(e,FL.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,xre.ensure)((0,xre.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Bke.SupportedSymbolKinds},t.tagSupport={valueSet:Bke.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:HCt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(FL.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(FL.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(FL.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(FL.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[UCt.languages.registerWorkspaceSymbolProvider(t),t]}};VH.WorkspaceSymbolFeature=Ore});var $ke=E(GH=>{"use strict";Object.defineProperty(GH,"__esModule",{value:!0});GH.ReferencesFeature=void 0;var BCt=require("vscode"),Ire=qi(),kre=Qo(),WCt=Kc(),Are=class extends kre.TextDocumentLanguageFeature{constructor(e){super(e,Ire.ReferencesRequest.type)}fillClientCapabilities(e){(0,kre.ensure)((0,kre.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:WCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>c.sendRequest(Ire.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,m),_).then(T=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(T,_),T=>c.handleFailedRequest(Ire.ReferencesRequest.type,_,T,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return BCt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};GH.ReferencesFeature=Are});var Vke=E(KH=>{"use strict";Object.defineProperty(KH,"__esModule",{value:!0});KH.CodeActionFeature=void 0;var $Ct=require("vscode"),lg=qi(),VCt=Kc(),Lre=Qo(),Mre=class extends Lre.TextDocumentLanguageFeature{constructor(e){super(e,lg.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,Lre.ensure)((0,Lre.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[lg.CodeActionKind.Empty,lg.CodeActionKind.QuickFix,lg.CodeActionKind.Refactor,lg.CodeActionKind.RefactorExtract,lg.CodeActionKind.RefactorInline,lg.CodeActionKind.RefactorRewrite,lg.CodeActionKind.Source,lg.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:VCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(m,_)};return c.sendRequest(lg.CodeActionRequest.type,T,_).then(x=>_.isCancellationRequested||x===null||x===void 0?null:c.protocol2CodeConverter.asCodeActionResult(x,_),x=>c.handleFailedRequest(lg.CodeActionRequest.type,_,x,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(lg.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(lg.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[$Ct.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};KH.CodeActionFeature=Mre});var Kke=E(YH=>{"use strict";Object.defineProperty(YH,"__esModule",{value:!0});YH.CodeLensFeature=void 0;var Gke=require("vscode"),AR=qi(),GCt=Kc(),qL=Qo(),Nre=class extends qL.TextDocumentLanguageFeature{constructor(e){super(e,AR.CodeLensRequest.type)}fillClientCapabilities(e){(0,qL.ensure)((0,qL.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,qL.ensure)((0,qL.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(AR.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:GCt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Gke.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(AR.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(AR.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(AR.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(AR.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[Gke.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};YH.CodeLensFeature=Nre});var Yke=E(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});nD.DocumentOnTypeFormattingFeature=nD.DocumentRangeFormattingFeature=nD.DocumentFormattingFeature=void 0;var JH=require("vscode"),Xw=qi(),zre=Kc(),Qw=Qo(),jL;(function(r){function e(t){let n=JH.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(jL||(jL={}));var Fre=class extends Qw.TextDocumentLanguageFeature{constructor(e){super(e,Xw.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Qw.ensure)((0,Qw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:zre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,jL.fromConfiguration(l))};return a.sendRequest(Xw.DocumentFormattingRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(Xw.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[JH.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};nD.DocumentFormattingFeature=Fre;var qre=class extends Qw.TextDocumentLanguageFeature{constructor(e){super(e,Xw.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,Qw.ensure)((0,Qw.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:zre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(m,jL.fromConfiguration(d))};return c.sendRequest(Xw.DocumentRangeFormattingRequest.type,T,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(Xw.DocumentRangeFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[JH.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};nD.DocumentRangeFormattingFeature=qre;var jre=class extends Qw.TextDocumentLanguageFeature{constructor(e){super(e,Xw.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Qw.ensure)((0,Qw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:zre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(m,_,T,x,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),position:l.code2ProtocolConverter.asPosition(_),ch:T,options:l.code2ProtocolConverter.asFormattingOptions(x,jL.fromConfiguration(m))};return l.sendRequest(Xw.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(Xw.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[JH.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};nD.DocumentOnTypeFormattingFeature=jre});var Xke=E(XH=>{"use strict";Object.defineProperty(XH,"__esModule",{value:!0});XH.RenameFeature=void 0;var KCt=require("vscode"),s0=qi(),YCt=Kc(),Jke=yv(),Ure=Qo(),Hre=class extends Ure.TextDocumentLanguageFeature{constructor(e){super(e,s0.RenameRequest.type)}fillClientCapabilities(e){let t=(0,Ure.ensure)((0,Ure.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=s0.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(Jke.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:YCt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:m};return c.sendRequest(s0.RenameRequest.type,T,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(x,_),x=>c.handleFailedRequest(s0.RenameRequest.type,_,x,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(s0.PrepareRenameRequest.type,m,f).then(_=>f.isCancellationRequested?null:s0.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&s0.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return KCt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Jke.boolean(t.defaultBehavior)}};XH.RenameFeature=Hre});var Qke=E(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.DocumentLinkFeature=void 0;var JCt=require("vscode"),zL=qi(),Bre=Qo(),XCt=Kc(),Wre=class extends Bre.TextDocumentLanguageFeature{constructor(e){super(e,zL.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,Bre.ensure)((0,Bre.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:XCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(zL.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(zL.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(zL.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(zL.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[JCt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};QH.DocumentLinkFeature=Wre});var e1e=E(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.ExecuteCommandFeature=void 0;var QCt=require("vscode"),$re=qi(),ZCt=Kc(),Zke=Qo(),Vre=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return $re.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,Zke.ensure)((0,Zke.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:ZCt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest($re.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest($re.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(QCt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};ZH.ExecuteCommandFeature=Vre});var t1e=E(tB=>{"use strict";Object.defineProperty(tB,"__esModule",{value:!0});tB.FileSystemWatcherFeature=void 0;var eDt=require("vscode"),a0=qi(),eB=Qo(),Gre=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return a0.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,eB.ensure)((0,eB.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,eB.ensure)((0,eB.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&a0.WatchKind.Create)!==0,s=(n.kind&a0.WatchKind.Change)!==0,a=(n.kind&a0.WatchKind.Delete)!==0);let c=eDt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:a0.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:a0.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:a0.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};tB.FileSystemWatcherFeature=Gre});var r1e=E(rB=>{"use strict";Object.defineProperty(rB,"__esModule",{value:!0});rB.ColorProviderFeature=void 0;var tDt=require("vscode"),UL=qi(),Kre=Qo(),Yre=class extends Kre.TextDocumentLanguageFeature{constructor(e){super(e,UL.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Kre.ensure)((0,Kre.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(UL.ColorPresentationRequest.type,m,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(UL.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(UL.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(UL.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[tDt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};rB.ColorProviderFeature=Yre});var n1e=E(nB=>{"use strict";Object.defineProperty(nB,"__esModule",{value:!0});nB.ImplementationFeature=void 0;var rDt=require("vscode"),Jre=qi(),Xre=Qo(),Qre=class extends Xre.TextDocumentLanguageFeature{constructor(e){super(e,Jre.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Xre.ensure)((0,Xre.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Jre.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(Jre.ImplementationRequest.type,f,m,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return rDt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};nB.ImplementationFeature=Qre});var i1e=E(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});iB.TypeDefinitionFeature=void 0;var nDt=require("vscode"),Zre=qi(),HL=Qo(),ene=class extends HL.TextDocumentLanguageFeature{constructor(e){super(e,Zre.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,HL.ensure)((0,HL.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,HL.ensure)((0,HL.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Zre.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(Zre.TypeDefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return nDt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};iB.TypeDefinitionFeature=ene});var o1e=E(LR=>{"use strict";Object.defineProperty(LR,"__esModule",{value:!0});LR.WorkspaceFoldersFeature=LR.arrayDiff=void 0;var iDt=Kc(),oB=require("vscode"),BL=qi();function tne(r,e){if(r!==void 0)return r[e]}function rne(r,e){return r.filter(t=>e.indexOf(t)<0)}LR.arrayDiff=rne;var nne=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return BL.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=oB.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(BL.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=oB.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=tne(tne(tne(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=iDt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=rne(this._initialFolders,e),i=rne(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${BL.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(BL.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=oB.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${BL.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(oB.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};LR.WorkspaceFoldersFeature=nne});var s1e=E(sB=>{"use strict";Object.defineProperty(sB,"__esModule",{value:!0});sB.FoldingRangeFeature=void 0;var oDt=require("vscode"),MR=qi(),ine=Qo(),one=class extends ine.TextDocumentLanguageFeature{constructor(e){super(e,MR.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,ine.ensure)((0,ine.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[MR.FoldingRangeKind.Comment,MR.FoldingRangeKind.Imports,MR.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest(MR.FoldingRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(_,f),_=>a.handleFailedRequest(MR.FoldingRangeRequest.type,f,_,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[oDt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};sB.FoldingRangeFeature=one});var a1e=E(aB=>{"use strict";Object.defineProperty(aB,"__esModule",{value:!0});aB.DeclarationFeature=void 0;var sDt=require("vscode"),sne=qi(),ane=Qo(),cne=class extends ane.TextDocumentLanguageFeature{constructor(e){super(e,sne.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,ane.ensure)((0,ane.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(sne.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(m,f),m=>a.handleFailedRequest(sne.DeclarationRequest.type,f,m,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return sDt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};aB.DeclarationFeature=cne});var c1e=E(cB=>{"use strict";Object.defineProperty(cB,"__esModule",{value:!0});cB.SelectionRangeFeature=void 0;var aDt=require("vscode"),une=qi(),lne=Qo(),dne=class extends lne.TextDocumentLanguageFeature{constructor(e){super(e,une.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,lne.ensure)((0,lne.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(une.SelectionRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(une.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return aDt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};cB.SelectionRangeFeature=dne});var l1e=E(uB=>{"use strict";Object.defineProperty(uB,"__esModule",{value:!0});uB.ProgressFeature=void 0;var u1e=qi(),cDt=Bte();function uDt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var fne=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:u1e.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){uDt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new cDt.ProgressPart(this._client,i.token,t))};e.onRequest(u1e.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};uB.ProgressFeature=fne});var d1e=E(lB=>{"use strict";Object.defineProperty(lB,"__esModule",{value:!0});lB.CallHierarchyFeature=void 0;var lDt=require("vscode"),c0=qi(),hne=Qo(),pne=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(c0.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(c0.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(c0.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(c0.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(c0.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(c0.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},mne=class extends hne.TextDocumentLanguageFeature{constructor(e){super(e,c0.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,hne.ensure)((0,hne.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new pne(t);return[lDt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};lB.CallHierarchyFeature=mne});var f1e=E(fB=>{"use strict";Object.defineProperty(fB,"__esModule",{value:!0});fB.SemanticTokensFeature=void 0;var dB=require("vscode"),Hi=qi(),WL=Qo(),dDt=yv(),gne=class extends WL.TextDocumentLanguageFeature{constructor(e){super(e,Hi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,WL.ensure)((0,WL.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Hi.SemanticTokenTypes.namespace,Hi.SemanticTokenTypes.type,Hi.SemanticTokenTypes.class,Hi.SemanticTokenTypes.enum,Hi.SemanticTokenTypes.interface,Hi.SemanticTokenTypes.struct,Hi.SemanticTokenTypes.typeParameter,Hi.SemanticTokenTypes.parameter,Hi.SemanticTokenTypes.variable,Hi.SemanticTokenTypes.property,Hi.SemanticTokenTypes.enumMember,Hi.SemanticTokenTypes.event,Hi.SemanticTokenTypes.function,Hi.SemanticTokenTypes.method,Hi.SemanticTokenTypes.macro,Hi.SemanticTokenTypes.keyword,Hi.SemanticTokenTypes.modifier,Hi.SemanticTokenTypes.comment,Hi.SemanticTokenTypes.string,Hi.SemanticTokenTypes.number,Hi.SemanticTokenTypes.regexp,Hi.SemanticTokenTypes.operator,Hi.SemanticTokenTypes.decorator],t.tokenModifiers=[Hi.SemanticTokenModifiers.declaration,Hi.SemanticTokenModifiers.definition,Hi.SemanticTokenModifiers.readonly,Hi.SemanticTokenModifiers.static,Hi.SemanticTokenModifiers.deprecated,Hi.SemanticTokenModifiers.abstract,Hi.SemanticTokenModifiers.async,Hi.SemanticTokenModifiers.modification,Hi.SemanticTokenModifiers.documentation,Hi.SemanticTokenModifiers.defaultLibrary],t.formats=[Hi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,WL.ensure)((0,WL.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Hi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=dDt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new dB.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(m,_)=>{let T=this._client,x=T.middleware,M=(A,U)=>{let ne={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(A)};return T.sendRequest(Hi.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:T.protocol2CodeConverter.asSemanticTokens(de,U),de=>T.handleFailedRequest(Hi.SemanticTokensRequest.type,U,de,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(m,_,M):M(m,_)},provideDocumentSemanticTokensEdits:i?(m,_,T)=>{let x=this._client,M=x.middleware,A=(U,ne,de)=>{let ye={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return x.sendRequest(Hi.SemanticTokensDeltaRequest.type,ye,de).then(async V=>de.isCancellationRequested?null:Hi.SemanticTokens.is(V)?await x.protocol2CodeConverter.asSemanticTokens(V,de):await x.protocol2CodeConverter.asSemanticTokensEdits(V,de),V=>x.handleFailedRequest(Hi.SemanticTokensDeltaRequest.type,de,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(m,_,T,A):A(m,_,T)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(m,_,T)=>{let x=this._client,M=x.middleware,A=(U,ne,de)=>{let ye={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),range:x.code2ProtocolConverter.asRange(ne)};return x.sendRequest(Hi.SemanticTokensRangeRequest.type,ye,de).then(V=>de.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(V,de),V=>x.handleFailedRequest(Hi.SemanticTokensRangeRequest.type,de,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(m,_,T,A):A(m,_,T)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(dB.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(dB.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new dB.Disposable(()=>u.forEach(m=>m.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};fB.SemanticTokensFeature=gne});var m1e=E(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.WillDeleteFilesFeature=am.WillRenameFilesFeature=am.WillCreateFilesFeature=am.DidDeleteFilesFeature=am.DidRenameFilesFeature=am.DidCreateFilesFeature=void 0;var Cv=require("vscode"),fDt=ST(),Zw=qi(),hDt=Kc();function h1e(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function pDt(r,e){return r[e]}function p1e(r,e,t){r[e]=t}var $L=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=h1e(h1e(e,"workspace"),"fileOperations");p1e(t,"dynamicRegistration",!0),p1e(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?pDt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:hDt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new fDt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===Cv.FileType.File&&u.kind===Zw.FileOperationPatternKind.file||l===Cv.FileType.Directory&&u.kind===Zw.FileOperationPatternKind.folder)return!0}else if(u.kind===Zw.FileOperationPatternKind.folder&&await r.getFileType(s)===Cv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Cv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},hB=class extends $L{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},pB=class extends hB{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await $L.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},vne=class extends hB{constructor(e){super(e,Cv.workspace.onDidCreateFiles,Zw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};am.DidCreateFilesFeature=vne;var yne=class extends pB{constructor(e){super(e,Cv.workspace.onDidRenameFiles,Zw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Cv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};am.DidRenameFilesFeature=yne;var _ne=class extends pB{constructor(e){super(e,Cv.workspace.onDidDeleteFiles,Zw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Cv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};am.DidDeleteFilesFeature=_ne;var VL=class extends $L{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},bne=class extends VL{constructor(e){super(e,Cv.workspace.onWillCreateFiles,Zw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};am.WillCreateFilesFeature=bne;var wne=class extends VL{constructor(e){super(e,Cv.workspace.onWillRenameFiles,Zw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};am.WillRenameFilesFeature=wne;var Sne=class extends VL{constructor(e){super(e,Cv.workspace.onWillDeleteFiles,Zw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};am.WillDeleteFilesFeature=Sne});var g1e=E(mB=>{"use strict";Object.defineProperty(mB,"__esModule",{value:!0});mB.LinkedEditingFeature=void 0;var mDt=require("vscode"),Cne=qi(),Dne=Qo(),Tne=class extends Dne.TextDocumentLanguageFeature{constructor(e){super(e,Cne.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Dne.ensure)((0,Dne.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Cne.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(m,f),m=>a.handleFailedRequest(Cne.LinkedEditingRangeRequest.type,f,m,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return mDt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};mB.LinkedEditingFeature=Tne});var v1e=E(gB=>{"use strict";Object.defineProperty(gB,"__esModule",{value:!0});gB.TypeHierarchyFeature=void 0;var gDt=require("vscode"),u0=qi(),Ene=Qo(),Pne=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(u0.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(u0.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(u0.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(u0.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(u0.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(u0.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Rne=class extends Ene.TextDocumentLanguageFeature{constructor(e){super(e,u0.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Ene.ensure)((0,Ene.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Pne(t);return[gDt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};gB.TypeHierarchyFeature=Rne});var _1e=E(yB=>{"use strict";Object.defineProperty(yB,"__esModule",{value:!0});yB.InlineValueFeature=void 0;var y1e=require("vscode"),vB=qi(),GL=Qo(),xne=class extends GL.TextDocumentLanguageFeature{constructor(e){super(e,vB.InlineValueRequest.type)}fillClientCapabilities(e){(0,GL.ensure)((0,GL.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,GL.ensure)((0,GL.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(vB.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new y1e.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,m,_,T)=>{let x={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(m),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(vB.InlineValueRequest.type,x,T).then(M=>T.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,T),M=>u.handleFailedRequest(vB.InlineValueRequest.type,T,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return y1e.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};yB.InlineValueFeature=xne});var w1e=E(_B=>{"use strict";Object.defineProperty(_B,"__esModule",{value:!0});_B.InlayHintsFeature=void 0;var b1e=require("vscode"),NR=qi(),KL=Qo(),One=class extends KL.TextDocumentLanguageFeature{constructor(e){super(e,NR.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,KL.ensure)((0,KL.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,KL.ensure)((0,KL.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(NR.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new b1e.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let T=await c.sendRequest(NR.InlayHintRequest.type,_,m);return m.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(T,m)}catch(T){return c.handleFailedRequest(NR.InlayHintRequest.type,m,T,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(NR.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let m=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:m}catch(f){return a.handleFailedRequest(NR.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return b1e.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};_B.InlayHintsFeature=One});var Lne=E(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.ProposedFeatures=Ga.BaseLanguageClient=Ga.MessageTransports=Ga.SuspendMode=Ga.State=Ga.CloseAction=Ga.ErrorAction=Ga.RevealOutputChannelOn=void 0;var zs=require("vscode"),Mr=qi(),vDt=wke(),yDt=Dke(),Dv=yv(),S1e=OL(),C1e=Kc(),_Dt=Bte(),jy=Qo(),bDt=nre(),D1e=Ake(),T1e=Mke(),FR=Nke(),wDt=Fke(),SDt=qke(),CDt=jke(),DDt=Uke(),TDt=Hke(),EDt=Rre(),PDt=Wke(),RDt=$ke(),xDt=Vke(),ODt=Kke(),Ine=Yke(),IDt=Xke(),kDt=Qke(),ADt=e1e(),LDt=t1e(),MDt=r1e(),NDt=n1e(),FDt=i1e(),qDt=o1e(),jDt=s1e(),zDt=a1e(),UDt=c1e(),HDt=l1e(),BDt=d1e(),WDt=f1e(),qR=m1e(),$Dt=g1e(),VDt=v1e(),GDt=_1e(),KDt=w1e(),YL;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(YL=Ga.RevealOutputChannelOn||(Ga.RevealOutputChannelOn={}));var wB;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(wB=Ga.ErrorAction||(Ga.ErrorAction={}));var l0;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(l0=Ga.CloseAction||(Ga.CloseAction={}));var bB;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(bB=Ga.State||(Ga.State={}));var YDt;(function(r){r.off="off",r.on="on"})(YDt=Ga.SuspendMode||(Ga.SuspendMode={}));var kne=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:wB.Continue}:{action:wB.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:l0.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:l0.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:l0.Restart})}},vo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(vo||(vo={}));var JDt;(function(r){function e(t){return t&&Mr.MessageReader.is(t.reader)&&Mr.MessageWriter.is(t.writer)}r.is=e})(JDt=Ga.MessageTransports||(Ga.MessageTransports={}));var SB=class r{constructor(e,t,n){this._traceFormat=Mr.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new S1e.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??YL.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=vo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new S1e.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Mr.Emitter,this._stateChangeEmitter=new Mr.Emitter,this._trace=Mr.Trace.Off,this._tracer={log:(o,s)=>{Dv.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=vDt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=yDt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=zs.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case vo.Starting:return bB.Starting;case vo.Running:return bB.Running;default:return bB.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${Dv.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${Dv.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new kne(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Dv.string(e.stack)?e.stack:e.message:Dv.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=YL.Info&&this.showNotificationMessage(Mr.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=YL.Warn&&this.showNotificationMessage(Mr.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=YL.Error)&&this.showNotificationMessage(Mr.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Mr.MessageType.Error?zs.window.showErrorMessage:e===Mr.MessageType.Warning?zs.window.showWarningMessage:zs.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===vo.Initial||this.$state===vo.Stopping||this.$state===vo.Stopped}needsStop(){return this.$state===vo.Starting||this.$state===vo.Running}activeConnection(){return this.$state===vo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===vo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===vo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?zs.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):zs.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=vo.Starting;try{let i=await this.createConnection();i.onNotification(Mr.LogMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:this.error(o.message,void 0,!1);break;case Mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Mr.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Mr.ShowMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:zs.window.showErrorMessage(o.message);break;case Mr.MessageType.Warning:zs.window.showWarningMessage(o.message);break;case Mr.MessageType.Info:zs.window.showInformationMessage(o.message);break;default:zs.window.showInformationMessage(o.message)}}),i.onRequest(Mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case Mr.MessageType.Error:s=zs.window.showErrorMessage;break;case Mr.MessageType.Warning:s=zs.window.showWarningMessage;break;case Mr.MessageType.Info:s=zs.window.showInformationMessage;break;default:s=zs.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Mr.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await zs.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await zs.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=vo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:zs.env.appName,version:zs.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(zs.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Dv.func(t)?t():t,trace:Mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=C1e.generateUuid(),a=new _Dt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=vo.Running;let i;Dv.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Mr.TextDocumentSyncKind.None?i={openClose:!1,change:Mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Mr.ResponseError&&n.data&&n.data.retry?zs.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&zs.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=zs.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===vo.Stopped||this.$state===vo.Initial)return;if(this.$state===vo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==vo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=vo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=vo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Mr.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Mr.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new zs.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===vo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=XDt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===vo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:l0.DoNotRestart};if(this.$state!==vo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===l0.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===vo.Starting?this.$state=vo.StartFailed:this.$state=vo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===l0.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=vo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===wB.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(zs.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=zs.workspace.getConfiguration(this._id),i=Mr.Trace.Off,o=Mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Mr.Trace.fromString(s):(i=Mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=Mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;Dv.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Mr.DidChangeWatchedFilesNotification.type.method).registerRaw(C1e.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),jy.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof D1e.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new T1e.ConfigurationFeature(this)),this.registerFeature(new FR.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new FR.DidChangeTextDocumentFeature(this)),this.registerFeature(new FR.WillSaveFeature(this)),this.registerFeature(new FR.WillSaveWaitUntilFeature(this)),this.registerFeature(new FR.DidSaveTextDocumentFeature(this)),this.registerFeature(new FR.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new LDt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new wDt.CompletionItemFeature(this)),this.registerFeature(new SDt.HoverFeature(this)),this.registerFeature(new DDt.SignatureHelpFeature(this)),this.registerFeature(new CDt.DefinitionFeature(this)),this.registerFeature(new RDt.ReferencesFeature(this)),this.registerFeature(new TDt.DocumentHighlightFeature(this)),this.registerFeature(new EDt.DocumentSymbolFeature(this)),this.registerFeature(new PDt.WorkspaceSymbolFeature(this)),this.registerFeature(new xDt.CodeActionFeature(this)),this.registerFeature(new ODt.CodeLensFeature(this)),this.registerFeature(new Ine.DocumentFormattingFeature(this)),this.registerFeature(new Ine.DocumentRangeFormattingFeature(this)),this.registerFeature(new Ine.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new IDt.RenameFeature(this)),this.registerFeature(new kDt.DocumentLinkFeature(this)),this.registerFeature(new ADt.ExecuteCommandFeature(this)),this.registerFeature(new T1e.SyncConfigurationFeature(this)),this.registerFeature(new FDt.TypeDefinitionFeature(this)),this.registerFeature(new NDt.ImplementationFeature(this)),this.registerFeature(new MDt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new qDt.WorkspaceFoldersFeature(this)),this.registerFeature(new jDt.FoldingRangeFeature(this)),this.registerFeature(new zDt.DeclarationFeature(this)),this.registerFeature(new UDt.SelectionRangeFeature(this)),this.registerFeature(new HDt.ProgressFeature(this)),this.registerFeature(new BDt.CallHierarchyFeature(this)),this.registerFeature(new WDt.SemanticTokensFeature(this)),this.registerFeature(new $Dt.LinkedEditingFeature(this)),this.registerFeature(new qR.DidCreateFilesFeature(this)),this.registerFeature(new qR.DidRenameFilesFeature(this)),this.registerFeature(new qR.DidDeleteFilesFeature(this)),this.registerFeature(new qR.WillCreateFilesFeature(this)),this.registerFeature(new qR.WillRenameFilesFeature(this)),this.registerFeature(new qR.WillDeleteFilesFeature(this)),this.registerFeature(new VDt.TypeHierarchyFeature(this)),this.registerFeature(new GDt.InlineValueFeature(this)),this.registerFeature(new KDt.InlayHintsFeature(this)),this.registerFeature(new bDt.DiagnosticFeature(this)),this.registerFeature(new D1e.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(E1e.createAll(this))}fillInitializeParams(e){for(let t of this._features)Dv.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,jy.ensure)(e,"workspace").applyEdit=!0;let t=(0,jy.ensure)((0,jy.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Mr.ResourceOperationKind.Create,Mr.ResourceOperationKind.Rename,Mr.ResourceOperationKind.Delete],t.failureHandling=Mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,jy.ensure)((0,jy.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Mr.DiagnosticTag.Unnecessary,Mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,jy.ensure)(e,"window"),o=(0,jy.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,jy.ensure)(i,"showDocument");s.support=!0;let a=(0,jy.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)Dv.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;zs.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):Dv.asPromise(zs.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Mr.ResponseError){if(n.code===Mr.ErrorCodes.PendingResponseRejected||n.code===Mr.ErrorCodes.ConnectionInactive)return i;if(n.code===Mr.LSPErrorCodes.RequestCancelled||n.code===Mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new jy.LSPCancellationError(n.data):new zs.CancellationError}else if(n.code===Mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new zs.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Ga.BaseLanguageClient=SB;SB.RequestsToCancelOnContentModified=new Set([Mr.SemanticTokensRequest.method,Mr.SemanticTokensRangeRequest.method,Mr.SemanticTokensDeltaRequest.method]);var Ane=class{error(e){(0,Mr.RAL)().console.error(e)}warn(e){(0,Mr.RAL)().console.warn(e)}info(e){(0,Mr.RAL)().console.info(e)}log(e){(0,Mr.RAL)().console.log(e)}};function XDt(r,e,t,n,i){let o=-1,s=new Ane,a=(0,Mr.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Mr.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(Dv.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Mr.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Mr.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Mr.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var E1e;(function(r){function e(t){return[]}r.createAll=e})(E1e=Ga.ProposedFeatures||(Ga.ProposedFeatures={}))});var R1e=E(CB=>{"use strict";Object.defineProperty(CB,"__esModule",{value:!0});CB.terminate=void 0;var P1e=require("child_process"),QDt=require("path"),ZDt=process.platform==="win32",eTt=process.platform==="darwin",tTt=process.platform==="linux";function rTt(r,e){if(ZDt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),P1e.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if(tTt||eTt)try{var t=(0,QDt.join)(__dirname,"terminateProcess.sh"),n=P1e.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}CB.terminate=rTt});var Mne=E((j9t,x1e)=>{"use strict";x1e.exports=qi()});var I1e=E(dg=>{"use strict";var nTt=dg&&dg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nne=dg&&dg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nTt(e,r,t)};Object.defineProperty(dg,"__esModule",{value:!0});dg.DiagnosticPullMode=dg.vsdiag=void 0;Nne(qi(),dg);Nne(Qo(),dg);var O1e=nre();Object.defineProperty(dg,"vsdiag",{enumerable:!0,get:function(){return O1e.vsdiag}});Object.defineProperty(dg,"DiagnosticPullMode",{enumerable:!0,get:function(){return O1e.DiagnosticPullMode}});Nne(Lne(),dg)});var pb=E(rp=>{"use strict";var iTt=rp&&rp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L1e=rp&&rp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iTt(e,r,t)};Object.defineProperty(rp,"__esModule",{value:!0});rp.SettingMonitor=rp.LanguageClient=rp.TransportKind=void 0;var eS=require("child_process"),Fne=require("fs"),qne=require("path"),oD=require("vscode"),yc=yv(),k1e=Lne(),oTt=R1e(),Jc=Mne(),sTt=JS(),aTt=nE();L1e(Mne(),rp);L1e(I1e(),rp);var A1e="^1.67.0",fu;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(fu=rp.TransportKind||(rp.TransportKind={}));var iD;(function(r){function e(t){let n=t;return n&&n.kind===fu.socket&&yc.number(n.port)}r.isSocket=e})(iD||(iD={}));var jne;(function(r){function e(t){return yc.string(t.command)}r.is=e})(jne||(jne={}));var zne;(function(r){function e(t){return yc.string(t.module)}r.is=e})(zne||(zne={}));var Une;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(Une||(Une={}));var Hne;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(Hne||(Hne={}));var Bne=class extends k1e.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;yc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw yc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=sTt(oD.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${oD.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!aTt(e,A1e))throw new Error(`The language client requires VS Code version ${A1e} but received version ${oD.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,oTt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(m=>f[m]=process.env[m]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(m=>f[m]=l[m]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(yc.func(a))return a().then(l=>{if(k1e.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Une.is(l))return this._isDetached=!!l.detached,{reader:new Jc.StreamMessageReader(l.reader),writer:new Jc.StreamMessageWriter(l.writer)};{let d;return Hne.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(yc.string(f)?f:f.toString(e))),{reader:new Jc.StreamMessageReader(d.stdout),writer:new Jc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(zne.is(c)&&c.module){let d=c,f=d.transport||fu.stdio;if(d.runtime){let m=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>m.push(A)),m.push(d.module),d.args&&d.args.forEach(A=>m.push(A));let T=Object.create(null);T.cwd=l,T.env=t(_.env,!1);let x=this._getRuntimePath(d.runtime,l),M;if(f===fu.ipc?(T.stdio=[null,null,null,"ipc"],m.push("--node-ipc")):f===fu.stdio?m.push("--stdio"):f===fu.pipe?(M=(0,Jc.generateRandomPipeName)(),m.push(`--pipe=${M}`)):iD.isSocket(f)&&m.push(`--socket=${f.port}`),m.push(`--clientProcessId=${process.pid.toString()}`),f===fu.ipc||f===fu.stdio){let A=eS.spawn(x,m,T);return!A||!A.pid?jR(A,`Launching server using runtime ${x} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(yc.string(U)?U:U.toString(e))),f===fu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(yc.string(U)?U:U.toString(e))),Promise.resolve({reader:new Jc.IPCMessageReader(A),writer:new Jc.IPCMessageWriter(A)})):Promise.resolve({reader:new Jc.StreamMessageReader(A.stdout),writer:new Jc.StreamMessageWriter(A.stdin)}))}else{if(f===fu.pipe)return(0,Jc.createClientPipeTransport)(M).then(A=>{let U=eS.spawn(x,m,T);return!U||!U.pid?jR(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(iD.isSocket(f))return(0,Jc.createClientSocketTransport)(f.port).then(A=>{let U=eS.spawn(x,m,T);return!U||!U.pid?jR(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let m;return new Promise((_,T)=>{let x=(d.args&&d.args.slice())??[];f===fu.ipc?x.push("--node-ipc"):f===fu.stdio?x.push("--stdio"):f===fu.pipe?(m=(0,Jc.generateRandomPipeName)(),x.push(`--pipe=${m}`)):iD.isSocket(f)&&x.push(`--socket=${f.port}`),x.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===fu.ipc||f===fu.stdio){let A=eS.fork(d.module,x||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(yc.string(U)?U:U.toString(e))),f===fu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(yc.string(U)?U:U.toString(e))),_({reader:new Jc.IPCMessageReader(this._serverProcess),writer:new Jc.IPCMessageWriter(this._serverProcess)})):_({reader:new Jc.StreamMessageReader(A.stdout),writer:new Jc.StreamMessageWriter(A.stdin)})}else f===fu.pipe?(0,Jc.createClientPipeTransport)(m).then(A=>{let U=eS.fork(d.module,x||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},T)},T):iD.isSocket(f)&&(0,Jc.createClientSocketTransport)(f.port).then(A=>{let U=eS.fork(d.module,x||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(yc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},T)},T)})}}else if(jne.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],m,_=c.transport;if(_===fu.stdio)f.push("--stdio");else if(_===fu.pipe)m=(0,Jc.generateRandomPipeName)(),f.push(`--pipe=${m}`);else if(iD.isSocket(_))f.push(`--socket=${_.port}`);else if(_===fu.ipc)throw new Error("Transport kind ipc is not support for command executable");let T=Object.assign({},d.options);if(T.cwd=T.cwd||l,_===void 0||_===fu.stdio){let x=eS.spawn(d.command,f,T);return!x||!x.pid?jR(x,`Launching server using command ${d.command} failed.`):(x.stderr.on("data",M=>this.outputChannel.append(yc.string(M)?M:M.toString(e))),this._serverProcess=x,this._isDetached=!!T.detached,Promise.resolve({reader:new Jc.StreamMessageReader(x.stdout),writer:new Jc.StreamMessageWriter(x.stdin)}))}else{if(_===fu.pipe)return(0,Jc.createClientPipeTransport)(m).then(x=>{let M=eS.spawn(d.command,f,T);return!M||!M.pid?jR(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!T.detached,M.stderr.on("data",A=>this.outputChannel.append(yc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(yc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(iD.isSocket(_))return(0,Jc.createClientSocketTransport)(_.port).then(x=>{let M=eS.spawn(d.command,f,T);return!M||!M.pid?jR(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!T.detached,M.stderr.on("data",A=>this.outputChannel.append(yc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(yc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(qne.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=qne.join(n,e);if(Fne.existsSync(i))return i}if(t!==void 0){let i=qne.join(t,e);if(Fne.existsSync(i))return i}return e}_mainGetRootPath(){let e=oD.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{Fne.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};rp.LanguageClient=Bne;var Wne=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return oD.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new oD.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?oD.workspace.getConfiguration(t).get(n,!1):oD.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};rp.SettingMonitor=Wne;function jR(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var M1e=E(DB=>{"use strict";Object.defineProperty(DB,"__esModule",{value:!0});DB.ColorPresentationContext=void 0;var $ne=class{constructor(e,t){this.uri=e,this.range=t}};DB.ColorPresentationContext=$ne});var N1e=E(TB=>{"use strict";Object.defineProperty(TB,"__esModule",{value:!0});TB.SerializableColorPresentation=void 0;var Vne=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};TB.SerializableColorPresentation=Vne});var j1e=E(zR=>{"use strict";var F1e=zR&&zR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(zR,"__esModule",{value:!0});zR.ColorPresentationHandler=void 0;var Gne=require("vscode"),cTt=pb(),q1e=cL(),uTt=M1e(),lTt=N1e(),EB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new cTt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>F1e(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return F1e(this,void 0,void 0,function*(){try{let n=Gne.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new Gne.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield Gne.commands.executeCommand("vscode.executeColorPresentationProvider",o,new uTt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,q1e.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,q1e.convertTextEditToSerializable)(a);o.push(c)}let s=new lTt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};zR.ColorPresentationHandler=EB;EB.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var sD=E(PB=>{"use strict";var z1e;Object.defineProperty(PB,"__esModule",{value:!0});PB.RazorLanguage=void 0;var mb=class{};PB.RazorLanguage=mb;z1e=mb;mb.id="aspnetcorerazor";mb.fileExtensions=["cshtml","razor"];mb.globbingPattern=`**/*.{${mb.fileExtensions.join(",")}}`;mb.documentSelector={language:z1e.id,pattern:mb.globbingPattern}});var Yne=E(UR=>{"use strict";var U1e=UR&&UR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(UR,"__esModule",{value:!0});UR.RazorCompletionItemProvider=void 0;var aD=require("vscode"),dTt=xy(),fTt=ug(),Kne=class r extends dTt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return U1e(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield aD.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new aD.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,m=f.inserting;if(m){let T=this.offsetColumn(c,t.line,m.start),x=this.offsetColumn(c,t.line,m.end);f.inserting=new aD.Range(T,x)}let _=f.replacing;if(_){let T=this.offsetColumn(c,t.line,_.start),x=this.offsetColumn(c,t.line,_.end);f.replacing=new aD.Range(T,x)}if(f instanceof aD.Range&&f.start&&f.end){let T=this.offsetColumn(c,t.line,f.start),x=this.offsetColumn(c,t.line,f.end);l.range=new aD.Range(T,x)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new aD.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new aD.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return U1e(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,fTt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};UR.RazorCompletionItemProvider=Kne});var B1e=E(HR=>{"use strict";var RB=HR&&HR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HR,"__esModule",{value:!0});HR.ProvisionalCompletionOrchestrator=void 0;var tS=require("vscode"),hTt=sD(),H1e=vv(),pTt=Yne(),Jne=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){tS.window.activeTextEditor&&(this.currentActiveDocument=tS.window.activeTextEditor.document);let e=tS.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=tS.workspace.onDidChangeTextDocument(i=>RB(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=tS.window.onDidChangeActiveTextEditor(i=>RB(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return tS.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return RB(this,void 0,void 0,function*(){if(t.languageKind!==H1e.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new tS.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==H1e.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield tS.workspace.openTextDocument(c.uri)).save();let d=new tS.Position(s.position.line,s.position.character+1),f=yield pTt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return RB(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==hTt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};HR.ProvisionalCompletionOrchestrator=Jne});var $1e=E(BR=>{"use strict";var mTt=BR&&BR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(BR,"__esModule",{value:!0});BR.listenToConfigurationChanges=void 0;var W1e=require("vscode");function gTt(r){return W1e.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&vTt(r)})}BR.listenToConfigurationChanges=gTt;function vTt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";W1e.window.showInformationMessage(e,t).then(n=>mTt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var G1e=E($R=>{"use strict";var JL=$R&&$R.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($R,"__esModule",{value:!0});$R.CSharpPreviewPanel=void 0;var WR=require("vscode"),Xne=Ww(),V1e=ug(),xB=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return JL(this,void 0,void 0,function*(){this.panel?this.panel.reveal(WR.ViewColumn.Two):(this.panel=WR.window.createWebviewPanel(r.viewType,"Razor C# Preview",WR.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return JL(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return JL(this,void 0,void 0,function*(){this.panel&&(e.kind===Xne.RazorDocumentChangeKind.csharpChanged||e.kind===Xne.RazorDocumentChangeKind.opened||e.kind===Xne.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){WR.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>JL(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield WR.env.clipboard.writeText(this.csharpContent),WR.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return JL(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,V1e.getUriPath)(e.uri),n=(0,V1e.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};$R.CSharpPreviewPanel=xB;xB.viewType="razorCSharpPreview"});var IB=E(VR=>{"use strict";var yTt=VR&&VR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(VR,"__esModule",{value:!0});VR.CSharpProjectedDocumentContentProvider=void 0;var Qne=Ww(),K1e=ug(),OB=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return yTt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,K1e.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===Qne.RazorDocumentChangeKind.csharpChanged||e.kind===Qne.RazorDocumentChangeKind.opened||e.kind===Qne.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,K1e.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};VR.CSharpProjectedDocumentContentProvider=OB;OB.scheme="virtualCSharp-razor"});var X1e=E(GR=>{"use strict";var _Tt=GR&&GR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(GR,"__esModule",{value:!0});GR.RazorCSharpFeature=void 0;var XL=require("vscode"),Y1e=G1e(),J1e=IB(),Zne=class{constructor(e,t,n){this.projectionProvider=new J1e.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new Y1e.CSharpPreviewPanel(e)}register(){let e=[XL.workspace.registerTextDocumentContentProvider(J1e.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),XL.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return XL.window.registerWebviewPanelSerializer&&e.push(XL.window.registerWebviewPanelSerializer(Y1e.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>_Tt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),XL.Disposable.from(...e)}};GR.RazorCSharpFeature=Zne});var QL=E(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.getRazorDocumentUri=ol.isRazorHtmlFile=ol.isRazorCSharpFile=ol.backgroundVirtualCSharpSuffix=ol.virtualCSharpSuffix=ol.virtualHtmlSuffix=void 0;var bTt=require("vscode"),eie=ug();ol.virtualHtmlSuffix="__virtual.html";ol.virtualCSharpSuffix="__virtual.cs";ol.backgroundVirtualCSharpSuffix=`__bg${ol.virtualCSharpSuffix}`;function wTt(r){return(0,eie.getUriPath)(r).endsWith(ol.virtualCSharpSuffix)}ol.isRazorCSharpFile=wTt;function STt(r){return(0,eie.getUriPath)(r).endsWith(ol.virtualHtmlSuffix)}ol.isRazorHtmlFile=STt;function CTt(r){let t=(0,eie.getUriPath)(r).replace(ol.backgroundVirtualCSharpSuffix,"");return t=t.replace(ol.virtualCSharpSuffix,""),t=t.replace(ol.virtualHtmlSuffix,""),bTt.Uri.file(t)}ol.getRazorDocumentUri=CTt});var tAe=E(KR=>{"use strict";var DTt=KR&&KR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(KR,"__esModule",{value:!0});KR.RazorDefinitionProvider=void 0;var Q1e=require("vscode"),Z1e=QL(),TTt=xy(),eAe=vv(),tie=class extends TTt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return DTt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===eAe.LanguageKind.Razor)return;let o=yield Q1e.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===eAe.LanguageKind.Html&&(0,Z1e.isRazorHtmlFile)(a.uri)){let c=(0,Z1e.getRazorDocumentUri)(a.uri);s.push(new Q1e.Location(c,a.range))}else s.push(a);return s})}};KR.RazorDefinitionProvider=tie});var rAe=E(kB=>{"use strict";Object.defineProperty(kB,"__esModule",{value:!0});kB.razorExtensionId=void 0;kB.razorExtensionId="ms-dotnettools.csharp"});var nAe=E(YR=>{"use strict";var AB=YR&&YR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(YR,"__esModule",{value:!0});YR.ReportIssueCreator=void 0;var ETt=require("child_process"),rie=require("os"),PTt=rAe(),nie=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return AB(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let m=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(m),i=yield this.getProjectedHtml(m)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(m){s=`A valid dotnet installation could not be found: ${m}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return AB(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return AB(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return AB(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(PTt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${rie.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(rie.EOL);return`
${t}${rie.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{ETt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};YR.ReportIssueCreator=nie});var iAe=E(LB=>{"use strict";Object.defineProperty(LB,"__esModule",{value:!0});LB.ReportIssueDataCollector=void 0;var RTt=require("os"),iie=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(RTt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};LB.ReportIssueDataCollector=iie});var oAe=E(MB=>{"use strict";Object.defineProperty(MB,"__esModule",{value:!0});MB.ReportIssueDataCollectorFactory=void 0;var oie=require("vscode"),xTt=sD(),OTt=iAe(),sie=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new oie.EventEmitter,this.onRazorDocumentFocusedEmitter=new oie.EventEmitter}register(){return oie.window.onDidChangeActiveTextEditor(e=>{e&&xTt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new OTt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};MB.ReportIssueDataCollectorFactory=sie});var eM=E(ZL=>{"use strict";Object.defineProperty(ZL,"__esModule",{value:!0});ZL.Trace=void 0;var ITt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(ITt=ZL.Trace||(ZL.Trace={}))});var sAe=E(JR=>{"use strict";var tM=JR&&JR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(JR,"__esModule",{value:!0});JR.ReportIssuePanel=void 0;var gb=require("vscode"),NB=eM(),FB=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return tM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(gb.ViewColumn.Two):(this.panel=gb.window.createWebviewPanel(r.viewType,"Report Razor Issue",gb.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return tM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){gb.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>tM(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){gb.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield gb.env.clipboard.writeText(this.issueContent),gb.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),gb.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){gb.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),gb.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>tM(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return tM(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===NB.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${NB.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${NB.Trace[NB.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};JR.ReportIssuePanel=FB;FB.viewType="razorReportIssue"});var cAe=E(XR=>{"use strict";var kTt=XR&&XR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(XR,"__esModule",{value:!0});XR.ReportIssueCommand=void 0;var ATt=nAe(),LTt=oAe(),aAe=sAe(),aie=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new LTt.ReportIssueDataCollectorFactory(n),this.issueCreator=new ATt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new aAe.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(aAe.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>kTt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};XR.ReportIssueCommand=aie});var uAe=E(qB=>{"use strict";Object.defineProperty(qB,"__esModule",{value:!0});qB.CSharpProjectedDocument=void 0;var MTt=ug(),cie=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,MTt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};qB.CSharpProjectedDocument=cie});var lAe=E(jB=>{"use strict";Object.defineProperty(jB,"__esModule",{value:!0});jB.HtmlProjectedDocument=void 0;var NTt=ug(),uie=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,NTt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};jB.HtmlProjectedDocument=uie});var HB=E(UB=>{"use strict";Object.defineProperty(UB,"__esModule",{value:!0});UB.HtmlProjectedDocumentContentProvider=void 0;var lie=Ww(),dAe=ug(),zB=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,dAe.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===lie.RazorDocumentChangeKind.htmlChanged||e.kind===lie.RazorDocumentChangeKind.opened||e.kind===lie.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,dAe.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};UB.HtmlProjectedDocumentContentProvider=zB;zB.scheme="razor-html"});var pAe=E(BB=>{"use strict";Object.defineProperty(BB,"__esModule",{value:!0});BB.createDocument=void 0;var fAe=require("vscode"),FTt=uAe(),qTt=IB(),jTt=lAe(),zTt=HB(),hAe=QL(),die=ug();function UTt(r){let e=BTt(r),t=HTt(r),n=(0,die.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}BB.createDocument=UTt;function HTt(r){let t=`${(0,die.getUriPath)(r)}${hAe.virtualHtmlSuffix}`,n=fAe.Uri.file(t);return n=n.with({scheme:zTt.HtmlProjectedDocumentContentProvider.scheme}),new jTt.HtmlProjectedDocument(n)}function BTt(r){let t=`${(0,die.getUriPath)(r)}${hAe.virtualCSharpSuffix}`,n=fAe.Uri.file(t);return n=n.with({scheme:qTt.CSharpProjectedDocumentContentProvider.scheme}),new FTt.CSharpProjectedDocument(n)}});var mAe=E(ZR=>{"use strict";var vb=ZR&&ZR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ZR,"__esModule",{value:!0});ZR.RazorDocumentManager=void 0;var np=require("vscode"),QR=sD(),fie=ug(),d0=Ww(),WTt=pAe(),hie=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new np.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return vb(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return vb(this,void 0,void 0,function*(){return!np.window.activeTextEditor||np.window.activeTextEditor.document.languageId!==QR.RazorLanguage.id?null:yield this.getDocument(np.window.activeTextEditor.document.uri)})}initialize(){return vb(this,void 0,void 0,function*(){let e=yield np.workspace.findFiles(QR.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of np.workspace.textDocuments)t.languageId===QR.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=np.workspace.createFileSystemWatcher(QR.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>vb(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>vb(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=np.workspace.onDidOpenTextDocument(s=>{s.languageId===QR.RazorLanguage.id&&this.openDocument(s.uri)}),o=np.workspace.onDidCloseTextDocument(s=>{s.languageId===QR.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>vb(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>vb(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),np.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,fie.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,d0.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),np.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,d0.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,fie.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,WTt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,d0.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,d0.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return vb(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=np.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,d0.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return vb(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=np.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,d0.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,fie.getUriPath)(e.uri)}' changed '${d0.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return vb(this,void 0,void 0,function*(){yield np.workspace.openTextDocument(e.csharpDocument.uri),yield np.workspace.openTextDocument(e.htmlDocument.uri)})}};ZR.RazorDocumentManager=hie});var vAe=E(ex=>{"use strict";var $Tt=ex&&ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ex,"__esModule",{value:!0});ex.RazorDocumentSynchronizer=void 0;var pie=require("vscode"),VTt=IB(),GTt=HB(),WB=ug(),gAe=Ww(),mie=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=pie.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return pie.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return $Tt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,WB.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield pie.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,WB.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,T)=>{a=_,s.push(T)}),u=Function,l=new Promise((_,T)=>{u=_,s.push(T)});o.onCancellationRequested(_=>{f.cancel(`Token cancellation requested: ${_}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:_=>{for(let T of s)T(_)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},m=this.synchronizations[e];return m||(m=[],this.synchronizations[e]=m),m.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==VTt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==GTt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,WB.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===gAe.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===gAe.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,WB.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};ex.RazorDocumentSynchronizer=mie});var yAe=E($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0});$B.SerializableColorInformation=void 0;var gie=class{constructor(e,t){this.range=e,this.color=t}};$B.SerializableColorInformation=gie});var wAe=E(tx=>{"use strict";var _Ae=tx&&tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tx,"__esModule",{value:!0});tx.DocumentColorHandler=void 0;var bAe=require("vscode"),KTt=pb(),YTt=fR(),JTt=yAe(),VB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new KTt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>_Ae(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return _Ae(this,void 0,void 0,function*(){try{let n=bAe.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield bAe.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,YTt.convertRangeToSerializable)(c.range),l=new JTt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};tx.DocumentColorHandler=VB;VB.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var CAe=E(rx=>{"use strict";var XTt=rx&&rx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(rx,"__esModule",{value:!0});rx.RazorDocumentHighlightProvider=void 0;var SAe=require("vscode"),QTt=xy(),ZTt=vv(),vie=class extends QTt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return XTt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===ZTt.LanguageKind.Razor)return;let o=yield SAe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new SAe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};rx.RazorDocumentHighlightProvider=vie});var DAe=E(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});GB.reportTelemetryForDocuments=void 0;var e0t=Ww();function t0t(r,e){r.onChange(t=>{switch(t.kind){case e0t.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}GB.reportTelemetryForDocuments=t0t});var TAe=E(KB=>{"use strict";Object.defineProperty(KB,"__esModule",{value:!0});KB.SerializableFoldingRangeResponse=void 0;var yie=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};KB.SerializableFoldingRangeResponse=yie});var RAe=E(ix=>{"use strict";var EAe=ix&&ix.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ix,"__esModule",{value:!0});ix.FoldingRangeHandler=void 0;var nx=require("vscode"),YB=pb(),PAe=TAe(),JB=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new YB.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new PAe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>EAe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return EAe(this,void 0,void 0,function*(){try{let n=nx.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield nx.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield nx.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new PAe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===nx.FoldingRangeKind.Comment)return YB.FoldingRangeKind.Comment;if(e===nx.FoldingRangeKind.Imports)return YB.FoldingRangeKind.Imports;if(e===nx.FoldingRangeKind.Region)return YB.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};ix.FoldingRangeHandler=JB;JB.provideFoldingRange="razor/foldingRange"});var xAe=E(XB=>{"use strict";Object.defineProperty(XB,"__esModule",{value:!0});XB.SerializableFormattingResponse=void 0;var _ie=class{constructor(e){this.edits=e}};XB.SerializableFormattingResponse=_ie});var kAe=E(ox=>{"use strict";var OAe=ox&&ox.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ox,"__esModule",{value:!0});ox.FormattingHandler=void 0;var rM=require("vscode"),r0t=pb(),n0t=cL(),IAe=xAe(),QB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new r0t.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new IAe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>OAe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return OAe(this,void 0,void 0,function*(){try{let n=rM.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield rM.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),m=new rM.Position(c,f),_=new rM.Range(l.range.start,m);l=new rM.TextEdit(_,l.newText)}let d=(0,n0t.convertTextEditToSerializable)(l);u.push(d)}return new IAe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};ox.FormattingHandler=QB;QB.provideFormattingEndpoint="textDocument/formatting"});var AAe=E(ZB=>{"use strict";Object.defineProperty(ZB,"__esModule",{value:!0});ZB.RazorFormatOnTypeProvider=void 0;var bie=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};ZB.RazorFormatOnTypeProvider=bie});var LAe=E(eW=>{"use strict";Object.defineProperty(eW,"__esModule",{value:!0});eW.RazorDocumentRangeFormattingResponse=void 0;var wie=class{constructor(e){this.edits=e}};eW.RazorDocumentRangeFormattingResponse=wie});var jAe=E(sx=>{"use strict";var MAe=sx&&sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sx,"__esModule",{value:!0});sx.RazorFormattingFeature=void 0;var NAe=require("vscode"),i0t=pb(),FAe=vv(),o0t=fR(),s0t=cL(),qAe=LAe(),Sie=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new i0t.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new qAe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>MAe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return MAe(this,void 0,void 0,function*(){if(e.kind===FAe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=NAe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===FAe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield NAe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,o0t.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,s0t.convertTextEditToSerializable)(c));return new qAe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};sx.RazorFormattingFeature=Sie});var zAe=E(ax=>{"use strict";var a0t=ax&&ax.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ax,"__esModule",{value:!0});ax.RazorHoverProvider=void 0;var nM=require("vscode"),c0t=xy(),Cie=class extends c0t.RazorLanguageFeatureBase{provideHover(e,t,n){return a0t(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield nM.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new nM.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new nM.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new nM.MarkdownString(d);c.push(f)}return new nM.Hover(c,a.ranges[0])})}};ax.RazorHoverProvider=Cie});var HAe=E(ux=>{"use strict";var iM=ux&&ux.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ux,"__esModule",{value:!0});ux.HtmlPreviewPanel=void 0;var cx=require("vscode"),Die=Ww(),UAe=ug(),tW=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return iM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(cx.ViewColumn.Two):(this.panel=cx.window.createWebviewPanel(r.viewType,"Razor HTML Preview",cx.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return iM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return iM(this,void 0,void 0,function*(){this.panel&&(e.kind===Die.RazorDocumentChangeKind.htmlChanged||e.kind===Die.RazorDocumentChangeKind.opened||e.kind===Die.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){cx.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>iM(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield cx.env.clipboard.writeText(this.htmlContent),cx.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return iM(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,UAe.getUriPath)(e.uri),n=(0,UAe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};ux.HtmlPreviewPanel=tW;tW.viewType="razorHtmlPreview"});var nW=E((E7t,VAe)=>{"use strict";var Tie=Object.defineProperty,u0t=Object.getOwnPropertyDescriptor,l0t=Object.getOwnPropertyNames,d0t=Object.prototype.hasOwnProperty,f0t=(r,e)=>{for(var t in e)Tie(r,t,{get:e[t],enumerable:!0})},h0t=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of l0t(e))!d0t.call(r,i)&&i!==t&&Tie(r,i,{get:()=>e[i],enumerable:!(n=u0t(e,i))||n.enumerable});return r},p0t=r=>h0t(Tie({},"__esModule",{value:!0}),r),WAe={};f0t(WAe,{config:()=>_0t,t:()=>$Ae});VAe.exports=p0t(WAe);var m0t=require("fs"),g0t=require("fs/promises");async function v0t(r){if(r.protocol==="file:")return await(0,g0t.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function y0t(r){return(0,m0t.readFileSync)(r,"utf8")}var oM;function _0t(r){if("contents"in r){typeof r.contents=="string"?oM=JSON.parse(r.contents):oM=r.contents;return}if("fsPath"in r){let e=y0t(r.fsPath),t=JSON.parse(e);oM=BAe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{v0t(e).then(i=>{try{let o=JSON.parse(i);oM=BAe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function $Ae(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return $Ae(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=oM?.[t];return o?typeof o=="string"?rW(o,i):o.comment?rW(o.message,i):rW(n,i):rW(n,i)}var b0t=/{([^}]+)}/g;function rW(r,e){return Object.keys(e).length===0?r:r.replace(b0t,(t,n)=>e[n]??t)}function BAe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var iW,Eie,GAe,oW,Ka,Pi,lx,KAe,sM,sW,aW,f0,cW,Pie,YAe,JAe,XAe,dx,cD,hu,Rie,fx,QAe,xie,Oie,Iie,kie,aM,ZAe,eLe,Aie,tLe,fg,h0,md,cm,uW,lW,dW,rLe,fW,hW,hx,pW,nLe,iLe,p0,mW,px,oLe,mx,sLe,gx,aLe,gW,cLe,uLe,lLe,vW,yW,m0,dLe,fLe,hLe,pLe,mLe,gLe,vLe,Lie,Mie,yLe,_Le,bLe,wLe,SLe,CLe,DLe,TLe,ELe,Nie,pt,PLe=Di(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(iW||(iW={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Eie||(Eie={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(GAe||(GAe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(oW||(oW={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=oW.MAX_VALUE),i===Number.MAX_VALUE&&(i=oW.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.line)&&pt.uinteger(i.character)}r.is=t})(Ka||(Ka={}));(function(r){function e(n,i,o,s){if(pt.uinteger(n)&&pt.uinteger(i)&&pt.uinteger(o)&&pt.uinteger(s))return{start:Ka.create(n,i),end:Ka.create(o,s)};if(Ka.is(n)&&Ka.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ka.is(i.start)&&Ka.is(i.end)}r.is=t})(Pi||(Pi={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(pt.string(i.uri)||pt.undefined(i.uri))}r.is=t})(lx||(lx={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.targetRange)&&pt.string(i.targetUri)&&Pi.is(i.targetSelectionRange)&&(Pi.is(i.originSelectionRange)||pt.undefined(i.originSelectionRange))}r.is=t})(KAe||(KAe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.numberRange(i.red,0,1)&&pt.numberRange(i.green,0,1)&&pt.numberRange(i.blue,0,1)&&pt.numberRange(i.alpha,0,1)}r.is=t})(sM||(sM={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&sM.is(i.color)}r.is=t})(sW||(sW={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.undefined(i.textEdit)||hu.is(i))&&(pt.undefined(i.additionalTextEdits)||pt.typedArray(i.additionalTextEdits,hu.is))}r.is=t})(aW||(aW={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(f0||(f0={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return pt.defined(o)&&(u.startCharacter=o),pt.defined(s)&&(u.endCharacter=s),pt.defined(a)&&(u.kind=a),pt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.startLine)&&pt.uinteger(i.startLine)&&(pt.undefined(i.startCharacter)||pt.uinteger(i.startCharacter))&&(pt.undefined(i.endCharacter)||pt.uinteger(i.endCharacter))&&(pt.undefined(i.kind)||pt.string(i.kind))}r.is=t})(cW||(cW={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&lx.is(i.location)&&pt.string(i.message)}r.is=t})(Pie||(Pie={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(YAe||(YAe={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(JAe||(JAe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&pt.string(n.href)}r.is=e})(XAe||(XAe={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return pt.defined(o)&&(u.severity=o),pt.defined(s)&&(u.code=s),pt.defined(a)&&(u.source=a),pt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return pt.defined(o)&&Pi.is(o.range)&&pt.string(o.message)&&(pt.number(o.severity)||pt.undefined(o.severity))&&(pt.integer(o.code)||pt.string(o.code)||pt.undefined(o.code))&&(pt.undefined(o.codeDescription)||pt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(pt.string(o.source)||pt.undefined(o.source))&&(pt.undefined(o.relatedInformation)||pt.typedArray(o.relatedInformation,Pie.is))}r.is=t})(dx||(dx={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return pt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.title)&&pt.string(i.command)}r.is=t})(cD||(cD={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return pt.objectLiteral(s)&&pt.string(s.newText)&&Pi.is(s.range)}r.is=i})(hu||(hu={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pt.string(i.description)||i.description===void 0)}r.is=t})(Rie||(Rie={}));(function(r){function e(t){let n=t;return pt.string(n)}r.is=e})(fx||(fx={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return hu.is(s)&&(Rie.is(s.annotationId)||fx.is(s.annotationId))}r.is=i})(QAe||(QAe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Aie.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(xie||(xie={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&pt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||fx.is(i.annotationId))}r.is=t})(Oie||(Oie={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&pt.string(i.oldUri)&&pt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||fx.is(i.annotationId))}r.is=t})(Iie||(Iie={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&pt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||fx.is(i.annotationId))}r.is=t})(kie||(kie={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>pt.string(i.kind)?Oie.is(i)||Iie.is(i)||kie.is(i):xie.is(i)))}r.is=e})(aM||(aM={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)}r.is=t})(ZAe||(ZAe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.integer(i.version)}r.is=t})(eLe||(eLe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&(i.version===null||pt.integer(i.version))}r.is=t})(Aie||(Aie={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.string(i.languageId)&&pt.integer(i.version)&&pt.string(i.text)}r.is=t})(tLe||(tLe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(fg||(fg={}));(function(r){function e(t){let n=t;return pt.objectLiteral(t)&&fg.is(n.kind)&&pt.string(n.value)}r.is=e})(h0||(h0={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(md||(md={}));(function(r){r.PlainText=1,r.Snippet=2})(cm||(cm={}));(function(r){r.Deprecated=1})(uW||(uW={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&pt.string(i.newText)&&Pi.is(i.insert)&&Pi.is(i.replace)}r.is=t})(lW||(lW={}));(function(r){r.asIs=1,r.adjustIndentation=2})(dW||(dW={}));(function(r){function e(t){let n=t;return n&&(pt.string(n.detail)||n.detail===void 0)&&(pt.string(n.description)||n.description===void 0)}r.is=e})(rLe||(rLe={}));(function(r){function e(t){return{label:t}}r.create=e})(fW||(fW={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(hW||(hW={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return pt.string(i)||pt.objectLiteral(i)&&pt.string(i.language)&&pt.string(i.value)}r.is=t})(hx||(hx={}));(function(r){function e(t){let n=t;return!!n&&pt.objectLiteral(n)&&(h0.is(n.contents)||hx.is(n.contents)||pt.typedArray(n.contents,hx.is))&&(t.range===void 0||Pi.is(t.range))}r.is=e})(pW||(pW={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(nLe||(nLe={}));(function(r){function e(t,n,...i){let o={label:t};return pt.defined(n)&&(o.documentation=n),pt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(iLe||(iLe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(p0||(p0={}));(function(r){function e(t,n){let i={range:t};return pt.number(n)&&(i.kind=n),i}r.create=e})(mW||(mW={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(px||(px={}));(function(r){r.Deprecated=1})(oLe||(oLe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(mx||(mx={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(sLe||(sLe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&pt.string(i.name)&&pt.number(i.kind)&&Pi.is(i.range)&&Pi.is(i.selectionRange)&&(i.detail===void 0||pt.string(i.detail))&&(i.deprecated===void 0||pt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(gx||(gx={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(aLe||(aLe={}));(function(r){r.Invoked=1,r.Automatic=2})(gW||(gW={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.typedArray(i.diagnostics,dx.is)&&(i.only===void 0||pt.typedArray(i.only,pt.string))&&(i.triggerKind===void 0||i.triggerKind===gW.Invoked||i.triggerKind===gW.Automatic)}r.is=t})(cLe||(cLe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):cD.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&pt.string(i.title)&&(i.diagnostics===void 0||pt.typedArray(i.diagnostics,dx.is))&&(i.kind===void 0||pt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||cD.is(i.command))&&(i.isPreferred===void 0||pt.boolean(i.isPreferred))&&(i.edit===void 0||aM.is(i.edit))}r.is=t})(uLe||(uLe={}));(function(r){function e(n,i){let o={range:n};return pt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.command)||cD.is(i.command))}r.is=t})(lLe||(lLe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.uinteger(i.tabSize)&&pt.boolean(i.insertSpaces)}r.is=t})(vW||(vW={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.target)||pt.string(i.target))}r.is=t})(yW||(yW={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(m0||(m0={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(dLe||(dLe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(fLe||(fLe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(hLe||(hLe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.string(i.text)}r.is=t})(pLe||(pLe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.boolean(i.caseSensitiveLookup)&&(pt.string(i.variableName)||i.variableName===void 0)}r.is=t})(mLe||(mLe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&(pt.string(i.expression)||i.expression===void 0)}r.is=t})(gLe||(gLe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(n.stoppedLocation)}r.is=t})(vLe||(vLe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Lie||(Lie={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&(i.tooltip===void 0||pt.string(i.tooltip)||h0.is(i.tooltip))&&(i.location===void 0||lx.is(i.location))&&(i.command===void 0||cD.is(i.command))}r.is=t})(Mie||(Mie={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ka.is(i.position)&&(pt.string(i.label)||pt.typedArray(i.label,Mie.is))&&(i.kind===void 0||Lie.is(i.kind))&&i.textEdits===void 0||pt.typedArray(i.textEdits,hu.is)&&(i.tooltip===void 0||pt.string(i.tooltip)||h0.is(i.tooltip))&&(i.paddingLeft===void 0||pt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pt.boolean(i.paddingRight))}r.is=t})(yLe||(yLe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(_Le||(_Le={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(bLe||(bLe={}));(function(r){function e(t){return{items:t}}r.create=e})(wLe||(wLe={}));(function(r){r.Invoked=0,r.Automatic=1})(SLe||(SLe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(CLe||(CLe={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(DLe||(DLe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&Eie.is(n.uri)&&pt.string(n.name)}r.is=e})(TLe||(TLe={}));(function(r){function e(o,s,a,c){return new Nie(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(pt.defined(s)&&pt.string(s.uri)&&(pt.undefined(s.languageId)||pt.string(s.languageId))&&pt.uinteger(s.lineCount)&&pt.func(s.getText)&&pt.func(s.positionAt)&&pt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),m=o.offsetAt(d.range.end);if(m<=u)a=a.substring(0,f)+d.newText+a.substring(m,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(ELe||(ELe={}));Nie=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return Ka.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return Ka.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(m){return typeof m<"u"}r.defined=t;function n(m){return typeof m>"u"}r.undefined=n;function i(m){return m===!0||m===!1}r.boolean=i;function o(m){return e.call(m)==="[object String]"}r.string=o;function s(m){return e.call(m)==="[object Number]"}r.number=s;function a(m,_,T){return e.call(m)==="[object Number]"&&_<=m&&m<=T}r.numberRange=a;function c(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}r.integer=c;function u(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}r.uinteger=u;function l(m){return e.call(m)==="[object Function]"}r.func=l;function d(m){return m!==null&&typeof m=="object"}r.objectLiteral=d;function f(m,_){return Array.isArray(m)&&m.every(_)}r.typedArray=f})(pt||(pt={}))});var ILe={};eI(ILe,{TextDocument:()=>g0});function Fie(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);Fie(n,e),Fie(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function RLe(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);xLe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function xLe(r){return r===13||r===10}function OLe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function w0t(r){let e=OLe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var _W,g0,bW=Di(()=>{"use strict";_W=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=OLe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=RLe(n.text,!1,o);if(c-a===l.length)for(let f=0,m=l.length;f<m;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,m=u.length;f<m;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=RLe(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&xLe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new _W(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof _W)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=Fie(o.map(w0t),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(g0||(g0={}))});var Xt,Yn,qie,cM,um=Di(()=>{PLe();bW();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Xt||(Xt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Yn||(Yn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[fg.Markdown,fg.PlainText]}},hover:{contentFormat:[fg.Markdown,fg.PlainText]}}}})(qie||(qie={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(cM||(cM={}))});function Mu(r,e=0,t=Yn.WithinContent,n=!1){let i=new zie(r,e),o=t,s=0,a=Xt.Unknown,c,u,l,d,f;function m(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function _(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function T(A,U,ne){return a=U,s=A,c=ne,U}function x(){let A=i.pos(),U=o,ne=M();return ne!==Xt.EOS&&A===i.pos()&&!(n&&(ne===Xt.StartTagClose||ne===Xt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+A+", state before: "+U+" after: "+o),i.advance(1),T(A,Xt.Unknown)):ne}function M(){let A=i.pos();if(i.eos())return T(A,Xt.EOS);let U;switch(o){case Yn.WithinComment:return i.advanceIfChars([vx,vx,yb])?(o=Yn.WithinContent,T(A,Xt.EndCommentTag)):(i.advanceUntilChars([vx,vx,yb]),T(A,Xt.Comment));case Yn.WithinDoctype:return i.advanceIfChar(yb)?(o=Yn.WithinContent,T(A,Xt.EndDoctypeTag)):(i.advanceUntilChar(yb),T(A,Xt.Doctype));case Yn.WithinContent:if(i.advanceIfChar(wW)){if(!i.eos()&&i.peekChar()===kLe){if(i.advanceIfChars([kLe,vx,vx]))return o=Yn.WithinComment,T(A,Xt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Yn.WithinDoctype,T(A,Xt.StartDoctypeTag)}return i.advanceIfChar(jie)?(o=Yn.AfterOpeningEndTag,T(A,Xt.EndTagOpen)):(o=Yn.AfterOpeningStartTag,T(A,Xt.StartTagOpen))}return i.advanceUntilChar(wW),T(A,Xt.Content);case Yn.AfterOpeningEndTag:return m().length>0?(o=Yn.WithinEndTag,T(A,Xt.EndTag)):i.skipWhitespace()?T(A,Xt.Whitespace,rS.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinEndTag,i.advanceUntilChar(yb),A<i.pos()?T(A,Xt.Unknown,rS.t("End tag name expected.")):M());case Yn.WithinEndTag:if(i.skipWhitespace())return T(A,Xt.Whitespace);if(i.advanceIfChar(yb))return o=Yn.WithinContent,T(A,Xt.EndTagClose);if(n&&i.peekChar()===wW)return o=Yn.WithinContent,T(A,Xt.EndTagClose,rS.t("Closing bracket missing."));U=rS.t("Closing bracket expected.");break;case Yn.AfterOpeningStartTag:return l=m(),f=void 0,d=void 0,l.length>0?(u=!1,o=Yn.WithinTag,T(A,Xt.StartTag)):i.skipWhitespace()?T(A,Xt.Whitespace,rS.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinTag,i.advanceUntilChar(yb),A<i.pos()?T(A,Xt.Unknown,rS.t("Start tag name expected.")):M());case Yn.WithinTag:return i.skipWhitespace()?(u=!0,T(A,Xt.Whitespace)):u&&(d=_(),d.length>0)?(o=Yn.AfterAttributeName,u=!1,T(A,Xt.AttributeName)):i.advanceIfChars([jie,yb])?(o=Yn.WithinContent,T(A,Xt.StartTagSelfClose)):i.advanceIfChar(yb)?(l==="script"?f&&O0t[f]?o=Yn.WithinContent:o=Yn.WithinScriptContent:l==="style"?o=Yn.WithinStyleContent:o=Yn.WithinContent,T(A,Xt.StartTagClose)):n&&i.peekChar()===wW?(o=Yn.WithinContent,T(A,Xt.StartTagClose,rS.t("Closing bracket missing."))):(i.advance(1),T(A,Xt.Unknown,rS.t("Unexpected character in tag.")));case Yn.AfterAttributeName:return i.skipWhitespace()?(u=!0,T(A,Xt.Whitespace)):i.advanceIfChar(S0t)?(o=Yn.BeforeAttributeValue,T(A,Xt.DelimiterAssign)):(o=Yn.WithinTag,M());case Yn.BeforeAttributeValue:if(i.skipWhitespace())return T(A,Xt.Whitespace);let de=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(de.length>0&&(i.peekChar()===yb&&i.peekChar(-1)===jie&&(i.goBack(1),de=de.substring(0,de.length-1)),d==="type"&&(f=de),de.length>0))return o=Yn.WithinTag,u=!1,T(A,Xt.AttributeValue);let ye=i.peekChar();return ye===D0t||ye===C0t?(i.advance(1),i.advanceUntilChar(ye)&&i.advance(1),d==="type"&&(f=i.getSource().substring(A+1,i.pos()-1)),o=Yn.WithinTag,u=!1,T(A,Xt.AttributeValue)):(o=Yn.WithinTag,u=!1,M());case Yn.WithinScriptContent:let V=1;for(;!i.eos();){let W=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if(W.length===0)return i.goToEnd(),T(A,Xt.Script);if(W==="<!--")V===1&&(V=2);else if(W==="-->")V=1;else if(W[1]!=="/")V===2&&(V=3);else if(V===3)V=2;else{i.goBack(W.length);break}}return o=Yn.WithinContent,A<i.pos()?T(A,Xt.Script):M();case Yn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Yn.WithinContent,A<i.pos()?T(A,Xt.Styles):M()}return i.advance(1),o=Yn.WithinContent,T(A,Xt.Unknown,U)}return{scan:x,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var rS,zie,kLe,vx,wW,yb,jie,S0t,C0t,D0t,T0t,E0t,P0t,R0t,x0t,O0t,nS=Di(()=>{rS=be(nW());um();zie=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===R0t||t===x0t||t===T0t||t===P0t||t===E0t)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},kLe=33,vx=45,wW=60,yb=62,jie=47,S0t=61,C0t=34,D0t=39,T0t=10,E0t=13,P0t=12,R0t=32,x0t=9,O0t={"text/x-handlebars-template":!0,"text/html":!0}});function Uie(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function ALe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var Hie=Di(()=>{});var SW,CW,LLe=Di(()=>{nS();Hie();um();SW=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=Uie(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=Uie(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},CW=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=Mu(e,void 0,void 0,!0),i=new SW(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Xt.EOS;){switch(u){case Xt.StartTagOpen:let l=new SW(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Xt.StartTag:o.tag=n.getTokenText();break;case Xt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Xt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Xt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Xt.EndTag:a=n.getTokenText().toLowerCase();break;case Xt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Xt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Xt.AttributeValue:{let f=n.getTokenText(),m=o.attributes;m&&c&&(m[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var v0,Bie=Di(()=>{v0={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function zy(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function MLe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function Wie(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function y0(r,e){let t=r.charCodeAt(e);return k0t<=t&&t<=A0t||L0t<=t&&t<=M0t||N0t<=t&&t<=F0t}var k0t,A0t,L0t,M0t,N0t,F0t,yx=Di(()=>{k0t=97,A0t=122,L0t=65,M0t=90,N0t=48,F0t=57});function _x(r){return typeof r<"u"}var $ie=Di(()=>{});function NLe(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var FLe=Di(()=>{});function iS(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=NLe(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var bx,uM=Di(()=>{FLe();bx=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function z0t(r){return zy(r,"'")||zy(r,'"')?r.slice(1,-1):r}function U0t(r){return!(zy(r,"http")||zy(r,"https")||zy(r,"//"))}function H0t(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=W0t(t,1,-1);else{let o=e.slice(i+1),s=lM(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=lM(s,a):c=lM(t.end,-1),n=Pi.create(s,c)}return n}function B0t(r,e,t){return e?(r=r+"/",{label:r,kind:md.Folder,textEdit:hu.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:md.File,textEdit:hu.replace(t,r)}}function lM(r,e){return Ka.create(r.line,r.character+e)}function W0t(r,e,t){let n=lM(r.start,e),i=lM(r.end,t);return Pi.create(n,i)}var DW,j0t,qLe=Di(()=>{um();yx();DW=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=z0t(e.getText(i.range));if(U0t(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=H0t(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==j0t&&a.push(B0t(u,l===cM.Directory,t));return a}catch{}return[]}},j0t=46});function $0t(r){return/^["']*$/.test(r)}function EW(r){return/^\s*$/.test(r)}function jLe(r,e,t,n){let i=Mu(r,e,t),o=i.scan();for(;o===Xt.Whitespace;)o=i.scan();return o===n}function V0t(r,e,t){for(;e>t&&!EW(r[e-1]);)e--;return e}function G0t(r,e,t){for(;e<t&&!EW(r[e]);)e++;return e}var zLe,TW,ULe=Di(()=>{nS();um();Bie();zLe=be(nW());yx();$ie();uM();qLe();TW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new DW(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(ue=>ue.isApplicable(e.languageId)&&(!i||i[ue.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=Mu(u,d.start),m="",_,T;function x(ue,De=l){return ue>l&&(ue=l),{start:e.positionAt(ue),end:e.positionAt(De)}}function M(ue,De){let we=x(ue,De);return a.forEach(xe=>{xe.provideTags().forEach(Me=>{o.items.push({label:Me.name,kind:md.Property,documentation:iS(Me,void 0,c),textEdit:hu.replace(we,Me.name),insertTextFormat:cm.PlainText})})}),o}function A(ue){let De=ue;for(;De>0;){let we=u.charAt(De-1);if(`
\r`.indexOf(we)>=0)return u.substring(De,ue);if(!EW(we))return null;De--}return u.substring(0,ue)}function U(ue,De,we=l){let xe=x(ue,we),Me=jLe(u,we,Yn.WithinEndTag,Xt.EndTagClose)?"":">",$e=d;for(De&&($e=$e.parent);$e;){let Ct=$e.tag;if(Ct&&(!$e.closed||$e.endTagStart&&$e.endTagStart>l)){let ze={label:"/"+Ct,kind:md.Property,filterText:"/"+Ct,textEdit:hu.replace(xe,"/"+Ct+Me),insertTextFormat:cm.PlainText},st=A($e.start),at=A(ue-1);if(st!==null&&at!==null&&st!==at){let tt=st+"</"+Ct+Me;ze.textEdit=hu.replace(x(ue-1-at.length),tt),ze.filterText=at+"</"+Ct}return o.items.push(ze),o}$e=$e.parent}return De||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:md.Property,documentation:iS(ze,void 0,c),filterText:"/"+ze.name+Me,textEdit:hu.replace(xe,"/"+ze.name+Me),insertTextFormat:cm.PlainText})})}),o}let ne=(ue,De)=>{if(i&&i.hideAutoCompleteProposals)return o;if(T??(T=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(De,T)){let we=e.positionAt(ue);o.items.push({label:"</"+De+">",kind:md.Property,filterText:"</"+De+">",textEdit:hu.insert(we,"$0</"+De+">"),insertTextFormat:cm.Snippet})}return o};function de(ue,De){return M(ue,De),U(ue,!0,De),o}function ye(){let ue=Object.create(null);return d.attributeNames.forEach(De=>{ue[De]=!0}),ue}function V(ue,De=l){let we=l;for(;we<De&&u[we]!=="<";)we++;let xe=u.substring(ue,De),Me=x(ue,we),$e="";if(!jLe(u,De,Yn.AfterAttributeName,Xt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?$e="=$1":ze==="singlequotes"?$e="='$1'":$e='="$1"'}let Ct=ye();return Ct[xe]=!1,a.forEach(ze=>{ze.provideAttributes(m).forEach(st=>{if(Ct[st.name])return;Ct[st.name]=!0;let at=st.name,tt;st.valueSet!=="v"&&$e.length&&(at=at+$e,(st.valueSet||st.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:st.name,kind:st.valueSet==="handler"?md.Function:md.Value,documentation:iS(st,void 0,c),textEdit:hu.replace(Me,at),insertTextFormat:cm.Snippet,command:tt})})}),W(Me,Ct),o}function W(ue,De){let we="data-",xe={};xe[we]=`${we}$1="$2"`;function Me($e){$e.attributeNames.forEach(Ct=>{zy(Ct,we)&&!xe[Ct]&&!De[Ct]&&(xe[Ct]=Ct+'="$1"')}),$e.children.forEach(Ct=>Me(Ct))}n&&n.roots.forEach($e=>Me($e)),Object.keys(xe).forEach($e=>o.items.push({label:$e,kind:md.Value,textEdit:hu.replace(ue,xe[$e]),insertTextFormat:cm.Snippet}))}function ee(ue,De=l){let we,xe,Me;if(l>ue&&l<=De&&$0t(u[ue])){let $e=ue+1,Ct=De;De>ue&&u[De-1]===u[ue]&&Ct--;let ze=V0t(u,l,$e),st=G0t(u,l,Ct);we=x(ze,st),Me=l>=$e&&l<=Ct?u.substring($e,l):"",xe=!1}else we=x(ue,De),Me=u.substring(ue,l),xe=!0;if(s.length>0){let $e=m.toLowerCase(),Ct=_.toLowerCase(),ze=x(ue,De);for(let st of s)st.onHtmlAttributeValue&&st.onHtmlAttributeValue({document:e,position:t,tag:$e,attribute:Ct,value:Me,range:ze})}return a.forEach($e=>{$e.provideValues(m,_).forEach(Ct=>{let ze=xe?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:md.Unit,documentation:iS(Ct,void 0,c),textEdit:hu.replace(we,ze),insertTextFormat:cm.PlainText})})}),ce(),o}function Se(ue){return l===f.getTokenEnd()&&(Ne=f.scan(),Ne===ue&&f.getTokenOffset()===l)?f.getTokenEnd():l}function se(){for(let ue of s)ue.onHtmlContent&&ue.onHtmlContent({document:e,position:t});return ce()}function ce(){let ue=l-1,De=t.character;for(;ue>=0&&y0(u,ue);)ue--,De--;if(ue>=0&&u[ue]==="&"){let we=Pi.create(Ka.create(t.line,De-1),t);for(let xe in v0)if(MLe(xe,";")){let Me="&"+xe;o.items.push({label:Me,kind:md.Keyword,documentation:zLe.t("Character entity representing '{0}'",v0[xe]),textEdit:hu.replace(we,Me),insertTextFormat:cm.PlainText})}}return o}function qe(ue,De){let we=x(ue,De);o.items.push({label:"!DOCTYPE",kind:md.Property,documentation:"A preamble for an HTML document.",textEdit:hu.replace(we,"!DOCTYPE html>"),insertTextFormat:cm.PlainText})}let Ne=f.scan();for(;Ne!==Xt.EOS&&f.getTokenOffset()<=l;){switch(Ne){case Xt.StartTagOpen:if(f.getTokenEnd()===l){let ue=Se(Xt.StartTag);return t.line===0&&qe(l,ue),de(l,ue)}break;case Xt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return M(f.getTokenOffset(),f.getTokenEnd());m=f.getTokenText();break;case Xt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return V(f.getTokenOffset(),f.getTokenEnd());_=f.getTokenText();break;case Xt.DelimiterAssign:if(f.getTokenEnd()===l){let ue=Se(Xt.AttributeValue);return ee(l,ue)}break;case Xt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return ee(f.getTokenOffset(),f.getTokenEnd());break;case Xt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Yn.AfterOpeningStartTag:let ue=f.getTokenOffset(),De=Se(Xt.StartTag);return de(ue,De);case Yn.WithinTag:case Yn.AfterAttributeName:return V(f.getTokenEnd());case Yn.BeforeAttributeValue:return ee(f.getTokenEnd());case Yn.AfterOpeningEndTag:return U(f.getTokenOffset()-1,!1);case Yn.WithinContent:return se()}break;case Xt.EndTagOpen:if(l<=f.getTokenEnd()){let ue=f.getTokenOffset()+1,De=Se(Xt.EndTag);return U(ue,!1,De)}break;case Xt.EndTag:if(l<=f.getTokenEnd()){let ue=f.getTokenOffset()-1;for(;ue>=0;){let De=u.charAt(ue);if(De==="/")return U(ue,!1,f.getTokenEnd());if(!EW(De))break;ue--}}break;case Xt.StartTagClose:if(l<=f.getTokenEnd()&&m)return ne(f.getTokenEnd(),m);break;case Xt.Content:if(l<=f.getTokenEnd())return se();break;default:if(l<=f.getTokenEnd())return o;break}Ne=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=Mu(e.getText(),u.start),d=l.scan();for(;d!==Xt.EOS&&l.getTokenEnd()<=o;){if(d===Xt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Xt.DelimiterAssign||(d=l.scan(),d===Xt.Unknown||d===Xt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=Mu(e.getText(),s.start),u=c.scan();for(;u!==Xt.EOS&&c.getTokenEnd()<=i;){if(u===Xt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=Mu(e.getText(),s.start),c=a.scan();for(;c!==Xt.EOS&&a.getTokenEnd()<=i;){if(c===Xt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!_x(this.supportsMarkdown)){if(!_x(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(fg.Markdown)!==-1}return this.supportsMarkdown}}});function K0t(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var HLe,PW,BLe=Di(()=>{nS();um();$ie();uM();Bie();yx();HLe=be(nW()),PW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter(V=>V.isApplicable(e.languageId));function d(V,W,ee){for(let Se of l){let se=null;if(Se.provideTags().forEach(ce=>{if(ce.name.toLowerCase()===V.toLowerCase()){let qe=iS(ce,i,s);qe||(qe={kind:s?"markdown":"plaintext",value:""}),se={contents:qe,range:W}}}),se)return se.contents=o(se.contents),se}return null}function f(V,W,ee){for(let Se of l){let se=null;if(Se.provideAttributes(V).forEach(ce=>{if(W===ce.name&&ce.description){let qe=iS(ce,i,s);qe?se={contents:qe,range:ee}:se=null}}),se)return se.contents=o(se.contents),se}return null}function m(V,W,ee,Se){for(let se of l){let ce=null;if(se.provideValues(V,W).forEach(qe=>{if(ee===qe.name&&qe.description){let Ne=iS(qe,i,s);Ne?ce={contents:Ne,range:Se}:ce=null}}),ce)return ce.contents=o(ce.contents),ce}return null}function _(V,W){let ee=M(V);for(let Se in v0){let se=null,ce="&"+Se;if(ee===ce){let qe=v0[Se].charCodeAt(0).toString(16).toUpperCase(),Ne="U+";if(qe.length<4){let De=4-qe.length,we=0;for(;we<De;)Ne+="0",we+=1}Ne+=qe;let ue=HLe.t("Character entity representing '{0}', unicode equivalent '{1}'",v0[Se],Ne);ue?se={contents:ue,range:W}:se=null}if(se)return se.contents=o(se.contents),se}return null}function T(V,W){let ee=Mu(e.getText(),W),Se=ee.scan();for(;Se!==Xt.EOS&&(ee.getTokenEnd()<a||ee.getTokenEnd()===a&&Se!==V);)Se=ee.scan();return Se===V&&a<=ee.getTokenEnd()?{start:e.positionAt(ee.getTokenOffset()),end:e.positionAt(ee.getTokenEnd())}:null}function x(){let V=a-1,W=t.character;for(;V>=0&&y0(u,V);)V--,W--;let ee=V+1,Se=W;for(;y0(u,ee);)ee++,Se++;if(V>=0&&u[V]==="&"){let se=null;return u[ee]===";"?se=Pi.create(Ka.create(t.line,W),Ka.create(t.line,Se+1)):se=Pi.create(Ka.create(t.line,W),Ka.create(t.line,Se)),se}return null}function M(V){let W=a-1,ee="&";for(;W>=0&&y0(V,W);)W--;for(W=W+1;y0(V,W);)ee+=V[W],W+=1;return ee+=";",ee}if(c.endTagStart&&a>=c.endTagStart){let V=T(Xt.EndTag,c.endTagStart);return V?d(c.tag,V,!1):null}let A=T(Xt.StartTag,c.start);if(A)return d(c.tag,A,!0);let U=T(Xt.AttributeName,c.start);if(U){let V=c.tag,W=e.getText(U);return f(V,W,U)}let ne=x();if(ne)return _(u,ne);function de(V,W){let ee=Mu(e.getText(),V),Se=ee.scan(),se;for(;Se!==Xt.EOS&&ee.getTokenEnd()<=W;)Se=ee.scan(),Se===Xt.AttributeName&&(se=ee.getTokenText());return se}let ye=T(Xt.AttributeValue,c.start);if(ye){let V=c.tag,W=K0t(e.getText(ye)),ee=de(c.start,e.offsetAt(ye.start));if(ee)return m(V,ee,W,ye)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!_x(this.supportsMarkdown)){if(!_x(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(fg.Markdown)!==-1}return this.supportsMarkdown}}});function WLe(r,e){return r}var $Le=Di(()=>{});var VLe,GLe,KLe=Di(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,m=/\r\n|[\r\n]/g,_=/\s/,T=/(?:\s|\n)+/g,x=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,M=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function A(U,ne){this._source_text=U||"",this._options=new a(ne),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}A.prototype.eatString=function(U){var ne="";for(this._ch=this._input.next();this._ch;){if(ne+=this._ch,this._ch==="\\")ne+=this._input.next();else if(U.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return ne},A.prototype.eatWhitespace=function(U){for(var ne=_.test(this._input.peek()),de=0;_.test(this._input.peek());)this._ch=this._input.next(),U&&this._ch===`
`&&(de===0||de<this._options.max_preserve_newlines)&&(de++,this._output.add_new_line(!0));return ne},A.prototype.foundNestedPseudoClass=function(){for(var U=0,ne=1,de=this._input.peek(ne);de;){if(de==="{")return!0;if(de==="(")U+=1;else if(de===")"){if(U===0)return!1;U-=1}else if(de===";"||de==="}")return!1;ne++,de=this._input.peek(ne)}return!1},A.prototype.print_string=function(U){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(U)},A.prototype.preserveSingleSpace=function(U){U&&(this._output.space_before_token=!0)},A.prototype.indent=function(){this._indentLevel++},A.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U=this._source_text,ne=this._options.eol;ne==="auto"&&(ne=`
`,U&&f.test(U||"")&&(ne=U.match(f)[0])),U=U.replace(m,`
`);var de=U.match(/^[\t ]*/)[0];this._output=new c(this._options,de),this._input=new u(U),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var ye=0,V=!1,W=!1,ee=!1,Se=!1,se=!1,ce=this._ch,qe=!1,Ne,ue,De;Ne=this._input.read(T),ue=Ne!=="",De=ce,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ce=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var we=this._input.read(x),xe=d.get_directives(we);xe&&xe.ignore==="start"&&(we+=d.readIgnored(this._input)),this.print_string(we),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(M)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ue),this.print_string(this._ch);var Me=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Me.match(/[ :]$/)&&(Me=this.eatString(": ").replace(/\s+$/,""),this.print_string(Me),this._output.space_before_token=!0),ye===0&&Me.indexOf(":")!==-1&&(W=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ue),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $e=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$e.match(/[ :]$/)&&($e=this.eatString(": ").replace(/\s+$/,""),this.print_string($e),this._output.space_before_token=!0),ye===0&&$e.indexOf(":")!==-1?(W=!0,this.indent()):$e in this.NESTED_AT_RULE?(this._nestedLevel+=1,$e in this.CONDITIONAL_GROUP_RULE&&(ee=!0)):ye===0&&!W&&(Se=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ue),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")W&&(W=!1,this.outdent()),Se=!1,ee?(ee=!1,V=this._indentLevel>=this._nestedLevel):V=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&V&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(De==="("?this._output.space_before_token=!1:De!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),De==="{"&&this._output.trim(!0),W&&(this.outdent(),W=!1),this.print_string(this._ch),V=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){qe=!0;break}(V||ee)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!Se&&ye===0?(this.print_string(":"),W||(W=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=De==='"'||De==="'";this.preserveSingleSpace(ze||ue),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")qe=!1,ye===0?(W&&(this.outdent(),W=!1),Se=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),ye++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),ye&&(ye--,this.outdent()));else{var st=!1;this._input.lookBack("with")&&(st=!0),this.preserveSingleSpace(ue||st),this.print_string(this._ch),W&&De==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),se=!0):(this.eatWhitespace(),ye++,this.indent())}else if(this._ch===")")ye&&(ye--,this.outdent()),se&&this._input.peek()===";"&&this._options.selector_separator_newline&&(se=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!W||se)&&ye===0&&!Se?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!W&&ye===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&_.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ue),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),_.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var at=De==='"'||De==="'";this.preserveSingleSpace(at||ue),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&qe&&this._output.add_new_line()}var tt=this._output.get_code(ne);return tt},i.exports.Beautifier=A},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);VLe=n})();GLe=VLe});function JLe(r,e){return YLe(r,e,WLe,GLe)}var YLe,XLe=Di(()=>{$Le();KLe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(m,_){this._input=new a(m),this._options=_||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var m,_=new c(d.START,""),T=null,x=[],M=new u;_.type!==d.EOF;){for(m=this._get_next_token(_,T);this._is_comment(m);)M.add(m),m=this._get_next_token(_,T);M.isEmpty()||(m.comments_before=M,M=new u),m.parent=T,this._is_opening(m)?(x.push(T),T=m):T&&this._is_closing(m,T)&&(m.opened=T,T.closed=m,T=x.pop(),m.parent=T),m.previous=_,_.next=m,this.__tokens.add(m),_=m}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(m,_){this._readWhitespace();var T=this._input.read(/.+/g);return T?this._create_token(d.RAW,T):this._create_token(d.EOF,"")},f.prototype._is_comment=function(m){return!1},f.prototype._is_opening=function(m){return!1},f.prototype._is_closing=function(m,_){return!1},f.prototype._create_token=function(m,_){var T=new c(m,_,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return T},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],m=u.exec(l);m;)f.push(l.substring(d,m.index)),d=m.index+m[0].length,m=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,m){var _=new a(l,d,f,m);return _.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,m=function(V,W){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=V.max_preserve_newlines,this.preserve_newlines=V.preserve_newlines,this._output=new c(V,W)};m.prototype.current_line_has_match=function(V){return this._output.current_line.has_match(V)},m.prototype.set_space_before_token=function(V,W){this._output.space_before_token=V,this._output.non_breaking_space=W},m.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},m.prototype.add_raw_token=function(V){this._output.add_raw_token(V)},m.prototype.print_preserved_newlines=function(V){var W=0;V.type!==l.TEXT&&V.previous.type!==l.TEXT&&(W=V.newlines?1:0),this.preserve_newlines&&(W=V.newlines<this.max_preserve_newlines+1?V.newlines:this.max_preserve_newlines+1);for(var ee=0;ee<W;ee++)this.print_newline(ee>0);return W!==0},m.prototype.traverse_whitespace=function(V){return V.whitespace_before||V.newlines?(this.print_preserved_newlines(V)||(this._output.space_before_token=!0),!0):!1},m.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},m.prototype.print_newline=function(V){this._output.add_new_line(V)},m.prototype.print_token=function(V){V.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(V.text))},m.prototype.indent=function(){this.indent_level++},m.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},m.prototype.get_full_indent=function(V){return V=this.indent_level+(V||0),V<1?"":this._output.get_indent_string(V)};var _=function(V){for(var W=null,ee=V.next;ee.type!==l.EOF&&V.closed!==ee;){if(ee.type===l.ATTRIBUTE&&ee.text==="type"){ee.next&&ee.next.type===l.EQUALS&&ee.next.next&&ee.next.next.type===l.VALUE&&(W=ee.next.next.text);break}ee=ee.next}return W},T=function(V,W){var ee=null,Se=null;return W.closed?(V==="script"?ee="text/javascript":V==="style"&&(ee="text/css"),ee=_(W)||ee,ee.search("text/css")>-1?Se="css":ee.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?Se="javascript":ee.search(/(text|application|dojo)\/(x-)?(html)/)>-1?Se="html":ee.search(/test\/null/)>-1&&(Se="null"),Se):null};function x(V,W){return W.indexOf(V)!==-1}function M(V,W,ee){this.parent=V||null,this.tag=W?W.tag_name:"",this.indent_level=ee||0,this.parser_token=W||null}function A(V){this._printer=V,this._current_frame=null}A.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},A.prototype.record_tag=function(V){var W=new M(this._current_frame,V,this._printer.indent_level);this._current_frame=W},A.prototype._try_pop_frame=function(V){var W=null;return V&&(W=V.parser_token,this._printer.indent_level=V.indent_level,this._current_frame=V.parent),W},A.prototype._get_frame=function(V,W){for(var ee=this._current_frame;ee&&V.indexOf(ee.tag)===-1;){if(W&&W.indexOf(ee.tag)!==-1){ee=null;break}ee=ee.parent}return ee},A.prototype.try_pop=function(V,W){var ee=this._get_frame([V],W);return this._try_pop_frame(ee)},A.prototype.indent_to_tag=function(V){var W=this._get_frame(V);W&&(this._printer.indent_level=W.indent_level)};function U(V,W,ee,Se){this._source_text=V||"",W=W||{},this._js_beautify=ee,this._css_beautify=Se,this._tag_stack=null;var se=new a(W,"html");this._options=se,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var V=this._source_text,W=this._options.eol;this._options.eol==="auto"&&(W=`
`,V&&d.test(V)&&(W=V.match(d)[0])),V=V.replace(f,`
`);var ee=V.match(/^[\t ]*/)[0],Se={text:"",type:""},se=new ne,ce=new m(this._options,ee),qe=new u(V,this._options).tokenize();this._tag_stack=new A(ce);for(var Ne=null,ue=qe.next();ue.type!==l.EOF;)ue.type===l.TAG_OPEN||ue.type===l.COMMENT?(Ne=this._handle_tag_open(ce,ue,se,Se,qe),se=Ne):ue.type===l.ATTRIBUTE||ue.type===l.EQUALS||ue.type===l.VALUE||ue.type===l.TEXT&&!se.tag_complete?Ne=this._handle_inside_tag(ce,ue,se,Se):ue.type===l.TAG_CLOSE?Ne=this._handle_tag_close(ce,ue,se):ue.type===l.TEXT?Ne=this._handle_text(ce,ue,se):ue.type===l.CONTROL_FLOW_OPEN?Ne=this._handle_control_flow_open(ce,ue):ue.type===l.CONTROL_FLOW_CLOSE?Ne=this._handle_control_flow_close(ce,ue):ce.add_raw_token(ue),Se=Ne,ue=qe.next();var De=ce._output.get_code(W);return De},U.prototype._handle_control_flow_open=function(V,W){var ee={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),V.indent(),ee},U.prototype._handle_control_flow_close=function(V,W){var ee={text:W.text,type:W.type};return V.deindent(),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),ee},U.prototype._handle_tag_close=function(V,W,ee){var Se={text:W.text,type:W.type};return V.alignment_size=0,ee.tag_complete=!0,V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token(W):(ee.tag_start_char==="<"&&(V.set_space_before_token(W.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&ee.has_wrapped_attrs&&V.print_newline(!1)),V.print_token(W)),ee.indent_content&&!(ee.is_unformatted||ee.is_content_unformatted)&&(V.indent(),ee.indent_content=!1),!ee.is_inline_element&&!(ee.is_unformatted||ee.is_content_unformatted)&&V.set_wrap_point(),Se},U.prototype._handle_inside_tag=function(V,W,ee,Se){var se=ee.has_wrapped_attrs,ce={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token(W):ee.tag_start_char==="{"&&W.type===l.TEXT?V.print_preserved_newlines(W)?(W.newlines=0,V.add_raw_token(W)):V.print_token(W):(W.type===l.ATTRIBUTE?V.set_space_before_token(!0):(W.type===l.EQUALS||W.type===l.VALUE&&W.previous.type===l.EQUALS)&&V.set_space_before_token(!1),W.type===l.ATTRIBUTE&&ee.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(V.traverse_whitespace(W),se=se||W.newlines!==0),this._is_wrap_attributes_force&&ee.attr_count>=this._options.wrap_attributes_min_attrs&&(Se.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(V.print_newline(!1),se=!0)),V.print_token(W),se=se||V.previous_token_wrapped(),ee.has_wrapped_attrs=se),ce},U.prototype._handle_text=function(V,W,ee){var Se={text:W.text,type:"TK_CONTENT"};return ee.custom_beautifier_name?this._print_custom_beatifier_text(V,W,ee):ee.is_unformatted||ee.is_content_unformatted?V.add_raw_token(W):(V.traverse_whitespace(W),V.print_token(W)),Se},U.prototype._print_custom_beatifier_text=function(V,W,ee){var Se=this;if(W.text!==""){var se=W.text,ce,qe=1,Ne="",ue="";ee.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ce=this._js_beautify:ee.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ce=this._css_beautify:ee.custom_beautifier_name==="html"&&(ce=function(Ct,ze){var st=new U(Ct,ze,Se._js_beautify,Se._css_beautify);return st.beautify()}),this._options.indent_scripts==="keep"?qe=0:this._options.indent_scripts==="separate"&&(qe=-V.indent_level);var De=V.get_full_indent(qe);if(se=se.replace(/\n[ \t]*$/,""),ee.custom_beautifier_name!=="html"&&se[0]==="<"&&se.match(/^(<!--|<!\[CDATA\[)/)){var we=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(se);if(!we){V.add_raw_token(W);return}Ne=De+we[1]+`
`,se=we[4],we[5]&&(ue=De+we[5]),se=se.replace(/\n[ \t]*$/,""),(we[2]||we[3].indexOf(`
`)!==-1)&&(we=we[3].match(/[ \t]+$/),we&&(W.whitespace_before=we[0]))}if(se)if(ce){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Me=new xe;se=ce(De+se,Me)}else{var $e=W.whitespace_before;$e&&(se=se.replace(new RegExp(`
(`+$e+")?","g"),`
`)),se=De+se.replace(/\n/g,`
`+De)}Ne&&(se?se=Ne+se+`
`+ue:se=Ne+ue),V.print_newline(!1),se&&(W.text=se,W.whitespace_before="",W.newlines=0,V.add_raw_token(W),V.print_newline(!0))}},U.prototype._handle_tag_open=function(V,W,ee,Se,se){var ce=this._get_tag_open_token(W);if((ee.is_unformatted||ee.is_content_unformatted)&&!ee.is_empty_element&&W.type===l.TAG_OPEN&&!ce.is_start_tag?(V.add_raw_token(W),ce.start_tag_token=this._tag_stack.try_pop(ce.tag_name)):(V.traverse_whitespace(W),this._set_tag_position(V,W,ce,ee,Se),ce.is_inline_element||V.set_wrap_point(),V.print_token(W)),ce.is_start_tag&&this._is_wrap_attributes_force){var qe=0,Ne;do Ne=se.peek(qe),Ne.type===l.ATTRIBUTE&&(ce.attr_count+=1),qe+=1;while(Ne.type!==l.EOF&&Ne.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ce.alignment_size=W.text.length+1),!ce.tag_complete&&!ce.is_unformatted&&(V.alignment_size=ce.alignment_size),ce};var ne=function(V,W){if(this.parent=V||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!W)this.tag_complete=!0;else{var ee;this.tag_start_char=W.text[0],this.text=W.text,this.tag_start_char==="<"?(ee=W.text.match(/^<([^\s>]*)/),this.tag_check=ee?ee[1]:""):(ee=W.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=ee?ee[1]:"",(W.text.startsWith("{{#>")||W.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&W.next!==null?this.tag_check=W.next.text.split(" ")[0]:this.tag_check=W.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),W.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||W.closed&&W.closed.text==="/>";var Se=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(Se=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(Se)))}};U.prototype._get_tag_open_token=function(V){var W=new ne(this._tag_stack.get_parser_token(),V);return W.alignment_size=this._options.wrap_attributes_indent_size,W.is_end_tag=W.is_end_tag||x(W.tag_check,this._options.void_elements),W.is_empty_element=W.tag_complete||W.is_start_tag&&W.is_end_tag,W.is_unformatted=!W.tag_complete&&x(W.tag_check,this._options.unformatted),W.is_content_unformatted=!W.is_empty_element&&x(W.tag_check,this._options.content_unformatted),W.is_inline_element=x(W.tag_name,this._options.inline)||this._options.inline_custom_elements&&W.tag_name.includes("-")||W.tag_start_char==="{",W},U.prototype._set_tag_position=function(V,W,ee,Se,se){if(ee.is_empty_element||(ee.is_end_tag?ee.start_tag_token=this._tag_stack.try_pop(ee.tag_name):(this._do_optional_end_element(ee)&&(ee.is_inline_element||V.print_newline(!1)),this._tag_stack.record_tag(ee),(ee.tag_name==="script"||ee.tag_name==="style")&&!(ee.is_unformatted||ee.is_content_unformatted)&&(ee.custom_beautifier_name=T(ee.tag_check,W)))),x(ee.tag_check,this._options.extra_liners)&&(V.print_newline(!1),V._output.just_added_blankline()||V.print_newline(!0)),ee.is_empty_element){if(ee.tag_start_char==="{"&&ee.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),ee.indent_content=!0;var ce=V.current_line_has_match(/{{#if/);ce||V.print_newline(!1)}ee.tag_name==="!--"&&se.type===l.TAG_CLOSE&&Se.is_end_tag&&ee.text.indexOf(`
`)===-1||(ee.is_inline_element||ee.is_unformatted||V.print_newline(!1),this._calcluate_parent_multiline(V,ee))}else if(ee.is_end_tag){var qe=!1;qe=ee.start_tag_token&&ee.start_tag_token.multiline_content,qe=qe||!ee.is_inline_element&&!(Se.is_inline_element||Se.is_unformatted)&&!(se.type===l.TAG_CLOSE&&ee.start_tag_token===Se)&&se.type!=="TK_CONTENT",(ee.is_content_unformatted||ee.is_unformatted)&&(qe=!1),qe&&V.print_newline(!1)}else ee.indent_content=!ee.custom_beautifier_name,ee.tag_start_char==="<"&&(ee.tag_name==="html"?ee.indent_content=this._options.indent_inner_html:ee.tag_name==="head"?ee.indent_content=this._options.indent_head_inner_html:ee.tag_name==="body"&&(ee.indent_content=this._options.indent_body_inner_html)),!(ee.is_inline_element||ee.is_unformatted)&&(se.type!=="TK_CONTENT"||ee.is_content_unformatted)&&V.print_newline(!1),this._calcluate_parent_multiline(V,ee)},U.prototype._calcluate_parent_multiline=function(V,W){W.parent&&V._output.just_added_newline()&&!((W.is_inline_element||W.is_unformatted)&&W.parent.is_inline_element)&&(W.parent.multiline_content=!0)};var de=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ye=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(V){var W=null;if(!(V.is_empty_element||!V.is_start_tag||!V.parent)){if(V.tag_name==="body")W=W||this._tag_stack.try_pop("head");else if(V.tag_name==="li")W=W||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(V.tag_name==="dd"||V.tag_name==="dt")W=W||this._tag_stack.try_pop("dt",["dl"]),W=W||this._tag_stack.try_pop("dd",["dl"]);else if(V.parent.tag_name==="p"&&de.indexOf(V.tag_name)!==-1){var ee=V.parent.parent;(!ee||ye.indexOf(ee.tag_name)===-1)&&(W=W||this._tag_stack.try_pop("p"))}else V.tag_name==="rp"||V.tag_name==="rt"?(W=W||this._tag_stack.try_pop("rt",["ruby","rtc"]),W=W||this._tag_stack.try_pop("rp",["ruby","rtc"])):V.tag_name==="optgroup"?W=W||this._tag_stack.try_pop("optgroup",["select"]):V.tag_name==="option"?W=W||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):V.tag_name==="colgroup"?W=W||this._tag_stack.try_pop("caption",["table"]):V.tag_name==="thead"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"])):V.tag_name==="tbody"||V.tag_name==="tfoot"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("thead",["table"]),W=W||this._tag_stack.try_pop("tbody",["table"])):V.tag_name==="tr"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(V.tag_name==="th"||V.tag_name==="td")&&(W=W||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),W=W||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return V.parent=this._tag_stack.get_parser_token(),W}},i.exports.Beautifier=U},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},m=new u(/<\!--/,/-->/),_=function(T,x){a.call(this,T,x),this._current_tag_name="";var M=new l(this._input).read_options(this._options),A=new d(this._input);if(this.__patterns={word:M.until(/[\n\r\t <]/),word_control_flow_close_excluded:M.until(/[\n\r\t <}]/),single_quote:M.until_after(/'/),double_quote:M.until_after(/"/),attribute:M.until(/[\n\r\t =>]|\/>/),element_name:M.until(/[\n\r\t >\/]/),angular_control_flow_start:A.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),handlebars_open:A.until(/[\n\r\t }]/),handlebars_raw_close:A.until(/}}/),comment:A.starting_with(/<!--/).until_after(/-->/),cdata:A.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:A.starting_with(/<!\[/).until_after(/]>/),processing:A.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var U=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=A.matching(U).until_after(U)}};_.prototype=new a,_.prototype._is_comment=function(T){return!1},_.prototype._is_opening=function(T){return T.type===f.TAG_OPEN||T.type===f.CONTROL_FLOW_OPEN},_.prototype._is_closing=function(T,x){return T.type===f.TAG_CLOSE&&x&&((T.text===">"||T.text==="/>")&&x.text[0]==="<"||T.text==="}}"&&x.text[0]==="{"&&x.text[1]==="{")||T.type===f.CONTROL_FLOW_CLOSE&&T.text==="}"&&x.text.endsWith("{")},_.prototype._reset=function(){this._current_tag_name=""},_.prototype._get_next_token=function(T,x){var M=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(f.EOF,""):(M=M||this._read_open_handlebars(A,x),M=M||this._read_attribute(A,T,x),M=M||this._read_close(A,x),M=M||this._read_control_flows(A,x),M=M||this._read_raw_content(A,T,x),M=M||this._read_content_word(A,x),M=M||this._read_comment_or_cdata(A),M=M||this._read_processing(A),M=M||this._read_open(A,x),M=M||this._create_token(f.UNKNOWN,this._input.next()),M)},_.prototype._read_comment_or_cdata=function(T){var x=null,M=null,A=null;if(T==="<"){var U=this._input.peek(1);U==="!"&&(M=this.__patterns.comment.read(),M?(A=m.get_directives(M),A&&A.ignore==="start"&&(M+=m.readIgnored(this._input))):M=this.__patterns.cdata.read()),M&&(x=this._create_token(f.COMMENT,M),x.directives=A)}return x},_.prototype._read_processing=function(T){var x=null,M=null,A=null;if(T==="<"){var U=this._input.peek(1);(U==="!"||U==="?")&&(M=this.__patterns.conditional_comment.read(),M=M||this.__patterns.processing.read()),M&&(x=this._create_token(f.COMMENT,M),x.directives=A)}return x},_.prototype._read_open=function(T,x){var M=null,A=null;return(!x||x.type===f.CONTROL_FLOW_OPEN)&&T==="<"&&(M=this._input.next(),this._input.peek()==="/"&&(M+=this._input.next()),M+=this.__patterns.element_name.read(),A=this._create_token(f.TAG_OPEN,M)),A},_.prototype._read_open_handlebars=function(T,x){var M=null,A=null;return(!x||x.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&T==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(M=this.__patterns.handlebars_comment.read(),M=M||this.__patterns.handlebars.read(),A=this._create_token(f.COMMENT,M)):(M=this.__patterns.handlebars_open.read(),A=this._create_token(f.TAG_OPEN,M))),A},_.prototype._read_control_flows=function(T,x){var M="",A=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return A;if(T==="@"){if(M=this.__patterns.angular_control_flow_start.read(),M==="")return A;for(var U=M.endsWith("(")?1:0,ne=0;!(M.endsWith("{")&&U===ne);){var de=this._input.next();if(de===null)break;de==="("?U++:de===")"&&ne++,M+=de}A=this._create_token(f.CONTROL_FLOW_OPEN,M)}else T==="}"&&x&&x.type===f.CONTROL_FLOW_OPEN&&(M=this._input.next(),A=this._create_token(f.CONTROL_FLOW_CLOSE,M));return A},_.prototype._read_close=function(T,x){var M=null,A=null;return x&&x.type===f.TAG_OPEN&&(x.text[0]==="<"&&(T===">"||T==="/"&&this._input.peek(1)===">")?(M=this._input.next(),T==="/"&&(M+=this._input.next()),A=this._create_token(f.TAG_CLOSE,M)):x.text[0]==="{"&&T==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),A=this._create_token(f.TAG_CLOSE,"}}"))),A},_.prototype._read_attribute=function(T,x,M){var A=null,U="";if(M&&M.text[0]==="<")if(T==="=")A=this._create_token(f.EQUALS,this._input.next());else if(T==='"'||T==="'"){var ne=this._input.next();T==='"'?ne+=this.__patterns.double_quote.read():ne+=this.__patterns.single_quote.read(),A=this._create_token(f.VALUE,ne)}else U=this.__patterns.attribute.read(),U&&(x.type===f.EQUALS?A=this._create_token(f.VALUE,U):A=this._create_token(f.ATTRIBUTE,U));return A},_.prototype._is_content_unformatted=function(T){return this._options.void_elements.indexOf(T)===-1&&(this._options.content_unformatted.indexOf(T)!==-1||this._options.unformatted.indexOf(T)!==-1)},_.prototype._read_raw_content=function(T,x,M){var A="";if(M&&M.text[0]==="{")A=this.__patterns.handlebars_raw_close.read();else if(x.type===f.TAG_CLOSE&&x.opened.text[0]==="<"&&x.text[0]!=="/"){var U=x.opened.text.substr(1).toLowerCase();if(U==="script"||U==="style"){var ne=this._read_comment_or_cdata(T);if(ne)return ne.type=f.TEXT,ne;A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(U)&&(A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig")))}return A?this._create_token(f.TEXT,A):null},_.prototype._read_content_word=function(T,x){var M="";if(this._options.unformatted_content_delimiter&&T===this._options.unformatted_content_delimiter[0]&&(M=this.__patterns.unformatted_content_delimiter.read()),M||(M=x&&x.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),M)return this._create_token(f.TEXT,M)},i.exports.Tokenizer=_,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);YLe=n})()});function eMe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&ZLe(n,l-1);)l--;l===0||QLe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&ZLe(n,f);)f++;(f===n.length||QLe(n,f))&&(d=f),e=Pi.create(r.positionAt(u),r.positionAt(d));let m=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(m))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let _=r.offsetAt(Ka.create(e.start.line,0));o=X0t(r.getText(),_,t)}}else e=Pi.create(Ka.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:hg(t,"indentEmptyLines",!1),wrap_line_length:hg(t,"wrapLineLength",120),unformatted:Vie(t,"unformatted",void 0),content_unformatted:Vie(t,"contentUnformatted",void 0),indent_inner_html:hg(t,"indentInnerHtml",!1),preserve_newlines:hg(t,"preserveNewLines",!0),max_preserve_newlines:hg(t,"maxPreserveNewLines",32786),indent_handlebars:hg(t,"indentHandlebars",!1),end_with_newline:i&&hg(t,"endWithNewline",!1),extra_liners:Vie(t,"extraLiners",void 0),wrap_attributes:hg(t,"wrapAttributes","auto"),wrap_attributes_indent_size:hg(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:hg(t,"indentScripts","normal"),templating:J0t(t,"all"),unformatted_content_delimiter:hg(t,"unformattedContentDelimiter","")},c=JLe(Y0t(n),a);if(o>0){let u=t.insertSpaces?Wie(" ",s*o):Wie("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function Y0t(r){return r.replace(/^\s+/,"")}function hg(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function Vie(r,e,t){let n=hg(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function J0t(r,e){let t=hg(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function X0t(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function QLe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function ZLe(r,e){return" 	".indexOf(r.charAt(e))!==-1}var tMe=Di(()=>{um();XLe();yx()});var rMe,nMe,mYt,iMe=Di(()=>{(()=>{"use strict";var r={975:se=>{function ce(ue){if(typeof ue!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ue))}function qe(ue,De){for(var we,xe="",Me=0,$e=-1,Ct=0,ze=0;ze<=ue.length;++ze){if(ze<ue.length)we=ue.charCodeAt(ze);else{if(we===47)break;we=47}if(we===47){if(!($e===ze-1||Ct===1))if($e!==ze-1&&Ct===2){if(xe.length<2||Me!==2||xe.charCodeAt(xe.length-1)!==46||xe.charCodeAt(xe.length-2)!==46){if(xe.length>2){var st=xe.lastIndexOf("/");if(st!==xe.length-1){st===-1?(xe="",Me=0):Me=(xe=xe.slice(0,st)).length-1-xe.lastIndexOf("/"),$e=ze,Ct=0;continue}}else if(xe.length===2||xe.length===1){xe="",Me=0,$e=ze,Ct=0;continue}}De&&(xe.length>0?xe+="/..":xe="..",Me=2)}else xe.length>0?xe+="/"+ue.slice($e+1,ze):xe=ue.slice($e+1,ze),Me=ze-$e-1;$e=ze,Ct=0}else we===46&&Ct!==-1?++Ct:Ct=-1}return xe}var Ne={resolve:function(){for(var ue,De="",we=!1,xe=arguments.length-1;xe>=-1&&!we;xe--){var Me;xe>=0?Me=arguments[xe]:(ue===void 0&&(ue=process.cwd()),Me=ue),ce(Me),Me.length!==0&&(De=Me+"/"+De,we=Me.charCodeAt(0)===47)}return De=qe(De,!we),we?De.length>0?"/"+De:"/":De.length>0?De:"."},normalize:function(ue){if(ce(ue),ue.length===0)return".";var De=ue.charCodeAt(0)===47,we=ue.charCodeAt(ue.length-1)===47;return(ue=qe(ue,!De)).length!==0||De||(ue="."),ue.length>0&&we&&(ue+="/"),De?"/"+ue:ue},isAbsolute:function(ue){return ce(ue),ue.length>0&&ue.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ue,De=0;De<arguments.length;++De){var we=arguments[De];ce(we),we.length>0&&(ue===void 0?ue=we:ue+="/"+we)}return ue===void 0?".":Ne.normalize(ue)},relative:function(ue,De){if(ce(ue),ce(De),ue===De||(ue=Ne.resolve(ue))===(De=Ne.resolve(De)))return"";for(var we=1;we<ue.length&&ue.charCodeAt(we)===47;++we);for(var xe=ue.length,Me=xe-we,$e=1;$e<De.length&&De.charCodeAt($e)===47;++$e);for(var Ct=De.length-$e,ze=Me<Ct?Me:Ct,st=-1,at=0;at<=ze;++at){if(at===ze){if(Ct>ze){if(De.charCodeAt($e+at)===47)return De.slice($e+at+1);if(at===0)return De.slice($e+at)}else Me>ze&&(ue.charCodeAt(we+at)===47?st=at:at===0&&(st=0));break}var tt=ue.charCodeAt(we+at);if(tt!==De.charCodeAt($e+at))break;tt===47&&(st=at)}var fr="";for(at=we+st+1;at<=xe;++at)at!==xe&&ue.charCodeAt(at)!==47||(fr.length===0?fr+="..":fr+="/..");return fr.length>0?fr+De.slice($e+st):($e+=st,De.charCodeAt($e)===47&&++$e,De.slice($e))},_makeLong:function(ue){return ue},dirname:function(ue){if(ce(ue),ue.length===0)return".";for(var De=ue.charCodeAt(0),we=De===47,xe=-1,Me=!0,$e=ue.length-1;$e>=1;--$e)if((De=ue.charCodeAt($e))===47){if(!Me){xe=$e;break}}else Me=!1;return xe===-1?we?"/":".":we&&xe===1?"//":ue.slice(0,xe)},basename:function(ue,De){if(De!==void 0&&typeof De!="string")throw new TypeError('"ext" argument must be a string');ce(ue);var we,xe=0,Me=-1,$e=!0;if(De!==void 0&&De.length>0&&De.length<=ue.length){if(De.length===ue.length&&De===ue)return"";var Ct=De.length-1,ze=-1;for(we=ue.length-1;we>=0;--we){var st=ue.charCodeAt(we);if(st===47){if(!$e){xe=we+1;break}}else ze===-1&&($e=!1,ze=we+1),Ct>=0&&(st===De.charCodeAt(Ct)?--Ct==-1&&(Me=we):(Ct=-1,Me=ze))}return xe===Me?Me=ze:Me===-1&&(Me=ue.length),ue.slice(xe,Me)}for(we=ue.length-1;we>=0;--we)if(ue.charCodeAt(we)===47){if(!$e){xe=we+1;break}}else Me===-1&&($e=!1,Me=we+1);return Me===-1?"":ue.slice(xe,Me)},extname:function(ue){ce(ue);for(var De=-1,we=0,xe=-1,Me=!0,$e=0,Ct=ue.length-1;Ct>=0;--Ct){var ze=ue.charCodeAt(Ct);if(ze!==47)xe===-1&&(Me=!1,xe=Ct+1),ze===46?De===-1?De=Ct:$e!==1&&($e=1):De!==-1&&($e=-1);else if(!Me){we=Ct+1;break}}return De===-1||xe===-1||$e===0||$e===1&&De===xe-1&&De===we+1?"":ue.slice(De,xe)},format:function(ue){if(ue===null||typeof ue!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ue);return function(De,we){var xe=we.dir||we.root,Me=we.base||(we.name||"")+(we.ext||"");return xe?xe===we.root?xe+Me:xe+"/"+Me:Me}(0,ue)},parse:function(ue){ce(ue);var De={root:"",dir:"",base:"",ext:"",name:""};if(ue.length===0)return De;var we,xe=ue.charCodeAt(0),Me=xe===47;Me?(De.root="/",we=1):we=0;for(var $e=-1,Ct=0,ze=-1,st=!0,at=ue.length-1,tt=0;at>=we;--at)if((xe=ue.charCodeAt(at))!==47)ze===-1&&(st=!1,ze=at+1),xe===46?$e===-1?$e=at:tt!==1&&(tt=1):$e!==-1&&(tt=-1);else if(!st){Ct=at+1;break}return $e===-1||ze===-1||tt===0||tt===1&&$e===ze-1&&$e===Ct+1?ze!==-1&&(De.base=De.name=Ct===0&&Me?ue.slice(1,ze):ue.slice(Ct,ze)):(Ct===0&&Me?(De.name=ue.slice(1,$e),De.base=ue.slice(1,ze)):(De.name=ue.slice(Ct,$e),De.base=ue.slice(Ct,ze)),De.ext=ue.slice($e,ze)),Ct>0?De.dir=ue.slice(0,Ct-1):Me&&(De.dir="/"),De},sep:"/",delimiter:":",win32:null,posix:null};Ne.posix=Ne,se.exports=Ne}},e={};function t(se){var ce=e[se];if(ce!==void 0)return ce.exports;var qe=e[se]={exports:{}};return r[se](qe,qe.exports,t),qe.exports}t.d=(se,ce)=>{for(var qe in ce)t.o(ce,qe)&&!t.o(se,qe)&&Object.defineProperty(se,qe,{enumerable:!0,get:ce[qe]})},t.o=(se,ce)=>Object.prototype.hasOwnProperty.call(se,ce),t.r=se=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(se,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>Se}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(se,ce){if(!se.scheme&&ce)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${se.authority}", path: "${se.path}", query: "${se.query}", fragment: "${se.fragment}"}`);if(se.scheme&&!o.test(se.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(se.path){if(se.authority){if(!s.test(se.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(se.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ce){return ce instanceof f||!!ce&&typeof ce.authority=="string"&&typeof ce.fragment=="string"&&typeof ce.path=="string"&&typeof ce.query=="string"&&typeof ce.scheme=="string"&&typeof ce.fsPath=="string"&&typeof ce.with=="function"&&typeof ce.toString=="function"}scheme;authority;path;query;fragment;constructor(ce,qe,Ne,ue,De,we=!1){typeof ce=="object"?(this.scheme=ce.scheme||u,this.authority=ce.authority||u,this.path=ce.path||u,this.query=ce.query||u,this.fragment=ce.fragment||u):(this.scheme=function(xe,Me){return xe||Me?xe:"file"}(ce,we),this.authority=qe||u,this.path=function(xe,Me){switch(xe){case"https":case"http":case"file":Me?Me[0]!==l&&(Me=l+Me):Me=l}return Me}(this.scheme,Ne||u),this.query=ue||u,this.fragment=De||u,c(this,we))}get fsPath(){return A(this,!1)}with(ce){if(!ce)return this;let{scheme:qe,authority:Ne,path:ue,query:De,fragment:we}=ce;return qe===void 0?qe=this.scheme:qe===null&&(qe=u),Ne===void 0?Ne=this.authority:Ne===null&&(Ne=u),ue===void 0?ue=this.path:ue===null&&(ue=u),De===void 0?De=this.query:De===null&&(De=u),we===void 0?we=this.fragment:we===null&&(we=u),qe===this.scheme&&Ne===this.authority&&ue===this.path&&De===this.query&&we===this.fragment?this:new _(qe,Ne,ue,De,we)}static parse(ce,qe=!1){let Ne=d.exec(ce);return Ne?new _(Ne[2]||u,ye(Ne[4]||u),ye(Ne[5]||u),ye(Ne[7]||u),ye(Ne[9]||u),qe):new _(u,u,u,u,u)}static file(ce){let qe=u;if(i&&(ce=ce.replace(/\\/g,l)),ce[0]===l&&ce[1]===l){let Ne=ce.indexOf(l,2);Ne===-1?(qe=ce.substring(2),ce=l):(qe=ce.substring(2,Ne),ce=ce.substring(Ne)||l)}return new _("file",qe,ce,u,u)}static from(ce){let qe=new _(ce.scheme,ce.authority,ce.path,ce.query,ce.fragment);return c(qe,!0),qe}toString(ce=!1){return U(this,ce)}toJSON(){return this}static revive(ce){if(ce){if(ce instanceof f)return ce;{let qe=new _(ce);return qe._formatted=ce.external,qe._fsPath=ce._sep===m?ce.fsPath:null,qe}}return ce}}let m=i?1:void 0;class _ extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(ce=!1){return ce?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){let ce={$mid:1};return this._fsPath&&(ce.fsPath=this._fsPath,ce._sep=m),this._formatted&&(ce.external=this._formatted),this.path&&(ce.path=this.path),this.scheme&&(ce.scheme=this.scheme),this.authority&&(ce.authority=this.authority),this.query&&(ce.query=this.query),this.fragment&&(ce.fragment=this.fragment),ce}}let T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(se,ce,qe){let Ne,ue=-1;for(let De=0;De<se.length;De++){let we=se.charCodeAt(De);if(we>=97&&we<=122||we>=65&&we<=90||we>=48&&we<=57||we===45||we===46||we===95||we===126||ce&&we===47||qe&&we===91||qe&&we===93||qe&&we===58)ue!==-1&&(Ne+=encodeURIComponent(se.substring(ue,De)),ue=-1),Ne!==void 0&&(Ne+=se.charAt(De));else{Ne===void 0&&(Ne=se.substr(0,De));let xe=T[we];xe!==void 0?(ue!==-1&&(Ne+=encodeURIComponent(se.substring(ue,De)),ue=-1),Ne+=xe):ue===-1&&(ue=De)}}return ue!==-1&&(Ne+=encodeURIComponent(se.substring(ue))),Ne!==void 0?Ne:se}function M(se){let ce;for(let qe=0;qe<se.length;qe++){let Ne=se.charCodeAt(qe);Ne===35||Ne===63?(ce===void 0&&(ce=se.substr(0,qe)),ce+=T[Ne]):ce!==void 0&&(ce+=se[qe])}return ce!==void 0?ce:se}function A(se,ce){let qe;return qe=se.authority&&se.path.length>1&&se.scheme==="file"?`//${se.authority}${se.path}`:se.path.charCodeAt(0)===47&&(se.path.charCodeAt(1)>=65&&se.path.charCodeAt(1)<=90||se.path.charCodeAt(1)>=97&&se.path.charCodeAt(1)<=122)&&se.path.charCodeAt(2)===58?ce?se.path.substr(1):se.path[1].toLowerCase()+se.path.substr(2):se.path,i&&(qe=qe.replace(/\//g,"\\")),qe}function U(se,ce){let qe=ce?M:x,Ne="",{scheme:ue,authority:De,path:we,query:xe,fragment:Me}=se;if(ue&&(Ne+=ue,Ne+=":"),(De||ue==="file")&&(Ne+=l,Ne+=l),De){let $e=De.indexOf("@");if($e!==-1){let Ct=De.substr(0,$e);De=De.substr($e+1),$e=Ct.lastIndexOf(":"),$e===-1?Ne+=qe(Ct,!1,!1):(Ne+=qe(Ct.substr(0,$e),!1,!1),Ne+=":",Ne+=qe(Ct.substr($e+1),!1,!0)),Ne+="@"}De=De.toLowerCase(),$e=De.lastIndexOf(":"),$e===-1?Ne+=qe(De,!1,!0):(Ne+=qe(De.substr(0,$e),!1,!0),Ne+=De.substr($e))}if(we){if(we.length>=3&&we.charCodeAt(0)===47&&we.charCodeAt(2)===58){let $e=we.charCodeAt(1);$e>=65&&$e<=90&&(we=`/${String.fromCharCode($e+32)}:${we.substr(3)}`)}else if(we.length>=2&&we.charCodeAt(1)===58){let $e=we.charCodeAt(0);$e>=65&&$e<=90&&(we=`${String.fromCharCode($e+32)}:${we.substr(2)}`)}Ne+=qe(we,!0,!1)}return xe&&(Ne+="?",Ne+=qe(xe,!1,!1)),Me&&(Ne+="#",Ne+=ce?Me:x(Me,!1,!1)),Ne}function ne(se){try{return decodeURIComponent(se)}catch{return se.length>3?se.substr(0,3)+ne(se.substr(3)):se}}let de=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ye(se){return se.match(de)?se.replace(de,ce=>ne(ce)):se}var V=t(975);let W=V.posix||V,ee="/";var Se;(function(se){se.joinPath=function(ce,...qe){return ce.with({path:W.join(ce.path,...qe)})},se.resolvePath=function(ce,...qe){let Ne=ce.path,ue=!1;Ne[0]!==ee&&(Ne=ee+Ne,ue=!0);let De=W.resolve(Ne,...qe);return ue&&De[0]===ee&&!ce.authority&&(De=De.substring(1)),ce.with({path:De})},se.dirname=function(ce){if(ce.path.length===0||ce.path===ee)return ce;let qe=W.dirname(ce.path);return qe.length===1&&qe.charCodeAt(0)===46&&(qe=""),ce.with({path:qe})},se.basename=function(ce){return W.basename(ce.path)},se.extname=function(ce){return W.extname(ce.path)}})(Se||(Se={})),rMe=n})();({URI:nMe,Utils:mYt}=rMe)});function Gie(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function Q0t(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function Z0t(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(zy(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function eEt(r,e,t,n,i,o){let s=Gie(t);if(!Q0t(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=Z0t(r.uri,s,e,o);if(!a)return;let c=rEt(a,r);return{range:Pi.create(r.positionAt(n),r.positionAt(i)),target:c}}function rEt(r,e){try{let t=nMe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===tEt)?t.with({fragment:null}).toString(!0):r}catch{return}}var tEt,RW,oMe=Di(()=>{nS();yx();iMe();um();tEt=35;RW=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=Mu(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Xt.EOS;){switch(o){case Xt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Xt.AttributeName:s=i.getTokenText().toLowerCase();break;case Xt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=eEt(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=Gie(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=Gie(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&zy(d.target,f)){let m=d.target.substring(f.length),_=l[m];if(_!==void 0){let T=e.positionAt(_);d.target=`${f}${T.line+1},${T.character+1}`}else d.target=e.uri}}return n}}});function uMe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=cMe(Xt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&cMe(Xt.EndTag,r,i.endTagStart);return(s&&aMe(s,e)||a&&aMe(a,e))&&(s&&o.push({kind:p0.Read,range:s}),a&&o.push({kind:p0.Read,range:a})),o}function sMe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function aMe(r,e){return sMe(r.start,e)&&sMe(e,r.end)}function cMe(r,e,t){let n=Mu(e.getText(),t),i=n.scan();for(;i!==Xt.EOS&&i!==r;)i=n.scan();return i!==Xt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var lMe=Di(()=>{nS();um()});function dMe(r,e){let t=[],n=Kie(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=mx.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function Kie(r,e){let t=[];return e.roots.forEach(n=>{fMe(r,n,t)}),t}function fMe(r,e,t){let n=nEt(e),i=Pi.create(r.positionAt(e.start),r.positionAt(e.end)),o=gx.create(n,void 0,px.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),fMe(r,s,o.children)})}function nEt(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var hMe=Di(()=>{um()});function pMe(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!iEt(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function iEt(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var mMe=Di(()=>{});function gMe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var vMe=Di(()=>{});function Yie(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[Pi.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),Pi.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var yMe=Di(()=>{um()});var xW,_Me=Di(()=>{um();nS();xW=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let m=d.startLine-f.startLine;return m===0&&(m=d.endLine-f.endLine),m});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=Mu(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Xt.EOS;){switch(i){case Xt.StartTag:{let f=n.getTokenText(),m=e.positionAt(n.getTokenOffset()).line;s.push({startLine:m,tagName:f}),a=f;break}case Xt.EndTag:{a=n.getTokenText();break}case Xt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Xt.EndTagClose:case Xt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let m=s[f];s.length=f;let _=e.positionAt(n.getTokenOffset()).line,T=m.startLine,x=_-1;x>T&&c!==T&&l({startLine:T,endLine:x})}break}case Xt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,_=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(_)if(_[1])s.push({startLine:f,tagName:""});else{let T=s.length-1;for(;T>=0&&s[T].tagName.length;)T--;if(T>=0){let x=s[T];s.length=T;let M=f;f=x.startLine,M>f&&c!==f&&l({startLine:f,endLine:M,kind:f0.Region})}}else{let T=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<T&&l({startLine:f,endLine:T,kind:f0.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var OW,bMe=Di(()=>{nS();um();OW=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=m0.create(Pi.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=m0.create(Pi.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=Pi.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=Pi.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=Mu(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Xt.EOS;){switch(c){case Xt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Xt.AttributeValue:{if(!d)break;let m=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(m[0]==='"'&&m[m.length-1]==='"'||m[0]==="'"&&m[m.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(m=>[m[0]+u,m[1]+u])}}});var IW,Jie=Di(()=>{IW={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var kW,oEt,wMe=Di(()=>{uM();Jie();Hie();kW=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new bx("html5",IW)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&ALe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=oEt[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},oEt={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var CMe={};eI(CMe,{ClientCapabilities:()=>qie,Color:()=>sM,ColorInformation:()=>sW,ColorPresentation:()=>aW,Command:()=>cD,CompletionItem:()=>fW,CompletionItemKind:()=>md,CompletionItemTag:()=>uW,CompletionList:()=>hW,Diagnostic:()=>dx,DocumentHighlight:()=>mW,DocumentHighlightKind:()=>p0,DocumentLink:()=>yW,DocumentSymbol:()=>gx,DocumentUri:()=>iW,FileType:()=>cM,FoldingRange:()=>cW,FoldingRangeKind:()=>f0,FormattingOptions:()=>vW,Hover:()=>pW,InsertReplaceEdit:()=>lW,InsertTextFormat:()=>cm,InsertTextMode:()=>dW,Location:()=>lx,MarkedString:()=>hx,MarkupContent:()=>h0,MarkupKind:()=>fg,Position:()=>Ka,Range:()=>Pi,ScannerState:()=>Yn,SelectionRange:()=>m0,SymbolInformation:()=>mx,SymbolKind:()=>px,TextDocument:()=>g0,TextEdit:()=>hu,TokenType:()=>Xt,WorkspaceEdit:()=>aM,getDefaultHTMLDataProvider:()=>aEt,getLanguageService:()=>Xie,newHTMLDataProvider:()=>SMe});function Xie(r=sEt){let e=new kW(r),t=new PW(r,e),n=new TW(r,e),i=new CW(e),o=new OW(i),s=new xW(e),a=new RW(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:Mu,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:eMe,findDocumentHighlights:uMe,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:dMe,findDocumentSymbols2:Kie,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:pMe,findMatchingTagPosition:gMe,findOnTypeRenameRanges:Yie,findLinkedEditingRanges:Yie}}function SMe(r,e){return new bx(r,e)}function aEt(){return SMe("default",IW)}var sEt,Qie=Di(()=>{nS();LLe();ULe();BLe();tMe();oMe();lMe();hMe();mMe();vMe();yMe();_Me();bMe();uM();wMe();Jie();um();sEt={}});var TMe=E(wx=>{"use strict";var DMe=wx&&wx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.HtmlTagCompletionProvider=void 0;var Uy=require("vscode"),cEt=(Qie(),GS(CMe)),uEt=(bW(),GS(ILe)),lEt=sD(),dEt=vv(),Zie=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,cEt.getLanguageService)();let e=Uy.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=Uy.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),Uy.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=Uy.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===lEt.RazorLanguage.id&&Uy.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return DMe(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!Uy.window.activeTextEditor||Uy.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==dEt.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>DMe(this,void 0,void 0,function*(){if(!this.enabled)return;let l=Uy.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new Uy.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let m=yield this.documentManager.getActiveDocument();m&&(a=m.htmlDocument.getContent());let _=uEt.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),T=this.htmlLanguageService.parseHTMLDocument(_),x=this.htmlLanguageService.doTagComplete(_,f,T);if(!x)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?l.insertSnippet(new Uy.SnippetString(x),M.map(A=>A.active)):l.insertSnippet(new Uy.SnippetString(x),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};wx.HtmlTagCompletionProvider=Zie});var RMe=E(Sx=>{"use strict";var fEt=Sx&&Sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.RazorHtmlFeature=void 0;var dM=require("vscode"),EMe=HAe(),PMe=HB(),hEt=TMe(),eoe=class{constructor(e,t,n,i){this.projectionProvider=new PMe.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new hEt.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new EMe.HtmlPreviewPanel(e)}register(){let e=[dM.workspace.registerTextDocumentContentProvider(PMe.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),dM.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return dM.window.registerWebviewPanelSerializer&&e.push(dM.window.registerWebviewPanelSerializer(EMe.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>fEt(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),dM.Disposable.from(...e)}};Sx.RazorHtmlFeature=eoe});var OMe=E(Cx=>{"use strict";var pEt=Cx&&Cx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.RazorImplementationProvider=void 0;var mEt=require("vscode"),gEt=xy(),xMe=vv(),toe=class extends gEt.RazorLanguageFeatureBase{provideImplementation(e,t,n){return pEt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===xMe.LanguageKind.Html||i.languageKind===xMe.LanguageKind.Razor?void 0:yield mEt.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};Cx.RazorImplementationProvider=toe});var IMe=E(Dx=>{"use strict";var vEt=Dx&&Dx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.ProposedApisFeature=void 0;var roe=class{register(e,t){return vEt(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};Dx.ProposedApisFeature=roe});var LMe=E(Tx=>{"use strict";var kMe=Tx&&Tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.RazorCSharpLanguageMiddleware=void 0;var noe=require("vscode"),AW=QL(),AMe=vv(),ioe=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return kMe(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,AW.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,AW.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(AMe.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new noe.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return kMe(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,AW.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,AW.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(AMe.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new noe.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new noe.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};Tx.RazorCSharpLanguageMiddleware=ioe});var NMe=E(LW=>{"use strict";Object.defineProperty(LW,"__esModule",{value:!0});LW.RazorLanguageConfiguration=void 0;var ooe=require("vscode"),yEt=sD(),MMe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],soe=class{register(){return ooe.languages.setLanguageConfiguration(yEt.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${MMe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:ooe.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${MMe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:ooe.IndentAction.Indent}}]})}};LW.RazorLanguageConfiguration=soe});var qMe=E((uJt,FMe)=>{"use strict";FMe.exports=pb()});var UMe=E(MW=>{"use strict";Object.defineProperty(MW,"__esModule",{value:!0});MW.resolveRazorLanguageServerOptions=void 0;var jMe=require("fs"),_Et=require("os"),zMe=require("path");function bEt(r,e,t,n){let i=wEt(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}MW.resolveRazorLanguageServerOptions=bEt;function wEt(r){let e=SEt()?".exe":"",t=zMe.join(r,`rzls${e}`),n="";if(jMe.existsSync(t))n=t;else{let i=zMe.join(r,"rzls.dll");if(!jMe.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function SEt(){return!!_Et.platform().match(/^win/)}});var aoe=E(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0});FW.resolveRazorLanguageServerTrace=void 0;var NW=eM();function CEt(r){let t=r.workspace.getConfiguration("razor").get("trace");return DEt(t)}FW.resolveRazorLanguageServerTrace=CEt;function DEt(r){switch(r){case"Off":return NW.Trace.Off;case"Messages":return NW.Trace.Messages;case"Verbose":return NW.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),NW.Trace.Off}}});var WMe=E(Ex=>{"use strict";var qW=Ex&&Ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.RazorLanguageServerClient=void 0;var TEt=require("events"),coe=require("vscode"),uoe=pb(),EEt=qMe(),HMe=sD(),PEt=UMe(),BMe=aoe(),loe={ServerStop:"ServerStop"},doe=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new TEt.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,BMe.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(loe.ServerStop,e),new coe.Disposable(()=>this.eventBus.removeListener(loe.ServerStop,e))}start(){return qW(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===uoe.State.Starting&&o.newState===uoe.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===uoe.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){coe.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return qW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return qW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(loe.ServerStop)}stop(){return qW(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){coe.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,BMe.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,PEt.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:HMe.RazorLanguage.id,pattern:HMe.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new EEt.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};Ex.RazorLanguageServerClient=doe});var $Me=E(jW=>{"use strict";Object.defineProperty(jW,"__esModule",{value:!0});jW.LanguageQueryRequest=void 0;var foe=class{constructor(e,t){this.position=e,this.uri=t.toString()}};jW.LanguageQueryRequest=foe});var VMe=E(zW=>{"use strict";Object.defineProperty(zW,"__esModule",{value:!0});zW.RazorMapToDocumentRangesRequest=void 0;var hoe=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};zW.RazorMapToDocumentRangesRequest=hoe});var GMe=E(UW=>{"use strict";Object.defineProperty(UW,"__esModule",{value:!0});UW.SemanticTokensRangeRequest=void 0;var REt=pb(),xEt=fR(),poe=class{constructor(e,t){this.textDocument=REt.TextDocumentIdentifier.create(e.toString()),this.range=(0,xEt.convertRangeToSerializable)(t)}};UW.SemanticTokensRangeRequest=poe});var YMe=E(Px=>{"use strict";var HW=Px&&Px.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.RazorLanguageServiceClient=void 0;var OEt=require("vscode"),IEt=$Me(),kEt=VMe(),KMe=fR(),AEt=GMe(),moe=class{constructor(e){this.serverClient=e}languageQuery(e,t){return HW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new IEt.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new OEt.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return HW(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,KMe.convertRangeToSerializable)(c);i.push(u)}let o=new kEt.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,KMe.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return HW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new AEt.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return HW(this,void 0,void 0,function*(){yield this.serverClient.start()})}};Px.RazorLanguageServiceClient=moe});var QMe=E($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});$W.RazorLogger=void 0;var XMe=require("fs"),JMe=require("path"),BW=eM(),WW=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${BW.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=LEt();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${BW.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=BW.Trace.Verbose,this.messageEnabled=this.trace>=BW.Trace.Messages}};$W.RazorLogger=WW;WW.logName="Razor Log";function LEt(){let r=MEt(__dirname,"package.json");return JSON.parse(XMe.readFileSync(r).toString())}function MEt(r,e){for(;;){let t=JMe.join(r,e);if(XMe.existsSync(t))return t;let n=JMe.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var rNe=E(Rx=>{"use strict";var NEt=Rx&&Rx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.RazorReferenceProvider=void 0;var ZMe=require("vscode"),eNe=QL(),FEt=xy(),tNe=vv(),goe=class extends FEt.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return NEt(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===tNe.LanguageKind.Razor)return;let s=yield ZMe.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===tNe.LanguageKind.Html&&(0,eNe.isRazorHtmlFile)(c.uri)){let u=(0,eNe.getRazorDocumentUri)(c.uri);a.push(new ZMe.Location(u,c.range))}else a.push(c);return a})}};Rx.RazorReferenceProvider=goe});var oNe=E(xx=>{"use strict";var nNe=xx&&xx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(xx,"__esModule",{value:!0});xx.RazorRenameProvider=void 0;var qEt=require("vscode"),jEt=xy(),iNe=vv(),voe=class extends jEt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return nNe(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==iNe.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return nNe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==iNe.LanguageKind.CSharp?void 0:yield qEt.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};xx.RazorRenameProvider=voe});var sNe=E(Ox=>{"use strict";var zEt=Ox&&Ox.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.RazorDocumentSemanticTokensProvider=void 0;var UEt=require("vscode"),HEt=xy(),yoe=class extends HEt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return zEt(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new UEt.SemanticTokens(o,i.resultId)}return i})}};Ox.RazorDocumentSemanticTokensProvider=yoe});var aNe=E(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});VW.ProvideSemanticTokensResponse=void 0;var _oe=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};VW.ProvideSemanticTokensResponse=_oe});var cNe=E(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0});GW.SemanticTokensResponse=void 0;var boe=class{constructor(e,t){this.data=e,this.resultId=t}};GW.SemanticTokensResponse=boe});var lNe=E(Ix=>{"use strict";var uNe=Ix&&Ix.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.SemanticTokensRangeHandler=void 0;var BEt=pb(),WEt=aNe(),$Et=cNe(),KW=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new BEt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new WEt.ProvideSemanticTokensResponse(new $Et.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>uNe(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return uNe(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};Ix.SemanticTokensRangeHandler=KW;KW.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var dNe=E(kx=>{"use strict";var VEt=kx&&kx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(kx,"__esModule",{value:!0});kx.RazorSignatureHelpProvider=void 0;var GEt=require("vscode"),KEt=xy(),woe=class extends KEt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return VEt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield GEt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};kx.RazorSignatureHelpProvider=woe});var fNe=E(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.createTelemetryErrorEvent=Ax.createTelemetryEvent=void 0;function YEt(r,e,t){return{type:YW.TelemetryEvent,eventName:r,properties:e,measures:t}}Ax.createTelemetryEvent=YEt;function JEt(r,e,t,n){return{type:YW.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}Ax.createTelemetryErrorEvent=JEt;var YW;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})(YW||(YW={}))});var hNe=E(JW=>{"use strict";Object.defineProperty(JW,"__esModule",{value:!0});JW.TelemetryReporter=void 0;var fM=fNe(),XEt=eM(),Soe=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,fM.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,fM.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,fM.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,fM.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:XEt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,fM.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};JW.TelemetryReporter=Soe});var pNe=E(Mx=>{"use strict";var Lx=Mx&&Mx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.activate=void 0;var QEt=require("vscode"),ZEt=qOe(),ePt=WOe(),tPt=KOe(),rPt=j1e(),nPt=B1e(),iPt=Yne(),oPt=$1e(),sPt=X1e(),aPt=tAe(),cPt=cAe(),uPt=mAe(),lPt=vAe(),dPt=wAe(),fPt=CAe(),hPt=DAe(),pPt=RAe(),mPt=kAe(),gPt=AAe(),vPt=jAe(),yPt=zAe(),_Pt=RMe(),bPt=OMe(),wPt=IMe(),SPt=LMe(),lm=sD(),CPt=NMe(),DPt=WMe(),TPt=aoe(),EPt=YMe(),PPt=QMe(),RPt=rNe(),xPt=oNe(),OPt=sNe(),IPt=lNe(),kPt=dNe(),APt=hNe();function LPt(r,e,t,n,i=!1){return Lx(this,void 0,void 0,function*(){let o=new APt.TelemetryReporter(n),s={create:()=>new QEt.EventEmitter},a=(0,TPt.resolveRazorLanguageServerTrace)(r),c=new PPt.RazorLogger(r,s,a);try{let u=new DPt.RazorLanguageServerClient(r,t,o,c),l=new EPt.RazorLanguageServiceClient(u),d=new SPt.RazorCSharpLanguageMiddleware(l,c),f=new uPt.RazorDocumentManager(u,c);(0,hPt.reportTelemetryForDocuments)(f,o);let m=new CPt.RazorLanguageConfiguration,_=new sPt.RazorCSharpFeature(f,s,c),T=new _Pt.RazorHtmlFeature(f,l,s,c),x=[],M=new cPt.ReportIssueCommand(r,f,c),A=new vPt.RazorFormattingFeature(u,f,c),U=new ePt.RazorCodeActionRunner(u,c),ne;u.onStart(()=>Lx(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),ne=new lPt.RazorDocumentSynchronizer(f,c);let V=new nPt.ProvisionalCompletionOrchestrator(f,_.projectionProvider,l,c),W=new IPt.SemanticTokensRangeHandler(u),ee=new rPt.ColorPresentationHandler(f,u,c),Se=new dPt.DocumentColorHandler(f,u,c),se=new pPt.FoldingRangeHandler(u,f,c),ce=new mPt.FormattingHandler(f,u,c),qe=new iPt.RazorCompletionItemProvider(ne,f,l,V,c),Ne=new kPt.RazorSignatureHelpProvider(ne,f,l,c),ue=new aPt.RazorDefinitionProvider(ne,f,l,c),De=new bPt.RazorImplementationProvider(ne,f,l,c),we=new yPt.RazorHoverProvider(ne,f,l,c),xe=new tPt.RazorCodeLensProvider(ne,f,l,c),Me=new xPt.RazorRenameProvider(ne,f,l,c),$e=new RPt.RazorReferenceProvider(ne,f,l,c),Ct=new fPt.RazorDocumentHighlightProvider(ne,f,l,c),ze=new gPt.RazorFormatOnTypeProvider;x.push(m.register(),V.register(),r.languages.registerCompletionItemProvider(lm.RazorLanguage.id,qe,".","<","@"),r.languages.registerSignatureHelpProvider(lm.RazorLanguage.id,Ne,"(",","),r.languages.registerDefinitionProvider(lm.RazorLanguage.id,ue),r.languages.registerImplementationProvider(lm.RazorLanguage.id,De),r.languages.registerHoverProvider(lm.RazorLanguage.documentSelector,we),r.languages.registerReferenceProvider(lm.RazorLanguage.id,$e),r.languages.registerCodeLensProvider(lm.RazorLanguage.id,xe),r.languages.registerRenameProvider(lm.RazorLanguage.id,Me),r.languages.registerDocumentHighlightProvider(lm.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(lm.RazorLanguage.documentSelector,ze,""),f.register(),_.register(),T.register(),ne.register(),M.register(),(0,oPt.listenToConfigurationChanges)(u)),i&&(yield new wPt.ProposedApisFeature().register(r,x)),U.register(),yield A.register(),yield ee.register(),yield Se.register(),yield se.register(),yield ce.register(),yield W.register()}));let de=u.onStop(()=>{x.forEach(V=>V.dispose()),x.length=0}),ye=new ZEt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",ye)),u.onStarted(()=>Lx(this,void 0,void 0,function*(){var V,W;let ee=(W=(V=u.initializeResult)===null||V===void 0?void 0:V.capabilities.semanticTokensProvider)===null||W===void 0?void 0:W.legend,Se=new OPt.RazorDocumentSemanticTokensProvider(ne,f,l,c);ee&&x.push(r.languages.registerDocumentRangeSemanticTokensProvider(lm.RazorLanguage.id,Se,ee)),yield f.initialize()})),yield MPt(r,u,c,e),e.subscriptions.push(u,de,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}Mx.activate=LPt;function MPt(r,e,t,n){return Lx(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(lm.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(lm.RazorLanguage.globbingPattern),s=()=>Lx(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>Lx(this,void 0,void 0,function*(){u.languageId===lm.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});function wM(){return y$>_$.length-16&&(RNe.default.randomFillSync(_$),y$=0),_$.slice(y$,y$+=16)}var RNe,_$,y$,joe=Di(()=>{RNe=be(require("crypto")),_$=new Uint8Array(256),y$=_$.length});var xNe,ONe=Di(()=>{xNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function UPt(r){return typeof r=="string"&&xNe.test(r)}var uD,SM=Di(()=>{ONe();uD=UPt});function b0(r,e=0){return(rf[r[e+0]]+rf[r[e+1]]+rf[r[e+2]]+rf[r[e+3]]+"-"+rf[r[e+4]]+rf[r[e+5]]+"-"+rf[r[e+6]]+rf[r[e+7]]+"-"+rf[r[e+8]]+rf[r[e+9]]+"-"+rf[r[e+10]]+rf[r[e+11]]+rf[r[e+12]]+rf[r[e+13]]+rf[r[e+14]]+rf[r[e+15]]).toLowerCase()}function HPt(r,e=0){let t=b0(r,e);if(!uD(t))throw TypeError("Stringified UUID is invalid");return t}var rf,INe,CM=Di(()=>{SM();rf=[];for(let r=0;r<256;++r)rf.push((r+256).toString(16).slice(1));INe=HPt});function BPt(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||kNe,s=r.clockseq!==void 0?r.clockseq:zoe;if(o==null||s==null){let f=r.random||(r.rng||wM)();o==null&&(o=kNe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=zoe=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:Hoe+1,u=a-Uoe+(c-Hoe)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>Uoe)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Uoe=a,Hoe=c,zoe=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||b0(i)}var kNe,zoe,Uoe,Hoe,ANe,LNe=Di(()=>{joe();CM();Uoe=0,Hoe=0;ANe=BPt});function WPt(r){if(!uD(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var b$,Boe=Di(()=>{SM();b$=WPt});function $Pt(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function DM(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=$Pt(i)),typeof o=="string"&&(o=b$(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return b0(u)}try{n.name=r}catch{}return n.DNS=VPt,n.URL=GPt,n}var VPt,GPt,Woe=Di(()=>{CM();Boe();VPt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",GPt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function KPt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),MNe.default.createHash("md5").update(r).digest()}var MNe,NNe,FNe=Di(()=>{MNe=be(require("crypto"));NNe=KPt});var YPt,qNe,jNe=Di(()=>{Woe();FNe();YPt=DM("v3",48,NNe),qNe=YPt});var zNe,$oe,UNe=Di(()=>{zNe=be(require("crypto")),$oe={randomUUID:zNe.default.randomUUID}});function JPt(r,e,t){if($oe.randomUUID&&!e&&!r)return $oe.randomUUID();r=r||{};let n=r.random||(r.rng||wM)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return b0(n)}var lD,HNe=Di(()=>{UNe();joe();CM();lD=JPt});function XPt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),BNe.default.createHash("sha1").update(r).digest()}var BNe,WNe,$Ne=Di(()=>{BNe=be(require("crypto"));WNe=XPt});var QPt,VNe,GNe=Di(()=>{Woe();$Ne();QPt=DM("v5",80,WNe),VNe=QPt});var KNe,YNe=Di(()=>{KNe="00000000-0000-0000-0000-000000000000"});function ZPt(r){if(!uD(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var JNe,XNe=Di(()=>{SM();JNe=ZPt});var w$={};eI(w$,{NIL:()=>KNe,parse:()=>b$,stringify:()=>INe,v1:()=>ANe,v3:()=>qNe,v4:()=>lD,v5:()=>VNe,validate:()=>uD,version:()=>JNe});var jx=Di(()=>{LNe();jNe();HNe();GNe();YNe();XNe();SM();CM();Boe()});var AFe=E((Btr,kFe)=>{var Xx=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",PFe=require("path"),aRt=Xx?";":":",RFe=BK(),xFe=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),OFe=(r,e)=>{let t=e.colon||aRt,n=r.match(/\//)||Xx&&r.match(/\\/)?[""]:[...Xx?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=Xx?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Xx?i.split(t):[""];return Xx&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},IFe=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=OFe(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(xFe(r));let f=n[u],m=/^".*"$/.test(f)?f.slice(1,-1):f,_=PFe.join(m,r),T=!m&&/^\.[\\\/]/.test(r)?r.slice(0,2)+_:_;l(c(T,u,0))}),c=(u,l,d)=>new Promise((f,m)=>{if(d===i.length)return f(a(l+1));let _=i[d];RFe(u+_,{pathExt:o},(T,x)=>{if(!T&&x)if(e.all)s.push(u+_);else return f(u+_);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},cRt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=OFe(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=PFe.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(RFe.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw xFe(r)};kFe.exports=IFe;IFe.sync=cRt});var MFe=E((Wtr,tse)=>{"use strict";var LFe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};tse.exports=LFe;tse.exports.default=LFe});var jFe=E(($tr,qFe)=>{"use strict";var NFe=require("path"),uRt=AFe(),lRt=MFe();function FFe(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=uRt.sync(r.command,{path:t[lRt({env:t})],pathExt:e?NFe.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=NFe.resolve(i?r.options.cwd:"",s)),s}function dRt(r){return FFe(r)||FFe(r,!0)}qFe.exports=dRt});var zFe=E((Vtr,nse)=>{"use strict";var rse=/([()\][%!^"`<>&|;, *?])/g;function fRt(r){return r=r.replace(rse,"^$1"),r}function hRt(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(rse,"^$1"),e&&(r=r.replace(rse,"^$1")),r}nse.exports.command=fRt;nse.exports.argument=hRt});var HFe=E((Gtr,UFe)=>{"use strict";UFe.exports=/^#!(.*)/});var WFe=E((Ktr,BFe)=>{"use strict";var pRt=HFe();BFe.exports=(r="")=>{let e=r.match(pRt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var VFe=E((Ytr,$Fe)=>{"use strict";var ise=require("fs"),mRt=WFe();function gRt(r){let t=Buffer.alloc(150),n;try{n=ise.openSync(r,"r"),ise.readSync(n,t,0,150,0),ise.closeSync(n)}catch{}return mRt(t.toString())}$Fe.exports=gRt});var JFe=E((Jtr,YFe)=>{"use strict";var vRt=require("path"),GFe=jFe(),KFe=zFe(),yRt=VFe(),_Rt=process.platform==="win32",bRt=/\.(?:com|exe)$/i,wRt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function SRt(r){r.file=GFe(r);let e=r.file&&yRt(r.file);return e?(r.args.unshift(r.file),r.command=e,GFe(r)):r.file}function CRt(r){if(!_Rt)return r;let e=SRt(r),t=!bRt.test(e);if(r.options.forceShell||t){let n=wRt.test(e);r.command=vRt.normalize(r.command),r.command=KFe.command(r.command),r.args=r.args.map(o=>KFe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function DRt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:CRt(n)}YFe.exports=DRt});var ZFe=E((Xtr,QFe)=>{"use strict";var ose=process.platform==="win32";function sse(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function TRt(r,e){if(!ose)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=XFe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function XFe(r,e){return ose&&r===1&&!e.file?sse(e.original,"spawn"):null}function ERt(r,e){return ose&&r===1&&!e.file?sse(e.original,"spawnSync"):null}QFe.exports={hookChildProcess:TRt,verifyENOENT:XFe,verifyENOENTSync:ERt,notFoundError:sse}});var rqe=E((Qtr,Qx)=>{"use strict";var eqe=require("child_process"),ase=JFe(),cse=ZFe();function tqe(r,e,t){let n=ase(r,e,t),i=eqe.spawn(n.command,n.args,n.options);return cse.hookChildProcess(i,n),i}function PRt(r,e,t){let n=ase(r,e,t),i=eqe.spawnSync(n.command,n.args,n.options);return i.error=i.error||cse.verifyENOENTSync(i.status,n),i}Qx.exports=tqe;Qx.exports.spawn=tqe;Qx.exports.sync=PRt;Qx.exports._parse=ase;Qx.exports._enoent=cse});var iqe=E((Ztr,nqe)=>{"use strict";nqe.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var sqe=E((err,use)=>{"use strict";var oqe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};use.exports=oqe;use.exports.default=oqe});var uqe=E((trr,LM)=>{"use strict";var AM=require("path"),aqe=sqe(),cqe=r=>{r={cwd:process.cwd(),path:process.env[aqe()],execPath:process.execPath,...r};let e,t=AM.resolve(r.cwd),n=[];for(;e!==t;)n.push(AM.join(t,"node_modules/.bin")),e=t,t=AM.resolve(t,"..");let i=AM.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(AM.delimiter)};LM.exports=cqe;LM.exports.default=cqe;LM.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=aqe({env:e});return r.path=e[t],e[t]=LM.exports(r),e}});var dqe=E((rrr,lse)=>{"use strict";var lqe=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};lse.exports=lqe;lse.exports.default=lqe});var hqe=E((nrr,d3)=>{"use strict";var RRt=dqe(),l3=new WeakMap,fqe=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(l3.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return RRt(o,r),l3.set(o,n),o};d3.exports=fqe;d3.exports.default=fqe;d3.exports.callCount=r=>{if(!l3.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return l3.get(r)}});var pqe=E(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.SIGNALS=void 0;var xRt=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];f3.SIGNALS=xRt});var dse=E(Zx=>{"use strict";Object.defineProperty(Zx,"__esModule",{value:!0});Zx.SIGRTMAX=Zx.getRealtimeSignals=void 0;var ORt=function(){let r=gqe-mqe+1;return Array.from({length:r},IRt)};Zx.getRealtimeSignals=ORt;var IRt=function(r,e){return{name:`SIGRT${e+1}`,number:mqe+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},mqe=34,gqe=64;Zx.SIGRTMAX=gqe});var vqe=E(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.getSignals=void 0;var kRt=require("os"),ARt=pqe(),LRt=dse(),MRt=function(){let r=(0,LRt.getRealtimeSignals)();return[...ARt.SIGNALS,...r].map(NRt)};h3.getSignals=MRt;var NRt=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=kRt.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var _qe=E(eO=>{"use strict";Object.defineProperty(eO,"__esModule",{value:!0});eO.signalsByNumber=eO.signalsByName=void 0;var FRt=require("os"),yqe=vqe(),qRt=dse(),jRt=function(){return(0,yqe.getSignals)().reduce(zRt,{})},zRt=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},URt=jRt();eO.signalsByName=URt;var HRt=function(){let r=(0,yqe.getSignals)(),e=qRt.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>BRt(i,r));return Object.assign({},...t)},BRt=function(r,e){let t=WRt(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},WRt=function(r,e){let t=e.find(({name:n})=>FRt.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},$Rt=HRt();eO.signalsByNumber=$Rt});var wqe=E((crr,bqe)=>{"use strict";var{signalsByName:VRt}=_qe(),GRt=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",KRt=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:VRt[i].description,f=n&&n.code,_=`Command ${GRt({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,T=n instanceof Error?`${_}
${n.message}`:_,x=[T,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=x):n=new Error(x),n.shortMessage=T,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};bqe.exports=KRt});var Cqe=E((urr,fse)=>{"use strict";var p3=["stdin","stdout","stderr"],YRt=r=>p3.some(e=>r[e]!==void 0),Sqe=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return p3.map(n=>r[n]);if(YRt(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${p3.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,p3.length);return Array.from({length:t},(n,i)=>e[i])};fse.exports=Sqe;fse.exports.node=r=>{let e=Sqe(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Dqe=E((lrr,m3)=>{m3.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&m3.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&m3.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var xqe=E((drr,nO)=>{var bc=global.process,w0=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};w0(bc)?(Tqe=require("assert"),tO=Dqe(),Eqe=/^win/i.test(bc.platform),MM=require("events"),typeof MM!="function"&&(MM=MM.EventEmitter),bc.__signal_exit_emitter__?vd=bc.__signal_exit_emitter__:(vd=bc.__signal_exit_emitter__=new MM,vd.count=0,vd.emitted={}),vd.infinite||(vd.setMaxListeners(1/0),vd.infinite=!0),nO.exports=function(r,e){if(!w0(global.process))return function(){};Tqe.equal(typeof r,"function","a callback must be provided for exit handler"),rO===!1&&hse();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){vd.removeListener(t,r),vd.listeners("exit").length===0&&vd.listeners("afterexit").length===0&&g3()};return vd.on(t,r),n},g3=function(){!rO||!w0(global.process)||(rO=!1,tO.forEach(function(e){try{bc.removeListener(e,v3[e])}catch{}}),bc.emit=y3,bc.reallyExit=pse,vd.count-=1)},nO.exports.unload=g3,S0=function(e,t,n){vd.emitted[e]||(vd.emitted[e]=!0,vd.emit(e,t,n))},v3={},tO.forEach(function(r){v3[r]=function(){if(w0(global.process)){var t=bc.listeners(r);t.length===vd.count&&(g3(),S0("exit",null,r),S0("afterexit",null,r),Eqe&&r==="SIGHUP"&&(r="SIGINT"),bc.kill(bc.pid,r))}}}),nO.exports.signals=function(){return tO},rO=!1,hse=function(){rO||!w0(global.process)||(rO=!0,vd.count+=1,tO=tO.filter(function(e){try{return bc.on(e,v3[e]),!0}catch{return!1}}),bc.emit=Rqe,bc.reallyExit=Pqe)},nO.exports.load=hse,pse=bc.reallyExit,Pqe=function(e){w0(global.process)&&(bc.exitCode=e||0,S0("exit",bc.exitCode,null),S0("afterexit",bc.exitCode,null),pse.call(bc,bc.exitCode))},y3=bc.emit,Rqe=function(e,t){if(e==="exit"&&w0(global.process)){t!==void 0&&(bc.exitCode=t);var n=y3.apply(this,arguments);return S0("exit",bc.exitCode,null),S0("afterexit",bc.exitCode,null),n}else return y3.apply(this,arguments)}):nO.exports=function(){return function(){}};var Tqe,tO,Eqe,MM,vd,g3,S0,v3,rO,hse,pse,Pqe,y3,Rqe});var Iqe=E((frr,Oqe)=>{"use strict";var JRt=require("os"),XRt=xqe(),QRt=1e3*5,ZRt=(r,e="SIGTERM",t={})=>{let n=r(e);return ext(r,e,t,n),n},ext=(r,e,t,n)=>{if(!txt(e,t,n))return;let i=nxt(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},txt=(r,{forceKillAfterTimeout:e},t)=>rxt(r)&&e!==!1&&t,rxt=r=>r===JRt.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",nxt=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return QRt;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},ixt=(r,e)=>{r.kill()&&(e.isCanceled=!0)},oxt=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},sxt=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{oxt(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},axt=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=XRt(()=>{r.kill()});return n.finally(()=>{i()})};Oqe.exports={spawnedKill:ZRt,spawnedCancel:ixt,setupTimeout:sxt,setExitHandler:axt}});var Aqe=E((hrr,kqe)=>{"use strict";var wb=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";wb.writable=r=>wb(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";wb.readable=r=>wb(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";wb.duplex=r=>wb.writable(r)&&wb.readable(r);wb.transform=r=>wb.duplex(r)&&typeof r._transform=="function";kqe.exports=wb});var Nqe=E((prr,Mqe)=>{var cxt=g1(),uxt=function(){},lxt=function(r){return r.setHeader&&typeof r.abort=="function"},dxt=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},Lqe=function(r,e,t){if(typeof e=="function")return Lqe(r,null,e);e||(e={}),t=cxt(t||uxt);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(x){t.call(r,x?new Error("exited with error code: "+x):null)},f=function(x){t.call(r,x)},m=function(){process.nextTick(_)},_=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},T=function(){r.req.on("finish",u)};return lxt(r)?(r.on("complete",u),r.on("abort",m),r.req?T():r.on("request",T)):s&&!n&&(r.on("end",c),r.on("close",c)),dxt(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",m),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",m),r.removeListener("request",T),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",m)}};Mqe.exports=Lqe});var jqe=E((mrr,qqe)=>{var fxt=g1(),hxt=Nqe(),mse=require("fs"),NM=function(){},pxt=/^v?\.0/.test(process.version),_3=function(r){return typeof r=="function"},mxt=function(r){return!pxt||!mse?!1:(r instanceof(mse.ReadStream||NM)||r instanceof(mse.WriteStream||NM))&&_3(r.close)},gxt=function(r){return r.setHeader&&_3(r.abort)},vxt=function(r,e,t,n){n=fxt(n);var i=!1;r.on("close",function(){i=!0}),hxt(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,mxt(r))return r.close(NM);if(gxt(r))return r.abort();if(_3(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},Fqe=function(r){r()},yxt=function(r,e){return r.pipe(e)},_xt=function(){var r=Array.prototype.slice.call(arguments),e=_3(r[r.length-1]||NM)&&r.pop()||NM;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return vxt(i,s,a,function(c){t||(t=c),c&&n.forEach(Fqe),!s&&(n.forEach(Fqe),e(t))})});return r.reduce(yxt)};qqe.exports=_xt});var Uqe=E((grr,zqe)=>{"use strict";var{PassThrough:bxt}=require("stream");zqe.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new bxt({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var Hqe=E((vrr,iO)=>{"use strict";var{constants:wxt}=require("buffer"),Sxt=jqe(),Cxt=Uqe(),b3=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function w3(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=wxt.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=Sxt(r,Cxt(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new b3)})}),n.getBufferedValue()}iO.exports=w3;iO.exports.default=w3;iO.exports.buffer=(r,e)=>w3(r,{...e,encoding:"buffer"});iO.exports.array=(r,e)=>w3(r,{...e,array:!0});iO.exports.MaxBufferError=b3});var Wqe=E((yrr,Bqe)=>{"use strict";var{PassThrough:Dxt}=require("stream");Bqe.exports=function(){var r=[],e=new Dxt({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var Kqe=E((_rr,Gqe)=>{"use strict";var Vqe=Aqe(),$qe=Hqe(),Txt=Wqe(),Ext=(r,e)=>{e===void 0||r.stdin===void 0||(Vqe(e)?e.pipe(r.stdin):r.stdin.end(e))},Pxt=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=Txt();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},gse=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},vse=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?$qe(r,{encoding:e,maxBuffer:n}):$qe.buffer(r,{maxBuffer:n})},Rxt=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=vse(r,{encoding:n,buffer:i,maxBuffer:o}),c=vse(e,{encoding:n,buffer:i,maxBuffer:o}),u=vse(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},gse(r,a),gse(e,c),gse(t,u)])}},xxt=({input:r})=>{if(Vqe(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};Gqe.exports={handleInput:Ext,makeAllStream:Pxt,getSpawnedResult:Rxt,validateInputSync:xxt}});var Jqe=E((brr,Yqe)=>{"use strict";var yse=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},Oxt=(r,e)=>(yse(r,e,"then"),yse(r,e,"catch"),yse(r,e,"finally"),r),Ixt=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});Yqe.exports={mergePromise:Oxt,getSpawnedPromise:Ixt}});var Qqe=E((wrr,Xqe)=>{"use strict";var kxt=/ +/g,Axt=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,Lxt=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},Mxt=r=>r.trim().split(kxt).reduce(Lxt,[]);Xqe.exports={joinCommand:Axt,parseCommand:Mxt}});var o2e=E((Srr,oO)=>{"use strict";var Nxt=require("path"),_se=require("child_process"),e2e=rqe(),Fxt=iqe(),qxt=uqe(),jxt=hqe(),S3=wqe(),t2e=Cqe(),{spawnedKill:zxt,spawnedCancel:Uxt,setupTimeout:Hxt,setExitHandler:Bxt}=Iqe(),{handleInput:Wxt,getSpawnedResult:$xt,makeAllStream:Vxt,validateInputSync:Gxt}=Kqe(),{mergePromise:Zqe,getSpawnedPromise:Kxt}=Jqe(),{joinCommand:r2e,parseCommand:n2e}=Qqe(),Yxt=1e3*1e3*100,Jxt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?qxt.env({env:o,cwd:n,execPath:i}):o},i2e=(r,e,t={})=>{let n=e2e._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:Yxt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=Jxt(t),t.stdio=t2e(t),process.platform==="win32"&&Nxt.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},FM=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?Fxt(e):e,C3=(r,e,t)=>{let n=i2e(r,e,t),i=r2e(r,e),o;try{o=_se.spawn(n.file,n.args,n.options)}catch(f){let m=new _se.ChildProcess,_=Promise.reject(S3({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Zqe(m,_)}let s=Kxt(o),a=Hxt(o,n.options,s),c=Bxt(o,n.options,a),u={isCanceled:!1};o.kill=zxt.bind(null,o.kill.bind(o)),o.cancel=Uxt.bind(null,o,u);let d=jxt(async()=>{let[{error:f,exitCode:m,signal:_,timedOut:T},x,M,A]=await $xt(o,n.options,c),U=FM(n.options,x),ne=FM(n.options,M),de=FM(n.options,A);if(f||m!==0||_!==null){let ye=S3({error:f,exitCode:m,signal:_,stdout:U,stderr:ne,all:de,command:i,parsed:n,timedOut:T,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return ye;throw ye}return{command:i,exitCode:0,stdout:U,stderr:ne,all:de,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return e2e._enoent.hookChildProcess(o,n.parsed),Wxt(o,n.options.input),o.all=Vxt(o,n.options),Zqe(o,d)};oO.exports=C3;oO.exports.sync=(r,e,t)=>{let n=i2e(r,e,t),i=r2e(r,e);Gxt(n.options);let o;try{o=_se.spawnSync(n.file,n.args,n.options)}catch(c){throw S3({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=FM(n.options,o.stdout,o.error),a=FM(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=S3({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};oO.exports.command=(r,e)=>{let[t,...n]=n2e(r);return C3(t,n,e)};oO.exports.commandSync=(r,e)=>{let[t,...n]=n2e(r);return C3.sync(t,n,e)};oO.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=t2e.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return C3(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var fS=E(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.findWindowsCandidates=nh.sort=nh.preferredEdgePath=nh.preferredFirefoxPath=nh.preferredChromePath=nh.escapeRegexSpecialChars=nh.canAccess=void 0;var Xxt=require("path");async function qM({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}nh.canAccess=qM;var Qxt="/\\.?*()^${}|[]+";function Zxt(r,e){let t=Qxt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}nh.escapeRegexSpecialChars=Zxt;async function eOt(r,e){if(await qM(r,e.CHROME_PATH))return e.CHROME_PATH}nh.preferredChromePath=eOt;async function tOt(r,e){if(await qM(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}nh.preferredFirefoxPath=tOt;async function rOt(r,e){if(await qM(r,e.EDGE_PATH))return e.EDGE_PATH}nh.preferredEdgePath=rOt;function nOt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}nh.sort=nOt;async function iOt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=Xxt.win32.join(o,s.name);i.push(qM(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}nh.findWindowsCandidates=iOt});var T3=E(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.DarwinFinderBase=void 0;var oOt=require("path"),sOt=require("fs"),bse=fS(),s2e=/( \(0x[a-f0-9]+\))/,wse=class{constructor(e=process.env,t=sOt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,bse.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${s2e.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(s2e,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=oOt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,bse.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,bse.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};D3.DarwinFinderBase=wse});var a2e=E(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.DarwinChromeBrowserFinder=void 0;var aOt=fS(),cOt=T3(),Sse=class extends cOt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,aOt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};E3.DarwinChromeBrowserFinder=Sse});var c2e=E(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});P3.DarwinEdgeBrowserFinder=void 0;var uOt=fS(),lOt=T3(),Cse=class extends lOt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,uOt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};P3.DarwinEdgeBrowserFinder=Cse});var u2e=E(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.DarwinFirefoxBrowserFinder=void 0;var dOt=fS(),fOt=T3(),Dse=class extends fOt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,dOt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};R3.DarwinFirefoxBrowserFinder=Dse});var O3=E(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});x3.LinuxChromeBrowserFinder=void 0;var hOt=require("path"),sO=fS(),Tse=require("child_process"),pOt=require("os"),mOt=require("fs"),l2e=/\r?\n/,Ese=class{constructor(e=process.env,t=mOt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,sO.canAccess)(this.fs,t)&&e.add(t),[hOt.posix.join((0,pOt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,Tse.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(l2e)[0];await(0,sO.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,sO.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,sO.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,sO.canAccess)(this.fs,e)){let o;try{o=(0,Tse.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,Tse.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(l2e).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,sO.canAccess)(this.fs,a)&&i.push(a)}))}return i}};x3.LinuxChromeBrowserFinder=Ese});var d2e=E(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.LinuxEdgeBrowserFinder=void 0;var gOt=O3(),Pse=class extends gOt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};I3.LinuxEdgeBrowserFinder=Pse});var f2e=E(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.LinuxFirefoxBrowserFinder=void 0;var vOt=O3(),Rse=class extends vOt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};k3.LinuxFirefoxBrowserFinder=Rse});var p2e=E(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.WindowsChromeBrowserFinder=void 0;var yOt=require("path"),h2e=fS(),_Ot=require("fs"),xse=class{constructor(e=process.env,t=_Ot.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=yOt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,h2e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,h2e.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};A3.WindowsChromeBrowserFinder=xse});var g2e=E(L3=>{"use strict";Object.defineProperty(L3,"__esModule",{value:!0});L3.WindowsEdgeBrowserFinder=void 0;var ih=require("path"),bOt=require("fs"),m2e=fS(),Ose=class{constructor(e=process.env,t=bOt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${ih.sep}Microsoft${ih.sep}Edge SxS${ih.sep}Application${ih.sep}msedge.exe`,type:"canary"},{name:`${ih.sep}Microsoft${ih.sep}Edge Dev${ih.sep}Application${ih.sep}msedge.exe`,type:"dev"},{name:`${ih.sep}Microsoft${ih.sep}Edge Beta${ih.sep}Application${ih.sep}msedge.exe`,type:"beta"},{name:`${ih.sep}Microsoft${ih.sep}Edge${ih.sep}Application${ih.sep}msedge.exe`,type:"stable"}],t=await(0,m2e.findWindowsCandidates)(this.env,this.fs,e),n=await(0,m2e.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};L3.WindowsEdgeBrowserFinder=Ose});var y2e=E(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.WindowsFirefoxBrowserFinder=void 0;var wOt=require("path"),v2e=fS(),SOt=require("fs"),Ise=class{constructor(e=process.env,t=SOt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=wOt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,v2e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,v2e.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};M3.WindowsFirefoxBrowserFinder=Ise});var _2e=E(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.FirefoxBrowserFinder=mg.EdgeBrowserFinder=mg.ChromeBrowserFinder=mg.isQuality=mg.allQualities=void 0;var COt=a2e(),DOt=c2e(),TOt=u2e(),EOt=O3(),POt=d2e(),ROt=f2e(),xOt=p2e(),OOt=g2e(),IOt=y2e(),kOt={canary:null,stable:null,beta:null,dev:null,custom:null};mg.allQualities=new Set(Object.keys(kOt));var AOt=r=>mg.allQualities.has(r);mg.isQuality=AOt;mg.ChromeBrowserFinder=process.platform==="win32"?xOt.WindowsChromeBrowserFinder:process.platform==="darwin"?COt.DarwinChromeBrowserFinder:EOt.LinuxChromeBrowserFinder;mg.EdgeBrowserFinder=process.platform==="win32"?OOt.WindowsEdgeBrowserFinder:process.platform==="darwin"?DOt.DarwinEdgeBrowserFinder:POt.LinuxEdgeBrowserFinder;mg.FirefoxBrowserFinder=process.platform==="win32"?IOt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?TOt.DarwinFirefoxBrowserFinder:ROt.LinuxFirefoxBrowserFinder});var mD=E(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.PIPE_NAME_PREFIX=of.availabilityChangedEvent=of.RemoteServiceConnections=of.MessageDelimiters=of.Formatters=void 0;var WOt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(WOt=of.Formatters||(of.Formatters={}));var $Ot;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})($Ot=of.MessageDelimiters||(of.MessageDelimiters={}));var L2e;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(L2e=of.RemoteServiceConnections||(of.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(L2e=of.RemoteServiceConnections||(of.RemoteServiceConnections={}));of.availabilityChangedEvent="availabilityChanged";of.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var uO=E(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.stringArray=oh.array=oh.func=oh.error=oh.number=oh.string=oh.boolean=void 0;function VOt(r){return r===!0||r===!1}oh.boolean=VOt;function M2e(r){return typeof r=="string"||r instanceof String}oh.string=M2e;function GOt(r){return typeof r=="number"||r instanceof Number}oh.number=GOt;function KOt(r){return r instanceof Error}oh.error=KOt;function YOt(r){return typeof r=="function"}oh.func=YOt;function N2e(r){return Array.isArray(r)}oh.array=N2e;function JOt(r){return N2e(r)&&r.every(e=>M2e(e))}oh.stringArray=JOt});var Dae=E(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.Message=xn.NotificationType9=xn.NotificationType8=xn.NotificationType7=xn.NotificationType6=xn.NotificationType5=xn.NotificationType4=xn.NotificationType3=xn.NotificationType2=xn.NotificationType1=xn.NotificationType0=xn.NotificationType=xn.RequestType9=xn.RequestType8=xn.RequestType7=xn.RequestType6=xn.RequestType5=xn.RequestType4=xn.RequestType3=xn.RequestType2=xn.RequestType1=xn.RequestType=xn.RequestType0=xn.AbstractMessageSignature=xn.ParameterStructures=xn.ResponseError=xn.ErrorCodes=void 0;var D0=uO(),F2e;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(F2e=xn.ErrorCodes||(xn.ErrorCodes={}));var tae=class r extends Error{constructor(e,t,n){super(t),this.code=D0.number(e)?e:F2e.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};xn.ResponseError=tae;var dm=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};xn.ParameterStructures=dm;dm.auto=new dm("auto");dm.byPosition=new dm("byPosition");dm.byName=new dm("byName");var Ya=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return dm.auto}};xn.AbstractMessageSignature=Ya;var rae=class extends Ya{constructor(e){super(e,0)}};xn.RequestType0=rae;var nae=class extends Ya{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType=nae;var iae=class extends Ya{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType1=iae;var oae=class extends Ya{constructor(e){super(e,2)}};xn.RequestType2=oae;var sae=class extends Ya{constructor(e){super(e,3)}};xn.RequestType3=sae;var aae=class extends Ya{constructor(e){super(e,4)}};xn.RequestType4=aae;var cae=class extends Ya{constructor(e){super(e,5)}};xn.RequestType5=cae;var uae=class extends Ya{constructor(e){super(e,6)}};xn.RequestType6=uae;var lae=class extends Ya{constructor(e){super(e,7)}};xn.RequestType7=lae;var dae=class extends Ya{constructor(e){super(e,8)}};xn.RequestType8=dae;var fae=class extends Ya{constructor(e){super(e,9)}};xn.RequestType9=fae;var hae=class extends Ya{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType=hae;var pae=class extends Ya{constructor(e){super(e,0)}};xn.NotificationType0=pae;var mae=class extends Ya{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType1=mae;var gae=class extends Ya{constructor(e){super(e,2)}};xn.NotificationType2=gae;var vae=class extends Ya{constructor(e){super(e,3)}};xn.NotificationType3=vae;var yae=class extends Ya{constructor(e){super(e,4)}};xn.NotificationType4=yae;var _ae=class extends Ya{constructor(e){super(e,5)}};xn.NotificationType5=_ae;var bae=class extends Ya{constructor(e){super(e,6)}};xn.NotificationType6=bae;var wae=class extends Ya{constructor(e){super(e,7)}};xn.NotificationType7=wae;var Sae=class extends Ya{constructor(e){super(e,8)}};xn.NotificationType8=Sae;var Cae=class extends Ya{constructor(e){super(e,9)}};xn.NotificationType9=Cae;var XOt;(function(r){function e(i){let o=i;return o&&D0.string(o.method)&&(D0.string(o.id)||D0.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&D0.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(D0.string(o.id)||D0.number(o.id)||o.id===null)}r.isResponse=n})(XOt=xn.Message||(xn.Message={}))});var Eae=E(mS=>{"use strict";var q2e;Object.defineProperty(mS,"__esModule",{value:!0});mS.LRUCache=mS.LinkedMap=mS.Touch=void 0;var op;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(op=mS.Touch||(mS.Touch={}));var H3=class{constructor(){this[q2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=op.None){let n=this._map.get(e);if(n)return t!==op.None&&this.touch(n,t),n.value}set(e,t,n=op.None){let i=this._map.get(e);if(i)i.value=t,n!==op.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case op.None:this.addItemLast(i);break;case op.First:this.addItemFirst(i);break;case op.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(q2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==op.First&&t!==op.Last)){if(t===op.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===op.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};mS.LinkedMap=H3;var Tae=class extends H3{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=op.AsNew){return super.get(e,t)}peek(e){return super.get(e,op.None)}set(e,t){return super.set(e,t,op.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};mS.LRUCache=Tae});var j2e=E(BM=>{"use strict";Object.defineProperty(BM,"__esModule",{value:!0});BM.Disposable=void 0;var QOt;(function(r){function e(t){return{dispose:t}}r.create=e})(QOt=BM.Disposable||(BM.Disposable={}))});var gD=E(xae=>{"use strict";Object.defineProperty(xae,"__esModule",{value:!0});var Pae;function Rae(){if(Pae===void 0)throw new Error("No runtime abstraction layer installed");return Pae}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Pae=t}r.install=e})(Rae||(Rae={}));xae.default=Rae});var lO=E(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.Emitter=T0.Event=void 0;var ZOt=gD(),eIt;(function(r){let e={dispose(){}};r.None=function(){return e}})(eIt=T0.Event||(T0.Event={}));var Oae=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,ZOt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},B3=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Oae),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};T0.Emitter=B3;B3._noop=function(){}});var $3=E(E0=>{"use strict";Object.defineProperty(E0,"__esModule",{value:!0});E0.CancellationTokenSource=E0.CancellationToken=void 0;var tIt=gD(),rIt=uO(),Iae=lO(),kae;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Iae.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Iae.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||rIt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(kae=E0.CancellationToken||(E0.CancellationToken={}));var nIt=Object.freeze(function(r,e){let t=(0,tIt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),W3=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nIt:(this._emitter||(this._emitter=new Iae.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Aae=class{get token(){return this._token||(this._token=new W3),this._token}cancel(){this._token?this._token.cancel():this._token=kae.Cancelled}dispose(){this._token?this._token instanceof W3&&this._token.dispose():this._token=kae.None}};E0.CancellationTokenSource=Aae});var z2e=E(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});dO.SharedArrayReceiverStrategy=dO.SharedArraySenderStrategy=void 0;var iIt=$3(),WM;(function(r){r.Continue=0,r.Cancelled=1})(WM||(WM={}));var Lae=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=WM.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,WM.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};dO.SharedArraySenderStrategy=Lae;var Mae=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===WM.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Nae=class{constructor(e){this.token=new Mae(e)}cancel(){}dispose(){}},Fae=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new iIt.CancellationTokenSource:new Nae(t)}};dO.SharedArrayReceiverStrategy=Fae});var jae=E(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.Semaphore=void 0;var oIt=gD(),qae=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,oIt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};V3.Semaphore=qae});var U2e=E(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.ReadableStreamMessageReader=gS.AbstractMessageReader=gS.MessageReader=void 0;var Uae=gD(),fO=uO(),zae=lO(),sIt=jae(),aIt;(function(r){function e(t){let n=t;return n&&fO.func(n.listen)&&fO.func(n.dispose)&&fO.func(n.onError)&&fO.func(n.onClose)&&fO.func(n.onPartialMessage)}r.is=e})(aIt=gS.MessageReader||(gS.MessageReader={}));var G3=class{constructor(){this.errorEmitter=new zae.Emitter,this.closeEmitter=new zae.Emitter,this.partialMessageEmitter=new zae.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${fO.string(e.message)?e.message:"unknown"}`)}};gS.AbstractMessageReader=G3;var Hae;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Uae.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(Hae||(Hae={}));var Bae=class extends G3{constructor(e,t){super(),this.readable=e,this.options=Hae.fromOptions(t),this.buffer=(0,Uae.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new sIt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Uae.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};gS.ReadableStreamMessageReader=Bae});var $2e=E(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.WriteableStreamMessageWriter=vS.AbstractMessageWriter=vS.MessageWriter=void 0;var H2e=gD(),$M=uO(),cIt=jae(),B2e=lO(),uIt="Content-Length: ",W2e=`\r
`,lIt;(function(r){function e(t){let n=t;return n&&$M.func(n.dispose)&&$M.func(n.onClose)&&$M.func(n.onError)&&$M.func(n.write)}r.is=e})(lIt=vS.MessageWriter||(vS.MessageWriter={}));var K3=class{constructor(){this.errorEmitter=new B2e.Emitter,this.closeEmitter=new B2e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${$M.string(e.message)?e.message:"unknown"}`)}};vS.AbstractMessageWriter=K3;var Wae;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,H2e.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,H2e.default)().applicationJson.encoder}}r.fromOptions=e})(Wae||(Wae={}));var $ae=class extends K3{constructor(e,t){super(),this.writable=e,this.options=Wae.fromOptions(t),this.errorCount=0,this.writeSemaphore=new cIt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(uIt,n.byteLength.toString(),W2e),i.push(W2e),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};vS.WriteableStreamMessageWriter=$ae});var V2e=E(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.AbstractMessageBuffer=void 0;var dIt=13,fIt=10,hIt=`\r
`,Vae=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case dIt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case fIt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(hIt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),m=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};Y3.AbstractMessageBuffer=Vae});var Z2e=E(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.createMessageConnection=wn.ConnectionOptions=wn.MessageStrategy=wn.CancellationStrategy=wn.CancellationSenderStrategy=wn.CancellationReceiverStrategy=wn.RequestCancellationReceiverStrategy=wn.IdCancellationReceiverStrategy=wn.ConnectionStrategy=wn.ConnectionError=wn.ConnectionErrors=wn.LogTraceNotification=wn.SetTraceNotification=wn.TraceFormat=wn.TraceValues=wn.Trace=wn.NullLogger=wn.ProgressType=wn.ProgressToken=void 0;var G2e=gD(),Xc=uO(),_i=Dae(),K2e=Eae(),VM=lO(),Gae=$3(),KM;(function(r){r.type=new _i.NotificationType("$/cancelRequest")})(KM||(KM={}));var Y2e;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(Y2e=wn.ProgressToken||(wn.ProgressToken={}));var GM;(function(r){r.type=new _i.NotificationType("$/progress")})(GM||(GM={}));var Kae=class{constructor(){}};wn.ProgressType=Kae;var Yae;(function(r){function e(t){return Xc.func(t)}r.is=e})(Yae||(Yae={}));wn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Us;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Us=wn.Trace||(wn.Trace={}));var pIt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(pIt=wn.TraceValues||(wn.TraceValues={}));(function(r){function e(n){if(!Xc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Us=wn.Trace||(wn.Trace={}));var $y;(function(r){r.Text="text",r.JSON="json"})($y=wn.TraceFormat||(wn.TraceFormat={}));(function(r){function e(t){return Xc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})($y=wn.TraceFormat||(wn.TraceFormat={}));var J2e;(function(r){r.type=new _i.NotificationType("$/setTrace")})(J2e=wn.SetTraceNotification||(wn.SetTraceNotification={}));var Jae;(function(r){r.type=new _i.NotificationType("$/logTrace")})(Jae=wn.LogTraceNotification||(wn.LogTraceNotification={}));var J3;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(J3=wn.ConnectionErrors||(wn.ConnectionErrors={}));var hO=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};wn.ConnectionError=hO;var X2e;(function(r){function e(t){let n=t;return n&&Xc.func(n.cancelUndispatched)}r.is=e})(X2e=wn.ConnectionStrategy||(wn.ConnectionStrategy={}));var Zae;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&Xc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Xc.func(n.dispose))}r.is=e})(Zae=wn.IdCancellationReceiverStrategy||(wn.IdCancellationReceiverStrategy={}));var Q2e;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&Xc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Xc.func(n.dispose))}r.is=e})(Q2e=wn.RequestCancellationReceiverStrategy||(wn.RequestCancellationReceiverStrategy={}));var Xae;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Gae.CancellationTokenSource}});function e(t){return Zae.is(t)||Q2e.is(t)}r.is=e})(Xae=wn.CancellationReceiverStrategy||(wn.CancellationReceiverStrategy={}));var Qae;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(KM.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Xc.func(n.sendCancellation)&&Xc.func(n.cleanup)}r.is=e})(Qae=wn.CancellationSenderStrategy||(wn.CancellationSenderStrategy={}));var ece;(function(r){r.Message=Object.freeze({receiver:Xae.Message,sender:Qae.Message});function e(t){let n=t;return n&&Xae.is(n.receiver)&&Qae.is(n.sender)}r.is=e})(ece=wn.CancellationStrategy||(wn.CancellationStrategy={}));var tce;(function(r){function e(t){let n=t;return n&&Xc.func(n.handleMessage)}r.is=e})(tce=wn.MessageStrategy||(wn.MessageStrategy={}));var mIt;(function(r){function e(t){let n=t;return n&&(ece.is(n.cancellationStrategy)||X2e.is(n.connectionStrategy)||tce.is(n.messageStrategy))}r.is=e})(mIt=wn.ConnectionOptions||(wn.ConnectionOptions={}));var Vy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Vy||(Vy={}));function gIt(r,e,t,n){let i=t!==void 0?t:wn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,m=new Map,_,T=new K2e.LinkedMap,x=new Map,M=new Set,A=new Map,U=Us.Off,ne=$y.Text,de,ye=Vy.New,V=new VM.Emitter,W=new VM.Emitter,ee=new VM.Emitter,Se=new VM.Emitter,se=new VM.Emitter,ce=n&&n.cancellationStrategy?n.cancellationStrategy:ece.Message;function qe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function Ne(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function ue(){return"not-"+(++s).toString()}function De(oe,Q){_i.Message.isRequest(Q)?oe.set(qe(Q.id),Q):_i.Message.isResponse(Q)?oe.set(Ne(Q.id),Q):oe.set(ue(),Q)}function we(oe){}function xe(){return ye===Vy.Listening}function Me(){return ye===Vy.Closed}function $e(){return ye===Vy.Disposed}function Ct(){(ye===Vy.New||ye===Vy.Listening)&&(ye=Vy.Closed,W.fire(void 0))}function ze(oe){V.fire([oe,void 0,void 0])}function st(oe){V.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||T.size===0||(_=(0,G2e.default)().timer.setImmediate(()=>{_=void 0,fr()}))}function tt(oe){_i.Message.isRequest(oe)?zr(oe):_i.Message.isNotification(oe)?xt(oe):_i.Message.isResponse(oe)?cr(oe):hr(oe)}function fr(){if(T.size===0)return;let oe=T.shift();try{let Q=n?.messageStrategy;tce.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{at()}}let Lr=oe=>{try{if(_i.Message.isNotification(oe)&&oe.method===KM.type.method){let Q=oe.params.id,_e=qe(Q),Je=T.get(_e);if(_i.Message.isRequest(Je)){let Yt=n?.connectionStrategy,rr=Yt&&Yt.cancelUndispatched?Yt.cancelUndispatched(Je,we):void 0;if(rr&&(rr.error!==void 0||rr.result!==void 0)){T.delete(_e),A.delete(Q),rr.id=Je.id,On(rr,oe.method,Date.now()),e.write(rr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=A.get(Q);if(ft!==void 0){ft.cancel(),Hn(oe);return}else M.add(Q)}De(T,oe)}finally{at()}};function zr(oe){if($e())return;function Q($t,kt,K){let Fe={jsonrpc:c,id:oe.id};$t instanceof _i.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function _e($t,kt,K){let Fe={jsonrpc:c,id:oe.id,error:$t.toJson()};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function Je($t,kt,K){$t===void 0&&($t=null);let Fe={jsonrpc:c,id:oe.id,result:$t};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}Or(oe);let ft=l.get(oe.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||u){let $t=oe.id??String(Date.now()),kt=Zae.is(ce.receiver)?ce.receiver.createCancellationTokenSource($t):ce.receiver.createCancellationTokenSource(oe);oe.id!==null&&M.has(oe.id)&&kt.cancel(),oe.id!==null&&A.set($t,kt);try{let K;if(rr)if(oe.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Yt.numberOfParams} params but received none.`),oe.method,Jt);return}K=rr(kt.token)}else if(Array.isArray(oe.params)){if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byName){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Jt);return}K=rr(...oe.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byPosition){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Jt);return}K=rr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let Fe=K;K?Fe.then?Fe.then(Ht=>{A.delete($t),Q(Ht,oe.method,Jt)},Ht=>{A.delete($t),Ht instanceof _i.ResponseError?_e(Ht,oe.method,Jt):Ht&&Xc.string(Ht.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Ht.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}):(A.delete($t),Q(K,oe.method,Jt)):(A.delete($t),Je(K,oe.method,Jt))}catch(K){A.delete($t),K instanceof _i.ResponseError?Q(K,oe.method,Jt):K&&Xc.string(K.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}}else _e(new _i.ResponseError(_i.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Jt)}function cr(oe){if(!$e())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,_e=x.get(Q);if($r(oe,_e),_e!==void 0){x.delete(Q);try{if(oe.error){let Je=oe.error;_e.reject(new _i.ResponseError(Je.code,Je.message,Je.data))}else if(oe.result!==void 0)_e.resolve(oe.result);else throw new Error("Should never happen.")}catch(Je){Je.message?i.error(`Response handler '${_e.method}' failed with message: ${Je.message}`):i.error(`Response handler '${_e.method}' failed unexpectedly.`)}}}}function xt(oe){if($e())return;let Q,_e;if(oe.method===KM.type.method){let Je=oe.params.id;M.delete(Je),Hn(oe);return}else{let Je=f.get(oe.method);Je&&(_e=Je.handler,Q=Je.type)}if(_e||d)try{if(Hn(oe),_e)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),_e();else if(Array.isArray(oe.params)){let Je=oe.params;oe.method===GM.type.method&&Je.length===2&&Y2e.is(Je[0])?_e({token:Je[0],value:Je[1]}):(Q!==void 0&&(Q.parameterStructures===_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Je.length} arguments`)),_e(...Je))}else Q!==void 0&&Q.parameterStructures===_i.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),_e(oe.params);else d&&d(oe.method,oe.params)}catch(Je){Je.message?i.error(`Notification handler '${oe.method}' failed with message: ${Je.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else ee.fire(oe)}function hr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(Xc.string(Q.id)||Xc.number(Q.id)){let _e=Q.id,Je=x.get(_e);Je&&Je.reject(new Error("The received response has neither a result nor an error property."))}}function Mt(oe){if(oe!=null)switch(U){case Us.Verbose:return JSON.stringify(oe,null,4);case Us.Compact:return JSON.stringify(oe);default:return}}function on(oe){if(!(U===Us.Off||!de))if(ne===$y.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),de.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else dn("send-request",oe)}function ln(oe){if(!(U===Us.Off||!de))if(ne===$y.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Sending notification '${oe.method}'.`,Q)}else dn("send-notification",oe)}function On(oe,Q,_e){if(!(U===Us.Off||!de))if(ne===$y.Text){let Je;(U===Us.Verbose||U===Us.Compact)&&(oe.error&&oe.error.data?Je=`Error data: ${Mt(oe.error.data)}

`:oe.result?Je=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(Je=`No result returned.

`)),de.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-_e}ms`,Je)}else dn("send-response",oe)}function Or(oe){if(!(U===Us.Off||!de))if(ne===$y.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),de.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else dn("receive-request",oe)}function Hn(oe){if(!(U===Us.Off||!de||oe.method===Jae.type.method))if(ne===$y.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Received notification '${oe.method}'.`,Q)}else dn("receive-notification",oe)}function $r(oe,Q){if(!(U===Us.Off||!de))if(ne===$y.Text){let _e;if((U===Us.Verbose||U===Us.Compact)&&(oe.error&&oe.error.data?_e=`Error data: ${Mt(oe.error.data)}

`:oe.result?_e=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(_e=`No result returned.

`)),Q){let Je=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";de.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Je}`,_e)}else de.log(`Received response ${oe.id} without active response promise.`,_e)}else dn("receive-response",oe)}function dn(oe,Q){if(!de||U===Us.Off)return;let _e={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};de.log(_e)}function ii(){if(Me())throw new hO(J3.Closed,"Connection is closed.");if($e())throw new hO(J3.Disposed,"Connection is disposed.")}function Vr(){if(xe())throw new hO(J3.AlreadyListening,"Connection is already listening")}function An(){if(!xe())throw new Error("Call listen() first.")}function Ri(oe){return oe===void 0?null:oe}function Gr(oe){if(oe!==null)return oe}function Ji(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function oi(oe,Q){switch(oe){case _i.ParameterStructures.auto:return Ji(Q)?Gr(Q):[Ri(Q)];case _i.ParameterStructures.byName:if(!Ji(Q))throw new Error("Received parameters by name but param is not an object literal.");return Gr(Q);case _i.ParameterStructures.byPosition:return[Ri(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function fn(oe,Q){let _e,Je=oe.numberOfParams;switch(Je){case 0:_e=void 0;break;case 1:_e=oi(oe.parameterStructures,Q[0]);break;default:_e=[];for(let ft=0;ft<Q.length&&ft<Je;ft++)_e.push(Ri(Q[ft]));if(Q.length<Je)for(let ft=Q.length;ft<Je;ft++)_e.push(null);break}return _e}let Oe={sendNotification:(oe,...Q)=>{ii();let _e,Je;if(Xc.string(oe)){_e=oe;let Yt=Q[0],rr=0,Jt=_i.ParameterStructures.auto;_i.ParameterStructures.is(Yt)&&(rr=1,Jt=Yt);let $t=Q.length,kt=$t-rr;switch(kt){case 0:Je=void 0;break;case 1:Je=oi(Jt,Q[rr]);break;default:if(Jt===_i.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Je=Q.slice(rr,$t).map(K=>Ri(K));break}}else{let Yt=Q;_e=oe.method,Je=fn(oe,Yt)}let ft={jsonrpc:c,method:_e,params:Je};return ln(ft),e.write(ft).catch(Yt=>{throw i.error("Sending notification failed."),Yt})},onNotification:(oe,Q)=>{ii();let _e;return Xc.func(oe)?d=oe:Q&&(Xc.string(oe)?(_e=oe,f.set(oe,{type:void 0,handler:Q})):(_e=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{_e!==void 0?f.delete(_e):d=void 0}}},onProgress:(oe,Q,_e)=>{if(m.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return m.set(Q,_e),{dispose:()=>{m.delete(Q)}}},sendProgress:(oe,Q,_e)=>Oe.sendNotification(GM.type,{token:Q,value:_e}),onUnhandledProgress:Se.event,sendRequest:(oe,...Q)=>{ii(),An();let _e,Je,ft;if(Xc.string(oe)){_e=oe;let $t=Q[0],kt=Q[Q.length-1],K=0,Fe=_i.ParameterStructures.auto;_i.ParameterStructures.is($t)&&(K=1,Fe=$t);let Ht=Q.length;Gae.CancellationToken.is(kt)&&(Ht=Ht-1,ft=kt);let Tr=Ht-K;switch(Tr){case 0:Je=void 0;break;case 1:Je=oi(Fe,Q[K]);break;default:if(Fe===_i.ParameterStructures.byName)throw new Error(`Received ${Tr} parameters for 'by Name' request parameter structure.`);Je=Q.slice(K,Ht).map(He=>Ri(He));break}}else{let $t=Q;_e=oe.method,Je=fn(oe,$t);let kt=oe.numberOfParams;ft=Gae.CancellationToken.is($t[kt])?$t[kt]:void 0}let Yt=o++,rr;ft&&(rr=ft.onCancellationRequested(()=>{let $t=ce.sender.sendCancellation(Oe,Yt);return $t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Yt}`),Promise.resolve()):$t.catch(()=>{i.log(`Sending cancellation messages for id ${Yt} failed`)})}));let Jt={jsonrpc:c,id:Yt,method:_e,params:Je};return on(Jt),typeof ce.sender.enableCancellation=="function"&&ce.sender.enableCancellation(Jt),new Promise(async($t,kt)=>{let K=Tr=>{$t(Tr),ce.sender.cleanup(Yt),rr?.dispose()},Fe=Tr=>{kt(Tr),ce.sender.cleanup(Yt),rr?.dispose()},Ht={method:_e,timerStart:Date.now(),resolve:K,reject:Fe};try{await e.write(Jt),x.set(Yt,Ht)}catch(Tr){throw i.error("Sending request failed."),Ht.reject(new _i.ResponseError(_i.ErrorCodes.MessageWriteError,Tr.message?Tr.message:"Unknown reason")),Tr}})},onRequest:(oe,Q)=>{ii();let _e=null;return Yae.is(oe)?(_e=void 0,u=oe):Xc.string(oe)?(_e=null,Q!==void 0&&(_e=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(_e=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{_e!==null&&(_e!==void 0?l.delete(_e):u=void 0)}}},hasPendingResponse:()=>x.size>0,trace:async(oe,Q,_e)=>{let Je=!1,ft=$y.Text;_e!==void 0&&(Xc.boolean(_e)?Je=_e:(Je=_e.sendNotification||!1,ft=_e.traceFormat||$y.Text)),U=oe,ne=ft,U===Us.Off?de=void 0:de=Q,Je&&!Me()&&!$e()&&await Oe.sendNotification(J2e.type,{value:Us.toString(oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:se.event,end:()=>{e.end()},dispose:()=>{if($e())return;ye=Vy.Disposed,se.fire(void 0);let oe=new _i.ResponseError(_i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of x.values())Q.reject(oe);x=new Map,A=new Map,M=new Set,T=new K2e.LinkedMap,Xc.func(e.dispose)&&e.dispose(),Xc.func(r.dispose)&&r.dispose()},listen:()=>{ii(),Vr(),ye=Vy.Listening,r.listen(Lr)},inspect:()=>{(0,G2e.default)().console.log("inspect")}};return Oe.onNotification(Jae.type,oe=>{if(U===Us.Off||!de)return;let Q=U===Us.Verbose||U===Us.Compact;de.log(oe.message,Q?oe.verbose:void 0)}),Oe.onNotification(GM.type,oe=>{let Q=m.get(oe.token);Q?Q(oe.value):Se.fire(oe)}),Oe}wn.createMessageConnection=gIt});var X3=E(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProgressType=Ft.ProgressToken=Ft.createMessageConnection=Ft.NullLogger=Ft.ConnectionOptions=Ft.ConnectionStrategy=Ft.AbstractMessageBuffer=Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=Ft.ReadableStreamMessageReader=Ft.AbstractMessageReader=Ft.MessageReader=Ft.SharedArrayReceiverStrategy=Ft.SharedArraySenderStrategy=Ft.CancellationToken=Ft.CancellationTokenSource=Ft.Emitter=Ft.Event=Ft.Disposable=Ft.LRUCache=Ft.Touch=Ft.LinkedMap=Ft.ParameterStructures=Ft.NotificationType9=Ft.NotificationType8=Ft.NotificationType7=Ft.NotificationType6=Ft.NotificationType5=Ft.NotificationType4=Ft.NotificationType3=Ft.NotificationType2=Ft.NotificationType1=Ft.NotificationType0=Ft.NotificationType=Ft.ErrorCodes=Ft.ResponseError=Ft.RequestType9=Ft.RequestType8=Ft.RequestType7=Ft.RequestType6=Ft.RequestType5=Ft.RequestType4=Ft.RequestType3=Ft.RequestType2=Ft.RequestType1=Ft.RequestType0=Ft.RequestType=Ft.Message=Ft.RAL=void 0;Ft.MessageStrategy=Ft.CancellationStrategy=Ft.CancellationSenderStrategy=Ft.CancellationReceiverStrategy=Ft.ConnectionError=Ft.ConnectionErrors=Ft.LogTraceNotification=Ft.SetTraceNotification=Ft.TraceFormat=Ft.TraceValues=Ft.Trace=void 0;var Ca=Dae();Object.defineProperty(Ft,"Message",{enumerable:!0,get:function(){return Ca.Message}});Object.defineProperty(Ft,"RequestType",{enumerable:!0,get:function(){return Ca.RequestType}});Object.defineProperty(Ft,"RequestType0",{enumerable:!0,get:function(){return Ca.RequestType0}});Object.defineProperty(Ft,"RequestType1",{enumerable:!0,get:function(){return Ca.RequestType1}});Object.defineProperty(Ft,"RequestType2",{enumerable:!0,get:function(){return Ca.RequestType2}});Object.defineProperty(Ft,"RequestType3",{enumerable:!0,get:function(){return Ca.RequestType3}});Object.defineProperty(Ft,"RequestType4",{enumerable:!0,get:function(){return Ca.RequestType4}});Object.defineProperty(Ft,"RequestType5",{enumerable:!0,get:function(){return Ca.RequestType5}});Object.defineProperty(Ft,"RequestType6",{enumerable:!0,get:function(){return Ca.RequestType6}});Object.defineProperty(Ft,"RequestType7",{enumerable:!0,get:function(){return Ca.RequestType7}});Object.defineProperty(Ft,"RequestType8",{enumerable:!0,get:function(){return Ca.RequestType8}});Object.defineProperty(Ft,"RequestType9",{enumerable:!0,get:function(){return Ca.RequestType9}});Object.defineProperty(Ft,"ResponseError",{enumerable:!0,get:function(){return Ca.ResponseError}});Object.defineProperty(Ft,"ErrorCodes",{enumerable:!0,get:function(){return Ca.ErrorCodes}});Object.defineProperty(Ft,"NotificationType",{enumerable:!0,get:function(){return Ca.NotificationType}});Object.defineProperty(Ft,"NotificationType0",{enumerable:!0,get:function(){return Ca.NotificationType0}});Object.defineProperty(Ft,"NotificationType1",{enumerable:!0,get:function(){return Ca.NotificationType1}});Object.defineProperty(Ft,"NotificationType2",{enumerable:!0,get:function(){return Ca.NotificationType2}});Object.defineProperty(Ft,"NotificationType3",{enumerable:!0,get:function(){return Ca.NotificationType3}});Object.defineProperty(Ft,"NotificationType4",{enumerable:!0,get:function(){return Ca.NotificationType4}});Object.defineProperty(Ft,"NotificationType5",{enumerable:!0,get:function(){return Ca.NotificationType5}});Object.defineProperty(Ft,"NotificationType6",{enumerable:!0,get:function(){return Ca.NotificationType6}});Object.defineProperty(Ft,"NotificationType7",{enumerable:!0,get:function(){return Ca.NotificationType7}});Object.defineProperty(Ft,"NotificationType8",{enumerable:!0,get:function(){return Ca.NotificationType8}});Object.defineProperty(Ft,"NotificationType9",{enumerable:!0,get:function(){return Ca.NotificationType9}});Object.defineProperty(Ft,"ParameterStructures",{enumerable:!0,get:function(){return Ca.ParameterStructures}});var rce=Eae();Object.defineProperty(Ft,"LinkedMap",{enumerable:!0,get:function(){return rce.LinkedMap}});Object.defineProperty(Ft,"LRUCache",{enumerable:!0,get:function(){return rce.LRUCache}});Object.defineProperty(Ft,"Touch",{enumerable:!0,get:function(){return rce.Touch}});var vIt=j2e();Object.defineProperty(Ft,"Disposable",{enumerable:!0,get:function(){return vIt.Disposable}});var eje=lO();Object.defineProperty(Ft,"Event",{enumerable:!0,get:function(){return eje.Event}});Object.defineProperty(Ft,"Emitter",{enumerable:!0,get:function(){return eje.Emitter}});var tje=$3();Object.defineProperty(Ft,"CancellationTokenSource",{enumerable:!0,get:function(){return tje.CancellationTokenSource}});Object.defineProperty(Ft,"CancellationToken",{enumerable:!0,get:function(){return tje.CancellationToken}});var rje=z2e();Object.defineProperty(Ft,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return rje.SharedArraySenderStrategy}});Object.defineProperty(Ft,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return rje.SharedArrayReceiverStrategy}});var nce=U2e();Object.defineProperty(Ft,"MessageReader",{enumerable:!0,get:function(){return nce.MessageReader}});Object.defineProperty(Ft,"AbstractMessageReader",{enumerable:!0,get:function(){return nce.AbstractMessageReader}});Object.defineProperty(Ft,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return nce.ReadableStreamMessageReader}});var ice=$2e();Object.defineProperty(Ft,"MessageWriter",{enumerable:!0,get:function(){return ice.MessageWriter}});Object.defineProperty(Ft,"AbstractMessageWriter",{enumerable:!0,get:function(){return ice.AbstractMessageWriter}});Object.defineProperty(Ft,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ice.WriteableStreamMessageWriter}});var yIt=V2e();Object.defineProperty(Ft,"AbstractMessageBuffer",{enumerable:!0,get:function(){return yIt.AbstractMessageBuffer}});var sf=Z2e();Object.defineProperty(Ft,"ConnectionStrategy",{enumerable:!0,get:function(){return sf.ConnectionStrategy}});Object.defineProperty(Ft,"ConnectionOptions",{enumerable:!0,get:function(){return sf.ConnectionOptions}});Object.defineProperty(Ft,"NullLogger",{enumerable:!0,get:function(){return sf.NullLogger}});Object.defineProperty(Ft,"createMessageConnection",{enumerable:!0,get:function(){return sf.createMessageConnection}});Object.defineProperty(Ft,"ProgressToken",{enumerable:!0,get:function(){return sf.ProgressToken}});Object.defineProperty(Ft,"ProgressType",{enumerable:!0,get:function(){return sf.ProgressType}});Object.defineProperty(Ft,"Trace",{enumerable:!0,get:function(){return sf.Trace}});Object.defineProperty(Ft,"TraceValues",{enumerable:!0,get:function(){return sf.TraceValues}});Object.defineProperty(Ft,"TraceFormat",{enumerable:!0,get:function(){return sf.TraceFormat}});Object.defineProperty(Ft,"SetTraceNotification",{enumerable:!0,get:function(){return sf.SetTraceNotification}});Object.defineProperty(Ft,"LogTraceNotification",{enumerable:!0,get:function(){return sf.LogTraceNotification}});Object.defineProperty(Ft,"ConnectionErrors",{enumerable:!0,get:function(){return sf.ConnectionErrors}});Object.defineProperty(Ft,"ConnectionError",{enumerable:!0,get:function(){return sf.ConnectionError}});Object.defineProperty(Ft,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return sf.CancellationReceiverStrategy}});Object.defineProperty(Ft,"CancellationSenderStrategy",{enumerable:!0,get:function(){return sf.CancellationSenderStrategy}});Object.defineProperty(Ft,"CancellationStrategy",{enumerable:!0,get:function(){return sf.CancellationStrategy}});Object.defineProperty(Ft,"MessageStrategy",{enumerable:!0,get:function(){return sf.MessageStrategy}});var _It=gD();Ft.RAL=_It.default});var oje=E(cce=>{"use strict";Object.defineProperty(cce,"__esModule",{value:!0});var nje=require("util"),yS=X3(),Q3=class r extends yS.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new nje.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};Q3.emptyBuffer=Buffer.allocUnsafe(0);var oce=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yS.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),yS.Disposable.create(()=>this.stream.off("data",e))}},sce=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yS.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},ije=Object.freeze({messageBuffer:Object.freeze({create:r=>new Q3(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new nje.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new oce(r),asWritableStream:r=>new sce(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function ace(){return ije}(function(r){function e(){yS.RAL.install(ije)}r.install=e})(ace||(ace={}));cce.default=ace});var x0=E(No=>{"use strict";var bIt=No&&No.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wIt=No&&No.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bIt(e,r,t)};Object.defineProperty(No,"__esModule",{value:!0});No.createMessageConnection=No.createServerSocketTransport=No.createClientSocketTransport=No.createServerPipeTransport=No.createClientPipeTransport=No.generateRandomPipeName=No.StreamMessageWriter=No.StreamMessageReader=No.SocketMessageWriter=No.SocketMessageReader=No.PortMessageWriter=No.PortMessageReader=No.IPCMessageWriter=No.IPCMessageReader=void 0;var pO=oje();pO.default.install();var sje=require("path"),SIt=require("os"),CIt=require("crypto"),tV=require("net"),gg=X3();wIt(X3(),No);var uce=class extends gg.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),gg.Disposable.create(()=>this.process.off("message",e))}};No.IPCMessageReader=uce;var lce=class extends gg.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.IPCMessageWriter=lce;var dce=class extends gg.AbstractMessageReader{constructor(e){super(),this.onData=new gg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};No.PortMessageReader=dce;var fce=class extends gg.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.PortMessageWriter=fce;var P0=class extends gg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,pO.default)().stream.asReadableStream(e),t)}};No.SocketMessageReader=P0;var R0=class extends gg.WriteableStreamMessageWriter{constructor(e,t){super((0,pO.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};No.SocketMessageWriter=R0;var Z3=class extends gg.ReadableStreamMessageReader{constructor(e,t){super((0,pO.default)().stream.asReadableStream(e),t)}};No.StreamMessageReader=Z3;var eV=class extends gg.WriteableStreamMessageWriter{constructor(e,t){super((0,pO.default)().stream.asWritableStream(e),t)}};No.StreamMessageWriter=eV;var aje=process.env.XDG_RUNTIME_DIR,DIt=new Map([["linux",107],["darwin",103]]);function TIt(){let r=(0,CIt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;aje?e=sje.join(aje,`vscode-ipc-${r}.sock`):e=sje.join(SIt.tmpdir(),`vscode-${r}.sock`);let t=DIt.get(process.platform);return t!==void 0&&e.length>t&&(0,pO.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}No.generateRandomPipeName=TIt;function EIt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,tV.createServer)(a=>{s.close(),t([new P0(a,e),new R0(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}No.createClientPipeTransport=EIt;function PIt(r,e="utf-8"){let t=(0,tV.createConnection)(r);return[new P0(t,e),new R0(t,e)]}No.createServerPipeTransport=PIt;function RIt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,tV.createServer)(a=>{s.close(),t([new P0(a,e),new R0(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}No.createClientSocketTransport=RIt;function xIt(r,e="utf-8"){let t=(0,tV.createConnection)(r,"127.0.0.1");return[new P0(t,e),new R0(t,e)]}No.createServerSocketTransport=xIt;function OIt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function IIt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function kIt(r,e,t,n){t||(t=gg.NullLogger);let i=OIt(r)?new Z3(r):r,o=IIt(e)?new eV(e):e;return gg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,gg.createMessageConnection)(i,o,t,n)}No.createMessageConnection=kIt});var uje=E((xir,cje)=>{"use strict";cje.exports=x0()});var JM=E(YM=>{"use strict";Object.defineProperty(YM,"__esModule",{value:!0});YM.ServiceMoniker=void 0;var AIt;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})(AIt=YM.ServiceMoniker||(YM.ServiceMoniker={}))});var mce=E(vD=>{"use strict";var LIt=vD&&vD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vD,"__esModule",{value:!0});vD.RpcConnection=vD.ServiceRpcDescriptor=void 0;var MIt=LIt(require("assert")),hce=class{moniker;constructor(e){this.moniker=e,(0,MIt.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};vD.ServiceRpcDescriptor=hce;var pce=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};vD.RpcConnection=pce});var dje=E(XM=>{"use strict";var NIt=XM&&XM.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XM,"__esModule",{value:!0});var lje=function(){},gce=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),lje):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):lje},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){NIt(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(gce||(gce={}));XM.default=gce});var yD=E(vce=>{"use strict";Object.defineProperty(vce,"__esModule",{value:!0});var FIt=dje();vce.default=FIt.default});var fje=E(mO=>{"use strict";var qIt=mO&&mO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mO,"__esModule",{value:!0});mO.CancellationTokenAdapters=void 0;var yce=qIt(yD()),QM=x0();function jIt(r){return r&&r.ImAProxy!==void 0}var _ce=class{static isVSCode(e){return QM.CancellationToken.is(e)}static isCancellationToken(e){return e&&!jIt(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return yce.default.CANCELLED;if(e===QM.CancellationToken.None)return yce.default.CONTINUE;{let t=yce.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return QM.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new QM.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return QM.CancellationToken.None}};mO.CancellationTokenAdapters=_ce});var bce=E(vO=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});vO.registerInstanceMethodsAsRpcTargets=vO.invokeRpc=void 0;var gO=x0(),nV=fje(),O0=iV();async function zIt(r,e,t){if(e.length>0){if(gO.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=rV(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,gO.ParameterStructures.byPosition,...o,i)}else if(nV.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=nV.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=rV(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,gO.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=rV(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,gO.ParameterStructures.byPosition,...i)}}let n=rV(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,gO.ParameterStructures.byPosition,...n);return GIt(t,i)}catch(i){for(let o of n)O0.IJsonRpcMarshaledObject.is(o)&&O0.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}vO.invokeRpc=zIt;function rV(r,e){return HIt(e).map(t=>pje(r,t))}async function UIt(r,e){let t=await e;return pje(r,t)}function pje(r,e){return O0.RpcMarshalable.is(e)||O0.MarshaledObjectProxy.is(e)?O0.IJsonRpcMarshaledObject.wrap(e,r):e}function HIt(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function BIt(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function WIt(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&BIt(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function $It(r){if(r.length>0&&nV.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=nV.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function VIt(r,e){return O0.IJsonRpcMarshaledObject.is(e)?O0.IJsonRpcMarshaledObject.unwrap(e,r):e}function mje(r,e){return VIt(r,e)}function hje(r,e){return $It(e).map(t=>mje(r,t))}function GIt(r,e){return mje(r,e)}function KIt(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>UIt(e,s.apply(r,hje(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,hje(e,c))))}return WIt(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),gO.Disposable.create(()=>n.forEach(o=>o.dispose()))}vO.registerInstanceMethodsAsRpcTargets=KIt});var iV=E(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.IJsonRpcMarshaledObject=vg.MarshaledObjectProxy=vg.RpcMarshalable=vg.registerReleaseMarshaledObjectCallback=void 0;var YIt=x0(),gje=bce(),vje="$/releaseMarshaledObject";function JIt(r){r.onNotification(vje,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}vg.registerReleaseMarshaledObjectCallback=JIt;function yje(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var XIt;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(XIt=vg.RpcMarshalable||(vg.RpcMarshalable={}));var _je;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(_je=vg.MarshaledObjectProxy||(vg.MarshaledObjectProxy={}));var QIt={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=yje(r._jsonrpcMarshaledHandle,e.toString());return(0,gje.invokeRpc)(t,arguments,r.messageConnection)}}}};function wce(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var ZIt;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=wce(s);if(_je.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,gje.registerInstanceMethodsAsRpcTargets)(o,s,d=>yje(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){wce(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=wce(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(vje,YIt.ParameterStructures.byName,d)}}};c=new Proxy(l,QIt),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(ZIt=vg.IJsonRpcMarshaledObject||(vg.IJsonRpcMarshaledObject={}))});var Sce=E(Pv=>{"use strict";var ekt=Pv&&Pv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.isChannel=Pv.clone=Pv.isReadWriteStream=Pv.constructMessageConnection=void 0;var tkt=ekt(require("assert")),rkt=iV();function nkt(r,e){(0,tkt.default)(r);let t;return bje(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,rkt.registerReleaseMarshaledObjectCallback)(t),t}Pv.constructMessageConnection=nkt;function bje(r){return r&&"unshift"in r}Pv.isReadWriteStream=bje;function ikt(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}Pv.clone=ikt;function okt(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}Pv.isChannel=okt});var Tce=E(Dce=>{"use strict";var oV=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};Dce.Semaphore=oV;var Cce=class extends oV{constructor(){super(1)}};Dce.Mutex=Cce});var ZM=E(sV=>{"use strict";Object.defineProperty(sV,"__esModule",{value:!0});sV.Deferred=void 0;var Ece=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};sV.Deferred=Ece});var yO=E(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.removeFromQueue=sh.requireInteger=sh.throwIfDisposed=sh.getBufferFrom=sh.readSubstream=sh.writeSubstream=sh.writeAsync=void 0;var Sje=require("stream"),wje=ZM();async function Pce(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}sh.writeAsync=Pce;function skt(r){return new Sje.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await Pce(r,Buffer.from(i.buffer)),await Pce(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}sh.writeSubstream=skt;function akt(r){return new Sje.Readable({async read(e){let t=await Rce(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await Rce(r,i);this.push(o)}})}sh.readSubstream=akt;async function Rce(r,e,t=!1,n){let i=new wje.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new wje.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}sh.getBufferFrom=Rce;function ckt(r){if(r.isDisposed)throw new Error("disposed")}sh.throwIfDisposed=ckt;function ukt(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}sh.requireInteger=ukt;function lkt(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}sh.removeFromQueue=lkt});var Dje=E(_D=>{"use strict";var dkt=_D&&_D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_D,"__esModule",{value:!0});_D.BE32MessageWriter=_D.BE32MessageReader=void 0;var xce=x0(),fkt=dkt(yD()),Cje=require("stream"),hkt=Tce(),aV=yO(),Oce=class extends xce.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=fkt.default.create();return(async()=>{try{for(;;){let n=await(0,aV.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,aV.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),xce.Disposable.create(()=>t.cancel())}};_D.BE32MessageReader=Oce;var Ice=class extends xce.AbstractMessageWriter{writable;encoder;semaphore=new hkt.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof Cje.Writable&&this.writable.cork();let n=Promise.all([(0,aV.writeAsync)(this.writable,this.headerBuffer),(0,aV.writeAsync)(this.writable,t)]);this.writable instanceof Cje.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([pkt(t),void 0,this.errorCount])}})}end(){this.writable.end()}};_D.BE32MessageWriter=Ice;function pkt(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var Eje=E((Ace,Tje)=>{Tje.exports=kce(typeof Buffer<"u"&&Buffer)||kce(Ace.Buffer)||kce(typeof window<"u"&&window.Buffer)||Ace.Buffer;function kce(r){return r&&r.isBuffer&&r}});var cV=E((Hir,Pje)=>{var mkt={}.toString;Pje.exports=Array.isArray||function(r){return mkt.call(r)=="[object Array]"}});var Oje=E((bO,xje)=>{var _O=yg(),bO=xje.exports=Rje(0);bO.alloc=Rje;bO.concat=_O.concat;bO.from=gkt;function Rje(r){return new Array(r)}function gkt(r){if(!_O.isBuffer(r)&&_O.isView(r))r=_O.Uint8Array.from(r);else if(_O.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return _O.from.call(bO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var Aje=E((SO,kje)=>{var _S=yg(),wO=_S.global,SO=kje.exports=_S.hasBuffer?Ije(0):[];SO.alloc=_S.hasBuffer&&wO.alloc||Ije;SO.concat=_S.concat;SO.from=vkt;function Ije(r){return new wO(r)}function vkt(r){if(!_S.isBuffer(r)&&_S.isView(r))r=_S.Uint8Array.from(r);else if(_S.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return _S.from.call(SO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return wO.from&&wO.from.length!==1?wO.from(r):new wO(r)}});var Nje=E((CO,Mje)=>{var uV=yg(),CO=Mje.exports=uV.hasArrayBuffer?Lje(0):[];CO.alloc=Lje;CO.concat=uV.concat;CO.from=ykt;function Lje(r){return new Uint8Array(r)}function ykt(r){if(uV.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return uV.from.call(CO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var Fje=E(lV=>{lV.copy=wkt;lV.toString=bkt;lV.write=_kt;function _kt(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function bkt(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function wkt(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var dV=E(eN=>{var Lce=Fje();eN.copy=Uje;eN.slice=Hje;eN.toString=Skt;eN.write=Ckt("write");var bD=yg(),qje=bD.global,jje=bD.hasBuffer&&"TYPED_ARRAY_SUPPORT"in qje,zje=jje&&!qje.TYPED_ARRAY_SUPPORT;function Uje(r,e,t,n){var i=bD.isBuffer(this),o=bD.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!zje&&!i&&!o&&bD.isView(this)&&bD.isView(r)){var s=t||n!=null?Hje.call(this,t,n):this;return r.set(s,e),s.length}else return Lce.copy.call(this,r,e,t,n)}function Hje(r,e){var t=this.slice||!zje&&this.subarray;if(t)return t.call(this,r,e);var n=bD.alloc.call(this,e-r);return Uje.call(this,n,0,r,e),n}function Skt(r,e,t){var n=!jje&&bD.isBuffer(this)?this.toString:Lce.toString;return n.apply(this,arguments)}function Ckt(r){return e;function e(){var t=this[r]||Lce[r];return t.apply(this,arguments)}}});var yg=E(ah=>{var Mce=ah.global=Eje(),Vje=ah.hasBuffer=Mce&&!!Mce.isBuffer,Fce=ah.hasArrayBuffer=typeof ArrayBuffer<"u",Dkt=ah.isArray=cV();ah.isArrayBuffer=Fce?Okt:jce;var Tkt=ah.isBuffer=Vje?Mce.isBuffer:jce,Ekt=ah.isView=Fce?ArrayBuffer.isView||Kje("ArrayBuffer","buffer"):jce;ah.alloc=qce;ah.concat=Rkt;ah.from=Pkt;var Bje=ah.Array=Oje(),Wje=ah.Buffer=Aje(),$je=ah.Uint8Array=Nje(),Nce=ah.prototype=dV();function Pkt(r){return typeof r=="string"?Ikt.call(this,r):Gje(this).from(r)}function qce(r){return Gje(this).alloc(r)}function Rkt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==ah&&this||r[0],n=qce.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=Nce.copy.call(a,n,i)}}var xkt=Kje("ArrayBuffer");function Okt(r){return r instanceof ArrayBuffer||xkt(r)}function Ikt(r){var e=r.length*3,t=qce.call(this,e),n=Nce.write.call(t,r);return e!==n&&(t=Nce.slice.call(t,0,n)),t}function Gje(r){return Tkt(r)?Wje:Ekt(r)?$je:Dkt(r)?Bje:Vje?Wje:Fce?$je:Bje}function jce(){return!1}function Kje(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var fV=E(Yje=>{Yje.ExtBuffer=zce;var kkt=yg();function zce(r,e){if(!(this instanceof zce))return new zce(r,e);this.buffer=kkt.from(r),this.type=e}});var Xje=E(Jje=>{Jje.setExtPackers=Mkt;var hV=yg(),Akt=hV.global,Gy=hV.Uint8Array.from,Uce,Lkt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function Mkt(r){r.addExtPacker(14,Error,[I0,Rv]),r.addExtPacker(1,EvalError,[I0,Rv]),r.addExtPacker(2,RangeError,[I0,Rv]),r.addExtPacker(3,ReferenceError,[I0,Rv]),r.addExtPacker(4,SyntaxError,[I0,Rv]),r.addExtPacker(5,TypeError,[I0,Rv]),r.addExtPacker(6,URIError,[I0,Rv]),r.addExtPacker(10,RegExp,[Nkt,Rv]),r.addExtPacker(11,Boolean,[Hce,Rv]),r.addExtPacker(12,String,[Hce,Rv]),r.addExtPacker(13,Date,[Number,Rv]),r.addExtPacker(15,Number,[Hce,Rv]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,Gy),r.addExtPacker(18,Uint8Array,Gy),r.addExtPacker(19,Int16Array,Gy),r.addExtPacker(20,Uint16Array,Gy),r.addExtPacker(21,Int32Array,Gy),r.addExtPacker(22,Uint32Array,Gy),r.addExtPacker(23,Float32Array,Gy),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,Gy),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,Gy),r.addExtPacker(26,ArrayBuffer,Gy),r.addExtPacker(29,DataView,Gy)),hV.hasBuffer&&r.addExtPacker(27,Akt,hV.from)}function Rv(r){return Uce||(Uce=Bce().encode),Uce(r)}function Hce(r){return r.valueOf()}function Nkt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function I0(r){var e={};for(var t in Lkt)e[t]=r[t];return e}});var pV=E(tN=>{var Fkt,qkt,jkt,zkt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||de,a=4294967296,c=16777216,u;Fkt=l("Uint64BE",!0,!0),qkt=l("Int64BE",!0,!1),jkt=l("Uint64LE",!1,!0),zkt=l("Int64LE",!1,!1);function l(ye,V,W){var ee=V?0:4,Se=V?4:0,se=V?0:3,ce=V?1:2,qe=V?2:1,Ne=V?3:0,ue=V?M:U,De=V?A:ne,we=$e.prototype,xe="is"+ye,Me="_"+xe;return we.buffer=void 0,we.offset=0,we[Me]=!0,we.toNumber=at,we.toString=tt,we.toJSON=at,we.toArray=d,t&&(we.toBuffer=f),n&&(we.toArrayBuffer=m),$e[xe]=Ct,r[ye]=$e,$e;function $e(zr,cr,xt,hr){return this instanceof $e?ze(this,zr,cr,xt,hr):new $e(zr,cr,xt,hr)}function Ct(zr){return!!(zr&&zr[Me])}function ze(zr,cr,xt,hr,Mt){if(n&&i&&(cr instanceof i&&(cr=new n(cr)),hr instanceof i&&(hr=new n(hr))),!cr&&!xt&&!hr&&!u){zr.buffer=x(o,0);return}if(!_(cr,xt)){var on=u||Array;Mt=xt,hr=cr,xt=0,cr=new on(8)}zr.buffer=cr,zr.offset=xt|=0,e!==typeof hr&&(typeof hr=="string"?st(cr,xt,hr,Mt||10):_(hr,Mt)?T(cr,xt,hr,Mt):typeof Mt=="number"?(fr(cr,xt+ee,hr),fr(cr,xt+Se,Mt)):hr>0?ue(cr,xt,hr):hr<0?De(cr,xt,hr):T(cr,xt,o,0))}function st(zr,cr,xt,hr){var Mt=0,on=xt.length,ln=0,On=0;xt[0]==="-"&&Mt++;for(var Or=Mt;Mt<on;){var Hn=parseInt(xt[Mt++],hr);if(!(Hn>=0))break;On=On*hr+Hn,ln=ln*hr+Math.floor(On/a),On%=a}Or&&(ln=~ln,On?On=a-On:ln++),fr(zr,cr+ee,ln),fr(zr,cr+Se,On)}function at(){var zr=this.buffer,cr=this.offset,xt=Lr(zr,cr+ee),hr=Lr(zr,cr+Se);return W||(xt|=0),xt?xt*a+hr:hr}function tt(zr){var cr=this.buffer,xt=this.offset,hr=Lr(cr,xt+ee),Mt=Lr(cr,xt+Se),on="",ln=!W&&hr&2147483648;for(ln&&(hr=~hr,Mt=a-Mt),zr=zr||10;;){var On=hr%zr*a+Mt;if(hr=Math.floor(hr/zr),Mt=Math.floor(On/zr),on=(On%zr).toString(zr)+on,!hr&&!Mt)break}return ln&&(on="-"+on),on}function fr(zr,cr,xt){zr[cr+Ne]=xt&255,xt=xt>>8,zr[cr+qe]=xt&255,xt=xt>>8,zr[cr+ce]=xt&255,xt=xt>>8,zr[cr+se]=xt&255}function Lr(zr,cr){return zr[cr+se]*c+(zr[cr+ce]<<16)+(zr[cr+qe]<<8)+zr[cr+Ne]}}function d(ye){var V=this.buffer,W=this.offset;return u=null,ye!==!1&&W===0&&V.length===8&&s(V)?V:x(V,W)}function f(ye){var V=this.buffer,W=this.offset;if(u=t,ye!==!1&&W===0&&V.length===8&&Buffer.isBuffer(V))return V;var ee=new t(8);return T(ee,0,V,W),ee}function m(ye){var V=this.buffer,W=this.offset,ee=V.buffer;if(u=n,ye!==!1&&W===0&&ee instanceof i&&ee.byteLength===8)return ee;var Se=new n(8);return T(Se,0,V,W),Se.buffer}function _(ye,V){var W=ye&&ye.length;return V|=0,W&&V+8<=W&&typeof ye[V]!="string"}function T(ye,V,W,ee){V|=0,ee|=0;for(var Se=0;Se<8;Se++)ye[V++]=W[ee++]&255}function x(ye,V){return Array.prototype.slice.call(ye,V,V+8)}function M(ye,V,W){for(var ee=V+8;ee>V;)ye[--ee]=W&255,W/=256}function A(ye,V,W){var ee=V+8;for(W++;ee>V;)ye[--ee]=-W&255^255,W/=256}function U(ye,V,W){for(var ee=V+8;V<ee;)ye[V++]=W&255,W/=256}function ne(ye,V,W){var ee=V+8;for(W++;V<ee;)ye[V++]=-W&255^255,W/=256}function de(ye){return!!ye&&Object.prototype.toString.call(ye)=="[object Array]"}})(typeof tN=="object"&&typeof tN.nodeName!="string"?tN:tN||{})});var $ce=E(Wce=>{Wce.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,m=r[e+d];for(d+=f,o=m&(1<<-l)-1,m>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)};Wce.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,_=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+m]=a&255,m+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+m]=s&255,m+=_,s/=256,u-=8);r[t+m-_]|=T*128}});var Vce=E(Qje=>{var Ukt=Qje.uint8=new Array(256);for(rN=0;rN<=255;rN++)Ukt[rN]=Hkt(rN);var rN;function Hkt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var uze=E(cze=>{var eze=$ce(),tze=pV(),Bkt=tze.Uint64BE,Wkt=tze.Int64BE,rze=Vce().uint8,mV=yg(),Cc=mV.global,$kt=mV.hasBuffer&&"TYPED_ARRAY_SUPPORT"in Cc,Vkt=$kt&&!Cc.TYPED_ARRAY_SUPPORT,Zje=mV.hasBuffer&&Cc.prototype||{};cze.getWriteToken=Gkt;function Gkt(r){return r&&r.uint8array?Kkt():Vkt||mV.hasBuffer&&r&&r.safe?Ykt():nze()}function Kkt(){var r=nze();return r[202]=Hs(202,4,sze),r[203]=Hs(203,8,aze),r}function nze(){var r=rze.slice();return r[196]=nN(196),r[197]=k0(197),r[198]=A0(198),r[199]=nN(199),r[200]=k0(200),r[201]=A0(201),r[202]=Hs(202,4,Zje.writeFloatBE||sze,!0),r[203]=Hs(203,8,Zje.writeDoubleBE||aze,!0),r[204]=nN(204),r[205]=k0(205),r[206]=A0(206),r[207]=Hs(207,8,ize),r[208]=nN(208),r[209]=k0(209),r[210]=A0(210),r[211]=Hs(211,8,oze),r[217]=nN(217),r[218]=k0(218),r[219]=A0(219),r[220]=k0(220),r[221]=A0(221),r[222]=k0(222),r[223]=A0(223),r}function Ykt(){var r=rze.slice();return r[196]=Hs(196,1,Cc.prototype.writeUInt8),r[197]=Hs(197,2,Cc.prototype.writeUInt16BE),r[198]=Hs(198,4,Cc.prototype.writeUInt32BE),r[199]=Hs(199,1,Cc.prototype.writeUInt8),r[200]=Hs(200,2,Cc.prototype.writeUInt16BE),r[201]=Hs(201,4,Cc.prototype.writeUInt32BE),r[202]=Hs(202,4,Cc.prototype.writeFloatBE),r[203]=Hs(203,8,Cc.prototype.writeDoubleBE),r[204]=Hs(204,1,Cc.prototype.writeUInt8),r[205]=Hs(205,2,Cc.prototype.writeUInt16BE),r[206]=Hs(206,4,Cc.prototype.writeUInt32BE),r[207]=Hs(207,8,ize),r[208]=Hs(208,1,Cc.prototype.writeInt8),r[209]=Hs(209,2,Cc.prototype.writeInt16BE),r[210]=Hs(210,4,Cc.prototype.writeInt32BE),r[211]=Hs(211,8,oze),r[217]=Hs(217,1,Cc.prototype.writeUInt8),r[218]=Hs(218,2,Cc.prototype.writeUInt16BE),r[219]=Hs(219,4,Cc.prototype.writeUInt32BE),r[220]=Hs(220,2,Cc.prototype.writeUInt16BE),r[221]=Hs(221,4,Cc.prototype.writeUInt32BE),r[222]=Hs(222,2,Cc.prototype.writeUInt16BE),r[223]=Hs(223,4,Cc.prototype.writeUInt32BE),r}function nN(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function k0(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function A0(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function Hs(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function ize(r,e){new Bkt(this,e,r)}function oze(r,e){new Wkt(this,e,r)}function sze(r,e){eze.write(this,r,e,!1,23,4)}function aze(r,e){eze.write(this,r,e,!1,52,8)}});var pze=E(hze=>{var Jkt=cV(),fze=pV(),Xkt=fze.Uint64BE,Qkt=fze.Int64BE,lze=yg(),dze=dV(),Zkt=uze(),e1t=Vce().uint8,t1t=fV().ExtBuffer,r1t=typeof Uint8Array<"u",n1t=typeof Map<"u",DO=[];DO[1]=212;DO[2]=213;DO[4]=214;DO[8]=215;DO[16]=216;hze.getWriteType=i1t;function i1t(r){var e=Zkt.getWriteToken(r),t=r&&r.useraw,n=r1t&&r&&r.binarraybuffer,i=n?lze.isArrayBuffer:lze.isBuffer,o=n?de:ne,s=n1t&&r&&r.usemap,a=s?W:V,c={boolean:u,function:A,number:l,object:t?M:x,string:T(t?_:m),symbol:A,undefined:A};return c;function u(Se,se){var ce=se?195:194;e[ce](Se,se)}function l(Se,se){var ce=se|0,qe;if(se!==ce){qe=203,e[qe](Se,se);return}else-32<=ce&&ce<=127?qe=ce&255:0<=ce?qe=ce<=255?204:ce<=65535?205:206:qe=-128<=ce?208:-32768<=ce?209:210;e[qe](Se,ce)}function d(Se,se){var ce=207;e[ce](Se,se.toArray())}function f(Se,se){var ce=211;e[ce](Se,se.toArray())}function m(Se){return Se<32?1:Se<=255?2:Se<=65535?3:5}function _(Se){return Se<32?1:Se<=65535?3:5}function T(Se){return se;function se(ce,qe){var Ne=qe.length,ue=5+Ne*3;ce.offset=ce.reserve(ue);var De=ce.buffer,we=Se(Ne),xe=ce.offset+we;Ne=dze.write.call(De,qe,xe);var Me=Se(Ne);if(we!==Me){var $e=xe+Me-we,Ct=xe+Ne;dze.copy.call(De,De,$e,xe,Ct)}var ze=Me===1?160+Ne:Me<=3?215+Me:219;e[ze](ce,Ne),ce.offset+=Ne}}function x(Se,se){if(se===null)return A(Se,se);if(i(se))return o(Se,se);if(Jkt(se))return U(Se,se);if(Xkt.isUint64BE(se))return d(Se,se);if(Qkt.isInt64BE(se))return f(Se,se);var ce=Se.codec.getExtPacker(se);if(ce&&(se=ce(se)),se instanceof t1t)return ye(Se,se);a(Se,se)}function M(Se,se){if(i(se))return ee(Se,se);x(Se,se)}function A(Se,se){var ce=192;e[ce](Se,se)}function U(Se,se){var ce=se.length,qe=ce<16?144+ce:ce<=65535?220:221;e[qe](Se,ce);for(var Ne=Se.codec.encode,ue=0;ue<ce;ue++)Ne(Se,se[ue])}function ne(Se,se){var ce=se.length,qe=ce<255?196:ce<=65535?197:198;e[qe](Se,ce),Se.send(se)}function de(Se,se){ne(Se,new Uint8Array(se))}function ye(Se,se){var ce=se.buffer,qe=ce.length,Ne=DO[qe]||(qe<255?199:qe<=65535?200:201);e[Ne](Se,qe),e1t[se.type](Se),Se.send(ce)}function V(Se,se){var ce=Object.keys(se),qe=ce.length,Ne=qe<16?128+qe:qe<=65535?222:223;e[Ne](Se,qe);var ue=Se.codec.encode;ce.forEach(function(De){ue(Se,De),ue(Se,se[De])})}function W(Se,se){if(!(se instanceof Map))return V(Se,se);var ce=se.size,qe=ce<16?128+ce:ce<=65535?222:223;e[qe](Se,ce);var Ne=Se.codec.encode;se.forEach(function(ue,De,we){Ne(Se,De),Ne(Se,ue)})}function ee(Se,se){var ce=se.length,qe=ce<32?160+ce:ce<=65535?218:219;e[qe](Se,ce),Se.send(se)}}});var oN=E(iN=>{var o1t=cV();iN.createCodec=mze;iN.install=a1t;iN.filter=l1t;var s1t=yg();function TO(r){if(!(this instanceof TO))return new TO(r);this.options=r,this.init()}TO.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=s1t.Uint8Array),this};function a1t(r){for(var e in r)TO.prototype[e]=c1t(TO.prototype[e],r[e])}function c1t(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function u1t(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function l1t(r){return o1t(r)?u1t(r):r}function mze(r){return new TO(r)}iN.preset=mze({preset:!0})});var gV=E(vze=>{var d1t=fV().ExtBuffer,f1t=Xje(),h1t=pze(),Gce=oN();Gce.install({addExtPacker:m1t,getExtPacker:g1t,init:gze});vze.preset=gze.call(Gce.preset);function p1t(r){var e=h1t.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function gze(){var r=this.options;return this.encode=p1t(r),r&&r.preset&&f1t.setExtPackers(this),this}function m1t(r,e,t){t=Gce.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new d1t(a,r)}}function g1t(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var Yce=E(Kce=>{Kce.FlexDecoder=EO;Kce.FlexEncoder=PO;var sN=yg(),v1t=2048,y1t=65536,yze="BUFFER_SHORTAGE";function EO(){if(!(this instanceof EO))return new EO}function PO(){if(!(this instanceof PO))return new PO}EO.mixin=wze(_1t());EO.mixin(EO.prototype);PO.mixin=wze(b1t());PO.mixin(PO.prototype);function _1t(){return{bufferish:sN,write:r,fetch:S1t,flush:e,push:bze,pull:C1t,read:_ze,reserve:t,offset:0};function r(n){var i=this.offset?sN.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=yze)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(yze);return this.offset=o,i}}function b1t(){return{bufferish:sN,write:w1t,fetch:r,flush:e,push:bze,pull:t,read:_ze,reserve:n,send:i,maxBufferSize:y1t,minBufferSize:v1t,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return sN.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);sN.prototype.copy.call(o,this.buffer,a)}}}function w1t(){throw new Error("method not implemented: write()")}function S1t(){throw new Error("method not implemented: fetch()")}function _ze(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function bze(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function C1t(){var r=this.buffers||(this.buffers=[]);return r.shift()}function wze(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var vV=E(Sze=>{Sze.EncodeBuffer=RO;var D1t=gV().preset,T1t=Yce().FlexEncoder;T1t.mixin(RO.prototype);function RO(r){if(!(this instanceof RO))return new RO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}RO.prototype.codec=D1t;RO.prototype.write=function(r){this.codec.encode(this,r)}});var Bce=E(Cze=>{Cze.encode=P1t;var E1t=vV().EncodeBuffer;function P1t(r,e){var t=new E1t(e);return t.write(r),t.read()}});var Eze=E(Tze=>{Tze.setExtUnpackers=O1t;var Dze=yg(),R1t=Dze.global,Jce,x1t={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function O1t(r){r.addExtUnpacker(14,[xv,L0(Error)]),r.addExtUnpacker(1,[xv,L0(EvalError)]),r.addExtUnpacker(2,[xv,L0(RangeError)]),r.addExtUnpacker(3,[xv,L0(ReferenceError)]),r.addExtUnpacker(4,[xv,L0(SyntaxError)]),r.addExtUnpacker(5,[xv,L0(TypeError)]),r.addExtUnpacker(6,[xv,L0(URIError)]),r.addExtUnpacker(10,[xv,I1t]),r.addExtUnpacker(11,[xv,sp(Boolean)]),r.addExtUnpacker(12,[xv,sp(String)]),r.addExtUnpacker(13,[xv,sp(Date)]),r.addExtUnpacker(15,[xv,sp(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,sp(Int8Array)),r.addExtUnpacker(18,sp(Uint8Array)),r.addExtUnpacker(19,[wD,sp(Int16Array)]),r.addExtUnpacker(20,[wD,sp(Uint16Array)]),r.addExtUnpacker(21,[wD,sp(Int32Array)]),r.addExtUnpacker(22,[wD,sp(Uint32Array)]),r.addExtUnpacker(23,[wD,sp(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[wD,sp(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,sp(Uint8ClampedArray)),r.addExtUnpacker(26,wD),r.addExtUnpacker(29,[wD,sp(DataView)])),Dze.hasBuffer&&r.addExtUnpacker(27,sp(R1t))}function xv(r){return Jce||(Jce=Xce().decode),Jce(r)}function I1t(r){return RegExp.apply(null,r)}function L0(r){return function(e){var t=new r;for(var n in x1t)t[n]=e[n];return t}}function sp(r){return function(e){return new r(e)}}function wD(r){return new Uint8Array(r).buffer}});var eue=E(Zce=>{var Pze=$ce(),Rze=pV(),xze=Rze.Uint64BE,Oze=Rze.Int64BE;Zce.getReadFormat=L1t;Zce.readUint8=Ize;var Qce=yg(),_V=dV(),k1t=typeof Map<"u",A1t=!0;function L1t(r){var e=Qce.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=k1t&&r&&r.usemap,i={map:n?N1t:M1t,array:F1t,str:q1t,bin:e?z1t:j1t,ext:U1t,uint8:Ize,uint16:B1t,uint32:$1t,uint64:yV(8,t?Y1t:G1t),int8:H1t,int16:W1t,int32:V1t,int64:yV(8,t?J1t:K1t),float32:yV(4,X1t),float64:yV(8,Q1t)};return i}function M1t(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function N1t(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function F1t(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function q1t(r,e){var t=r.reserve(e),n=t+e;return _V.toString.call(r.buffer,"utf-8",t,n)}function j1t(r,e){var t=r.reserve(e),n=t+e,i=_V.slice.call(r.buffer,t,n);return Qce.from(i)}function z1t(r,e){var t=r.reserve(e),n=t+e,i=_V.slice.call(r.buffer,t,n);return Qce.Uint8Array.from(i).buffer}function U1t(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=_V.slice.call(r.buffer,t,i);return o(s)}function Ize(r){var e=r.reserve(1);return r.buffer[e]}function H1t(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function B1t(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function W1t(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function $1t(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function V1t(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function yV(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,A1t)}}function G1t(r){return new xze(this,r).toNumber()}function K1t(r){return new Oze(this,r).toNumber()}function Y1t(r){return new xze(this,r)}function J1t(r){return new Oze(this,r)}function X1t(r){return Pze.read(this,r,!1,23,4)}function Q1t(r){return Pze.read(this,r,!1,52,8)}});var Lze=E(Aze=>{var Z1t=eue();Aze.getReadToken=eAt;function eAt(r){var e=Z1t.getReadFormat(r);return r&&r.useraw?tAt(e):kze(e)}function kze(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=aN(e);for(e=128;e<=143;e++)t[e]=bS(e-128,r.map);for(e=144;e<=159;e++)t[e]=bS(e-144,r.array);for(e=160;e<=191;e++)t[e]=bS(e-160,r.str);for(t[192]=aN(null),t[193]=null,t[194]=aN(!1),t[195]=aN(!0),t[196]=_g(r.uint8,r.bin),t[197]=_g(r.uint16,r.bin),t[198]=_g(r.uint32,r.bin),t[199]=_g(r.uint8,r.ext),t[200]=_g(r.uint16,r.ext),t[201]=_g(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=bS(1,r.ext),t[213]=bS(2,r.ext),t[214]=bS(4,r.ext),t[215]=bS(8,r.ext),t[216]=bS(16,r.ext),t[217]=_g(r.uint8,r.str),t[218]=_g(r.uint16,r.str),t[219]=_g(r.uint32,r.str),t[220]=_g(r.uint16,r.array),t[221]=_g(r.uint32,r.array),t[222]=_g(r.uint16,r.map),t[223]=_g(r.uint32,r.map),e=224;e<=255;e++)t[e]=aN(e-256);return t}function tAt(r){var e,t=kze(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=bS(e-160,r.bin);return t}function aN(r){return function(){return r}}function _g(r,e){return function(t){var n=r(t);return e(t,n)}}function bS(r,e){return function(t){return e(t,r)}}});var bV=E(Nze=>{var rAt=fV().ExtBuffer,nAt=Eze(),iAt=eue().readUint8,oAt=Lze(),tue=oN();tue.install({addExtUnpacker:aAt,getExtUnpacker:cAt,init:Mze});Nze.preset=Mze.call(tue.preset);function sAt(r){var e=oAt.getReadToken(r);return t;function t(n){var i=iAt(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function Mze(){var r=this.options;return this.decode=sAt(r),r&&r.preset&&nAt.setExtUnpackers(this),this}function aAt(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=tue.filter(e)}function cAt(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new rAt(n,r)}}});var wV=E(Fze=>{Fze.DecodeBuffer=xO;var uAt=bV().preset,lAt=Yce().FlexDecoder;lAt.mixin(xO.prototype);function xO(r){if(!(this instanceof xO))return new xO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}xO.prototype.codec=uAt;xO.prototype.fetch=function(){return this.codec.decode(this)}});var Xce=E(qze=>{qze.decode=fAt;var dAt=wV().DecodeBuffer;function fAt(r,e){var t=new dAt(e);return t.write(r),t.read()}});var iue=E((lor,nue)=>{function rue(){if(!(this instanceof rue))return new rue}(function(r){typeof nue<"u"&&(nue.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(m),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function m(_){return _!==l&&_.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var m=arguments.length;if(m===1)f.forEach(T);else if(m===2)f.forEach(x);else{var _=Array.prototype.slice.call(arguments,1);f.forEach(M)}return!!f.length;function T(A){A.call(d)}function x(A){A.call(d,l)}function M(A){A.apply(d,_)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(rue)});var Uze=E(zze=>{zze.Encoder=M0;var hAt=iue(),jze=vV().EncodeBuffer;function M0(r){if(!(this instanceof M0))return new M0(r);jze.call(this,r)}M0.prototype=new jze;hAt.mixin(M0.prototype);M0.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};M0.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var Wze=E(Bze=>{Bze.Decoder=SD;var pAt=iue(),Hze=wV().DecodeBuffer;function SD(r){if(!(this instanceof SD))return new SD(r);Hze.call(this,r)}SD.prototype=new Hze;pAt.mixin(SD.prototype);SD.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};SD.prototype.push=function(r){this.emit("data",r)};SD.prototype.end=function(r){this.decode(r),this.emit("end")}});var Gze=E(Vze=>{Vze.createEncodeStream=OO;var mAt=require("util"),$ze=require("stream").Transform,gAt=vV().EncodeBuffer;mAt.inherits(OO,$ze);var vAt={objectMode:!0};function OO(r){if(!(this instanceof OO))return new OO(r);r?r.objectMode=!0:r=vAt,$ze.call(this,r);var e=this,t=this.encoder=new gAt(r);t.push=function(n){e.push(n)}}OO.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};OO.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var Jze=E(Yze=>{Yze.createDecodeStream=cN;var yAt=require("util"),Kze=require("stream").Transform,_At=wV().DecodeBuffer;yAt.inherits(cN,Kze);var bAt={objectMode:!0};function cN(r){if(!(this instanceof cN))return new cN(r);r?r.objectMode=!0:r=bAt,Kze.call(this,r);var e=this,t=this.decoder=new _At(r);t.push=function(n){e.push(n)}}cN.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var Qze=E(Xze=>{bV();gV();Xze.createCodec=oN().createCodec});var eUe=E(Zze=>{bV();gV();Zze.codec={preset:oN().preset}});var oue=E(wS=>{wS.encode=Bce().encode;wS.decode=Xce().decode;wS.Encoder=Uze().Encoder;wS.Decoder=Wze().Decoder;wS.createEncodeStream=Gze().createEncodeStream;wS.createDecodeStream=Jze().createDecodeStream;wS.createCodec=Qze().createCodec;wS.codec=eUe().codec});var sue=E(uN=>{"use strict";Object.defineProperty(uN,"__esModule",{value:!0});uN.ControlCode=void 0;var wAt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(wAt=uN.ControlCode||(uN.ControlCode={}))});var CV=E(SV=>{"use strict";Object.defineProperty(SV,"__esModule",{value:!0});SV.FrameHeader=void 0;var SAt=yO(),aue=class{constructor(e,t){this.code=e,t&&(0,SAt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};SV.FrameHeader=aue});var lN=E(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});CD.QualifiedChannelId=CD.ChannelSource=void 0;var DV;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(DV=CD.ChannelSource||(CD.ChannelSource={}));var CAt;(function(r){function e(t){let n=t.source===DV.Local?"local":t.source===DV.Remote?"remote":t.source===DV.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(CAt=CD.QualifiedChannelId||(CD.QualifiedChannelId={}))});var nUe=E(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.MultiplexingStreamV3Formatter=Sb.MultiplexingStreamV2Formatter=Sb.MultiplexingStreamV1Formatter=Sb.MultiplexingStreamFormatter=void 0;var cue=PV(),DAt=require("crypto"),SS=yO(),bg=oue(),tUe=ZM(),uue=CV(),rUe=lN(),CS=class{static getIsOddRandomData(){return(0,DAt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new uue.FrameHeader(e);let i=t%2===1===this.isOdd?rUe.ChannelSource.Remote:rUe.ChannelSource.Local;return new uue.FrameHeader(e,{id:t,source:i})}};Sb.MultiplexingStreamFormatter=CS;var TV=class r extends CS{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=CS.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,SS.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,SS.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:CS.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,SS.writeAsync)(this.stream,i),t&&t.length>0&&await(0,SS.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,SS.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,SS.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,cue.MultiplexingStream.ControlFrameEncoding);if(t.length>cue.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(cue.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};Sb.MultiplexingStreamV1Formatter=TV;TV.protocolMagicNumber=Buffer.from([47,223,29,80]);var dN=class r extends CS{constructor(e){super(),this.reader=bg.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=CS.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,SS.writeAsync)(this.writer,bg.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:CS.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,SS.writeAsync)(this.writer,bg.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),bg.encode(t)}deserializeOfferParameters(e){let t=bg.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),bg.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:bg.decode(e)[0]}}serializeContentProcessed(e){return bg.encode([e])}deserializeContentProcessed(e){return bg.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return bg.encode(n)}deserializeException(e){if(e.length===0)return null;let t=bg.decode(e);if(!t||t.length===0)return null;let n=bg.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new tUe.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new tUe.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};Sb.MultiplexingStreamV2Formatter=dN;dN.protocolVersion={major:2,minor:0};var EV=class r extends dN{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,SS.writeAsync)(this.writer,bg.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new uue.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};Sb.MultiplexingStreamV3Formatter=EV;EV.protocolV3Version={major:2,minor:0}});var oUe=E(iUe=>{"use strict";Object.defineProperty(iUe,"__esModule",{value:!0})});var RV=E((Dor,sUe)=>{"use strict";sUe.exports=(r=>e=>(e.catch(r),e))(()=>{})});var PV=E(LO=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});LO.MultiplexingStreamClass=LO.MultiplexingStream=void 0;var TAt=Tce(),IO=yD(),EAt=require("events"),IV=lue(),Ov=sue(),aUe=ZM(),AO=CV(),xV=nUe();oUe();var DS=lN(),kO=yO(),OV=RV(),TS=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new aUe.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new EAt.EventEmitter,this.disposalTokenSource=IO.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:DS.ChannelSource.Seeded};this.setOpenChannel(new IV.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=IO.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new xV.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new xV.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new xV.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new fN(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new xV.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new fN(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new IV.ChannelClass(this,{id:this.getUnusedChannelId(),source:DS.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new AO.FrameHeader(Ov.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,kO.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");OV(t.acceptance),OV(t.completion),t.dispose()}async offerChannelAsync(e,t,n=IO.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,kO.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new IV.ChannelClass(this,{id:this.getUnusedChannelId(),source:DS.ChannelSource.Local},o);this.setOpenChannel(a);let c=new AO.FrameHeader(Ov.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return OV(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=IO.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,kO.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new aUe.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];OV(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==DS.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new AO.FrameHeader(Ov.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,kO.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case DS.ChannelSource.Local:return this.locallyOfferedOpenChannels;case DS.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case DS.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new IO.default.CancellationError(n))&&(0,kO.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};LO.MultiplexingStream=TS;TS.framePayloadMaxLength=20*1024;TS.recommendedDefaultChannelReceivingWindowSize=5*TS.framePayloadMaxLength;TS.defaultChannelOptions={};TS.ControlFrameEncoding="utf-8";var fN=class extends TS{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new TAt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=IO.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,kO.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new AO.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(Ov.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new AO.FrameHeader(Ov.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new AO.FrameHeader(Ov.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case Ov.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case Ov.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case Ov.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case Ov.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case Ov.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case Ov.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new IV.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==DS.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${DS.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};LO.MultiplexingStreamClass=fN});var lue=E(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0});MO.ChannelClass=MO.Channel=void 0;var cUe=yD(),PAt=require("stream"),RAt=sue(),kV=ZM(),xAt=CV(),OAt=PV(),due=lN(),fue=RV(),AV=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};MO.Channel=AV;var hue=class extends AV{constructor(e,t,n){super(t),this._acceptance=new kV.Deferred,this._completion=new kV.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case due.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case due.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case due.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new kV.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new PAt.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,OAt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new xAt.FrameHeader(RAt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new cUe.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),fue(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new cUe.default.CancellationError("disposed"))&&fue(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),fue(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new kV.Deferred)}}};MO.ChannelClass=hue});var uUe=E(LV=>{"use strict";Object.defineProperty(LV,"__esModule",{value:!0});LV.FullDuplexStream=void 0;var pue=require("stream"),mue=class r{static CreatePair(){let e=new pue.PassThrough,t=new pue.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new pue.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};LV.FullDuplexStream=mue});var hN=E(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.ChannelSource=ch.QualifiedChannelId=ch.readSubstream=ch.writeSubstream=ch.MultiplexingStream=ch.FullDuplexStream=ch.Channel=void 0;var IAt=lue();Object.defineProperty(ch,"Channel",{enumerable:!0,get:function(){return IAt.Channel}});var kAt=uUe();Object.defineProperty(ch,"FullDuplexStream",{enumerable:!0,get:function(){return kAt.FullDuplexStream}});var AAt=PV();Object.defineProperty(ch,"MultiplexingStream",{enumerable:!0,get:function(){return AAt.MultiplexingStream}});var lUe=yO();Object.defineProperty(ch,"writeSubstream",{enumerable:!0,get:function(){return lUe.writeSubstream}});Object.defineProperty(ch,"readSubstream",{enumerable:!0,get:function(){return lUe.readSubstream}});var dUe=lN();Object.defineProperty(ch,"QualifiedChannelId",{enumerable:!0,get:function(){return dUe.QualifiedChannelId}});Object.defineProperty(ch,"ChannelSource",{enumerable:!0,get:function(){return dUe.ChannelSource}})});var fUe=E(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});NO.NodeStreamMessageWriter=NO.NodeStreamMessageReader=void 0;var ES=x0(),gue=class extends ES.ReadableStreamMessageReader{constructor(e,t){super(new yue(e),t)}};NO.NodeStreamMessageReader=gue;var vue=class extends ES.WriteableStreamMessageWriter{constructor(e,t){super(new _ue(e),t)}};NO.NodeStreamMessageWriter=vue;var yue=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ES.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ES.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ES.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ES.Disposable.create(()=>this.stream.off("data",e))}},_ue=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ES.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ES.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ES.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var Cue=E(Iv=>{"use strict";var LAt=Iv&&Iv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),MAt=Iv&&Iv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NAt=Iv&&Iv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&LAt(e,r,t);return MAt(e,r),e};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.JsonRpcConnection=Iv.ServiceJsonRpcDescriptor=void 0;var bue=uje(),pN=mD(),FAt=JM(),wue=mce(),MV=Sce(),hUe=Dje(),pUe=NAt(oue()),qAt=hN(),jAt=require("stream"),mUe=fUe(),gUe=bce(),Sue=class r extends wue.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case pN.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case pN.Formatters.MessagePack:o=a=>Promise.resolve(pUe.encode(a)),s=a=>pUe.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===pN.MessageDelimiters.HttpLikeHeaders){if(t!==pN.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,bue.createMessageConnection)(new mUe.NodeStreamMessageReader(a),new mUe.NodeStreamMessageWriter(a))}else if(n===pN.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,bue.createMessageConnection)(new hUe.BE32MessageReader(a,s),new hUe.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,MV.isChannel)(e)?e.stream:e,i=qAt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new mN((0,MV.constructMessageConnection)(o,this.connectionFactory))}return new mN((0,MV.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!FAt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,MV.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};Iv.ServiceJsonRpcDescriptor=Sue;var zAt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,gUe.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},mN=class extends wue.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,gUe.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),wue.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,bue.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new jAt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,zAt)}startListening(){this.messageConnection?.listen()}dispose(){}};Iv.JsonRpcConnection=mN});var qV=E(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});FV.FrameworkServices=void 0;var NV=mD(),vUe=Cue(),yUe=JM(),Due=class{static remoteServiceBroker=Object.freeze(new vUe.ServiceJsonRpcDescriptor(yUe.ServiceMoniker.create("RemoteServiceBroker"),NV.Formatters.Utf8,NV.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new vUe.ServiceJsonRpcDescriptor(yUe.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),NV.Formatters.Utf8,NV.MessageDelimiters.HttpLikeHeaders))};FV.FrameworkServices=Due});var Eue=E(FO=>{"use strict";var wUe=FO&&FO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(FO,"__esModule",{value:!0});FO.AuthorizationServiceClient=void 0;var _Ue=wUe(require("assert")),bUe=wUe(yD()),Tue=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,_Ue.default)(e),this.authService=e}async getCredentials(e=bUe.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=bUe.default.CONTINUE){if((0,_Ue.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};FO.AuthorizationServiceClient=Tue});var SUe=E(gN=>{"use strict";Object.defineProperty(gN,"__esModule",{value:!0});gN.IDisposable=void 0;var UAt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(UAt=gN.IDisposable||(gN.IDisposable={}))});var xue=E(jV=>{"use strict";Object.defineProperty(jV,"__esModule",{value:!0});jV.IpcRelayServiceBroker=void 0;var Pue=mD(),HAt=require("events"),CUe=(jx(),GS(w$)),BAt=require("net"),WAt=require("path"),Rue=class r extends HAt{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!Pue.RemoteServiceConnections.contains(e.supportedConnections,Pue.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,CUe.v4)(),s=WAt.join(Pue.PIPE_NAME_PREFIX,(0,CUe.v4)()),a=(0,BAt.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};jV.IpcRelayServiceBroker=Rue});var TUe=E(qO=>{"use strict";var $At=qO&&qO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qO,"__esModule",{value:!0});qO.MultiplexingRelayServiceBroker=void 0;var DUe=mD(),VAt=require("events"),GAt=hN(),KAt=qV(),YAt=$At(RV()),JAt=(jx(),GS(w$)),Oue=class r extends VAt{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await GAt.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return KAt.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!DUe.RemoteServiceConnections.contains(e.supportedConnections,DUe.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,JAt.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,YAt.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};qO.MultiplexingRelayServiceBroker=Oue});var PUe=E(N0=>{"use strict";var XAt=N0&&N0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(N0,"__esModule",{value:!0});N0.ProtectedOperation=void 0;var EUe=XAt(require("assert")),QAt;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,EUe.default)(i),(0,EUe.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(QAt=N0.ProtectedOperation||(N0.ProtectedOperation={}))});var Iue=E(vN=>{"use strict";Object.defineProperty(vN,"__esModule",{value:!0});vN.RemoteServiceConnectionInfo=void 0;var ZAt;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(ZAt=vN.RemoteServiceConnectionInfo||(vN.RemoteServiceConnectionInfo={}))});var Aue=E(jO=>{"use strict";var IUe=jO&&jO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jO,"__esModule",{value:!0});jO.RemoteServiceBroker=void 0;var Ky=IUe(require("assert")),F0=IUe(yD()),eLt=require("events"),tLt=hN(),rLt=Eue(),DD=mD(),RUe=Iue(),xUe=Sce(),nLt=require("net"),OUe=qV(),kue=class r extends eLt.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=DD.RemoteServiceConnections.Multiplexing|DD.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=F0.default.CONTINUE){(0,Ky.default)(e);let n=OUe.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=F0.default.CONTINUE){return(0,Ky.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=F0.default.CONTINUE){(0,Ky.default)(e);let i=await tLt.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=OUe.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=F0.default.CONTINUE){(0,Ky.default)(e),(0,Ky.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=F0.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~DD.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,Ky.default)(e),(0,Ky.default)(t),DD.RemoteServiceConnections.contains(t.supportedConnections,DD.RemoteServiceConnections.Multiplexing)&&(0,Ky.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,Ky.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new rLt.AuthorizationServiceClient(e)}async getProxy(e,t,n=F0.default.CONTINUE){(0,Ky.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||RUe.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(DD.PIPE_NAME_PREFIX)?DD.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,nLt.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,xUe.isReadWriteStream)(i)?i.end():(0,xUe.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=F0.default.CONTINUE){if((0,Ky.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||RUe.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(DD.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};jO.RemoteServiceBroker=kue});var kUe=E(zV=>{"use strict";Object.defineProperty(zV,"__esModule",{value:!0});zV.Observer=void 0;var Lue=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};zV.Observer=Lue});var LUe=E((UV,AUe)=>{(function(r,e){typeof UV=="object"&&typeof AUe<"u"?e(UV):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(UV,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(g){g&&(g.value=!0)}function c(){}function u(g){return g.size===void 0&&(g.size=g.__iterate(d)),g.size}function l(g,v){if(typeof v!="number"){var P=v>>>0;if(""+P!==v||P===4294967295)return NaN;v=P}return v<0?u(g)+v:v}function d(){return!0}function f(g,v,P){return(g===0&&!x(g)||P!==void 0&&g<=-P)&&(v===void 0||P!==void 0&&v>=P)}function m(g,v){return T(g,v,0)}function _(g,v){return T(g,v,v)}function T(g,v,P){return g===void 0?P:x(g)?v===1/0?v:Math.max(0,v+g)|0:v===void 0||v===g?g:Math.min(v,g)|0}function x(g){return g<0||g===0&&1/g===-1/0}var M="@@__IMMUTABLE_ITERABLE__@@";function A(g){return!!(g&&g[M])}var U="@@__IMMUTABLE_KEYED__@@";function ne(g){return!!(g&&g[U])}var de="@@__IMMUTABLE_INDEXED__@@";function ye(g){return!!(g&&g[de])}function V(g){return ne(g)||ye(g)}var W=function(v){return A(v)?v:Or(v)},ee=function(g){function v(P){return ne(P)?P:Hn(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),Se=function(g){function v(P){return ye(P)?P:$r(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),se=function(g){function v(P){return A(P)&&!V(P)?P:dn(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W);W.Keyed=ee,W.Indexed=Se,W.Set=se;var ce="@@__IMMUTABLE_SEQ__@@";function qe(g){return!!(g&&g[ce])}var Ne="@@__IMMUTABLE_RECORD__@@";function ue(g){return!!(g&&g[Ne])}function De(g){return A(g)||ue(g)}var we="@@__IMMUTABLE_ORDERED__@@";function xe(g){return!!(g&&g[we])}var Me=0,$e=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,st="@@iterator",at=ze||st,tt=function(v){this.next=v};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Me,tt.VALUES=$e,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[at]=function(){return this};function fr(g,v,P,O){var F=g===0?v:g===1?P:[v,P];return O?O.value=F:O={value:F,done:!1},O}function Lr(){return{value:void 0,done:!0}}function zr(g){return Array.isArray(g)?!0:!!hr(g)}function cr(g){return g&&typeof g.next=="function"}function xt(g){var v=hr(g);return v&&v.call(g)}function hr(g){var v=g&&(ze&&g[ze]||g[st]);if(typeof v=="function")return v}function Mt(g){var v=hr(g);return v&&v===g.entries}function on(g){var v=hr(g);return v&&v===g.keys}var ln=Object.prototype.hasOwnProperty;function On(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var Or=function(g){function v(P){return P==null?Gr():De(P)?P.toSeq():fn(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq {","}")},v.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},v.prototype.__iterate=function(O,F){var J=this._cache;if(J){for(var Z=J.length,pe=0;pe!==Z;){var ke=J[F?Z-++pe:pe++];if(O(ke[1],ke[0],this)===!1)break}return pe}return this.__iterateUncached(O,F)},v.prototype.__iterator=function(O,F){var J=this._cache;if(J){var Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=J[F?Z-++pe:pe++];return fr(O,ke[0],ke[1])})}return this.__iteratorUncached(O,F)},v}(W),Hn=function(g){function v(P){return P==null?Gr().toKeyedSeq():A(P)?ne(P)?P.toSeq():P.fromEntrySeq():ue(P)?P.toSeq():Ji(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toKeyedSeq=function(){return this},v}(Or),$r=function(g){function v(P){return P==null?Gr():A(P)?ne(P)?P.entrySeq():P.toIndexedSeq():ue(P)?P.toSeq().entrySeq():oi(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toIndexedSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq [","]")},v}(Or),dn=function(g){function v(P){return(A(P)&&!V(P)?P:$r(P)).toSetSeq()}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toSetSeq=function(){return this},v}(Or);Or.isSeq=qe,Or.Keyed=Hn,Or.Set=dn,Or.Indexed=$r,Or.prototype[ce]=!0;var ii=function(g){function v(P){this._array=P,this.size=P.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this.has(O)?this._array[l(this,O)]:F},v.prototype.__iterate=function(O,F){for(var J=this._array,Z=J.length,pe=0;pe!==Z;){var ke=F?Z-++pe:pe++;if(O(J[ke],ke,this)===!1)break}return pe},v.prototype.__iterator=function(O,F){var J=this._array,Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=F?Z-++pe:pe++;return fr(O,ke,J[ke])})},v}($r),Vr=function(g){function v(P){var O=Object.keys(P).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(P):[]);this._object=P,this._keys=O,this.size=O.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return F!==void 0&&!this.has(O)?F:this._object[O]},v.prototype.has=function(O){return ln.call(this._object,O)},v.prototype.__iterate=function(O,F){for(var J=this._object,Z=this._keys,pe=Z.length,ke=0;ke!==pe;){var Qe=Z[F?pe-++ke:ke++];if(O(J[Qe],Qe,this)===!1)break}return ke},v.prototype.__iterator=function(O,F){var J=this._object,Z=this._keys,pe=Z.length,ke=0;return new tt(function(){if(ke===pe)return Lr();var Qe=Z[F?pe-++ke:ke++];return fr(O,Qe,J[Qe])})},v}(Hn);Vr.prototype[we]=!0;var An=function(g){function v(P){this._collection=P,this.size=P.length||P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.__iterateUncached=function(O,F){if(F)return this.cacheResult().__iterate(O,F);var J=this._collection,Z=xt(J),pe=0;if(cr(Z))for(var ke;!(ke=Z.next()).done&&O(ke.value,pe++,this)!==!1;);return pe},v.prototype.__iteratorUncached=function(O,F){if(F)return this.cacheResult().__iterator(O,F);var J=this._collection,Z=xt(J);if(!cr(Z))return new tt(Lr);var pe=0;return new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,pe++,ke.value)})},v}($r),Ri;function Gr(){return Ri||(Ri=new ii([]))}function Ji(g){var v=Oe(g);if(v)return v.fromEntrySeq();if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function oi(g){var v=Oe(g);if(v)return v;throw new TypeError("Expected Array or collection object of values: "+g)}function fn(g){var v=Oe(g);if(v)return Mt(g)?v.fromEntrySeq():on(g)?v.toSetSeq():v;if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function Oe(g){return On(g)?new ii(g):zr(g)?new An(g):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(g){return!!(g&&g[oe])}function _e(g){return Q(g)&&xe(g)}function Je(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function ft(g,v){if(g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1;if(typeof g.valueOf=="function"&&typeof v.valueOf=="function"){if(g=g.valueOf(),v=v.valueOf(),g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1}return!!(Je(g)&&Je(v)&&g.equals(v))}var Yt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(v,P){v|=0,P|=0;var O=v&65535,F=P&65535;return O*F+((v>>>16)*F+O*(P>>>16)<<16>>>0)|0};function rr(g){return g>>>1&1073741824|g&3221225471}var Jt=Object.prototype.valueOf;function $t(g){if(g==null)return kt(g);if(typeof g.hashCode=="function")return rr(g.hashCode(g));var v=he(g);if(v==null)return kt(v);switch(typeof v){case"boolean":return v?1108378657:1108378656;case"number":return K(v);case"string":return v.length>qn?Fe(v):Ht(v);case"object":case"function":return He(v);case"symbol":return Tr(v);default:if(typeof v.toString=="function")return Ht(v.toString());throw new Error("Value type "+typeof v+" cannot be hashed.")}}function kt(g){return g===null?1108378658:1108378659}function K(g){if(g!==g||g===1/0)return 0;var v=g|0;for(v!==g&&(v^=g*4294967295);g>4294967295;)g/=4294967295,v^=g;return rr(v)}function Fe(g){var v=Sn[g];return v===void 0&&(v=Ht(g),ks===xi&&(ks=0,Sn={}),ks++,Sn[g]=v),v}function Ht(g){for(var v=0,P=0;P<g.length;P++)v=31*v+g.charCodeAt(P)|0;return rr(v)}function Tr(g){var v=Dr[g];return v!==void 0||(v=S(),Dr[g]=v),v}function He(g){var v;if(fe&&(v=Ye.get(g),v!==void 0)||(v=g[Xr],v!==void 0)||!Re&&(v=g.propertyIsEnumerable&&g.propertyIsEnumerable[Xr],v!==void 0||(v=je(g),v!==void 0)))return v;if(v=S(),fe)Ye.set(g,v);else{if(re!==void 0&&re(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Re)Object.defineProperty(g,Xr,{enumerable:!1,configurable:!1,writable:!1,value:v});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[Xr]=v;else if(g.nodeType!==void 0)g[Xr]=v;else throw new Error("Unable to set a non-enumerable property on object.")}return v}var re=Object.isExtensible,Re=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function he(g){return g.valueOf!==Jt&&typeof g.valueOf=="function"?g.valueOf(g):g}function S(){var g=++Wr;return Wr&1073741824&&(Wr=0),g}var fe=typeof WeakMap=="function",Ye;fe&&(Ye=new WeakMap);var Dr=Object.create(null),Wr=0,Xr="__immutablehash__";typeof Symbol=="function"&&(Xr=Symbol(Xr));var qn=16,xi=255,ks=0,Sn={},es=function(g){function v(P,O){this._iter=P,this._useKeys=O,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this._iter.get(O,F)},v.prototype.has=function(O){return this._iter.has(O)},v.prototype.valueSeq=function(){return this._iter.valueSeq()},v.prototype.reverse=function(){var O=this,F=Ue(this,!0);return this._useKeys||(F.valueSeq=function(){return O._iter.toSeq().reverse()}),F},v.prototype.map=function(O,F){var J=this,Z=H(this,O,F);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(O,F)}),Z},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z,pe){return O(Z,pe,J)},F)},v.prototype.__iterator=function(O,F){return this._iter.__iterator(O,F)},v}(Hn);es.prototype[we]=!0;var Bs=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.includes=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return F&&u(this),this._iter.__iterate(function(pe){return O(pe,F?J.size-++Z:Z++,J)},F)},v.prototype.__iterator=function(O,F){var J=this,Z=this._iter.__iterator($e,F),pe=0;return F&&u(this),new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,F?J.size-++pe:pe++,ke.value,ke)})},v}($r),ta=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.has=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){var Z=J.next();return Z.done?Z:fr(O,Z.value,Z.value,Z)})},v}(dn),Fo=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.entrySeq=function(){return this._iter.toSeq()},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){if(Z){mu(Z);var pe=A(Z);return O(pe?Z.get(1):Z[1],pe?Z.get(0):Z[0],J)}},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var pe=Z.value;if(pe){mu(pe);var ke=A(pe);return fr(O,ke?pe.get(0):pe[0],ke?pe.get(1):pe[1],Z)}}})},v}(Hn);Bs.prototype.cacheResult=es.prototype.cacheResult=ta.prototype.cacheResult=Fo.prototype.cacheResult=al;function Eo(g){var v=yo(g);return v._iter=g,v.size=g.size,v.flip=function(){return g},v.reverse=function(){var P=g.reverse.apply(this);return P.flip=function(){return g.reverse()},P},v.has=function(P){return g.includes(P)},v.includes=function(P){return g.has(P)},v.cacheResult=al,v.__iterateUncached=function(P,O){var F=this;return g.__iterate(function(J,Z){return P(Z,J,F)!==!1},O)},v.__iteratorUncached=function(P,O){if(P===Ct){var F=g.__iterator(P,O);return new tt(function(){var J=F.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return g.__iterator(P===$e?Me:$e,O)},v}function H(g,v,P){var O=yo(g);return O.size=g.size,O.has=function(F){return g.has(F)},O.get=function(F,J){var Z=g.get(F,o);return Z===o?J:v.call(P,Z,F,g)},O.__iterateUncached=function(F,J){var Z=this;return g.__iterate(function(pe,ke,Qe){return F(v.call(P,pe,ke,Qe),ke,Z)!==!1},J)},O.__iteratorUncached=function(F,J){var Z=g.__iterator(Ct,J);return new tt(function(){var pe=Z.next();if(pe.done)return pe;var ke=pe.value,Qe=ke[0];return fr(F,Qe,v.call(P,ke[1],Qe,g),pe)})},O}function Ue(g,v){var P=this,O=yo(g);return O._iter=g,O.size=g.size,O.reverse=function(){return g},g.flip&&(O.flip=function(){var F=Eo(g);return F.reverse=function(){return g.flip()},F}),O.get=function(F,J){return g.get(v?F:-1-F,J)},O.has=function(F){return g.has(v?F:-1-F)},O.includes=function(F){return g.includes(F)},O.cacheResult=al,O.__iterate=function(F,J){var Z=this,pe=0;return J&&u(g),g.__iterate(function(ke,Qe){return F(ke,v?Qe:J?Z.size-++pe:pe++,Z)},!J)},O.__iterator=function(F,J){var Z=0;J&&u(g);var pe=g.__iterator(Ct,!J);return new tt(function(){var ke=pe.next();if(ke.done)return ke;var Qe=ke.value;return fr(F,v?Qe[0]:J?P.size-++Z:Z++,Qe[1],ke)})},O}function vt(g,v,P,O){var F=yo(g);return O&&(F.has=function(J){var Z=g.get(J,o);return Z!==o&&!!v.call(P,Z,J,g)},F.get=function(J,Z){var pe=g.get(J,o);return pe!==o&&v.call(P,pe,J,g)?pe:Z}),F.__iterateUncached=function(J,Z){var pe=this,ke=0;return g.__iterate(function(Qe,ht,Ut){if(v.call(P,Qe,ht,Ut))return ke++,J(Qe,O?ht:ke-1,pe)},Z),ke},F.__iteratorUncached=function(J,Z){var pe=g.__iterator(Ct,Z),ke=0;return new tt(function(){for(;;){var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];if(v.call(P,Sr,Ut,g))return fr(J,O?Ut:ke++,Sr,Qe)}})},F}function Fr(g,v,P){var O=Tc().asMutable();return g.__iterate(function(F,J){O.update(v.call(P,F,J,g),0,function(Z){return Z+1})}),O.asImmutable()}function so(g,v,P){var O=ne(g),F=(xe(g)?Cs():Tc()).asMutable();g.__iterate(function(Z,pe){F.update(v.call(P,Z,pe,g),function(ke){return ke=ke||[],ke.push(O?[pe,Z]:Z),ke})});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))}).asImmutable()}function Bi(g,v,P){var O=ne(g),F=[[],[]];g.__iterate(function(Z,pe){F[v.call(P,Z,pe,g)?1:0].push(O?[pe,Z]:Z)});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))})}function N(g,v,P,O){var F=g.size;if(f(v,P,F))return g;var J=m(v,F),Z=_(P,F);if(J!==J||Z!==Z)return N(g.toSeq().cacheResult(),v,P,O);var pe=Z-J,ke;pe===pe&&(ke=pe<0?0:pe);var Qe=yo(g);return Qe.size=ke===0?ke:g.size&&ke||void 0,!O&&qe(g)&&ke>=0&&(Qe.get=function(ht,Ut){return ht=l(this,ht),ht>=0&&ht<ke?g.get(ht+J,Ut):Ut}),Qe.__iterateUncached=function(ht,Ut){var Sr=this;if(ke===0)return 0;if(Ut)return this.cacheResult().__iterate(ht,Ut);var sn=0,jr=!0,Wn=0;return g.__iterate(function(Js,ic){if(!(jr&&(jr=sn++<J)))return Wn++,ht(Js,O?ic:Wn-1,Sr)!==!1&&Wn!==ke}),Wn},Qe.__iteratorUncached=function(ht,Ut){if(ke!==0&&Ut)return this.cacheResult().__iterator(ht,Ut);if(ke===0)return new tt(Lr);var Sr=g.__iterator(ht,Ut),sn=0,jr=0;return new tt(function(){for(;sn++<J;)Sr.next();if(++jr>ke)return Lr();var Wn=Sr.next();return O||ht===$e||Wn.done?Wn:ht===Me?fr(ht,jr-1,void 0,Wn):fr(ht,jr-1,Wn.value[1],Wn)})},Qe}function Le(g,v,P){var O=yo(g);return O.__iterateUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterate(F,J);var pe=0;return g.__iterate(function(ke,Qe,ht){return v.call(P,ke,Qe,ht)&&++pe&&F(ke,Qe,Z)}),pe},O.__iteratorUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterator(F,J);var pe=g.__iterator(Ct,J),ke=!0;return new tt(function(){if(!ke)return Lr();var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];return v.call(P,Sr,Ut,Z)?F===Ct?Qe:fr(F,Ut,Sr,Qe):(ke=!1,Lr())})},O}function rt(g,v,P,O){var F=yo(g);return F.__iterateUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterate(J,Z);var ke=!0,Qe=0;return g.__iterate(function(ht,Ut,Sr){if(!(ke&&(ke=v.call(P,ht,Ut,Sr))))return Qe++,J(ht,O?Ut:Qe-1,pe)}),Qe},F.__iteratorUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterator(J,Z);var ke=g.__iterator(Ct,Z),Qe=!0,ht=0;return new tt(function(){var Ut,Sr,sn;do{if(Ut=ke.next(),Ut.done)return O||J===$e?Ut:J===Me?fr(J,ht++,void 0,Ut):fr(J,ht++,Ut.value[1],Ut);var jr=Ut.value;Sr=jr[0],sn=jr[1],Qe&&(Qe=v.call(P,sn,Sr,pe))}while(Qe);return J===Ct?Ut:fr(J,Sr,sn,Ut)})},F}function zt(g,v){var P=ne(g),O=[g].concat(v).map(function(Z){return A(Z)?P&&(Z=ee(Z)):Z=P?Ji(Z):oi(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(O.length===0)return g;if(O.length===1){var F=O[0];if(F===g||P&&ne(F)||ye(g)&&ye(F))return F}var J=new ii(O);return P?J=J.toKeyedSeq():ye(g)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=O.reduce(function(Z,pe){if(Z!==void 0){var ke=pe.size;if(ke!==void 0)return Z+ke}},0),J}function Ln(g,v,P){var O=yo(g);return O.__iterateUncached=function(F,J){if(J)return this.cacheResult().__iterate(F,J);var Z=0,pe=!1;function ke(Qe,ht){Qe.__iterate(function(Ut,Sr){return(!v||ht<v)&&A(Ut)?ke(Ut,ht+1):(Z++,F(Ut,P?Sr:Z-1,O)===!1&&(pe=!0)),!pe},J)}return ke(g,0),Z},O.__iteratorUncached=function(F,J){if(J)return this.cacheResult().__iterator(F,J);var Z=g.__iterator(F,J),pe=[],ke=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=pe.pop();continue}var ht=Qe.value;if(F===Ct&&(ht=ht[1]),(!v||pe.length<v)&&A(ht))pe.push(Z),Z=ht.__iterator(F,J);else return P?Qe:fr(F,ke++,ht,Qe)}return Lr()})},O}function Cn(g,v,P){var O=ts(g);return g.toSeq().map(function(F,J){return O(v.call(P,F,J,g))}).flatten(!0)}function Nn(g,v){var P=yo(g);return P.size=g.size&&g.size*2-1,P.__iterateUncached=function(O,F){var J=this,Z=0;return g.__iterate(function(pe){return(!Z||O(v,Z++,J)!==!1)&&O(pe,Z++,J)!==!1},F),Z},P.__iteratorUncached=function(O,F){var J=g.__iterator($e,F),Z=0,pe;return new tt(function(){return(!pe||Z%2)&&(pe=J.next(),pe.done)?pe:Z%2?fr(O,Z++,v):fr(O,Z++,pe.value,pe)})},P}function ao(g,v,P){v||(v=Mi);var O=ne(g),F=0,J=g.toSeq().map(function(Z,pe){return[pe,Z,F++,P?P(Z,pe,g):Z]}).valueSeq().toArray();return J.sort(function(Z,pe){return v(Z[3],pe[3])||Z[2]-pe[2]}).forEach(O?function(Z,pe){J[pe].length=2}:function(Z,pe){J[pe]=Z[1]}),O?Hn(J):ye(g)?$r(J):dn(J)}function ji(g,v,P){if(v||(v=Mi),P){var O=g.toSeq().map(function(F,J){return[F,P(F,J,g)]}).reduce(function(F,J){return Po(v,F[1],J[1])?J:F});return O&&O[0]}return g.reduce(function(F,J){return Po(v,F,J)?J:F})}function Po(g,v,P){var O=g(P,v);return O===0&&P!==v&&(P==null||P!==P)||O>0}function Vi(g,v,P,O){var F=yo(g),J=new ii(P).map(function(Z){return Z.size});return F.size=O?J.max():J.min(),F.__iterate=function(Z,pe){for(var ke=this.__iterator($e,pe),Qe,ht=0;!(Qe=ke.next()).done&&Z(Qe.value,ht++,this)!==!1;);return ht},F.__iteratorUncached=function(Z,pe){var ke=P.map(function(Ut){return Ut=W(Ut),xt(pe?Ut.reverse():Ut)}),Qe=0,ht=!1;return new tt(function(){var Ut;return ht||(Ut=ke.map(function(Sr){return Sr.next()}),ht=O?Ut.every(function(Sr){return Sr.done}):Ut.some(function(Sr){return Sr.done})),ht?Lr():fr(Z,Qe++,v.apply(null,Ut.map(function(Sr){return Sr.value})))})},F}function Jn(g,v){return g===v?g:qe(g)?v:g.constructor(v)}function mu(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function ts(g){return ne(g)?ee:ye(g)?Se:se}function yo(g){return Object.create((ne(g)?Hn:ye(g)?$r:dn).prototype)}function al(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Or.prototype.cacheResult.call(this)}function Mi(g,v){return g===void 0&&v===void 0?0:g===void 0?1:v===void 0?-1:g>v?1:g<v?-1:0}function Xa(g,v){v=v||0;for(var P=Math.max(0,g.length-v),O=new Array(P),F=0;F<P;F++)O[F]=g[F+v];return O}function Qa(g,v){if(!g)throw new Error(v)}function ha(g){Qa(g!==1/0,"Cannot perform this action with an infinite size.")}function cl(g){if(On(g)&&typeof g!="string")return g;if(xe(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}var lh=Object.prototype.toString;function Dc(g){if(!g||typeof g!="object"||lh.call(g)!=="[object Object]")return!1;var v=Object.getPrototypeOf(g);if(v===null)return!0;for(var P=v,O=Object.getPrototypeOf(v);O!==null;)P=O,O=Object.getPrototypeOf(P);return P===v}function ra(g){return typeof g=="object"&&(De(g)||Array.isArray(g)||Dc(g))}function gu(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function dh(g,v){return De(g)?g.has(v):ra(g)&&ln.call(g,v)}function Uo(g,v,P){return De(g)?g.get(v,P):dh(g,v)?typeof g.get=="function"?g.get(v):g[v]:P}function Ws(g){if(Array.isArray(g))return Xa(g);var v={};for(var P in g)ln.call(g,P)&&(v[P]=g[P]);return v}function Tn(g,v){if(!ra(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(De(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(v)}if(!ln.call(g,v))return g;var P=Ws(g);return Array.isArray(P)?P.splice(v,1):delete P[v],P}function $s(g,v,P){if(!ra(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(De(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(v,P)}if(ln.call(g,v)&&P===g[v])return g;var O=Ws(g);return O[v]=P,O}function vu(g,v,P,O){O||(O=P,P=void 0);var F=si(De(g),g,cl(v),0,P,O);return F===o?P:F}function si(g,v,P,O,F,J){var Z=v===o;if(O===P.length){var pe=Z?F:v,ke=J(pe);return ke===pe?v:ke}if(!Z&&!ra(v))throw new TypeError("Cannot update within non-data-structure value in path ["+P.slice(0,O).map(gu)+"]: "+v);var Qe=P[O],ht=Z?o:Uo(v,Qe,o),Ut=si(ht===o?g:De(ht),ht,P,O+1,F,J);return Ut===ht?v:Ut===o?Tn(v,Qe):$s(Z?g?Ho():{}:v,Qe,Ut)}function Da(g,v,P){return vu(g,v,o,function(){return P})}function Qc(g,v){return Da(this,g,v)}function fh(g,v){return vu(g,v,function(){return o})}function af(g){return fh(this,g)}function ap(g,v,P,O){return vu(g,[v],P,O)}function cf(g,v,P){return arguments.length===1?g(this):ap(this,g,v,P)}function cp(g,v,P){return vu(this,g,v,P)}function uf(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Xn(this,g)}function Al(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return Xn(this,v,g)}function Xn(g,v,P){for(var O=[],F=0;F<v.length;F++){var J=ee(v[F]);J.size!==0&&O.push(J)}return O.length===0?g:g.toSeq().size===0&&!g.__ownerID&&O.length===1?g.constructor(O[0]):g.withMutations(function(Z){for(var pe=P?function(Qe,ht){ap(Z,ht,o,function(Ut){return Ut===o?Qe:P(Ut,Qe,ht)})}:function(Qe,ht){Z.set(ht,Qe)},ke=0;ke<O.length;ke++)O[ke].forEach(pe)})}function Vs(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return Gs(g,v)}function Ll(g,v){for(var P=[],O=arguments.length-2;O-- >0;)P[O]=arguments[O+2];return Gs(v,P,g)}function co(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return ph(g,v)}function hh(g,v){for(var P=[],O=arguments.length-2;O-- >0;)P[O]=arguments[O+2];return ph(v,P,g)}function ph(g,v,P){return Gs(g,v,yu(P))}function Gs(g,v,P){if(!ra(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(De(g))return typeof P=="function"&&g.mergeWith?g.mergeWith.apply(g,[P].concat(v)):g.merge?g.merge.apply(g,v):g.concat.apply(g,v);for(var O=Array.isArray(g),F=g,J=O?Se:ee,Z=O?function(ke){F===g&&(F=Ws(F)),F.push(ke)}:function(ke,Qe){var ht=ln.call(F,Qe),Ut=ht&&P?P(F[Qe],ke,Qe):ke;(!ht||Ut!==F[Qe])&&(F===g&&(F=Ws(F)),F[Qe]=Ut)},pe=0;pe<v.length;pe++)J(v[pe]).forEach(Z);return F}function yu(g){function v(P,O,F){return ra(P)&&ra(O)&&mh(P,O)?Gs(P,[O],v):g?g(P,O,F):O}return v}function mh(g,v){var P=Or(g),O=Or(v);return ye(P)===ye(O)&&ne(P)===ne(O)}function yd(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return ph(this,g)}function Ss(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return ph(this,v,g)}function Ml(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return vu(this,g,Ho(),function(O){return Gs(O,v)})}function Zc(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return vu(this,g,Ho(),function(O){return ph(O,v)})}function pm(g){var v=this.asMutable();return g(v),v.wasAltered()?v.__ensureOwner(this.__ownerID):this}function _d(){return this.__ownerID?this:this.__ensureOwner(new c)}function lf(){return this.__ensureOwner()}function df(){return this.__altered}var Tc=function(g){function v(P){return P==null?Ho():Q(P)&&!xe(P)?P:Ho().withMutations(function(O){var F=g(P);ha(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return Ho().withMutations(function(J){for(var Z=0;Z<O.length;Z+=2){if(Z+1>=O.length)throw new Error("Missing value for key: "+O[Z]);J.set(O[Z],O[Z+1])}})},v.prototype.toString=function(){return this.__toString("Map {","}")},v.prototype.get=function(O,F){return this._root?this._root.get(0,void 0,O,F):F},v.prototype.set=function(O,F){return Nl(this,O,F)},v.prototype.remove=function(O){return Nl(this,O,o)},v.prototype.deleteAll=function(O){var F=W(O);return F.size===0?this:this.withMutations(function(J){F.forEach(function(Z){return J.remove(Z)})})},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ho()},v.prototype.sort=function(O){return Cs(ao(this,O))},v.prototype.sortBy=function(O,F){return Cs(ao(this,F,O))},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){Z.forEach(function(pe,ke){Z.set(ke,O.call(F,pe,ke,J))})})},v.prototype.__iterator=function(O,F){return new Nv(this,O,F)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return this._root&&this._root.iterate(function(pe){return Z++,O(pe[1],pe[0],J)},F),Z},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Fu(this.size,this._root,O,this.__hash):this.size===0?Ho():(this.__ownerID=O,this.__altered=!1,this)},v}(ee);Tc.isMap=Q;var _o=Tc.prototype;_o[oe]=!0,_o[e]=_o.remove,_o.removeAll=_o.deleteAll,_o.setIn=Qc,_o.removeIn=_o.deleteIn=af,_o.update=cf,_o.updateIn=cp,_o.merge=_o.concat=uf,_o.mergeWith=Al,_o.mergeDeep=yd,_o.mergeDeepWith=Ss,_o.mergeIn=Ml,_o.mergeDeepIn=Zc,_o.withMutations=pm,_o.wasAltered=df,_o.asImmutable=lf,_o["@@transducer/init"]=_o.asMutable=_d,_o["@@transducer/step"]=function(g,v){return g.set(v[0],v[1])},_o["@@transducer/result"]=function(g){return g.asImmutable()};var up=function(v,P){this.ownerID=v,this.entries=P};up.prototype.get=function(v,P,O,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},up.prototype.update=function(v,P,O,F,J,Z,pe){for(var ke=J===o,Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),!(ke&&Qe.length===1)){if(!Sr&&!ke&&Qe.length>=hf)return vh(v,Qe,F,J);var sn=v&&v===this.ownerID,jr=sn?Qe:Xa(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new up(v,jr)}};var ff=function(v,P,O){this.ownerID=v,this.bitmap=P,this.nodes=O};ff.prototype.get=function(v,P,O,F){P===void 0&&(P=$t(O));var J=1<<((v===0?P:P>>>v)&i),Z=this.bitmap;return(Z&J)===0?F:this.nodes[dp(Z&J-1)].get(v+t,P,O,F)},ff.prototype.update=function(v,P,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=(P===0?O:O>>>P)&i,Qe=1<<ke,ht=this.bitmap,Ut=(ht&Qe)!==0;if(!Ut&&J===o)return this;var Sr=dp(ht&Qe-1),sn=this.nodes,jr=Ut?sn[Sr]:void 0,Wn=gh(jr,v,P+t,O,F,J,Z,pe);if(Wn===jr)return this;if(!Ut&&Wn&&sn.length>=Sd)return Fl(v,sn,ht,ke,Wn);if(Ut&&!Wn&&sn.length===2&&Sg(sn[Sr^1]))return sn[Sr^1];if(Ut&&Wn&&sn.length===1&&Sg(Wn))return Wn;var Js=v&&v===this.ownerID,ic=Ut?Wn?ht:ht^Qe:ht|Qe,Du=Ut?Wn?qu(sn,Sr,Wn,Js):bu(sn,Sr,Js):yh(sn,Sr,Wn,Js);return Js?(this.bitmap=ic,this.nodes=Du,this):new ff(v,ic,Du)};var na=function(v,P,O){this.ownerID=v,this.count=P,this.nodes=O};na.prototype.get=function(v,P,O,F){P===void 0&&(P=$t(O));var J=(v===0?P:P>>>v)&i,Z=this.nodes[J];return Z?Z.get(v+t,P,O,F):F},na.prototype.update=function(v,P,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=(P===0?O:O>>>P)&i,Qe=J===o,ht=this.nodes,Ut=ht[ke];if(Qe&&!Ut)return this;var Sr=gh(Ut,v,P+t,O,F,J,Z,pe);if(Sr===Ut)return this;var sn=this.count;if(!Ut)sn++;else if(!Sr&&(sn--,sn<pf))return lp(v,ht,sn,ke);var jr=v&&v===this.ownerID,Wn=qu(ht,ke,Sr,jr);return jr?(this.count=sn,this.nodes=Wn,this):new na(v,sn,Wn)};var ul=function(v,P,O){this.ownerID=v,this.keyHash=P,this.entries=O};ul.prototype.get=function(v,P,O,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},ul.prototype.update=function(v,P,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=J===o;if(O!==this.keyHash)return ke?this:(a(pe),a(Z),wd(this,v,P,O,[F,J]));for(var Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),ke&&Ut===2)return new _u(v,this.keyHash,Qe[ht^1]);var sn=v&&v===this.ownerID,jr=sn?Qe:Xa(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new ul(v,this.keyHash,jr)};var _u=function(v,P,O){this.ownerID=v,this.keyHash=P,this.entry=O};_u.prototype.get=function(v,P,O,F){return ft(O,this.entry[0])?this.entry[1]:F},_u.prototype.update=function(v,P,O,F,J,Z,pe){var ke=J===o,Qe=ft(F,this.entry[0]);if(Qe?J===this.entry[1]:ke)return this;if(a(pe),ke){a(Z);return}return Qe?v&&v===this.ownerID?(this.entry[1]=J,this):new _u(v,this.keyHash,[F,J]):(a(Z),wd(this,v,P,$t(F),[F,J]))},up.prototype.iterate=ul.prototype.iterate=function(g,v){for(var P=this.entries,O=0,F=P.length-1;O<=F;O++)if(g(P[v?F-O:O])===!1)return!1},ff.prototype.iterate=na.prototype.iterate=function(g,v){for(var P=this.nodes,O=0,F=P.length-1;O<=F;O++){var J=P[v?F-O:O];if(J&&J.iterate(g,v)===!1)return!1}},_u.prototype.iterate=function(g,v){return g(this.entry)};var Nv=function(g){function v(P,O,F){this._type=O,this._reverse=F,this._stack=P._root&&Xy(P._root)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.next=function(){for(var O=this._type,F=this._stack;F;){var J=F.node,Z=F.index++,pe=void 0;if(J.entry){if(Z===0)return ia(O,J.entry)}else if(J.entries){if(pe=J.entries.length-1,Z<=pe)return ia(O,J.entries[this._reverse?pe-Z:Z])}else if(pe=J.nodes.length-1,Z<=pe){var ke=J.nodes[this._reverse?pe-Z:Z];if(ke){if(ke.entry)return ia(O,ke.entry);F=this._stack=Xy(ke,F)}continue}F=this._stack=this._stack.__prev}return Lr()},v}(tt);function ia(g,v){return fr(g,v[0],v[1])}function Xy(g,v){return{node:g,index:0,__prev:v}}function Fu(g,v,P,O){var F=Object.create(_o);return F.size=g,F._root=v,F.__ownerID=P,F.__hash=O,F.__altered=!1,F}var bd;function Ho(){return bd||(bd=Fu(0))}function Nl(g,v,P){var O,F;if(g._root){var J=s(),Z=s();if(O=gh(g._root,g.__ownerID,0,void 0,v,P,J,Z),!Z.value)return g;F=g.size+(J.value?P===o?-1:1:0)}else{if(P===o)return g;F=1,O=new up(g.__ownerID,[[v,P]])}return g.__ownerID?(g.size=F,g._root=O,g.__hash=void 0,g.__altered=!0,g):O?Fu(F,O):Ho()}function gh(g,v,P,O,F,J,Z,pe){return g?g.update(v,P,O,F,J,Z,pe):J===o?g:(a(pe),a(Z),new _u(v,O,[F,J]))}function Sg(g){return g.constructor===_u||g.constructor===ul}function wd(g,v,P,O,F){if(g.keyHash===O)return new ul(v,O,[g.entry,F]);var J=(P===0?g.keyHash:g.keyHash>>>P)&i,Z=(P===0?O:O>>>P)&i,pe,ke=J===Z?[wd(g,v,P+t,O,F)]:(pe=new _u(v,O,F),J<Z?[g,pe]:[pe,g]);return new ff(v,1<<J|1<<Z,ke)}function vh(g,v,P,O){g||(g=new c);for(var F=new _u(g,$t(P),[P,O]),J=0;J<v.length;J++){var Z=v[J];F=F.update(g,0,void 0,Z[0],Z[1])}return F}function lp(g,v,P,O){for(var F=0,J=0,Z=new Array(P),pe=0,ke=1,Qe=v.length;pe<Qe;pe++,ke<<=1){var ht=v[pe];ht!==void 0&&pe!==O&&(F|=ke,Z[J++]=ht)}return new ff(g,F,Z)}function Fl(g,v,P,O,F){for(var J=0,Z=new Array(n),pe=0;P!==0;pe++,P>>>=1)Z[pe]=P&1?v[J++]:void 0;return Z[O]=F,new na(g,J+1,Z)}function dp(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function qu(g,v,P,O){var F=O?g:Xa(g);return F[v]=P,F}function yh(g,v,P,O){var F=g.length+1;if(O&&v+1===F)return g[v]=P,g;for(var J=new Array(F),Z=0,pe=0;pe<F;pe++)pe===v?(J[pe]=P,Z=-1):J[pe]=g[pe+Z];return J}function bu(g,v,P){var O=g.length-1;if(P&&v===O)return g.pop(),g;for(var F=new Array(O),J=0,Z=0;Z<O;Z++)Z===v&&(J=1),F[Z]=g[Z+J];return F}var hf=n/4,Sd=n/2,pf=n/4,Cd="@@__IMMUTABLE_LIST__@@";function Ks(g){return!!(g&&g[Cd])}var Ta=function(g){function v(P){var O=ql();if(P==null)return O;if(Ks(P))return P;var F=g(P),J=F.size;return J===0?O:(ha(J),J>0&&J<n?ju(0,J,t,null,new eu(F.toArray())):O.withMutations(function(Z){Z.setSize(J),F.forEach(function(pe,ke){return Z.set(ke,pe)})}))}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("List [","]")},v.prototype.get=function(O,F){if(O=l(this,O),O>=0&&O<this.size){O+=this._origin;var J=_h(this,O);return J&&J.array[O&i]}return F},v.prototype.set=function(O,F){return fp(this,O,F)},v.prototype.remove=function(O){return this.has(O)?O===0?this.shift():O===this.size-1?this.pop():this.splice(O,1):this},v.prototype.insert=function(O,F){return this.splice(O,0,F)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):ql()},v.prototype.push=function(){var O=arguments,F=this.size;return this.withMutations(function(J){Ec(J,0,F+O.length);for(var Z=0;Z<O.length;Z++)J.set(F+Z,O[Z])})},v.prototype.pop=function(){return Ec(this,0,-1)},v.prototype.unshift=function(){var O=arguments;return this.withMutations(function(F){Ec(F,-O.length);for(var J=0;J<O.length;J++)F.set(J,O[J])})},v.prototype.shift=function(){return Ec(this,1)},v.prototype.concat=function(){for(var O=arguments,F=[],J=0;J<arguments.length;J++){var Z=O[J],pe=g(typeof Z!="string"&&zr(Z)?Z:[Z]);pe.size!==0&&F.push(pe)}return F.length===0?this:this.size===0&&!this.__ownerID&&F.length===1?this.constructor(F[0]):this.withMutations(function(ke){F.forEach(function(Qe){return Qe.forEach(function(ht){return ke.push(ht)})})})},v.prototype.setSize=function(O){return Ec(this,0,O)},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){for(var pe=0;pe<J.size;pe++)Z.set(pe,O.call(F,Z.get(pe),pe,J))})},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:Ec(this,m(O,J),_(F,J))},v.prototype.__iterator=function(O,F){var J=F?this.size:0,Z=Cg(this,F);return new tt(function(){var pe=Z();return pe===Za?Lr():fr(O,F?--J:J++,pe)})},v.prototype.__iterate=function(O,F){for(var J=F?this.size:0,Z=Cg(this,F),pe;(pe=Z())!==Za&&O(pe,F?--J:J++,this)!==!1;);return J},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?ju(this._origin,this._capacity,this._level,this._root,this._tail,O,this.__hash):this.size===0?ql():(this.__ownerID=O,this.__altered=!1,this)},v}(Se);Ta.isList=Ks;var Ro=Ta.prototype;Ro[Cd]=!0,Ro[e]=Ro.remove,Ro.merge=Ro.concat,Ro.setIn=Qc,Ro.deleteIn=Ro.removeIn=af,Ro.update=cf,Ro.updateIn=cp,Ro.mergeIn=Ml,Ro.mergeDeepIn=Zc,Ro.withMutations=pm,Ro.wasAltered=df,Ro.asImmutable=lf,Ro["@@transducer/init"]=Ro.asMutable=_d,Ro["@@transducer/step"]=function(g,v){return g.push(v)},Ro["@@transducer/result"]=function(g){return g.asImmutable()};var eu=function(v,P){this.array=v,this.ownerID=P};eu.prototype.removeBefore=function(v,P,O){if(O===P?1<<P:this.array.length===0)return this;var F=O>>>P&i;if(F>=this.array.length)return new eu([],v);var J=F===0,Z;if(P>0){var pe=this.array[F];if(Z=pe&&pe.removeBefore(v,P-t,O),Z===pe&&J)return this}if(J&&!Z)return this;var ke=ll(this,v);if(!J)for(var Qe=0;Qe<F;Qe++)ke.array[Qe]=void 0;return Z&&(ke.array[F]=Z),ke},eu.prototype.removeAfter=function(v,P,O){if(O===(P?1<<P:0)||this.array.length===0)return this;var F=O-1>>>P&i;if(F>=this.array.length)return this;var J;if(P>0){var Z=this.array[F];if(J=Z&&Z.removeAfter(v,P-t,O),J===Z&&F===this.array.length-1)return this}var pe=ll(this,v);return pe.array.splice(F+1),J&&(pe.array[F]=J),pe};var Za={};function Cg(g,v){var P=g._origin,O=g._capacity,F=zu(O),J=g._tail;return Z(g._root,g._level,0);function Z(Qe,ht,Ut){return ht===0?pe(Qe,Ut):ke(Qe,ht,Ut)}function pe(Qe,ht){var Ut=ht===F?J&&J.array:Qe&&Qe.array,Sr=ht>P?0:P-ht,sn=O-ht;return sn>n&&(sn=n),function(){if(Sr===sn)return Za;var jr=v?--sn:Sr++;return Ut&&Ut[jr]}}function ke(Qe,ht,Ut){var Sr,sn=Qe&&Qe.array,jr=Ut>P?0:P-Ut>>ht,Wn=(O-Ut>>ht)+1;return Wn>n&&(Wn=n),function(){for(;;){if(Sr){var Js=Sr();if(Js!==Za)return Js;Sr=null}if(jr===Wn)return Za;var ic=v?--Wn:jr++;Sr=Z(sn&&sn[ic],ht-t,Ut+(ic<<ht))}}}}function ju(g,v,P,O,F,J,Z){var pe=Object.create(Ro);return pe.size=v-g,pe._origin=g,pe._capacity=v,pe._level=P,pe._root=O,pe._tail=F,pe.__ownerID=J,pe.__hash=Z,pe.__altered=!1,pe}var Ys;function ql(){return Ys||(Ys=ju(0,0,t))}function fp(g,v,P){if(v=l(g,v),v!==v)return g;if(v>=g.size||v<0)return g.withMutations(function(Z){v<0?Ec(Z,v).set(0,P):Ec(Z,0,v+1).set(v,P)});v+=g._origin;var O=g._tail,F=g._root,J=s();return v>=zu(g._capacity)?O=wu(O,g.__ownerID,0,v,P,J):F=wu(F,g.__ownerID,g._level,v,P,J),J.value?g.__ownerID?(g._root=F,g._tail=O,g.__hash=void 0,g.__altered=!0,g):ju(g._origin,g._capacity,g._level,F,O):g}function wu(g,v,P,O,F,J){var Z=O>>>P&i,pe=g&&Z<g.array.length;if(!pe&&F===void 0)return g;var ke;if(P>0){var Qe=g&&g.array[Z],ht=wu(Qe,v,P-t,O,F,J);return ht===Qe?g:(ke=ll(g,v),ke.array[Z]=ht,ke)}return pe&&g.array[Z]===F?g:(J&&a(J),ke=ll(g,v),F===void 0&&Z===ke.array.length-1?ke.array.pop():ke.array[Z]=F,ke)}function ll(g,v){return v&&g&&v===g.ownerID?g:new eu(g?g.array.slice():[],v)}function _h(g,v){if(v>=zu(g._capacity))return g._tail;if(v<1<<g._level+t){for(var P=g._root,O=g._level;P&&O>0;)P=P.array[v>>>O&i],O-=t;return P}}function Ec(g,v,P){v!==void 0&&(v|=0),P!==void 0&&(P|=0);var O=g.__ownerID||new c,F=g._origin,J=g._capacity,Z=F+v,pe=P===void 0?J:P<0?J+P:F+P;if(Z===F&&pe===J)return g;if(Z>=pe)return g.clear();for(var ke=g._level,Qe=g._root,ht=0;Z+ht<0;)Qe=new eu(Qe&&Qe.array.length?[void 0,Qe]:[],O),ke+=t,ht+=1<<ke;ht&&(Z+=ht,F+=ht,pe+=ht,J+=ht);for(var Ut=zu(J),Sr=zu(pe);Sr>=1<<ke+t;)Qe=new eu(Qe&&Qe.array.length?[Qe]:[],O),ke+=t;var sn=g._tail,jr=Sr<Ut?_h(g,pe-1):Sr>Ut?new eu([],O):sn;if(sn&&Sr>Ut&&Z<J&&sn.array.length){Qe=ll(Qe,O);for(var Wn=Qe,Js=ke;Js>t;Js-=t){var ic=Ut>>>Js&i;Wn=Wn.array[ic]=ll(Wn.array[ic],O)}Wn.array[Ut>>>t&i]=sn}if(pe<J&&(jr=jr&&jr.removeAfter(O,0,pe)),Z>=Sr)Z-=Sr,pe-=Sr,ke=t,Qe=null,jr=jr&&jr.removeBefore(O,0,Z);else if(Z>F||Sr<Ut){for(ht=0;Qe;){var Du=Z>>>ke&i;if(Du!==Sr>>>ke&i)break;Du&&(ht+=(1<<ke)*Du),ke-=t,Qe=Qe.array[Du]}Qe&&Z>F&&(Qe=Qe.removeBefore(O,ke,Z-ht)),Qe&&Sr<Ut&&(Qe=Qe.removeAfter(O,ke,Sr-ht)),ht&&(Z-=ht,pe-=ht)}return g.__ownerID?(g.size=pe-Z,g._origin=Z,g._capacity=pe,g._level=ke,g._root=Qe,g._tail=jr,g.__hash=void 0,g.__altered=!0,g):ju(Z,pe,ke,Qe,jr)}function zu(g){return g<n?0:g-1>>>t<<t}var Cs=function(g){function v(P){return P==null?Hu():_e(P)?P:Hu().withMutations(function(O){var F=ee(P);ha(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("OrderedMap {","}")},v.prototype.get=function(O,F){var J=this._map.get(O);return J!==void 0?this._list.get(J)[1]:F},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Hu()},v.prototype.set=function(O,F){return oa(this,O,F)},v.prototype.remove=function(O){return oa(this,O,o)},v.prototype.__iterate=function(O,F){var J=this;return this._list.__iterate(function(Z){return Z&&O(Z[1],Z[0],J)},F)},v.prototype.__iterator=function(O,F){return this._list.fromEntrySeq().__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O),J=this._list.__ensureOwner(O);return O?tu(F,J,O,this.__hash):this.size===0?Hu():(this.__ownerID=O,this.__altered=!1,this._map=F,this._list=J,this)},v}(Tc);Cs.isOrderedMap=_e,Cs.prototype[we]=!0,Cs.prototype[e]=Cs.prototype.remove;function tu(g,v,P,O){var F=Object.create(Cs.prototype);return F.size=g?g.size:0,F._map=g,F._list=v,F.__ownerID=P,F.__hash=O,F.__altered=!1,F}var Uu;function Hu(){return Uu||(Uu=tu(Ho(),ql()))}function oa(g,v,P){var O=g._map,F=g._list,J=O.get(v),Z=J!==void 0,pe,ke;if(P===o){if(!Z)return g;F.size>=n&&F.size>=O.size*2?(ke=F.filter(function(Qe,ht){return Qe!==void 0&&J!==ht}),pe=ke.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),g.__ownerID&&(pe.__ownerID=ke.__ownerID=g.__ownerID)):(pe=O.remove(v),ke=J===F.size-1?F.pop():F.set(J,void 0))}else if(Z){if(P===F.get(J)[1])return g;pe=O,ke=F.set(J,[v,P])}else pe=O.set(v,F.size),ke=F.set(F.size,[v,P]);return g.__ownerID?(g.size=pe.size,g._map=pe,g._list=ke,g.__hash=void 0,g.__altered=!0,g):tu(pe,ke)}var Dg="@@__IMMUTABLE_STACK__@@";function ec(g){return!!(g&&g[Dg])}var dl=function(g){function v(P){return P==null?Bu():ec(P)?P:Bu().pushAll(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("Stack [","]")},v.prototype.get=function(O,F){var J=this._head;for(O=l(this,O);J&&O--;)J=J.next;return J?J.value:F},v.prototype.peek=function(){return this._head&&this._head.value},v.prototype.push=function(){var O=arguments;if(arguments.length===0)return this;for(var F=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:O[Z],next:J};return this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pushAll=function(O){if(O=g(O),O.size===0)return this;if(this.size===0&&ec(O))return O;ha(O.size);var F=this.size,J=this._head;return O.__iterate(function(Z){F++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pop=function(){return this.slice(1)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Bu()},v.prototype.slice=function(O,F){if(f(O,F,this.size))return this;var J=m(O,this.size),Z=_(F,this.size);if(Z!==this.size)return g.prototype.slice.call(this,O,F);for(var pe=this.size-J,ke=this._head;J--;)ke=ke.next;return this.__ownerID?(this.size=pe,this._head=ke,this.__hash=void 0,this.__altered=!0,this):Wo(pe,ke)},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Wo(this.size,this._head,O,this.__hash):this.size===0?Bu():(this.__ownerID=O,this.__altered=!1,this)},v.prototype.__iterate=function(O,F){var J=this;if(F)return new ii(this.toArray()).__iterate(function(ke,Qe){return O(ke,Qe,J)},F);for(var Z=0,pe=this._head;pe&&O(pe.value,Z++,this)!==!1;)pe=pe.next;return Z},v.prototype.__iterator=function(O,F){if(F)return new ii(this.toArray()).__iterator(O,F);var J=0,Z=this._head;return new tt(function(){if(Z){var pe=Z.value;return Z=Z.next,fr(O,J++,pe)}return Lr()})},v}(Se);dl.isStack=ec;var Bo=dl.prototype;Bo[Dg]=!0,Bo.shift=Bo.pop,Bo.unshift=Bo.push,Bo.unshiftAll=Bo.pushAll,Bo.withMutations=pm,Bo.wasAltered=df,Bo.asImmutable=lf,Bo["@@transducer/init"]=Bo.asMutable=_d,Bo["@@transducer/step"]=function(g,v){return g.unshift(v)},Bo["@@transducer/result"]=function(g){return g.asImmutable()};function Wo(g,v,P,O){var F=Object.create(Bo);return F.size=g,F._head=v,F.__ownerID=P,F.__hash=O,F.__altered=!1,F}var mf;function Bu(){return mf||(mf=Wo(0))}var gf="@@__IMMUTABLE_SET__@@";function qo(g){return!!(g&&g[gf])}function jl(g){return qo(g)&&xe(g)}function vf(g,v){if(g===v)return!0;if(!A(v)||g.size!==void 0&&v.size!==void 0&&g.size!==v.size||g.__hash!==void 0&&v.__hash!==void 0&&g.__hash!==v.__hash||ne(g)!==ne(v)||ye(g)!==ye(v)||xe(g)!==xe(v))return!1;if(g.size===0&&v.size===0)return!0;var P=!V(g);if(xe(g)){var O=g.entries();return v.every(function(ke,Qe){var ht=O.next().value;return ht&&ft(ht[1],ke)&&(P||ft(ht[0],Qe))})&&O.next().done}var F=!1;if(g.size===void 0)if(v.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{F=!0;var J=g;g=v,v=J}var Z=!0,pe=v.__iterate(function(ke,Qe){if(P?!g.has(ke):F?!ft(ke,g.get(Qe,o)):!ft(g.get(Qe,o),ke))return Z=!1,!1});return Z&&g.size===pe}function pa(g,v){var P=function(O){g.prototype[O]=v[O]};return Object.keys(v).forEach(P),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(v).forEach(P),g}function Su(g){if(!g||typeof g!="object")return g;if(!A(g)){if(!ra(g))return g;g=Or(g)}if(ne(g)){var v={};return g.__iterate(function(O,F){v[F]=Su(O)}),v}var P=[];return g.__iterate(function(O){P.push(Su(O))}),P}var sa=function(g){function v(P){return P==null?ru():qo(P)&&!xe(P)?P:ru().withMutations(function(O){var F=g(P);ha(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(ee(O).keySeq())},v.intersect=function(O){return O=W(O).toArray(),O.length?As.intersect.apply(v(O.pop()),O):ru()},v.union=function(O){return O=W(O).toArray(),O.length?As.union.apply(v(O.pop()),O):ru()},v.prototype.toString=function(){return this.__toString("Set {","}")},v.prototype.has=function(O){return this._map.has(O)},v.prototype.add=function(O){return zl(this,this._map.set(O,O))},v.prototype.remove=function(O){return zl(this,this._map.remove(O))},v.prototype.clear=function(){return zl(this,this._map.clear())},v.prototype.map=function(O,F){var J=this,Z=!1,pe=zl(this,this._map.mapEntries(function(ke){var Qe=ke[1],ht=O.call(F,Qe,Qe,J);return ht!==Qe&&(Z=!0),[ht,ht]},F));return Z?pe:this},v.prototype.union=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return O=O.filter(function(J){return J.size!==0}),O.length===0?this:this.size===0&&!this.__ownerID&&O.length===1?this.constructor(O[0]):this.withMutations(function(J){for(var Z=0;Z<O.length;Z++)typeof O[Z]=="string"?J.add(O[Z]):g(O[Z]).forEach(function(pe){return J.add(pe)})})},v.prototype.intersect=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.every(function(pe){return pe.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.subtract=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.some(function(pe){return pe.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.sort=function(O){return $o(ao(this,O))},v.prototype.sortBy=function(O,F){return $o(ao(this,F,O))},v.prototype.wasAltered=function(){return this._map.wasAltered()},v.prototype.__iterate=function(O,F){var J=this;return this._map.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){return this._map.__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O);return O?this.__make(F,O):this.size===0?this.__empty():(this.__ownerID=O,this._map=F,this)},v}(se);sa.isSet=qo;var As=sa.prototype;As[gf]=!0,As[e]=As.remove,As.merge=As.concat=As.union,As.withMutations=pm,As.asImmutable=lf,As["@@transducer/init"]=As.asMutable=_d,As["@@transducer/step"]=function(g,v){return g.add(v)},As["@@transducer/result"]=function(g){return g.asImmutable()},As.__empty=ru,As.__make=Fv;function zl(g,v){return g.__ownerID?(g.size=v.size,g._map=v,g):v===g._map?g:v.size===0?g.__empty():g.__make(v)}function Fv(g,v){var P=Object.create(As);return P.size=g?g.size:0,P._map=g,P.__ownerID=v,P}var ps;function ru(){return ps||(ps=Fv(Ho()))}var fl=function(g){function v(P,O,F){if(!(this instanceof v))return new v(P,O,F);if(Qa(F!==0,"Cannot step a Range by 0"),P=P||0,O===void 0&&(O=1/0),F=F===void 0?1:Math.abs(F),O<P&&(F=-F),this._start=P,this._end=O,this._step=F,this.size=Math.max(0,Math.ceil((O-P)/F-1)+1),this.size===0){if(bh)return bh;bh=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},v.prototype.get=function(O,F){return this.has(O)?this._start+l(this,O)*this._step:F},v.prototype.includes=function(O){var F=(O-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},v.prototype.slice=function(O,F){return f(O,F,this.size)?this:(O=m(O,this.size),F=_(F,this.size),F<=O?new v(0,0):new v(this.get(O,this._end),this.get(F,this._end),this._step))},v.prototype.indexOf=function(O){var F=O-this._start;if(F%this._step===0){var J=F/this._step;if(J>=0&&J<this.size)return J}return-1},v.prototype.lastIndexOf=function(O){return this.indexOf(O)},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;ke!==J&&O(pe,F?J-++ke:ke++,this)!==!1;)pe+=F?-Z:Z;return ke},v.prototype.__iterator=function(O,F){var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;return new tt(function(){if(ke===J)return Lr();var Qe=pe;return pe+=F?-Z:Z,fr(O,F?J-++ke:ke++,Qe)})},v.prototype.equals=function(O){return O instanceof v?this._start===O._start&&this._end===O._end&&this._step===O._step:vf(this,O)},v}($r),bh;function Dd(g,v,P){for(var O=cl(v),F=0;F!==O.length;)if(g=Uo(g,O[F++],o),g===o)return P;return g}function hp(g,v){return Dd(this,g,v)}function tc(g,v){return Dd(g,v,o)!==o}function mm(g){return tc(this,g)}function zi(){ha(this.size);var g={};return this.__iterate(function(v,P){g[P]=v}),g}W.isIterable=A,W.isKeyed=ne,W.isIndexed=ye,W.isAssociative=V,W.isOrdered=xe,W.Iterator=tt,pa(W,{toArray:function(){ha(this.size);var v=new Array(this.size||0),P=ne(this),O=0;return this.__iterate(function(F,J){v[O++]=P?[J,F]:F}),v},toIndexedSeq:function(){return new Bs(this)},toJS:function(){return Su(this)},toKeyedSeq:function(){return new es(this,!0)},toMap:function(){return Tc(this.toKeyedSeq())},toObject:zi,toOrderedMap:function(){return Cs(this.toKeyedSeq())},toOrderedSet:function(){return $o(ne(this)?this.valueSeq():this)},toSet:function(){return sa(ne(this)?this.valueSeq():this)},toSetSeq:function(){return new ta(this)},toSeq:function(){return ye(this)?this.toIndexedSeq():ne(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return dl(ne(this)?this.valueSeq():this)},toList:function(){return Ta(ne(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(v,P){return this.size===0?v+P:v+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+P},concat:function(){for(var v=[],P=arguments.length;P--;)v[P]=arguments[P];return Jn(this,zt(this,v))},includes:function(v){return this.some(function(P){return ft(P,v)})},entries:function(){return this.__iterator(Ct)},every:function(v,P){ha(this.size);var O=!0;return this.__iterate(function(F,J,Z){if(!v.call(P,F,J,Z))return O=!1,!1}),O},filter:function(v,P){return Jn(this,vt(this,v,P,!0))},partition:function(v,P){return Bi(this,v,P)},find:function(v,P,O){var F=this.findEntry(v,P);return F?F[1]:O},forEach:function(v,P){return ha(this.size),this.__iterate(P?v.bind(P):v)},join:function(v){ha(this.size),v=v!==void 0?""+v:",";var P="",O=!0;return this.__iterate(function(F){O?O=!1:P+=v,P+=F!=null?F.toString():""}),P},keys:function(){return this.__iterator(Me)},map:function(v,P){return Jn(this,H(this,v,P))},reduce:function(v,P,O){return aa(this,v,P,O,arguments.length<2,!1)},reduceRight:function(v,P,O){return aa(this,v,P,O,arguments.length<2,!0)},reverse:function(){return Jn(this,Ue(this,!0))},slice:function(v,P){return Jn(this,N(this,v,P,!0))},some:function(v,P){return!this.every(yf(v),P)},sort:function(v){return Jn(this,ao(this,v))},values:function(){return this.__iterator($e)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(v,P){return u(v?this.toSeq().filter(v,P):this)},countBy:function(v,P){return Fr(this,v,P)},equals:function(v){return vf(this,v)},entrySeq:function(){var v=this;if(v._cache)return new ii(v._cache);var P=v.toSeq().map(Gi).toIndexedSeq();return P.fromEntrySeq=function(){return v.toSeq()},P},filterNot:function(v,P){return this.filter(yf(v),P)},findEntry:function(v,P,O){var F=O;return this.__iterate(function(J,Z,pe){if(v.call(P,J,Z,pe))return F=[Z,J],!1}),F},findKey:function(v,P){var O=this.findEntry(v,P);return O&&O[0]},findLast:function(v,P,O){return this.toKeyedSeq().reverse().find(v,P,O)},findLastEntry:function(v,P,O){return this.toKeyedSeq().reverse().findEntry(v,P,O)},findLastKey:function(v,P){return this.toKeyedSeq().reverse().findKey(v,P)},first:function(v){return this.find(d,null,v)},flatMap:function(v,P){return Jn(this,Cn(this,v,P))},flatten:function(v){return Jn(this,Ln(this,v,!0))},fromEntrySeq:function(){return new Fo(this)},get:function(v,P){return this.find(function(O,F){return ft(F,v)},void 0,P)},getIn:hp,groupBy:function(v,P){return so(this,v,P)},has:function(v){return this.get(v,o)!==o},hasIn:mm,isSubset:function(v){return v=typeof v.includes=="function"?v:W(v),this.every(function(P){return v.includes(P)})},isSuperset:function(v){return v=typeof v.isSubset=="function"?v:W(v),v.isSubset(this)},keyOf:function(v){return this.findKey(function(P){return ft(P,v)})},keySeq:function(){return this.toSeq().map(hl).toIndexedSeq()},last:function(v){return this.toSeq().reverse().first(v)},lastKeyOf:function(v){return this.toKeyedSeq().reverse().keyOf(v)},max:function(v){return ji(this,v)},maxBy:function(v,P){return ji(this,P,v)},min:function(v){return ji(this,v?wi(v):Bn)},minBy:function(v,P){return ji(this,P?wi(P):Bn,v)},rest:function(){return this.slice(1)},skip:function(v){return v===0?this:this.slice(Math.max(0,v))},skipLast:function(v){return v===0?this:this.slice(0,-Math.max(0,v))},skipWhile:function(v,P){return Jn(this,rt(this,v,P,!0))},skipUntil:function(v,P){return this.skipWhile(yf(v),P)},sortBy:function(v,P){return Jn(this,ao(this,P,v))},take:function(v){return this.slice(0,Math.max(0,v))},takeLast:function(v){return this.slice(-Math.max(0,v))},takeWhile:function(v,P){return Jn(this,Le(this,v,P))},takeUntil:function(v,P){return this.takeWhile(yf(v),P)},update:function(v){return v(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Td(this))}});var rs=W.prototype;rs[M]=!0,rs[at]=rs.values,rs.toJSON=rs.toArray,rs.__toStringMapper=gu,rs.inspect=rs.toSource=function(){return this.toString()},rs.chain=rs.flatMap,rs.contains=rs.includes,pa(ee,{flip:function(){return Jn(this,Eo(this))},mapEntries:function(v,P){var O=this,F=0;return Jn(this,this.toSeq().map(function(J,Z){return v.call(P,[Z,J],F++,O)}).fromEntrySeq())},mapKeys:function(v,P){var O=this;return Jn(this,this.toSeq().flip().map(function(F,J){return v.call(P,F,J,O)}).flip())}});var Wu=ee.prototype;Wu[U]=!0,Wu[at]=rs.entries,Wu.toJSON=zi,Wu.__toStringMapper=function(g,v){return gu(v)+": "+gu(g)},pa(Se,{toKeyedSeq:function(){return new es(this,!1)},filter:function(v,P){return Jn(this,vt(this,v,P,!1))},findIndex:function(v,P){var O=this.findEntry(v,P);return O?O[0]:-1},indexOf:function(v){var P=this.keyOf(v);return P===void 0?-1:P},lastIndexOf:function(v){var P=this.lastKeyOf(v);return P===void 0?-1:P},reverse:function(){return Jn(this,Ue(this,!1))},slice:function(v,P){return Jn(this,N(this,v,P,!1))},splice:function(v,P){var O=arguments.length;if(P=Math.max(P||0,0),O===0||O===2&&!P)return this;v=m(v,v<0?this.count():this.size);var F=this.slice(0,v);return Jn(this,O===1?F:F.concat(Xa(arguments,2),this.slice(v+P)))},findLastIndex:function(v,P){var O=this.findLastEntry(v,P);return O?O[0]:-1},first:function(v){return this.get(0,v)},flatten:function(v){return Jn(this,Ln(this,v,!1))},get:function(v,P){return v=l(this,v),v<0||this.size===1/0||this.size!==void 0&&v>this.size?P:this.find(function(O,F){return F===v},void 0,P)},has:function(v){return v=l(this,v),v>=0&&(this.size!==void 0?this.size===1/0||v<this.size:this.indexOf(v)!==-1)},interpose:function(v){return Jn(this,Nn(this,v))},interleave:function(){var v=[this].concat(Xa(arguments)),P=Vi(this.toSeq(),$r.of,v),O=P.flatten(!0);return P.size&&(O.size=P.size*v.length),Jn(this,O)},keySeq:function(){return fl(0,this.size)},last:function(v){return this.get(-1,v)},skipWhile:function(v,P){return Jn(this,rt(this,v,P,!1))},zip:function(){var v=[this].concat(Xa(arguments));return Jn(this,Vi(this,Ea,v))},zipAll:function(){var v=[this].concat(Xa(arguments));return Jn(this,Vi(this,Ea,v,!0))},zipWith:function(v){var P=Xa(arguments);return P[0]=this,Jn(this,Vi(this,v,P))}});var Pc=Se.prototype;Pc[de]=!0,Pc[we]=!0,pa(se,{get:function(v,P){return this.has(v)?v:P},includes:function(v){return this.has(v)},keySeq:function(){return this.valueSeq()}});var Rc=se.prototype;Rc.has=rs.includes,Rc.contains=Rc.includes,Rc.keys=Rc.values,pa(Hn,Wu),pa($r,Pc),pa(dn,Rc);function aa(g,v,P,O,F,J){return ha(g.size),g.__iterate(function(Z,pe,ke){F?(F=!1,P=Z):P=v.call(O,P,Z,pe,ke)},J),P}function hl(g,v){return v}function Gi(g,v){return[v,g]}function yf(g){return function(){return!g.apply(this,arguments)}}function wi(g){return function(){return-g.apply(this,arguments)}}function Ea(){return Xa(arguments)}function Bn(g,v){return g<v?1:g>v?-1:0}function Td(g){if(g.size===1/0)return 0;var v=xe(g),P=ne(g),O=v?1:0,F=g.__iterate(P?v?function(J,Z){O=31*O+xc($t(J),$t(Z))|0}:function(J,Z){O=O+xc($t(J),$t(Z))|0}:v?function(J){O=31*O+$t(J)|0}:function(J){O=O+$t(J)|0});return Ul(F,O)}function Ul(g,v){return v=Yt(v,3432918353),v=Yt(v<<15|v>>>-15,461845907),v=Yt(v<<13|v>>>-13,5),v=(v+3864292196|0)^g,v=Yt(v^v>>>16,2246822507),v=Yt(v^v>>>13,3266489909),v=rr(v^v>>>16),v}function xc(g,v){return g^v+2654435769+(g<<6)+(g>>2)|0}var $o=function(g){function v(P){return P==null?Cu():jl(P)?P:Cu().withMutations(function(O){var F=se(P);ha(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(ee(O).keySeq())},v.prototype.toString=function(){return this.__toString("OrderedSet {","}")},v}(sa);$o.isOrderedSet=jl;var rc=$o.prototype;rc[we]=!0,rc.zip=Pc.zip,rc.zipWith=Pc.zipWith,rc.zipAll=Pc.zipAll,rc.__empty=Cu,rc.__make=ca;function ca(g,v){var P=Object.create(rc);return P.size=g?g.size:0,P._map=g,P.__ownerID=v,P}var uo;function Cu(){return uo||(uo=ca(Hu()))}var Fn={LeftThenRight:-1,RightThenLeft:1};function nu(g){if(ue(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(De(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var xo=function(v,P){var O;nu(v);var F=function(pe){var ke=this;if(pe instanceof F)return pe;if(!(this instanceof F))return new F(pe);if(!O){O=!0;var Qe=Object.keys(v),ht=J._indices={};J._name=P,J._keys=Qe,J._defaultValues=v;for(var Ut=0;Ut<Qe.length;Ut++){var Sr=Qe[Ut];ht[Sr]=Ut,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Pa(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):ua(J,Sr)}}return this.__ownerID=void 0,this._values=Ta().withMutations(function(sn){sn.setSize(ke._keys.length),ee(pe).forEach(function(jr,Wn){sn.set(ke._indices[Wn],jr===ke._defaultValues[Wn]?void 0:jr)})}),this},J=F.prototype=Object.create(ai);return J.constructor=F,P&&(F.displayName=P),F};xo.prototype.toString=function(){for(var v=Pa(this)+" { ",P=this._keys,O,F=0,J=P.length;F!==J;F++)O=P[F],v+=(F?", ":"")+O+": "+gu(this.get(O));return v+" }"},xo.prototype.equals=function(v){return this===v||ue(v)&&ma(this).equals(ma(v))},xo.prototype.hashCode=function(){return ma(this).hashCode()},xo.prototype.has=function(v){return this._indices.hasOwnProperty(v)},xo.prototype.get=function(v,P){if(!this.has(v))return P;var O=this._indices[v],F=this._values.get(O);return F===void 0?this._defaultValues[v]:F},xo.prototype.set=function(v,P){if(this.has(v)){var O=this._values.set(this._indices[v],P===this._defaultValues[v]?void 0:P);if(O!==this._values&&!this.__ownerID)return Hl(this,O)}return this},xo.prototype.remove=function(v){return this.set(v)},xo.prototype.clear=function(){var v=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Hl(this,v)},xo.prototype.wasAltered=function(){return this._values.wasAltered()},xo.prototype.toSeq=function(){return ma(this)},xo.prototype.toJS=function(){return Su(this)},xo.prototype.entries=function(){return this.__iterator(Ct)},xo.prototype.__iterator=function(v,P){return ma(this).__iterator(v,P)},xo.prototype.__iterate=function(v,P){return ma(this).__iterate(v,P)},xo.prototype.__ensureOwner=function(v){if(v===this.__ownerID)return this;var P=this._values.__ensureOwner(v);return v?Hl(this,P,v):(this.__ownerID=v,this._values=P,this)},xo.isRecord=ue,xo.getDescriptiveName=Pa;var ai=xo.prototype;ai[Ne]=!0,ai[e]=ai.remove,ai.deleteIn=ai.removeIn=af,ai.getIn=hp,ai.hasIn=rs.hasIn,ai.merge=uf,ai.mergeWith=Al,ai.mergeIn=Ml,ai.mergeDeep=yd,ai.mergeDeepWith=Ss,ai.mergeDeepIn=Zc,ai.setIn=Qc,ai.update=cf,ai.updateIn=cp,ai.withMutations=pm,ai.asMutable=_d,ai.asImmutable=lf,ai[at]=ai.entries,ai.toJSON=ai.toObject=rs.toObject,ai.inspect=ai.toSource=function(){return this.toString()};function Hl(g,v,P){var O=Object.create(Object.getPrototypeOf(g));return O._values=v,O.__ownerID=P,O}function Pa(g){return g.constructor.displayName||g.constructor.name||"Record"}function ma(g){return Ji(g._keys.map(function(v){return[v,g.get(v)]}))}function ua(g,v){try{Object.defineProperty(g,v,{get:function(){return this.get(v)},set:function(P){Qa(this.__ownerID,"Cannot set on an immutable record."),this.set(v,P)}})}catch{}}var Bl=function(g){function v(P,O){if(!(this instanceof v))return new v(P,O);if(this._value=P,this.size=O===void 0?1/0:Math.max(0,O),this.size===0){if(nc)return nc;nc=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},v.prototype.get=function(O,F){return this.has(O)?this._value:F},v.prototype.includes=function(O){return ft(this._value,O)},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:new v(this._value,_(F,J)-m(O,J))},v.prototype.reverse=function(){return this},v.prototype.indexOf=function(O){return ft(this._value,O)?0:-1},v.prototype.lastIndexOf=function(O){return ft(this._value,O)?this.size:-1},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=0;Z!==J&&O(this._value,F?J-++Z:Z++,this)!==!1;);return Z},v.prototype.__iterator=function(O,F){var J=this,Z=this.size,pe=0;return new tt(function(){return pe===Z?Lr():fr(O,F?Z-++pe:pe++,J._value)})},v.prototype.equals=function(O){return O instanceof v?ft(this._value,O._value):vf(O)},v}($r),nc;function Ed(g,v){return Ds([],v||iu,g,"",v&&v.length>2?[]:void 0,{"":g})}function Ds(g,v,P,O,F,J){if(typeof P!="string"&&!De(P)&&(On(P)||zr(P)||Dc(P))){if(~g.indexOf(P))throw new TypeError("Cannot convert circular structure to Immutable");g.push(P),F&&O!==""&&F.push(O);var Z=v.call(J,O,Or(P).map(function(pe,ke){return Ds(g,v,pe,ke,F,P)}),F&&F.slice());return g.pop(),F&&F.pop(),Z}return P}function iu(g,v){return ye(v)?v.toList():ne(v)?v.toMap():v.toSet()}var pl="4.3.0",Wl={version:pl,Collection:W,Iterable:W,Seq:Or,Map:Tc,OrderedMap:Cs,List:Ta,Stack:dl,Set:sa,OrderedSet:$o,PairSorting:Fn,Record:xo,Range:fl,Repeat:Bl,is:ft,fromJS:Ed,hash:$t,isImmutable:De,isCollection:A,isKeyed:ne,isIndexed:ye,isAssociative:V,isOrdered:xe,isValueObject:Je,isPlainObject:Dc,isSeq:qe,isList:Ks,isMap:Q,isOrderedMap:_e,isStack:ec,isSet:qo,isOrderedSet:jl,isRecord:ue,get:Uo,getIn:Dd,has:dh,hasIn:tc,merge:Vs,mergeDeep:co,mergeWith:Ll,mergeDeepWith:hh,remove:Tn,removeIn:fh,set:$s,setIn:Da,update:ap,updateIn:vu},Pd=W;r.Collection=W,r.Iterable=Pd,r.List=Ta,r.Map=Tc,r.OrderedMap=Cs,r.OrderedSet=$o,r.PairSorting=Fn,r.Range=fl,r.Record=xo,r.Repeat=Bl,r.Seq=Or,r.Set=sa,r.Stack=dl,r.default=Wl,r.fromJS=Ed,r.get=Uo,r.getIn=Dd,r.has=dh,r.hasIn=tc,r.hash=$t,r.is=ft,r.isAssociative=V,r.isCollection=A,r.isImmutable=De,r.isIndexed=ye,r.isKeyed=ne,r.isList=Ks,r.isMap=Q,r.isOrdered=xe,r.isOrderedMap=_e,r.isOrderedSet=jl,r.isPlainObject=Dc,r.isRecord=ue,r.isSeq=qe,r.isSet=qo,r.isStack=ec,r.isValueObject=Je,r.merge=Vs,r.mergeDeep=co,r.mergeDeepWith=hh,r.mergeWith=Ll,r.remove=Tn,r.removeIn=fh,r.set=$s,r.setIn=Da,r.update=ap,r.updateIn=vu,r.version=pl,Object.defineProperty(r,"__esModule",{value:!0})})});var HV=E(yN=>{"use strict";Object.defineProperty(yN,"__esModule",{value:!0});yN.ServiceSource=void 0;var iLt;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(iLt=yN.ServiceSource||(yN.ServiceSource={}))});var BV=E(_N=>{"use strict";Object.defineProperty(_N,"__esModule",{value:!0});_N.ClientCredentialsPolicy=void 0;var oLt;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})(oLt=_N.ClientCredentialsPolicy||(_N.ClientCredentialsPolicy={}))});var NUe=E(WV=>{"use strict";Object.defineProperty(WV,"__esModule",{value:!0});WV.View=void 0;var sLt=require("events"),MUe=mD(),aLt=BV(),Mue=class extends sLt.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!MUe.RemoteServiceConnections.contains(e.supportedConnections,MUe.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===aLt.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};WV.View=Mue});var Fue=E($V=>{"use strict";Object.defineProperty($V,"__esModule",{value:!0});$V.RemoteServiceBrokerWrapper=void 0;var cLt=xue(),Nue=class extends cLt.IpcRelayServiceBroker{};$V.RemoteServiceBrokerWrapper=Nue});var qUe=E((Wor,FUe)=>{"use strict";function uLt(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}FUe.exports=uLt});var bN=E(zO=>{"use strict";var lLt=zO&&zO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zO,"__esModule",{value:!0});zO.ServiceMonikerValue=void 0;var jUe=lLt(qUe()),que=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,jUe.default)(this.name)+(0,jUe.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};zO.ServiceMonikerValue=que});var HUe=E(UO=>{"use strict";var dLt=UO&&UO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(UO,"__esModule",{value:!0});UO.ProfferedServiceFactory=void 0;var zUe=dLt(yD()),fLt=require("events"),hLt=hN(),pLt=Fue(),UUe=bN(),mLt=HV(),jue=class extends fLt.EventEmitter{container;descriptor;factory;source=mLt.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new UUe.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new pLt.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??zUe.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=hLt.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??zUe.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(UUe.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};UO.ProfferedServiceFactory=jue});var VV=E(wN=>{"use strict";Object.defineProperty(wN,"__esModule",{value:!0});wN.ServiceAudience=void 0;var gLt;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(gLt=wN.ServiceAudience||(wN.ServiceAudience={}))});var BUe=E(SN=>{"use strict";Object.defineProperty(SN,"__esModule",{value:!0});SN.MissingBrokeredServiceErrorCode=void 0;var vLt;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(vLt=SN.MissingBrokeredServiceErrorCode||(SN.MissingBrokeredServiceErrorCode={}))});var $Ue=E(GV=>{"use strict";Object.defineProperty(GV,"__esModule",{value:!0});GV.ProfferedRemoteServiceBroker=void 0;var yLt=require("events"),WUe=Aue(),_Lt=bN(),zue=class extends yLt.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(_Lt.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await WUe.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await WUe.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};GV.ProfferedRemoteServiceBroker=zue});var VUe=E(KV=>{"use strict";Object.defineProperty(KV,"__esModule",{value:!0});KV.ProfferedServiceBroker=void 0;var bLt=require("events"),wLt=Fue(),SLt=bN(),Uue=class extends bLt.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map(SLt.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new wLt.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};KV.ProfferedServiceBroker=Uue});var KUe=E(Cb=>{"use strict";var CLt=Cb&&Cb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DLt=Cb&&Cb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TLt=Cb&&Cb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CLt(e,r,t);return DLt(e,r),e};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.GlobalBrokeredServiceContainer=void 0;var q0=TLt(LUe()),fm=HV(),Hue=NUe(),ELt=HUe(),j0=VV(),YV=BUe(),GUe=BV(),PLt=$Ue(),RLt=VUe(),JV=bN(),Bue=JM(),Wue=class r{static preferredSourceOrderForRemoteServices=[fm.ServiceSource.trustedServer,fm.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[fm.ServiceSource.sameProcess,fm.ServiceSource.otherProcessOnSameMachine];remoteSources=q0.Map();profferedServiceIndex=q0.Map();registeredServices=q0.Map();localUserCredentials=q0.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:JV.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${Bue.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new ELt.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new RLt.ProfferedServiceBroker(this,e,fm.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===fm.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new PLt.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(JV.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new Hue.View(this,j0.ServiceAudience.process,this.localUserCredentials,GUe.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new Hue.View(this,e,t,n)}static isLocalConsumer(e){return(e&~j0.ServiceAudience.local)===j0.ServiceAudience.none}getSecureServiceBroker(e){return new Hue.View(this,j0.ServiceAudience.process,e?.clientCredentials?q0.Map(e.clientCredentials):q0.Map(),GUe.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new JV.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=JV.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:YV.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:YV.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:YV.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:YV.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case fm.ServiceSource.sameProcess:case fm.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case fm.ServiceSource.otherProcessOnSameMachine:return j0.ServiceAudience.local;case fm.ServiceSource.trustedServer:return j0.ServiceAudience.liveShareGuest;case fm.ServiceSource.untrustedServer:return j0.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>fm.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??q0.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${Bue.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>Bue.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};Cb.GlobalBrokeredServiceContainer=Wue});var YUe=E(QV=>{"use strict";Object.defineProperty(QV,"__esModule",{value:!0});QV.ServiceRegistration=void 0;var XV=VV(),$ue=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&XV.ServiceAudience.local)!==XV.ServiceAudience.none}get isExposedRemotely(){return(this.audience&XV.ServiceAudience.liveShareGuest)!==XV.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};QV.ServiceRegistration=$ue});var JUe=E(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.ClientCredentialsPolicy=kv.ServiceSource=kv.ServiceRegistration=kv.ServiceAudience=kv.GlobalBrokeredServiceContainer=void 0;var xLt=KUe();Object.defineProperty(kv,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return xLt.GlobalBrokeredServiceContainer}});var OLt=VV();Object.defineProperty(kv,"ServiceAudience",{enumerable:!0,get:function(){return OLt.ServiceAudience}});var ILt=YUe();Object.defineProperty(kv,"ServiceRegistration",{enumerable:!0,get:function(){return ILt.ServiceRegistration}});var kLt=HV();Object.defineProperty(kv,"ServiceSource",{enumerable:!0,get:function(){return kLt.ServiceSource}});var ALt=BV();Object.defineProperty(kv,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return ALt.ClientCredentialsPolicy}})});var Gue=E(eo=>{"use strict";var LLt=eo&&eo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XUe=eo&&eo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&LLt(e,r,t)};Object.defineProperty(eo,"__esModule",{value:!0});eo.Observer=eo.ServiceRpcDescriptor=eo.ServiceMoniker=eo.JsonRpcConnection=eo.ServiceJsonRpcDescriptor=eo.RemoteServiceConnectionInfo=eo.RemoteServiceBroker=eo.ProtectedOperation=eo.MultiplexingRelayServiceBroker=eo.RpcMarshalable=eo.IpcRelayServiceBroker=eo.IDisposable=eo.AuthorizationServiceClient=eo.RemoteServiceConnections=eo.MessageDelimiters=eo.Formatters=void 0;var Vue=mD();Object.defineProperty(eo,"Formatters",{enumerable:!0,get:function(){return Vue.Formatters}});Object.defineProperty(eo,"MessageDelimiters",{enumerable:!0,get:function(){return Vue.MessageDelimiters}});Object.defineProperty(eo,"RemoteServiceConnections",{enumerable:!0,get:function(){return Vue.RemoteServiceConnections}});XUe(qV(),eo);var MLt=Eue();Object.defineProperty(eo,"AuthorizationServiceClient",{enumerable:!0,get:function(){return MLt.AuthorizationServiceClient}});var NLt=SUe();Object.defineProperty(eo,"IDisposable",{enumerable:!0,get:function(){return NLt.IDisposable}});var FLt=xue();Object.defineProperty(eo,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return FLt.IpcRelayServiceBroker}});var qLt=iV();Object.defineProperty(eo,"RpcMarshalable",{enumerable:!0,get:function(){return qLt.RpcMarshalable}});var jLt=TUe();Object.defineProperty(eo,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return jLt.MultiplexingRelayServiceBroker}});var zLt=PUe();Object.defineProperty(eo,"ProtectedOperation",{enumerable:!0,get:function(){return zLt.ProtectedOperation}});var ULt=Aue();Object.defineProperty(eo,"RemoteServiceBroker",{enumerable:!0,get:function(){return ULt.RemoteServiceBroker}});var HLt=Iue();Object.defineProperty(eo,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return HLt.RemoteServiceConnectionInfo}});var QUe=Cue();Object.defineProperty(eo,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return QUe.ServiceJsonRpcDescriptor}});Object.defineProperty(eo,"JsonRpcConnection",{enumerable:!0,get:function(){return QUe.JsonRpcConnection}});var BLt=JM();Object.defineProperty(eo,"ServiceMoniker",{enumerable:!0,get:function(){return BLt.ServiceMoniker}});var WLt=mce();Object.defineProperty(eo,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return WLt.ServiceRpcDescriptor}});var $Lt=kUe();Object.defineProperty(eo,"Observer",{enumerable:!0,get:function(){return $Lt.Observer}});XUe(JUe(),eo)});var _Mt={};eI(_Mt,{activate:()=>yMt});module.exports=GS(_Mt);var oq=be(require("path")),$i=be(require("vscode"));var P4=be(require("child_process")),rw=be(require("fs")),wle=be(require("os")),x_=be(require("path")),E4;function Sle(r){E4=r}function KD(){if(!E4)throw new Error("Failed to set extension path");return E4}function Cle(){let r=process.env.TMPDIR;return r||"/tmp/"}function tI(r,e){return r.reduce((t,n)=>t+e(n),0)}async function R4(r,e){return Promise.all(r.map(e))}async function Dle(r,e){let t=await R4(r,e);return r.filter((n,i)=>t[i])}function x4(r){return r?r.length:0}async function KS(r,e,t){return new Promise((n,i)=>{P4.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function Tle(r){return new Promise((e,t)=>{P4.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(wle.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function Q0(r){return new Promise(e=>{rw.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function Ele(r){return Q0(r).then(async e=>new Promise((t,n)=>{if(!e)return t();rw.unlink(r,i=>{if(i)return n(i);t()})}))}var rI=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))(rI||{});function nI(r,e){let t="install."+rI[e];return x_.resolve(r.value,t)}async function FN(r,e){return Q0(nI(r,e))}async function O4(r,e){return new Promise((t,n)=>{rw.writeFile(nI(r,e),"",i=>{if(i){n(i);return}t()})})}async function Ple(r,e){return new Promise((t,n)=>{rw.unlink(nI(r,e),i=>{if(i){n(i);return}t()})})}function nw(r){return r.split(x_.sep).join(x_.posix.sep)}function Rle(r,e){let t=r.split(x_.sep),n=e.split(x_.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function xle(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,x_.join(o,t)],[]);for(let i of n)try{if(rw.statSync(i).isFile())return t}catch{}}}var aw=be(require("vscode")),Z4=be(require("path")),iE=be(require("fs")),fI=be(XS()),Ofe=be(require("os"));var Q4=be(XS()),Pfe=require("path");var Rfe=require("os");async function Wp(r){let e=x3e(r),t=await O3e(e);return await I3e(t,e)}function x3e(r){let e=`dotnet${Gd.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,Pfe.join)(n,e);if(Gd.existsSync(i)){t=i;break}}return t}async function O3e(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await KS(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function I3e(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await KS(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let m=f[1],_=f[2];m in c?c[m].push({Version:Q4.parse(_),Path:f[3]}):c[m]=[{Version:Q4.parse(_),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${Rfe.EOL}${r}`)}}var xfe="1.0.0",k3e="22.0.0",Ife="macOS 13 (Ventura)",Gd=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=Z4.join(this._extensionDir,".debugger"),this._installCompleteFilePath=Z4.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(aw.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(aw.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(aw.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{iE.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await Wp(e);if(fI.lt(t.Version,xfe))throw new Error(aw.l10n.t("The .NET Core SDK located on the path is too old. .NET Core debugging will not be enabled. The minimum supported version is {0}.",xfe))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(aw.l10n.t("The .NET Core SDK cannot be located: {0}. .NET Core debugging will not be enabled. Make sure the .NET Core SDK is installed and is on the path.",n))}}static isMacOSSupported(){return fI.gte(Ofe.release(),k3e)}static existsSync(e){try{return iE.accessSync(e,iE.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}},A3e="6.0.0";function kfe(r,e,t){if(!r.isMacOS()&&!r.isWindows())return"";if(e){if(e!=="x86_64"&&e!=="arm64")throw new Error(aw.l10n.t("The value '{0}' for 'targetArchitecture' in launch configuraiton is invalid. Expected 'x86_64' or 'arm64'.",e));return e}if(fI.lt(t.Version,A3e))return"x86_64";if(!t.RuntimeId)throw new Error(aw.l10n.t("Unable to determine RuntimeId. Please set 'targetArchitecture' in your launch.json configuration."));if(t.RuntimeId.includes("arm64"))return"arm64";if(t.RuntimeId.includes("x64"))return"x86_64";throw new Error(aw.l10n.t("Unexpected RuntimeId '{0}'.",t.RuntimeId))}var Kd=class{constructor(e){this.message=e}type=24},YN=class{type=54},QD=class extends Kd{type=41},hI=class extends Kd{type=67},ZD=class{type=52},JN=class{type=6},QS=class{constructor(e){this.packageInfo=e}type=7},ZS=class{constructor(e){this.info=e}type=8},XN=class{constructor(e){this.packageDescription=e}type=9},eC=class{type=50},eT=class{constructor(e,t){this.stage=e;this.error=t}type=10},QN=class{constructor(e){this.packageDescription=e}type=25},ZN=class{constructor(e){this.fallbackUrl=e}type=26},pI=class extends Kd{type=65},oE=class extends Kd{type=64},eF=class{constructor(e){this.packageSize=e}type=27},tF=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},rF=class{type=43},nF=class{constructor(e){this.message=e}type=28},iF=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},oF=class{type=38};var sF=be(require("path")),tT=class r{constructor(e){this.value=e;if(!sF.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(sF.resolve(...e))}};var sE=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,Afe(e,t),M3e(e,t),L3e(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function L3e(r,e){if(r.installTestPath!==void 0)return tT.getAbsolutePath(e,r.installTestPath)}function M3e(r,e){let t=Afe(r,e).value;return r.binaries?.map(n=>tT.getAbsolutePath(t,n))}function Afe(r,e){return r.installPath!==void 0?tT.getAbsolutePath(e,r.installPath):new tT(e)}async function Lfe(r,e){let t=e6(r,e);return N3e(t)}function e6(r,e){return r.filter(t=>t.architectures.includes(e.architecture)&&t.platforms.includes(e.platform))}async function N3e(r){return Dle(r,async e=>{let t=nI(e.installPath,1);return!await Q0(t)})}function Mfe(r,e,t,n){let o=rT(e).map(a=>sE.getAbsolutePathPackage(a,n));return e6(o,t).find(a=>a.id===r)}function rT(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var E6=be(require("child_process")),b6=be(sC()),cC=be(require("os")),TF=be(require("path")),Bh=be(require("vscode"));var Bpe=be(require("crypto")),Wpe=be(require("fs")),DF=be(require("os"));var oT="unknown",_6=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(oT,oT)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===oT||e.indexOf(this.name)>=0)return this.toString();{let t=Bpe.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{Wpe.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=DF.EOL){let n=oT,i=oT,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==oT&&i!==oT)break}}return new r(n,i)}},hE=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=DF.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),_6.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await KS("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await KS("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var EF=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return Bh.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},aC=class r{static get commColumnTitle(){return Array(EI.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return hE.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=TF.join(n,"System32"),o=TF.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!b6.existsSync(e)&&b6.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(Bh.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=Bh.window.createOutputChannel(Bh.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(Bh.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(Bh.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,cC.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return Bh.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:Bh.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=TF.join(KD(),"scripts","remoteProcessPickerScript");return $4e(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(Bh.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(Bh.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(Bh.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return $pe(EI.parseProcessFromPsArray(u),c)}}})}},PF=class{static Get(){if(cC.platform()==="win32"){let e=xle();return e?new S6(e):new D6}else return new w6}},TI=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>$pe(e,cC.platform()))}};function $pe(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var w6=class extends TI{async getInternalProcessEntries(){let e=cC.platform()==="darwin"?aC.osxPsCommand:aC.linuxPsCommand;return P6(e).then(t=>EI.parseProcessFromPs(t))}},EI=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(cC.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},S6=class extends TI{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await P6(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return C6.ParseProcessFromCim(i)}},C6=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},D6=class extends TI{async getInternalProcessEntries(){return P6("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>T6.parseProcessFromWmic(t))}},T6=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(cC.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function P6(r){return new Promise((e,t)=>{E6.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function W4e(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function $4e(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{W4e(n).then(s=>{E6.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(Bh.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(Bh.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var Fge=be(pC());var Nge=be(pC()),ad=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof Nge.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var po=class extends ad{disposables=new Fge.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var xs=be(require("vscode"));var qge=be(require("vscode")),jge=be(require("fs")),tq=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=jge.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=qge.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var pG=be(require("vscode")),mG=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=pG.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=pG.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},ck=new mG;var Bge=be(require("child_process"));var fT=be(require("vscode")),rq=be(require("path")),gG=class{get waitForDebugger(){return Jr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Jr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Jr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return S7e()}get defaultSolution(){let e="",t=Jr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(fT.workspace.workspaceFolders!==void 0&&(fT.workspace.workspaceFolders.length>1&&rq.isAbsolute(t)&&(e=t),e==""))for(let n of fT.workspace.workspaceFolders){let i=fT.workspace.getConfiguration(void 0,n.uri),o=zge(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=rq.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Jr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Jr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Jr("dotnet.formatting.organizeImportsOnFormat",!1)}},vG=class{get useModernNet(){return Jr("omnisharp.useModernNet",!0)}get monoPath(){return Jr("omnisharp.monoPath","")}get loggingLevel(){let e=Jr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Jr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Jr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Jr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Jr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Jr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Jr("omnisharp.enableRoslynAnalyzers",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Jr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Jr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Jr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Jr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Jr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Jr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Jr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Jr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Jr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Jr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Jr("omnisharp.sdkPath","")}get sdkVersion(){return Jr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Jr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Jr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Jr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Jr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Jr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Jr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Jr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Jr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Jr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Jr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Jr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Jr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Jr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Jr("omnisharp.dotnetPath","")}},yG=class{get documentSelector(){return Jr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Jr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Jr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Jr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Jr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Jr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Jr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Jr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Jr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Jr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Jr("dotnet.diagnostics.reportInformationAsHint",!0)}},_G=class{get razorDevMode(){return Jr("razor.devmode",!1)}get razorPluginPath(){return Jr("razor.plugin.path","")}get razorServerPath(){return Jr("razor.languageServer.directory","")}},us=new gG,qr=new vG,ls=new yG,gy=new _G;function S7e(){let r=fT.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function zge(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Jr(r,e,...t){return zge(fT.workspace.getConfiguration(),r,e,...t)}var nq=["waitForDebugger","serverPath","useOmnisharpServer"],Uge=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],Hge=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function Wge(){return await Vge(`${Gge()} dev-certs https --check --trust`,process.cwd(),process.env)}async function $ge(){return await Vge(`${Gge()} dev-certs https --trust`,process.cwd(),process.env)}async function Vge(r,e=KD(),t={}){return new Promise(n=>{Bge.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function Gge(){return us.useOmnisharpServer?qr.dotnetPath??"dotnet":"dotnet"}var Kge=be(require("vscode"));var lw="ms-dotnettools.csdevkit",iq="ms-dotnettools.vscodeintellicode-csharp";function Fa(){if(!ls.preferCSharpExtension)return Kge.extensions.getExtension(lw)}function Wi(r,e,...t){bG(r,e,void 0,...t)}function bG(r,e,t,...n){wG(r,r.window.showErrorMessage,e,t,...n)}function Vh(r,e,...t){wG(r,r.window.showWarningMessage,e,void 0,...t)}function ya(r,e,...t){wG(r,r.window.showInformationMessage,e,void 0,...t)}function wG(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var hT=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?Fa()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=ck.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await aC.ShowAttachEntries(t,this.platformInformation);else{let s=PF.Get();o=await new EF(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{bG(xs,xs.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!xs.env.remoteName&&xs.env.uiKind!=xs.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=tq.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(xs.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:xs.l10n.t("Open envFile"),action:async()=>{let i=await xs.workspace.openTextDocument(t);await xs.window.showTextDocument(i)}};Vh(xs,e,n)}loadSettingDebugOptions(e){let t=xs.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await Wge()).error?.code;if(n===7||n===6){let i=xs.l10n.t("Yes"),o=xs.l10n.t("More Information"),s=await xs.window.showWarningMessage(xs.l10n.t("Security Warning"),{modal:!0,detail:xs.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await $ge();if(a.error===null){let c=n===7?"trusted":"created";ya(xs,xs.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(xs.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:xs.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};Vh(xs,xs.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await xs.env.openExternal(xs.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function Yge(r,e,t,n,i,o){let s=new po,a=new Gd(e.extensionPath);Gd.existsSync(a.debugAdapterDir())?Gd.existsSync(a.installCompleteFilePath())||await Xge(a,t,n):await Jge(t,n)&&(n.post(new QD($i.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),C7e(n)),s.add($i.commands.registerCommand("csharp.listProcess",()=>"")),s.add($i.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add($i.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await aC.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error($i.l10n.t("Could not find a process id to attach.")))})),s.add($i.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error($i.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await $i.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new SG(a,t,n,r.packageJSON,r.extensionPath,i);e.subscriptions.push($i.debug.registerDebugConfigurationProvider("clr",new hT(t,i))),e.subscriptions.push($i.debug.registerDebugConfigurationProvider("monovsdbg",new hT(t,i))),s.add($i.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add($i.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add($i.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function Jge(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new QD($i.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):Gd.isMacOSSupported()?!0:(e.post(new QD($i.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",Ife))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new hI($i.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new QD($i.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function Xge(r,e,t){try{return await r.checkDotNetCli(qr.dotNetCliPaths),await Jge(e,t)?(await Gd.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new ZD),Wi($i,$i.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return D7e(i.message),t.post(new hI(i.message)),!1}}function C7e(r){r.post(new ZD),Wi($i,$i.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function D7e(r){if(!$i.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t=Fa()!==void 0?{title:$i.l10n.t("Get the SDK"),command:"csdevkit.installDotnetSdk"}:{title:$i.l10n.t("Get the SDK"),action:async()=>{await $i.env.openExternal($i.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:$i.l10n.t("Disable message in settings"),action:async()=>{await $i.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:$i.l10n.t("Help"),action:async()=>{await $i.env.openExternal($i.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Wi($i,r,n,t,i)}}var SG=class{constructor(e,t,n,i,o,s){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o;this.cSharpChannel=s}async createDebugAdapterDescriptor(e,t){let n=new Gd(KD()),i=JSON.stringify({command:t?.command,args:t?.args,options:t?.options});if(this.cSharpChannel?.debug(`Creating createDebugAdapterDescriptor for executable ${i}`),!Gd.existsSync(n.debugAdapterDir())){this.cSharpChannel?.debug(`Debug adapter directory does not exist: ${n.debugAdapterDir()}`);let s=!1,a=Mfe("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(a?.installPath&&(s=await FN(a.installPath,1)),s){if(!Gd.existsSync(n.installCompleteFilePath())&&!await Xge(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new ZD),new Error($i.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new ZD),new Error($i.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}if(this.cSharpChannel?.debug(`Ensured that debugger directory exists: ${n.debugAdapterDir()}`),!t){this.cSharpChannel?.debug("Debug executable is not defined; manually setting to netcoredbg");let s=await Wp(qr.dotNetCliPaths),a=kfe(this.platformInfo,e.configuration.targetArchitecture,s),c=oq.join(KD(),".debugger",a,"netcoredbg"+Gd.getPlatformExeExtension()),u=process.env.DOTNET_ROOT??(s.CliPath?oq.dirname(s.CliPath):""),l;u&&(l={env:{DOTNET_ROOT:u}}),t=new $i.DebugAdapterExecutable(c,["--interpreter=vscode"],l)}let o=JSON.stringify({command:t.command,args:t.args,options:t.options});return this.cSharpChannel?.debug(`Returning debugging executable ${JSON.stringify(o)}`),t}};var Mv=be(require("vscode"));var O_=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var sq=class extends O_{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var Qge;var uk=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),Qge&&Qge(e)}};var zf=class{logger;constructor(e){e instanceof uk?this.logger=e:this.logger=new uk(t=>e.append(t))}};var Tl=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var mC=class extends Tl{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var aq=class extends zf{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof mC?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var Zge=be(pC()),cq=class{sink;constructor(){this.sink=new Zge.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var tBe=be(gve());var gq=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function vve(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new gq(t,n)}}var F_e=be(pC()),q_e=be(l1());function H8(r){return F_e.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,q_e.publishBehavior)(()=>{})).refCount()}var dbe=be(require("https"));var fbe=require("url");var cbe=be(tbe()),ube=be(abe());function bot(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function lbe(r,e,t){let n=e.length>0?e:bot(r);if(n===void 0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new cbe.default.HttpProxyAgent(i,o):new ube.default.HttpsProxyAgent(i,o)}async function kq(r,e,t,n,i,o){e.post(new QN(r));try{let s=await K8(r,n,e,t,o);return e.post(new pI(" Done!")),s}catch(s){if(i!==void 0){e.post(new ZN(i));try{let a=await K8(r,i,e,t);return e.post(new pI(" Done!")),a}catch{throw s}}else throw s}}async function K8(r,e,t,n,i){let o=(0,fbe.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:lbe(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new Tl(`Cancelled downloading ${e}.`)));let m=dbe.request(u,_=>{if(_.statusCode===301||_.statusCode===302)return _.headers.location===void 0?(t.post(new oE(`Failed to download from ${e}. Redirected without location header`)),f(new Tl("Missing location"))):d(K8(r,_.headers.location,t,n,i));if(_.statusCode!==200)return t.post(new oE(`Failed to download from ${e}. Error code '${_.statusCode}')`)),f(new Tl(_.statusCode.toString()));if(_.headers["content-length"]===void 0)return t.post(new oE(`Failed to download from ${e}. No content-length header`)),f(new Tl("Missing content-length"));let T=parseInt(_.headers["content-length"],10),x=0,M=0;t.post(new eF(T)),_.on("data",A=>{x+=A.length,l.push(A);let U=Math.ceil(100*(x/T));U!==M&&(M=U,t.post(new tF(M,r)))}),_.on("end",()=>{d(Buffer.concat(l))}),_.on("error",A=>{f(new Tl(`Failed to download from ${e}. Error Message: ${A.message} || 'NONE'}`,A))})});m.on("error",_=>{f(new Tl(`Request error: ${_.message||"NONE"}`,_))}),m.end()})}var kwe=be(require("fs")),AK=be(mwe()),Qq=be(require("path")),Awe=be(Iwe());async function Lwe(r,e,t,n,i){return i.post(new XN(e)),new Promise((o,s)=>{Awe.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new nF(u)),s(new Tl(u))}c.readEntry(),c.on("entry",async u=>{let l=Qq.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,AK.mkdirp)(l,509),c.readEntry()}catch(d){let f=d;return s(new Tl("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new Tl("Error reading zip stream",d));try{await(0,AK.mkdirp)(Qq.dirname(l),509);let _=n?.map(T=>T.value)?.includes(l)?493:436;f.pipe(kwe.createWriteStream(l,{mode:_})),f.on("end",()=>c.readEntry())}catch(m){return s(new Tl("Error creating directory for zip file entry",m))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new Tl("Zip File Error:"+u.code||"",u))})})})}var Mwe=be(sC());async function BE(r,e,t,n,i,o){t.post(new JN),o?.info("Installing packages: "+JSON.stringify(r));for(let s of r){let a="touchBeginFile";try{(0,Mwe.mkdirpSync)(s.installPath.value),o?.info("Creating install path: "+s.installPath.value),await O4(s.installPath,0);let c=1,u=()=>c<=2;for(;u();){c=c+1,a="downloadPackage",o?.info("Downloading package: "+s.description);let l=await kq(s.description,t,e,s.url,s.fallbackUrl,i);if(n(l,s.integrity,t)){a="installPackage",o?.info("Installing package: "+s.description),await Lwe(l,s.description,s.installPath,s.binaries,t),a="touchLockFile",o?.info("Touching lock file: "+s.installPath.value),await O4(s.installPath,1);break}else o?.info("Integrity check failed: "+s.description),t.post(new iF(s.description,s.url,u()))}}catch(c){if(c instanceof Tl){let u=new mC(c.message,s,c.err);o?.info("Installation failure: "+u.message),t.post(new eT(a,u))}else o?.info("Installation failure: "+c),t.post(new eT(a,c));return!1}finally{try{await FN(s.installPath,0)&&await Ple(s.installPath,0)}catch{}}}return!0}async function WE(r,e,t){let n=r.map(i=>sE.getAbsolutePathPackage(i,t));return Lfe(n,e)}async function Nwe(r,e,t,n,i,o,s){let a=rT(r),c=await WE(a,i,e),u=_at(c,o),l=bat(s,u);if(l.length>0)if(n.post(new QS("C# dependencies")),n.post(new ZS(i)),await t(l))n.post(new eC);else return!1;return!0}function _at(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function bat(r,e){return e.filter(t=>r.includes(t.id))}var Fwe=be(require("crypto"));function $E(r,e,t){return e!==void 0&&e.length>0?(t.post(new rF),wat(r)===e.toUpperCase()?(t.post(new oF),!0):!1):!0}function wat(r){let e=Fwe.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var qwe=be(require("fs")),jwe=be(require("path")),zwe=require("util");var tg="ms-dotnettools.csharp";var D1="dotnet.dotnetPath",Zq="dotnetAcquisitionExtension.existingDotnetPath",Sat=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function Uwe(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of Sat){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&Dat(o,i.defaultValue)&&await Hwe(t,n,e)}await Cat(r)}async function Cat(r){let e=r.workspace.getConfiguration();if(us.useOmnisharpServer)await Hwe(D1,"omnisharp.dotnetPath",e);else{let t=e.inspect(D1);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(Zq);t.globalValue&&await LK(D1,t.globalValue,Zq,n?.globalValue,e,1),t.workspaceValue&&await LK(D1,t.workspaceValue,Zq,n?.workspaceValue,e,2),t.workspaceFolderValue&&await LK(D1,t.workspaceFolderValue,Zq,n?.workspaceFolderValue,e,3)}}async function LK(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=jwe.join(e,`dotnet${s}`);if(!qwe.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===tg).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:tg,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function Dat(r,e){return r==e?!0:zwe.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function Hwe(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var _y=be(require("vscode")),Bwe=be(XS()),VE="ms-dotnettools.vscode-dotnet-runtime",MK="2.2.3";async function Wwe(r){let t=_y.extensions.getExtension(VE)?.packageJSON.version;if((0,Bwe.lt)(t,MK)){let n=_y.l10n.t("Update and reload"),i=_y.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,MK,VE);if(await _y.window.showErrorMessage(i,n)===n)await _y.commands.executeCommand("workbench.extensions.installExtension",VE),await _y.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(_y.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",MK,VE,r.extension.packageJSON.displayName))}}var av=be(require("vscode"));function $we(r,e){if(!Tat(e)){if(r.extension.extensionKind===av.ExtensionKind.Workspace){let t={title:av.l10n.t("How to setup Remote Debugging"),action:async()=>{await av.env.openExternal(av.Uri.parse("https://github.com/dotnet/vscode-csharp/wiki/Remote-Debugging-On-Linux-Arm"))}},n=av.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Wi(av,n,t)}else{let t=av.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Wi(av,t)}return!1}return!0}function Tat(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var cO=be(require("vscode"));var $a=be(require("vscode"));var KE=be(require("path"));var T1=be(sC()),e2=be(require("path"));function Vwe(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function GE(r){return Eat(r)??Pat(r)}function Eat(r){return r.find(e=>e.startsWith("netcoreapp"))}function Pat(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function Gwe(r){return r.find(e=>e.startsWith("netstandard"))}function t2(r){return T1.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function r2(r){let e=e2.dirname(r),t=e2.join(e,"Properties","launchSettings.json");try{if(!T1.pathExistsSync(t))return!1;let n=T1.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function n2(r,e,t,n){return!(!t||!r||!e||n)}var ki;(Me=>(Me.AddToProject="/addtoproject",Me.CodeCheck="/codecheck",Me.CodeFormat="/codeformat",Me.ChangeBuffer="/changebuffer",Me.FilesChanged="/filesChanged",Me.FindSymbols="/findsymbols",Me.FindUsages="/findusages",Me.FormatAfterKeystroke="/formatAfterKeystroke",Me.FormatRange="/formatRange",Me.GetCodeActions="/getcodeactions",Me.GoToTypeDefinition="/gototypedefinition",Me.FindImplementations="/findimplementations",Me.Project="/project",Me.Projects="/projects",Me.RemoveFromProject="/removefromproject",Me.Rename="/rename",Me.RunCodeAction="/runcodeaction",Me.SignatureHelp="/signatureHelp",Me.TypeLookup="/typelookup",Me.UpdateBuffer="/updatebuffer",Me.Metadata="/metadata",Me.RunFixAll="/runfixall",Me.GetFixAll="/getfixall",Me.ReAnalyze="/reanalyze",Me.QuickInfo="/quickinfo",Me.Completion="/completion",Me.CompletionResolve="/completion/resolve",Me.CompletionAfterInsert="/completion/afterInsert",Me.SourceGeneratedFile="/sourcegeneratedfile",Me.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Me.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Me.InlayHint="/inlayHint",Me.InlayHintResolve="/inlayHint/resolve",Me.FileOpen="/open",Me.FileClose="/close"))(ki||={});var Is;(a=>{let r;(W=>(W.GetCodeActions="/v2/getcodeactions",W.RunCodeAction="/v2/runcodeaction",W.GetTestStartInfo="/v2/getteststartinfo",W.RunTest="/v2/runtest",W.RunAllTestsInClass="/v2/runtestsinclass",W.RunTestsInContext="/v2/runtestsincontext",W.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",W.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",W.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",W.DebugTestLaunch="/v2/debugtest/launch",W.DebugTestStop="/v2/debugtest/stop",W.DiscoverTests="/v2/discovertests",W.BlockStructure="/v2/blockstructure",W.CodeStructure="/v2/codestructure",W.Highlight="/v2/highlight",W.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(m=>(m.None="none",m.Passed="passed",m.Failed="failed",m.Skipped="skipped",m.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(ee=>(ee.Class="class",ee.Delegate="delegate",ee.Enum="enum",ee.Interface="interface",ee.Struct="struct",ee.Constant="constant",ee.Constructor="constructor",ee.Destructor="destructor",ee.EnumMember="enummember",ee.Event="event",ee.Field="field",ee.Indexer="indexer",ee.Method="method",ee.Operator="operator",ee.Property="property",ee.Namespace="namespace",ee.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(_=>(_.Internal="internal",_.Private="private",_.PrivateProtected="private protected",_.Protected="protected",_.ProtectedInternal="protected internal",_.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(m,_){for(let T of m)d(T,_),T.Children&&f(T.Children,T)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(Is||={});function Rat(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return GE(e)!==void 0||Gwe(e)!==void 0||Vwe(e)!==void 0}function Kwe(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:KE.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)Rat(t)&&e.push({Name:KE.basename(t.Path),Directory:KE.dirname(t.Path),FilePath:t.Path});return e}async function NK(r,e,t){return r.makeRequest(ki.CodeCheck,e,t)}async function Ywe(r,e,t){return r.makeRequest(Is.Requests.BlockStructure,e,t)}async function i2(r,e,t){return r.makeRequest(Is.Requests.CodeStructure,e,t)}async function Jwe(r,e){return r.makeRequest(Is.Requests.DiscoverTests,e)}async function YE(r,e){return r.makeRequest(ki.FilesChanged,e)}async function Xwe(r,e,t){return r.makeRequest(ki.FindImplementations,e,t)}async function Qwe(r,e,t){return r.makeRequest(ki.FindSymbols,e,t)}async function Zwe(r,e){return r.makeRequest(ki.RunFixAll,e)}async function eSe(r,e){return r.makeRequest(ki.GetFixAll,e)}async function JE(r,e,t){return r.makeRequest(ki.FindUsages,e,t)}async function tSe(r,e,t){return r.makeRequest(ki.FormatAfterKeystroke,e,t)}async function rSe(r,e,t){return r.makeRequest(ki.FormatRange,e,t)}async function nSe(r,e,t){return r.makeRequest(Is.Requests.GetCodeActions,e,t)}async function iSe(r,e,t){return r.makeRequest(Is.Requests.GoToDefinition,e,t)}async function oSe(r,e,t){return r.makeRequest(ki.GoToTypeDefinition,e,t)}async function sSe(r,e,t){return r.makeRequest(ki.SourceGeneratedFile,e,t)}async function aSe(r,e){return r.makeRequest(ki.UpdateSourceGeneratedFile,e)}async function cSe(r,e){return r.makeRequest(ki.SourceGeneratedFileClosed,e)}async function uSe(r,e,t){return r.makeRequest(ki.Rename,e,t)}async function E1(r,e){return r.makeRequest(ki.Project,e)}async function gw(r){let e=await r.makeRequest(ki.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=t2(t.Path);let n=await r2(t.Path),i=GE(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=n2(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function lSe(r,e){return r.makeRequest(Is.Requests.RunCodeAction,e)}async function dSe(r,e,t){return r.makeRequest(ki.SignatureHelp,e,t)}async function XE(r,e){return r.makeRequest(ki.UpdateBuffer,e)}async function fSe(r,e){return r.makeRequest(ki.Metadata,e)}async function FK(r,e){return r.makeRequest(ki.ReAnalyze,e)}async function hSe(r,e){return r.makeRequest(Is.Requests.RunTest,e)}async function pSe(r,e){return r.makeRequest(Is.Requests.RunAllTestsInClass,e)}async function mSe(r,e){return r.makeRequest(Is.Requests.RunTestsInContext,e)}async function gSe(r,e){return r.makeRequest(Is.Requests.DebugTestGetStartInfo,e)}async function vSe(r,e){return r.makeRequest(Is.Requests.DebugTestsInClassGetStartInfo,e)}async function ySe(r,e){return r.makeRequest(Is.Requests.DebugTestsInContextGetStartInfo,e)}async function _Se(r,e){return r.makeRequest0(Is.Requests.DebugTestLaunch,e)}async function bSe(r,e){return r.makeRequest0(Is.Requests.DebugTestStop,e)}async function wSe(r,e){return r.makeRequest(Is.Requests.Highlight,e)}async function SSe(r,e,t){return r.makeRequest(ki.QuickInfo,e,t)}async function CSe(r,e,t){return r.makeRequest(ki.Completion,e,t)}async function DSe(r,e,t){return r.makeRequest(ki.CompletionResolve,e,t)}async function TSe(r,e){return r.makeRequest(ki.CompletionAfterInsert,e)}async function ESe(r,e){return r.makeRequest(ki.FileOpen,e)}async function PSe(r,e){return r.makeRequest(ki.FileClose,e)}function RSe(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function xSe(r,e,t){return r.makeRequest(ki.InlayHint,e,t)}async function OSe(r,e,t){return r.makeRequest(ki.InlayHintResolve,e,t)}var o2=class extends O_{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var s2=class extends zf{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var P1=class extends zf{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case Is.TestOutcomes.Failed:o+=1;break;case Is.TestOutcomes.Passed:i+=1;break;case Is.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${xat(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function xat(r){return r.charAt(0).toUpperCase()+r.slice(1)}var R1=class extends O_{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var a2=be(require("os"));var c2=class extends zf{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${a2.EOL}${t.message}`,i=a2.EOL+"        ";n=n.replace(a2.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var u2=class extends O_{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){qr.showOmnisharpLogOnError&&this.showChannel(!0)}};var ISe=be(l1()),kSe=be(pC());var qK=require("vscode");var l2=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new kSe.Subject,this.warningMessageDebouncer.pipe((0,ISe.debounceTime)(1500,n)).subscribe(i=>{let o=qK.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:qK.l10n.t("Show Output"),command:"o.showOutput"};Vh(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var jK=require("vscode");var d2=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!qr.suppressDotnetRestoreNotification){let e=jK.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:jK.l10n.t("Restore"),command:"dotnet.restore.all"};ya(this.vscode,e,t)}}};var f2=require("vscode");var h2=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Wi(this.vscode,f2.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Wi(this.vscode,e.message)}handleDotnetTestRunFailure(e){Wi(this.vscode,f2.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Wi(this.vscode,f2.l10n.t("Failed to start debugger: {0}",e.message))}};var QE=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var TC=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var p2=class extends TC{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var ASe=be(require("vscode")),LSe=require("path");var m2=class extends TC{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+ASe.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,LSe.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var g2=class extends TC{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var v2=be(require("os"));var y2=class extends zf{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${v2.EOL}${e.message}`,n=v2.EOL+"        ";t=t.replace(v2.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var _2=class extends zf{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var b2=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallRazorOmnisharp(e){let n=rT(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await WE(n,this.platformInfo,this.extensionPath);return i.length>0&&(this.eventStream.post(new QS(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new ZS(this.platformInfo)),await BE(i,this.networkSettingsProvider,this.eventStream,$E))?(this.eventStream.post(new eC),!0):!1}};var MSe=be(XS()),w2=be(require("path"));var ZE=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=qr.monoPath;t.length>0&&(e.PATH=w2.join(t,"bin")+w2.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(MSe.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var NSe=require("child_process"),FSe=be(require("path")),C2=be(XS()),qSe=require("util");var S2=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=qr.dotnetPath;n.length>0&&(t.PATH=n+FSe.delimiter+t.PATH);let i=await(0,qSe.promisify)(NSe.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=C2.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(C2.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var jSe=be(require("vscode")),D2=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=jSe.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var AZ=be(require("fs")),oR=be(require("path"));var T2=be(require("path")),zSe=be(require("vscode"));function E2(r){let e=T2.dirname(r.fsPath),t=zSe.workspace.asRelativePath(e);return{label:T2.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var P2=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var mOe=require("events");var EC=be(require("path")),HSe=be(XS());var zK="6.0";function USe(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>Iat(o,e,n,r,i))}function Iat(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",kat(r,e,t,n,i,o)}function kat(r,e,t,n,i,o){let s=e?"":`-net${zK}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var R2=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(EC.isAbsolute(t)){if(!await Q0(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(HSe.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=EC.resolve(i,this.installPath,e+(n?"":`-net${zK}`));if(n){if(t.isWindows())return EC.join(o,"OmniSharp.exe")}else return EC.join(o,"OmniSharp.dll");return EC.join(o,"omnisharp","OmniSharp.exe")}};var x2=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},O2=class extends x2{type=3},I2=class extends x2{type=0},k2=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},eP=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},A2=class{constructor(e,t){this.message=e;this.error=t}type=12},L2=class{constructor(e,t){this.request=e;this.id=t}type=13},M2=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},N2=class{constructor(e){this.errorMessage=e}type=15},F2=class{constructor(e){this.message=e}type=80},q2=class{constructor(e){this.diagnostics=e}type=16},j2=class{constructor(e){this.unresolvedDependencies=e}type=17},z2=class{constructor(e,t){this.queueName=e;this.command=t}type=18},x1=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var U2=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},tP=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},PT=class{constructor(e){this.err=e}type=21},H2=class{constructor(e){this.targets=e}type=22},B2=class{constructor(e){this.projectConfiguration=e}type=74},W2=class{constructor(e){this.info=e}type=23},rP=class{constructor(e){this.results=e}type=29},$2=class{constructor(e){this.testMethod=e}type=30},V2=class{constructor(e){this.testMethod=e}type=31},G2=class{constructor(e){this.targetProcessId=e}type=32},K2=class{constructor(e){this.className=e}type=33},Y2=class{constructor(e){this.className=e}type=34},J2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},X2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},Q2=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},Z2=class{constructor(e){this.path=e}type=39},ej=class{constructor(e){this.path=e}type=40},O1=class extends Kd{type=42},tj=class extends Kd{type=66},rj=class extends Kd{type=68},nj=class extends Kd{type=63},vw=class extends Kd{type=62},ij=class extends Kd{type=61},Yp=class extends Kd{type=60},yw=class extends Kd{type=59},I1=class extends Kd{type=58},k1=class extends Kd{type=57},oj=class{type=56},sj=class{type=55},aj=class{type=53},A1=class{type=51},cj=class{type=49},uj=class{type=48},lj=class{type=47},dj=class{type=73},fj=class{type=46},hj=class{type=71},pj=class{type=72},mj=class{type=45},gj=class{type=69},vj=class{type=44};var yj=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallOmnisharp(e,t,n,i){let o=rT(this.packageJSON),s=USe(e,t,o,n,i),a=await WE(s,this.platformInfo,this.extensionPath);return a.length>0&&(this.eventStream.post(new QS(`OmniSharp Version = ${e}`)),this.eventStream.post(new ZS(this.platformInfo)),await BE(a,this.networkSettingsProvider,this.eventStream,$E))?(this.eventStream.post(new eC),!0):!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new mj),(await kq(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new eT("getLatestVersionInfoFile",o)),o}}};var gOe=be(pC()),vOe=be(l1());var xj=be(YCe()),PC=be(require("path")),bw=be(require("vscode"));var $ct={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},Vct="vsls",Gct=new Set([Vct]);async function Oj(){if(!bw.workspace.workspaceFolders)return Promise.resolve([]);let r=await bw.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${qr.projectFilesExcludePattern}}`),e=await bw.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return Kct(r.concat(e),bw.workspace.workspaceFolders,qr.maxProjectResults)}function Kct(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!Gct.has(o.scheme));if(n.length===0)return[$ct];let i=new Map;for(let o of n){let s=bw.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return Yct(r,e,i,t)}function Yct(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,m=!1,_=!1,x=e[d].uri.fsPath;l.forEach(U=>{if(Xct(U))i.push(E2(U));else if(Jct(U)){let ne=PC.dirname(U.fsPath);a.push({label:PC.basename(U.fsPath),description:bw.workspace.asRelativePath(ne),target:ne,directory:ne,workspaceKind:1})}else f||=Qct(U),m||=Zct(U),_||=eut(U)});let M=a.length>0,A=i.length>0;M&&!A&&s.push({label:PC.basename(x),description:"All contained projects",target:x,directory:x,workspaceKind:3}),f&&c.push({label:"CSX",description:PC.basename(x),target:x,directory:x,workspaceKind:4}),m&&c.push({label:"Cake",description:PC.basename(x),target:x,directory:x,workspaceKind:5}),_&&!A&&!M&&c.push({label:PC.basename(x),description:"",target:x,directory:x,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function Jct(r){return/\.csproj$/i.test(r.fsPath)}function Xct(r){return/\.slnf?$/i.test(r.fsPath)}function Qct(r){return/\.csx$/i.test(r.fsPath)}function Zct(r){return/\.cake$/i.test(r.fsPath)}function eut(r){return/\.cs$/i.test(r.fsPath)}async function JCe(r,e,t,n,i,o){return new Promise((s,a)=>{tut(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function v9(r,e,t,n,i,o){if(qr.useEditorFormattingSettings){let a=bw.workspace.getConfiguration("",null),c=bw.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!g9(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${g9(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${g9(a,c,"editor.tabSize",4)}`)}if(qr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),us.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function tut(r,e,t,n,i,o){let s=await v9(r,e,t,n,i,o);return rut(n,s)}function rut(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,xj.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return nut(i,t,n);case"Mono .NET Framework":return{command:o,process:iut(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function g9(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function nut(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,xj.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function iut(r,e,t,n){return(0,xj.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var axe=require("timers");var GC=require("vscode");var cxe=be(an()),SU=be(Xu()),uxe=be(Uw()),lxe=be(BX()),dxe=be(bX()),fxe=be(cQ()),hxe=be(jX()),pxe=be(kX()),mxe=be(nQ()),gxe=be(Nz()),vxe=be(qJ()),yxe=be(tQ()),_xe=be(GX()),wU=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await v9(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(m,_,T,x){let M=await x(m,_,T);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],T)},async provideTypeDefinition(m,_,T,x){let M=await x(m,_,T);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],T)},async provideReferences(m,_,T,x,M){let A=await M(m,_,T,x);return a.remap("remapLocations",A,x)},async provideImplementation(m,_,T,x){let M=await x(m,_,T);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],T)},async provideRenameEdits(m,_,T,x,M){let A=await M(m,_,T,x);return A&&a.remap("remapWorkspaceEdit",A,x)},async provideCodeLenses(m,_,T){let x=await T(m,_);if(!x)return x;let M=x.map(U=>new GC.Location(m.uri,U.range)),A=await a.remap("remapLocations",M,_);return x.filter((U,ne)=>A[ne].uri===m.uri)},async resolveCodeLens(m,_,T){let x=await T(m,_);return!x||x.command===void 0?x:new GC.CodeLens(x.range,cxe.Command.create(x.command.title,"editor.action.findReferences",GC.Uri.parse(m.data),x.range.start))},async provideFoldingRanges(m,_,T,x){return await x(m,_,T)},async provideHover(m,_,T,x){return await x(m,_,T)},async provideSignatureHelp(m,_,T,x,M){return await M(m,_,T,x)},async provideCompletionItem(m,_,T,x,M){return await M(m,_,T,x)},async provideWorkspaceSymbols(m,_,T){return await T(m,_)},async provideDocumentSymbols(m,_,T){return await T(m,_)},async provideCodeActions(m,_,T,x,M){return await M(m,_,T,x)},async provideDocumentFormattingEdits(m,_,T,x){return await x(m,_,T)},async provideDocumentRangeFormattingEdits(m,_,T,x,M){return await M(m,_,T,x)},async provideOnTypeFormattingEdits(m,_,T,x,M,A){return await A(m,_,T,x,M)},async provideDocumentSemanticTokens(m,_,T){return await T(m,_)},async provideDocumentRangeSemanticTokens(m,_,T,x){return await x(m,_,T)},async provideDocumentHighlights(m,_,T,x){return await x(m,_,T)},async provideInlayHints(m,_,T,x){return await x(m,_,T)}}},u=new uxe.LanguageClient("Omnisharp Server",s,c);await u.setTrace(SU.Trace.Verbose);let l=u._features;function d(m){let _=l.findIndex(T=>T instanceof m);_>-1&&l.splice(_,1)}d(_xe.CallHierarchyFeature),d(dxe.ColorProviderFeature),d(hxe.DeclarationFeature),d(gxe.DiagnosticFeature),d(pxe.DocumentLinkFeature),d(mxe.InlineValueFeature),d(vxe.NotebookDocumentSyncFeature),d(lxe.SelectionRangeFeature),d(yxe.TypeHierarchyFeature),d(fxe.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new eP(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new po}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new SU.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,axe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new GC.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new ad(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new tP(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Jo)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var Yxe=require("child_process"),Jxe=require("readline");var bxe=[ki.ChangeBuffer,ki.FormatAfterKeystroke,ki.FormatRange,ki.UpdateBuffer],wxe=[ki.Completion,ki.CompletionResolve,ki.FilesChanged,ki.FindSymbols,ki.FindUsages,ki.GetCodeActions,Is.Requests.GoToDefinition,ki.RunCodeAction,ki.SignatureHelp,ki.TypeLookup,ki.GoToTypeDefinition],xvt=new Set(bxe),Ovt=new Set(wxe);var Sxe=new Set;for(let r of bxe)Sxe.add(r);for(let r of wxe)Sxe.add(r);function Cxe(r){return xvt.has(r)}function Dxe(r){return Ovt.has(r)}var RA=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new z2(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new x1(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new x1(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new U2(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new cj)}},CU=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new RA("Priority",1,e,n),this._normalQueue=new RA("Normal",t,e,n),this._deferredQueue=new RA("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return Cxe(e)?this._priorityQueue:Dxe(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var CZ=require("timers");var Oxe=be(xxe());function cZ(r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);return r.charCodeAt(0)===65279?r.slice(1):r}function Ixe(r){return(0,Oxe.default)(r)}function kxe(r){return cZ(r.trim())}var xA=require("vscode"),OA=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=xA.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=xA.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return xA.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var Hw=require("vscode");var IA=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=Hw.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=Hw.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new Hw.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await cSe(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await aSe(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=Hw.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await sSe(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return Hw.Uri.parse(this.scheme+":///"+e)}};var Ba=be(require("vscode"));var YP=be(require("vscode"));var Yf=be(require("vscode"));function GP(r){let e=Yf.Uri.file(r.FileName);return uZ(e,r)}function uZ(r,e){let t=new Yf.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new Yf.Position(n,i);return new Yf.Location(r,new Yf.Range(t,o))}return new Yf.Location(r,t)}function Lxe(r){return new Yf.Location(Yf.Uri.file(r.FileName),KC(r.Range))}function KP(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return lZ(e,t,n,i)}function kA(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return lZ(e,t,n,i)}function KC(r){return lZ(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function lZ(r,e,t,n){return new Yf.Range(r,e,t,n)}function Mxe(r){return{Start:Axe(r.start),End:Axe(r.end)}}function Axe(r){return{Line:r.line,Column:r.character}}function Nxe(r){return new Yf.Position(r.Line,r.Column)}function Fxe(r){return new Yf.TextEdit(kA(r),r.NewText)}function Pl(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Ki=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new po}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var Avt=Is.Structure,AA=Is.SymbolKinds,qxe=Is.SymbolPropertyNames,dZ=Is.SymbolRangeNames,DU=class extends YP.CodeLens{constructor(t,n){super(new YP.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},TU=class extends DU{constructor(e,t){super(e,t)}},EU=class extends DU{constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},LA=class extends EU{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},MA=class extends EU{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},NA=class extends Ki{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!qr.showReferencesCodeLens&&!qr.showTestsCodeLens)return[];try{let n=await i2(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return Lvt(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof TU)return this.resolveReferencesCodeLens(e,t);if(e instanceof LA)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof MA)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await JE(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(GP),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[YP.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await E1(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function Lvt(r,e){let t=[];return Avt.walkCodeElements(r,n=>{let i=Mvt(n,e);t.push(...i)}),t}function Mvt(r,e){let t=[];if(qr.showReferencesCodeLens&&Fvt(r)){let n=r.Ranges[dZ.Name];n&&t.push(new TU(n,e))}if(qr.showTestsCodeLens){if(r.Kind===AA.Method){let n=jxe(r);if(n!==void 0){let i=r.Ranges[dZ.Name];i!==void 0&&(t.push(new LA(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new MA(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===AA.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===AA.Method).map(s=>jxe(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[dZ.Name];t.push(new LA(a,e,r.DisplayName,!0,o,s)),t.push(new MA(a,e,r.DisplayName,!0,o,s))}}}return t}var Nvt={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function Fvt(r){return!(r.Kind===AA.Namespace||r.Kind===AA.Method&&Nvt[r.Name]||qr.filteredSymbolsCodeLens.includes(r.Name))}function jxe(r){if(r.Properties===void 0)return;let e=r.Properties[qxe.TestFramework],t=r.Properties[qxe.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var PU=require("vscode"),FA=class r extends Ki{async provideDocumentHighlights(e,t,n){let i=Pl(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await JE(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new PU.DocumentHighlight(KP(e),PU.DocumentHighlightKind.Read)}};var el=be(require("vscode"));var Xo=Is.SymbolKinds,zxe=Is.SymbolRangeNames,qA=class extends Ki{async provideDocumentSymbols(e,t){try{let n=await i2(this._server,{FileName:e.fileName},t);return n&&n.Elements?Uxe(n.Elements):[]}catch{return[]}}};function Uxe(r,e){let t=[];return r.forEach(n=>{let i=jvt(n,e);n.Children&&(i.children=Uxe(n.Children,n)),t.push(i)}),t}function qvt(r,e){switch(r.Kind){case Xo.Class:case Xo.Delegate:case Xo.Enum:case Xo.Interface:case Xo.Struct:return r.Name;case Xo.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case Xo.Constant:case Xo.Constructor:case Xo.Destructor:case Xo.EnumMember:case Xo.Event:case Xo.Field:case Xo.Indexer:case Xo.Method:case Xo.Operator:case Xo.Property:case Xo.Unknown:default:return r.DisplayName}}function jvt(r,e){let t=r.Ranges[zxe.Full],n=r.Ranges[zxe.Name],i=qvt(r,e),o=i===r.DisplayName?"":r.DisplayName;return new el.DocumentSymbol(i,o,zvt(r.Kind),KC(t),KC(n))}var Xd={};Xd[Xo.Class]=el.SymbolKind.Class;Xd[Xo.Delegate]=el.SymbolKind.Class;Xd[Xo.Enum]=el.SymbolKind.Enum;Xd[Xo.Interface]=el.SymbolKind.Interface;Xd[Xo.Struct]=el.SymbolKind.Struct;Xd[Xo.Constant]=el.SymbolKind.Constant;Xd[Xo.Destructor]=el.SymbolKind.Method;Xd[Xo.EnumMember]=el.SymbolKind.EnumMember;Xd[Xo.Event]=el.SymbolKind.Event;Xd[Xo.Field]=el.SymbolKind.Field;Xd[Xo.Indexer]=el.SymbolKind.Property;Xd[Xo.Method]=el.SymbolKind.Method;Xd[Xo.Operator]=el.SymbolKind.Operator;Xd[Xo.Property]=el.SymbolKind.Property;Xd[Xo.Namespace]=el.SymbolKind.Namespace;Xd[Xo.Unknown]=el.SymbolKind.Class;function zvt(r){return r==="constructor"?el.SymbolKind.Constructor:Xd[r]}var RU=require("vscode"),jA=class extends Ki{async provideHover(e,t,n){let i=Pl(e,t);try{let o=await SSe(this._server,i,n);if(!o||!o.Markdown)return;let s=new RU.MarkdownString;return s.appendMarkdown(o.Markdown),new RU.Hover(s)}catch{return}}};var JP=require("vscode"),zA=class extends Ki{async provideRenameEdits(e,t,n,i){let o=Pl(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await uSe(this._server,o,i);if(!s)return;let a=new JP.WorkspaceEdit;return s.Changes.forEach(u=>{let l=JP.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new JP.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var xU=require("vscode"),XP=class r extends Ki{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await rSe(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await tSe(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new xU.TextEdit(new xU.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var Qd=require("vscode");var UA=class r extends Ki{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=qr.minFindSymbolsFilterLength,o=qr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Qwe(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=Qd.Uri.file(t.FileName);let i=new Qd.Location(n,KP(t));return new Qd.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return Qd.SymbolKind.Method;case"Field":return Qd.SymbolKind.Field;case"Property":return Qd.SymbolKind.Property;case"Interface":return Qd.SymbolKind.Interface;case"Enum":return Qd.SymbolKind.Enum;case"Struct":return Qd.SymbolKind.Struct;case"Event":return Qd.SymbolKind.Event;case"EnumMember":return Qd.SymbolKind.EnumMember;case"Class":return Qd.SymbolKind.Class;default:return Qd.SymbolKind.Class}}};var QP=require("vscode"),Hxe=require("vscode"),HA=class extends Ki{async provideSignatureHelp(e,t,n){let i=Pl(e,t);try{let o=await dSe(this._server,i,n);if(!o)return;let s=new QP.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new QP.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new QP.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new Hxe.MarkdownString(n)}return""}};var nm=be(require("vscode"));var cg=be(require("vscode"));async function OU(r,e,t){let n=new cg.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=cg.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=cg.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(cg.TextEdit.replace(kA(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(cg.Uri.file(a.FileName),cg.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=cg.workspace.applyEdit(n);return i!==void 0?o.then(s=>cg.commands.executeCommand("vscode.open",i)):o}var Bxe=be(Xu());var BA=class r extends Ki{constructor(t,n){super(t,n);this.server=t;let i=new po;i.add(nm.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(nm.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(nm.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=nm.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=nm.window.activeTextEditor?.document.fileName;if(i===void 0){Vh(nm,nm.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await eSe(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=nm.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await nm.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:nm.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await Zwe(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await OU(o.Changes,this._languageMiddlewareFeature,Bxe.CancellationToken.None)}};var $c=require("vscode");var Vxe=be(Xu()),Gxe=be(an());var ZP=require("vscode");async function Bvt(r,e){for(let t=0;t<ZP.workspace.textDocuments.length;t++){let n=ZP.workspace.textDocuments[t];IU(n,r)||await Wxe(n,r,e)}}function ob(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function Wvt(r,e){let t=ZP.workspace.onDidOpenTextDocument(async o=>{IU(o,r)||await Wxe(o,r,e)}),n=ZP.workspace.onDidChangeTextDocument(async o=>{let s=o.document;IU(s,r)||await $xe(s,r,e)}),i=ZP.workspace.onDidCloseTextDocument(async o=>{IU(o,r)||await $vt(o,r,e)});return new po(t,i,n)}function IU(r,e){return!ob(r)||!e.isRunning()}async function Wxe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await YE(e,[i]),await $xe(r,e,t)}catch(o){fZ(r.uri,o,e,t)}}async function $xe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await XE(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){fZ(r.uri,i,e,t)}}async function $vt(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await YE(e,[i])}catch(o){fZ(r.uri,o,e,t)}}function fZ(r,e,t,n){t.isRunning()&&n.post(new Q2(r.path,e))}function hZ(r,e){return Bvt(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),Wvt(r,e)}var pZ="csharp.completion.afterInsert",WA=class extends Ki{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=Pl(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await CSe(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));ob(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await DSe(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await TSe(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new $c.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new $c.Range(new $c.Position(u.StartLine,u.StartColumn),new $c.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,Vxe.CancellationToken.None),!await $c.workspace.applyEdit(o))return;let a=$c.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new $c.Position(i.Line,i.Column);a.selections=[new $c.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new $c.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new $c.Position(l.StartLine,l.StartColumn),f=new $c.Position(l.EndLine,l.EndColumn);return new $c.Range(d,f)},o=function(l){return new $c.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===Gxe.InsertTextFormat.Snippet?new $c.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:pZ,title:"",arguments:[e,t]}:void 0}}};var $A=class extends Ki{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=Pl(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await JE(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return uZ(n,t)}return GP(t)}};var VA=class extends Ki{async provideImplementation(e,t,n){let i=Pl(e,t);try{let s=(await Xwe(this._server,i,n))?.QuickFixes?.map(c=>GP(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var eR=be(require("vscode")),vc=be(an());var GA=class extends Ki{constructor(e,t){super(e,t)}getLegend(){return new eR.SemanticTokensLegend(zn,YC)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!qr.useSemanticHighlighting)return null;let i=Pl(e,new eR.Position(0,0));i.Range=t;let o=e.version,s=await wSe(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new eR.SemanticTokensBuilder;for(let u of s.Spans){let l=cn[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((m,_)=>m+Kxe[_],0);u.Type===26&&(d+=2**6);let f=kA(u);for(let m=f.start.line;m<=f.end.line;m++){let _=m===f.start.line?f.start.character:0,T=m===f.end.line?f.end.character:e.lineAt(m).text.length;c.push(m,_,T-_,l,d)}}return c.build()}},zn=[];zn[0]=vc.SemanticTokenTypes.comment;zn[1]=vc.SemanticTokenTypes.string;zn[2]=vc.SemanticTokenTypes.keyword;zn[3]=vc.SemanticTokenTypes.number;zn[4]=vc.SemanticTokenTypes.regexp;zn[5]=vc.SemanticTokenTypes.operator;zn[6]=vc.SemanticTokenTypes.namespace;zn[7]=vc.SemanticTokenTypes.type;zn[8]=vc.SemanticTokenTypes.struct;zn[9]=vc.SemanticTokenTypes.class;zn[10]=vc.SemanticTokenTypes.interface;zn[11]=vc.SemanticTokenTypes.enum;zn[12]=vc.SemanticTokenTypes.typeParameter;zn[13]=vc.SemanticTokenTypes.function;zn[14]=vc.SemanticTokenTypes.method;zn[15]=vc.SemanticTokenTypes.macro;zn[16]=vc.SemanticTokenTypes.variable;zn[17]=vc.SemanticTokenTypes.parameter;zn[18]=vc.SemanticTokenTypes.property;zn[19]=vc.SemanticTokenTypes.enumMember;zn[20]=vc.SemanticTokenTypes.event;zn[21]="label";zn[22]="controlKeyword";zn[23]="operatorOverloaded";zn[24]=vc.SemanticTokenTypes.macro;zn[25]="preprocessorText";zn[26]="excludedCode";zn[27]="punctuation";zn[28]="stringVerbatim";zn[29]="stringEscapeCharacter";zn[30]="delegate";zn[31]="module";zn[32]="extensionMethod";zn[33]="field";zn[34]=vc.SemanticTokenTypes.variable;zn[35]="xmlDocCommentAttributeName";zn[36]="xmlDocCommentAttributeQuotes";zn[37]="xmlDocCommentAttributeValue";zn[38]="xmlDocCommentCDataSection";zn[39]="xmlDocCommentComment";zn[40]="xmlDocCommentDelimiter";zn[41]="xmlDocCommentEntityReference";zn[42]="xmlDocCommentName";zn[43]="xmlDocCommentProcessingInstruction";zn[44]="xmlDocCommentText";zn[45]="regexComment";zn[46]="regexCharacterClass";zn[47]="regexAnchor";zn[48]="regexQuantifier";zn[49]="regexGrouping";zn[50]="regexAlternation";zn[51]="regexText";zn[52]="regexSelfEscapedCharacter";var YC=[];YC[0]="declaration";YC[1]="static";YC[2]="abstract";YC[3]="deprecated";YC[4]="modification";YC[5]="async";YC[6]="readonly";var cn=[];cn[0]=0;cn[1]=26;cn[2]=16;cn[3]=2;cn[4]=22;cn[5]=3;cn[6]=5;cn[7]=23;cn[8]=24;cn[9]=1;cn[10]=void 0;cn[11]=void 0;cn[12]=void 0;cn[13]=25;cn[14]=27;cn[15]=28;cn[16]=29;cn[17]=9;cn[18]=30;cn[19]=11;cn[20]=10;cn[21]=31;cn[22]=8;cn[23]=12;cn[24]=33;cn[25]=19;cn[26]=16;cn[27]=34;cn[28]=17;cn[29]=14;cn[30]=32;cn[31]=18;cn[32]=20;cn[33]=6;cn[34]=21;cn[35]=35;cn[36]=36;cn[37]=37;cn[38]=38;cn[39]=39;cn[40]=40;cn[41]=41;cn[42]=42;cn[43]=43;cn[44]=44;cn[45]=void 0;cn[46]=void 0;cn[47]=void 0;cn[48]=void 0;cn[49]=void 0;cn[50]=void 0;cn[51]=void 0;cn[52]=void 0;cn[53]=void 0;cn[54]=void 0;cn[55]=void 0;cn[56]=45;cn[57]=46;cn[58]=47;cn[59]=48;cn[60]=49;cn[61]=50;cn[62]=4;cn[63]=51;cn[64]=52;var Kxe=[];Kxe[0]=2**1;var tR=be(require("vscode"));var KA=class extends Ki{_onDidChangeInlayHints=new tR.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new po(this._onDidChangeInlayHints,tR.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(ob(e))return[];let i={Location:{FileName:e.fileName,Range:Mxe(t)}};try{return(await xSe(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await OSe(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:Nxe(e.Position),tooltip:new tR.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(Fxe)??void 0}}};var JC=be(require("vscode"));function vZ(r){return new gZ(r)}var gZ=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=JC.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of JC.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new po(this._diagnostics,JC.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),JC.workspace.onDidCloseTextDocument(this._onDocumentClose,this),JC.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){mZ(e)||await ESe(this._server,{FileName:e.fileName})}async _onDocumentClose(e){mZ(e)||await PSe(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||mZ(e.document)||await XE(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function mZ(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!ob(r)}var sb=be(require("vscode"));var YA=class extends Ki{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=sb.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new po(n))}async provideCodeActions(e,t,n,i){if(qr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof sb.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await nSe(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return sb.CodeActionKind.QuickFix;case"Refactor":return sb.CodeActionKind.Refactor;case"RefactorExtract":return sb.CodeActionKind.RefactorExtract;case"RefactorInline":return sb.CodeActionKind.RefactorInline;default:return sb.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await lSe(this._server,e);if(n)return OU(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var kU=require("vscode");function Vvt(r){return kU.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&XE(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function Gvt(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};YE(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];YE(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=kU.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=kU.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new po(n,i,o,s,a,c)}function yZ(r){return new po(Vvt(r),Gvt(r))}var AU=require("vscode");var JA=class extends Ki{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=Pl(t,n);o.WantMetadata=!0;try{let s=await iSe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=Pl(t,n);o.WantMetadata=!0;try{let s=await oSe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=KC(o.Location.Range);i.push(new AU.Location(l,d));continue}let a=await fSe(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=KC(o.Location.Range);i.push(new AU.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new AU.Location(s,KC(o.Location.Range)))}else i.push(Lxe(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var ys=be(require("vscode"));var _Z=be(pC()),bZ=be(l1());var LU=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new po(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=qr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function SZ(r,e,t){return new wZ(r,e,t)}var wZ=class extends Ki{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new _Z.Subject;_validateAllPipe=new _Z.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=ys.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=ys.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=ys.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=ys.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=ys.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),qr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,bZ.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,bZ.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new po(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),ys.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),ys.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),ys.workspace.onDidCloseTextDocument(this._onDocumentClose,this),ys.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),ys.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!ob(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(ys.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||ob(e))return;let t=new ys.CancellationTokenSource;try{let i=(await NK(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&ys.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of ys.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await NK(this._server,{},new ys.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=ys.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new ys.Diagnostic(KP(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[ys.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:ys.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return ys.DiagnosticSeverity.Error;case"warning":return ys.DiagnosticSeverity.Warning;case"info":return ys.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":ys.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var rR=require("vscode");var MU=class extends Ki{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await Ywe(this._server,i,n),s=[];for(let a of o.Spans)s.push(new rR.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return rR.FoldingRangeKind.Comment;case"Imports":return rR.FoldingRangeKind.Imports;case"Region":return rR.FoldingRangeKind.Region;default:return}}};var NU=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new CU(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new po,c=new OA;c.register(),a.add(c);let u=new IA(e);u.register(),a.add(u),a.add(Ba.languages.registerCodeLensProvider(s,new NA(e,o,t))),a.add(Ba.languages.registerDocumentHighlightProvider(s,new FA(e,t))),a.add(Ba.languages.registerDocumentSymbolProvider(s,new qA(e,t))),a.add(Ba.languages.registerHoverProvider(s,new jA(e,t))),a.add(Ba.languages.registerRenameProvider(s,new zA(e,t))),qr.useFormatting&&(a.add(Ba.languages.registerDocumentRangeFormattingEditProvider(s,new XP(e,t))),a.add(Ba.languages.registerOnTypeFormattingEditProvider(s,new XP(e,t),"}","/",`
`,";")));let l=new WA(e,t);a.add(Ba.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Ba.commands.registerCommand(pZ,async(x,M)=>l.afterInsert(x,M))),a.add(Ba.languages.registerWorkspaceSymbolProvider(new UA(e,t,u))),a.add(Ba.languages.registerSignatureHelpProvider(s,new HA(e,t),"(",","));let d=new BA(e,t);a.add(d),a.add(Ba.languages.registerCodeActionsProvider(s,d,BA.metadata)),a.add(SZ(e,i,t));let f=new JA(e,c,u,t);a.add(Ba.languages.registerTypeDefinitionProvider(s,f)),a.add(Ba.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Ba.languages.registerDefinitionProvider(s,f)),a.add(Ba.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Ba.languages.registerReferenceProvider(s,new $A(e,t,u))),a.add(Ba.languages.registerImplementationProvider(s,new VA(e,t))),a.add(yZ(e));let m=new YA(e,t);a.add(m),a.add(Ba.languages.registerCodeActionsProvider(s,m)),a.add(hZ(e,n)),a.add(Ba.languages.registerFoldingRangeProvider(s,new MU(e,t))),a.add(vZ(e));let _=new GA(e,t);a.add(Ba.languages.registerDocumentSemanticTokensProvider(s,_,_.getLegend())),a.add(Ba.languages.registerDocumentRangeSemanticTokensProvider(s,_,_.getLegend()));let T=new KA(e,t);return a.add(Ba.languages.registerInlayHintsProvider(s,T)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,Yxe.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=Tle(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Jo.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,CZ.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new ad(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await JCe(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new eP(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=Ixe(c);u.length>0&&this._fireEvent(Jo.StdErr,u.toString())}),this._readLine=(0,Jxe.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=qr.projectLoadTimeout*1e3,f=(0,CZ.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Jo.Started,m=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new ad(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=kxe(e),e[0]!=="{"){this.eventStream.post(new vw(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new vw(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new vw(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new ij(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new tP(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new L2(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var sOe=be(require("child_process")),aOe=be(require("fs")),$U=be(require("path"));var im=be(require("vscode"));var Lu=be(sC());function QA(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(U,ne){for(var de=0,ye=0;de<U||!ne;){var V=r.charCodeAt(n);if(V>=48&&V<=57)ye=ye*16+V-48;else if(V>=65&&V<=70)ye=ye*16+V-65+10;else if(V>=97&&V<=102)ye=ye*16+V-97+10;else break;n++,de++}return de<U&&(ye=-1),ye}function m(U){n=U,i="",o=0,s=16,d=0}function _(){var U=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&nR(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&nR(r.charCodeAt(n)))for(n++;n<r.length&&nR(r.charCodeAt(n));)n++;else return d=3,r.substring(U,n);var ne=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&nR(r.charCodeAt(n))){for(n++;n<r.length&&nR(r.charCodeAt(n));)n++;ne=n}else d=3;return r.substring(U,ne)}function T(){for(var U="",ne=n;;){if(n>=t){U+=r.substring(ne,n),d=2;break}var de=r.charCodeAt(n);if(de===34){U+=r.substring(ne,n),n++;break}if(de===92){if(U+=r.substring(ne,n),n++,n>=t){d=2;break}var ye=r.charCodeAt(n++);switch(ye){case 34:U+='"';break;case 92:U+="\\";break;case 47:U+="/";break;case 98:U+="\b";break;case 102:U+="\f";break;case 110:U+=`
`;break;case 114:U+="\r";break;case 116:U+="	";break;case 117:var V=f(4,!0);V>=0?U+=String.fromCharCode(V):d=4;break;default:d=5}ne=n;continue}if(de>=0&&de<=31)if(XA(de)){U+=r.substring(ne,n),d=2;break}else d=6;n++}return U}function x(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var U=r.charCodeAt(n);if(DZ(U)){do n++,i+=String.fromCharCode(U),U=r.charCodeAt(n);while(DZ(U));return s=15}if(XA(U))return n++,i+=String.fromCharCode(U),U===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(U){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=T(),s=10;case 47:var ne=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!XA(r.charCodeAt(n));)n++;return i=r.substring(ne,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var de=t-1,ye=!1;n<de;){var V=r.charCodeAt(n);if(V===42&&r.charCodeAt(n+1)===47){n+=2,ye=!0;break}n++,XA(V)&&(V===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return ye||(n++,d=1),i=r.substring(ne,n),s=13}return i+=String.fromCharCode(U),n++,s=16;case 45:if(i+=String.fromCharCode(U),n++,n===t||!nR(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),s=11;default:for(;n<t&&M(U);)n++,U=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(U),n++,s=16}}function M(U){if(DZ(U)||XA(U))return!1;switch(U){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){var U;do U=x();while(U>=12&&U<=15);return U}return{setPosition:m,getPosition:function(){return n},scan:e?A:x,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function DZ(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function XA(r){return r===10||r===13||r===8232||r===8233}function nR(r){return r>=48&&r<=57}function FU(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!ZA(r,o-1);)o--;for(var c=a;c<r.length&&!ZA(r,c);)c++;i=r.substring(o,c),n=Yvt(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=Jvt(t,r),l=!1,d=0,f;t.insertSpaces?f=TZ(" ",t.tabSize||4):f="	";var m=QA(i,!1),_=!1;function T(){return u+TZ(f,n+d)}function x(){var ce=m.scan();for(l=!1;ce===15||ce===14;)l=l||ce===14,ce=m.scan();return _=ce===16||m.getTokenError()!==0,ce}var M=[];function A(ce,qe,Ne){!_&&(!e||qe<a&&Ne>s)&&r.substring(qe,Ne)!==ce&&M.push({offset:qe,length:Ne-qe,content:ce})}var U=x();if(U!==17){var ne=m.getTokenOffset()+o,de=TZ(f,n);A(de,o,ne)}for(;U!==17;){for(var ye=m.getTokenOffset()+m.getTokenLength()+o,V=x(),W="",ee=!1;!l&&(V===12||V===13);){var Se=m.getTokenOffset()+o;A(" ",ye,Se),ye=m.getTokenOffset()+m.getTokenLength()+o,ee=V===12,W=ee?T():"",V=x()}if(V===2)U!==1&&(d--,W=T());else if(V===4)U!==3&&(d--,W=T());else{switch(U){case 3:case 1:d++,W=T();break;case 5:case 12:W=T();break;case 13:l?W=T():ee||(W=" ");break;case 6:ee||(W=" ");break;case 10:if(V===6){ee||(W="");break}case 7:case 8:case 9:case 11:case 2:case 4:V===12||V===13?ee||(W=" "):V!==5&&V!==17&&(_=!0);break;case 16:_=!0;break}l&&(V===12||V===13)&&(W=T())}V===17&&(W=t.insertFinalNewline?u:"");var se=m.getTokenOffset()+o;A(W,ye,se),U=V}return M}function TZ(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function Yvt(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function Jvt(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function ZA(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var eL;(function(r){r.DEFAULT={allowTrailingComma:!1}})(eL||(eL={}));function Xxe(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=eL.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return PZ(r,a,t),i[0]}function EZ(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=eL.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:Qvt(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};PZ(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function qU(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function PZ(r,e,t){t===void 0&&(t=eL.DEFAULT);var n=QA(r,!1);function i(ee){return ee?function(){return ee(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(ee){return ee?function(Se){return ee(Se,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),m=i(e.onComment),_=o(e.onError),T=t&&t.disallowComments,x=t&&t.allowTrailingComma;function M(){for(;;){var ee=n.scan();switch(n.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:T||A(11);break;case 2:A(12);break;case 6:A(16);break}switch(ee){case 12:case 13:T?A(10):m();break;case 16:A(1);break;case 15:case 14:break;default:return ee}}}function A(ee,Se,se){if(Se===void 0&&(Se=[]),se===void 0&&(se=[]),_(ee),Se.length+se.length>0)for(var ce=n.getToken();ce!==17;){if(Se.indexOf(ce)!==-1){M();break}else if(se.indexOf(ce)!==-1)break;ce=M()}}function U(ee){var Se=n.getTokenValue();return ee?d(Se):a(Se),M(),!0}function ne(){switch(n.getToken()){case 11:var ee=n.getTokenValue(),Se=Number(ee);isNaN(Se)&&(A(2),Se=0),d(Se);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return M(),!0}function de(){return n.getToken()!==10?(A(3,[],[2,5]),!1):(U(!1),n.getToken()===6?(f(":"),M(),W()||A(4,[],[2,5])):A(5,[],[2,5]),!0)}function ye(){s(),M();for(var ee=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===2&&x)break}else ee&&A(6,[],[]);de()||A(4,[],[2,5]),ee=!0}return c(),n.getToken()!==2?A(7,[2],[]):M(),!0}function V(){u(),M();for(var ee=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===4&&x)break}else ee&&A(6,[],[]);W()||A(4,[],[4,5]),ee=!0}return l(),n.getToken()!==4?A(8,[4],[]):M(),!0}function W(){switch(n.getToken()){case 3:return V();case 1:return ye();case 10:return U(!0);default:return ne()}}return M(),n.getToken()===17?t.allowEmptyContent?!0:(A(4,[],[]),!1):W()?(n.getToken()!==17&&A(9,[],[]),!0):(A(4,[],[]),!1)}function Qvt(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function Qxe(r,e,t,n){for(var i,o=e.slice(),s=[],a=EZ(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=qU(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=qU(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,m=l.parent.offset+l.parent.length;if(d>0){var _=c.children[d-1];f=_.offset+_.length}else if(f=c.offset+1,c.children.length>1){var T=c.children[1];m=T.offset}return VT(r,{offset:f,length:m-f,content:""},n)}else return VT(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var x=JSON.stringify(u)+": "+JSON.stringify(t),M=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(ee){return ee.children[0].value})):c.children.length,A=void 0;if(M>0){var _=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+x}}else c.children.length===0?A={offset:c.offset+1,length:0,content:x}:A={offset:c.offset+1,length:0,content:x+","};return VT(r,A,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var U=u;if(U===-1){var x=""+JSON.stringify(t),A=void 0;if(c.children.length===0)A={offset:c.offset+1,length:0,content:x};else{var _=c.children[c.children.length-1];A={offset:_.offset+_.length,length:0,content:","+x}}return VT(r,A,n)}else if(t===void 0&&c.children.length>=0){var ne=u,de=c.children[ne],A=void 0;if(c.children.length===1)A={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===ne){var _=c.children[ne-1],ye=_.offset+_.length,V=c.offset+c.length;A={offset:ye,length:V-2-ye,content:""}}else A={offset:de.offset,length:c.children[ne+1].offset-de.offset,content:""};return VT(r,A,n)}else if(t!==void 0){var A=void 0,x=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var W=c.children[u];A={offset:W.offset,length:W.length,content:x}}else if(c.children.length===0||u===0)A={offset:c.offset+1,length:0,content:c.children.length===0?x:x+","};else{var M=u>c.children.length?c.children.length:u,_=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+x}}return VT(r,A,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+U+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return VT(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function VT(r,e,t){if(!t.formattingOptions)return[e];var n=jU(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!ZA(n,i-1);)i--;for(;o<n.length&&!ZA(n,o);)o++}for(var s=FU(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=jU(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function jU(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var Bw=Xxe;function RZ(r,e,t){return FU(r,e,t)}function Zxe(r,e,t,n){return Qxe(r,e,t,n)}function zU(r,e){for(var t=e.length-1;t>=0;t--)r=jU(r,e[t]);return r}var tOe=be(require("os")),Xh=be(require("path"));var di=be(require("vscode"));function eOe(r){return Bw(r)}var XC=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=Xh.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=Xh.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=Xh.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(di.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await di.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:di.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(di.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=Xh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:Xh.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=Xh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return Xh.join("${workspaceFolder}",Xh.dirname(e))}static getConsoleDebugOption(){let e=di.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=oyt(this.computeProgramPath(),this.computeWorkingDirectory()),n=UU();return`
[
    ${t},
    ${n}
]`}case 1:{let t=ryt(this.computeProgramPath(),this.computeWorkingDirectory()),n=UU();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${nyt(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${iyt(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=Xh.join("${workspaceFolder}",Xh.relative(this.workspaceFolder.uri.fsPath,e));return nw(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function ryt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${nw(r)}`,args:Array(0),cwd:`${nw(e)}`,stopAtEntry:!1,"OS-COMMENT5":di.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function nyt(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${nw(r)}`,cwd:`${nw(e)}`};return JSON.stringify(t)}function iyt(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${nw(r)}`};return JSON.stringify(e)}function oyt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${nw(r)}`,args:Array(0),cwd:`${nw(e)}`,"OS-COMMENT5":di.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function syt(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function xZ(r,e){return`${r}${e.toString().padStart(2,"0")}`}function rOe(){let r=di.l10n.t("WARNING"),e=di.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=syt(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[xZ(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[xZ(r,i+2)]=t[i];return n[xZ(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function UU(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function ayt(r){return r.addTasksJson||r.addLaunchJson}async function cyt(r){return tL(r).then(async e=>lyt(r,e))}function uyt(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function tL(r){return new Promise((e,t)=>{Lu.exists(r.tasksJsonPath,n=>{n?Lu.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=eOe(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Wi(di,di.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=uyt(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function lyt(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>Lu.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function dyt(r){return new Promise((e,t)=>{let n={title:di.l10n.t("Yes"),result:0},i={title:di.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:di.l10n.t("Don't Ask Again"),result:2},s=Xh.basename(r.uri.fsPath);fyt()||di.window.showWarningMessage(di.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function fyt(){let r="suppressBuildAssetsNotification",e=di.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function nOe(){let r=di.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=di.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?tOe.EOL:`
`}}async function rL(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=nOe(),o=r.createTasksConfiguration(),s;if(Lu.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=Lu.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=oOe(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=zU(c,RZ(c,void 0,i))}let a=OZ(s);Lu.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function hyt(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=nOe(),a;if(Lu.pathExistsSync(r.launchJsonPath)){let u=Bw(o)??[],l=Lu.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=oOe(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=zU(l,RZ(l,void 0,s))}let c=OZ(a);Lu.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function iOe(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[rL(r,e),hyt(r,e)];return Promise.all(t)}async function HU(r,e){if(!di.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=di.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new XC(o,i);if(s.hasExecutableProjects()){let a=await cyt(s);if(!ayt(a))return 0;let c=await dyt(i);return c===2?2:c!==0?3:(await Lu.ensureDir(s.vscodeFolder),await iOe(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function pyt(r){return new Promise((e,t)=>{let n=[];if(Lu.pathExistsSync(r.tasksJsonPath)){let i=Lu.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=Bw(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(Lu.pathExistsSync(r.launchJsonPath)){let i=Lu.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=Bw(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function myt(r){return new Promise((e,t)=>{pyt(r).then(n=>{if(n.length>0){let i={title:di.l10n.t("Yes")},o={title:di.l10n.t("Cancel"),isCloseAffordance:!0};di.window.showWarningMessage(di.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function BU(r,e){try{if(!di.workspace.workspaceFolders)return;for(let t of di.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=di.workspace.getWorkspaceFolder(di.Uri.file(i));if(o===void 0)return;let s=new XC(n,o);if(!await myt(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await Lu.ensureDir(s.vscodeFolder),await iOe(s,c)}else Wi(di,di.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Wi(di,di.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function OZ(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function oOe(r,e,t,n,i){let o={formattingOptions:i},a=Bw(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),_=f>=0?f:a.length+l++,T=Zxe(u,[t,_],d,o);u=zU(u,T)}),OZ(u)}var iR=be(require("vscode")),WU=require("path");async function nL(r,e,t,n,i){let o;try{let d=await n.getHostExecutableInfo();o=(await e([(0,WU.dirname)(d.path)])).FullInfo}catch(d){o=d instanceof Error?d.message:`${d}`}let s="";t&&i&&(s=await yyt(i));let a=byt(),c=us.useOmnisharpServer,l=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

## Logs ##

${_yt(c)}

## Environment information ##

**VSCode version**: ${iR.version}
**C# Extension**: ${r}
**Using OmniSharp**: ${c}

${s}
<details><summary>Dotnet Information</summary>
${o}</details>
<details><summary>Visual Studio Code Extensions</summary>
${vyt(a)}
</details>
`;await iR.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:tg,issueBody:l})}function gyt(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function vyt(r){if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,WU.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}async function yyt(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}function _yt(r){return r?`### OmniSharp log ###
<details>Post the output from Output-->OmniSharp log here</details>
        
### C# log ###
<details>Post the output from Output-->C# here</details>`:`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, set the \`C#\` output window log level to 'Trace' re-run the scenario to get more detailed logs.
-->
        
### C# log ###
<details>Post the output from Output-->C# here</details>

### C# LSP Trace Logs ###
<details>Post the output from Output-->C# LSP Trace Logs here.  Requires the \`C#\` output window log level to be set to \`Trace\`</details>`}function byt(){return iR.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(gyt)}function IZ(r,e,t,n,i,o,s){let a=new po;return a.add(im.commands.registerCommand("o.restart",async()=>wyt(r,e))),a.add(im.commands.registerCommand("o.pickProjectAndStart",async()=>Syt(e))),a.add(im.commands.registerCommand("o.showOutput",()=>n.post(new aj))),a.add(im.commands.registerCommand("dotnet.restore.project",async()=>Dyt(e,n))),a.add(im.commands.registerCommand("dotnet.restore.all",async()=>Pyt(e,n))),a.add(im.commands.registerCommand("o.reanalyze.allProjects",async()=>Tyt(e))),a.add(im.commands.registerCommand("o.reanalyze.currentProject",async()=>Eyt(e))),a.add(im.commands.registerCommand("dotnet.generateAssets",async c=>BU(s,c))),a.add(im.commands.registerCommand("csharp.reportIssue",async()=>nL(r.extension.packageJSON.version,Wp,t.isValidPlatformForMono(),o,i))),new po(a)}async function wyt(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function Syt(r){return Oj().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return kZ(r,e)})}async function kZ(r,e){let t=await im.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function Cyt(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{aOe.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=$U.dirname(n)),i({label:`dotnet restore - (${t.Name||$U.basename(t.Directory)})`,description:n,async execute(){return uOe(n,e,t.Name)}})})})})}async function Dyt(r,e){let t=await cOe(r);e.post(new A1);let n=await Promise.all(Cyt(t,e)),i=await im.window.showQuickPick(n);if(i)return i.execute()}async function Tyt(r){await FK(r,{})}async function Eyt(r){let e=im.window.activeTextEditor;e!==void 0&&await FK(r,{FileName:e.document.uri.fsPath})}async function Pyt(r,e){let t=await cOe(r);e.post(new A1);for(let n of t)await uOe(n.Directory,e,n.Name)}async function cOe(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await gw(r),t=Kwe(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function uOe(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=sOe.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new O1(l.toString()))}),u.on("err",l=>{e.post(new O1(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new tj(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new rj(`ERROR: ${u}`)),i(u)})})}var Jf=be(require("vscode")),hOe=be(XS());var lOe=require("child_process"),VU=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,lOe.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var dOe=require("path");var GU;async function fOe(){if(GU!==void 0)return GU;let r=(0,dOe.join)("msbuild",Gd.getPlatformExeExtension());try{let e=await KS(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&(GU=t[1])}catch{}return GU}async function pOe(){let r=await Ryt();if(r.needsDotNetSdk){let e=await xyt();return e===1?await Jf.env.openExternal(Jf.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await Jf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await Oyt();return e===1?await Jf.env.openExternal(Jf.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await Jf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function Ryt(){if(qr.useModernNet){let r=await Wp(qr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||hOe.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new ZE(VU),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await fOe();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function xyt(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};Jf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function Oyt(){return new Promise((r,e)=>{let t=Jf.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:Jf.l10n.t("Download Mono"),result:1},o={title:Jf.l10n.t("Open settings"),result:2,isCloseAffordance:!0};Jf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Jo;(de=>(de.StateChanged="stateChanged",de.StdOut="stdout",de.StdErr="stderr",de.Error="Error",de.ServerError="ServerError",de.UnresolvedDependencies="UnresolvedDependencies",de.PackageRestoreStarted="PackageRestoreStarted",de.PackageRestoreFinished="PackageRestoreFinished",de.ProjectChanged="ProjectChanged",de.ProjectAdded="ProjectAdded",de.ProjectRemoved="ProjectRemoved",de.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",de.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",de.TestMessage="TestMessage",de.BeforeServerInstall="BeforeServerInstall",de.BeforeServerStart="BeforeServerStart",de.ServerStart="ServerStart",de.ServerStop="ServerStop",de.MultipleLaunchTargets="server:MultipleLaunchTargets",de.Started="started",de.ProjectConfiguration="ProjectConfiguration"))(Jo||={});var Iyt=2*60*1e3,KU=class{constructor(e,t,n,i,o,s,a,c,u,l,d){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let f=new yj(t,this.eventStream,this.packageJSON,i,s);this._omnisharpManager=new R2(f,i),this.updateProjectDebouncer.pipe((0,vOe.debounceTime)(1500)).subscribe(async m=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new mOe.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new gOe.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Jo.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new P2(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new O2(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Jo.StdOut,e,t)}onStderr(e,t){return this._addListener(Jo.StdErr,e,t)}onError(e,t){return this._addListener(Jo.Error,e,t)}onServerError(e,t){return this._addListener(Jo.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Jo.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Jo.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Jo.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Jo.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Jo.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Jo.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Jo.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Jo.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Jo.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Jo.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Jo.BeforeServerStart,e)}onServerStart(e){return this._addListener(Jo.ServerStart,e)}onServerStop(e){return this._addListener(Jo.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Jo.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Jo.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new ad(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new PT("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new vw("During Live Share sessions language services are provided by the Live Share server."));return}if(!await pOe()){this.eventStream.post(new vw("OmniSharp failed to start because of missing requirements."));return}let t=new po,n;qr.enableLspDriver?n=new wU(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new NU(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(x=>this.eventStream.post(new PT(x)))),t.add(this.onError(x=>this.eventStream.post(new N2(x)))),t.add(this.onMsBuildProjectDiagnostics(x=>this.eventStream.post(new q2(x)))),t.add(this.onUnresolvedDependencies(x=>this.eventStream.post(new j2(x)))),t.add(this.onStderr(x=>this.eventStream.post(new nj(x)))),t.add(this.onMultipleLaunchTargets(x=>this.eventStream.post(new H2(x)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new dj))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new lj)})),t.add(this.onServerStop(()=>this.eventStream.post(new hj))),t.add(this.onServerStart(()=>{this.eventStream.post(new pj)})),t.add(this.onBackgroundDiagnosticStatus(x=>this.eventStream.post(new F2(x)))),t.add(this.onProjectConfigurationReceived(x=>{this.eventStream.post(new B2(x))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=oR.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",qr.loggingLevel],a=gy.razorPluginPath,c=a.length>0?a:oR.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");AZ.existsSync(c)&&s.push("--plugin",c),us.waitForDebugger===!0&&s.push("--debug");let u=us.excludePaths;for(let x=0;x<u.length;x++)s.push(`FileOptions:SystemExcludeSearchPatterns:${x}=${u[x]}`);qr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),qr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),qr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),us.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),qr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),qr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),qr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=qr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=qr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),qr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=qr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${qr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${qr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${qr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${qr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${qr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${qr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${qr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let m=qr.inlayHintsEnableForTypes;m===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${m.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${qr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${qr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${qr.inlayHintsForImplicitObjectCreation.toString()}`)),qr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let _=qr.dotNetCliPaths;for(let x=0;x<_.length;x++)s.push(`DotNetCliOptions:LocationPaths:${x}=${_[x]}`);let T;try{T=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,us.serverPath,!qr.useModernNet,this.extensionPath)}catch(x){let M=x;this.eventStream.post(new A2(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${M.toString()}`,M));return}this.eventStream.post(new k2(_,new Date,i)),this._fireEvent(Jo.BeforeServerStart,i);try{await n.start(o,s,e,T),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),Iyt)}),this._delayTrackers={},c!==void 0&&gy.razorPluginPath&&(AZ.existsSync(c)?this.eventStream.post(new Z2(c)):this.eventStream.post(new ej(c))),this._fireEvent(Jo.ServerStart,i)}catch(x){return this._fireEvent(Jo.ServerError,x),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new PT("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Jo.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new sj)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await gw(this);this.eventStream.post(new W2(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Jo.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new PT("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new gj),await this.start(e))}async autoStart(e){let t=await Oj();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=us.defaultSolution,i=t.find(s=>oR.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Jo.MultipleLaunchTargets,t),kZ(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var SOe=be(require("net")),LZ=be(require("os")),oL=be(require("path"));var Wa=be(require("vscode"));var yOe=be(require("vscode"));var _Oe="processLaunched",bOe="debuggingStopped";function wOe(r){if(r[r.length-1]!=10)throw new Error(yOe.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var Ayt=2*60*1e3,iL=class extends Ki{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=Wa.commands.registerCommand("dotnet.test.run",async(d,f,m)=>this.runDotnetTest(d,f,m)),o=Wa.commands.registerCommand("dotnet.test.debug",async(d,f,m)=>this.debugDotnetTest(d,f,m)),s=Wa.commands.registerCommand("dotnet.classTests.run",async(d,f,m,_)=>this.runDotnetTestsInClass(d,f,m,_)),a=Wa.commands.registerCommand("dotnet.classTests.debug",async(d,f,m,_)=>this.debugDotnetTestsInClass(d,f,m,_)),c=Wa.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=Wa.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),Ayt);let l=new ad(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new po(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new M2(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(Wa.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await hSe(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await E1(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await Jwe(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=us.runSettingsPath;if(t.length===0)return;if(oL.isAbsolute(t))return t;let n=Wa.Uri.file(e),i=Wa.workspace.getWorkspaceFolder(n);if(i!==void 0)return oL.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new $2(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new Yp(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new rP(c))}catch(c){let u=c.message;this._eventStream.post(new yw(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new K2(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new Yp(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new rP(u))}catch(u){let l=u.message;this._eventStream.post(new yw(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await pSe(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new Yp(`${Wa.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new J2(Wa.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new Yp(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await mSe(this._server,a);c.ContextHadNoTests?this._eventStream.post(new Yp(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new yw(c.Failure)):this._eventStream.post(new rP(c.Results))}catch(c){let u=c.message;this._eventStream.post(new yw(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=us.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Yp(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await gSe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await E1(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new MZ(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new V2(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=Wa.workspace.getWorkspaceFolder(Wa.Uri.file(t));return Wa.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new k1(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new Y2(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=Wa.workspace.getWorkspaceFolder(Wa.Uri.file(n));return Wa.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new k1(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new Yp(`${Wa.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new X2(Wa.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=Wa.workspace.getWorkspaceFolder(t);return Wa.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new yw(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Yp(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await vSe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new Yp(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await ySe(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new Yp(u.FailureReason)):this._eventStream.post(new yw(u.FailureReason)),null)}finally{a.dispose()}}},MZ=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,LZ.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=Cle();this._pipePath=oL.join(i,"ms-dotnettools.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=SOe.createServer(t=>{t.on("data",async n=>{let i;try{i=wOe(n)}catch{this._eventStream.post(new I1("Invalid event received from debugger"));return}switch(i.eventType){case _Oe:{let o=i;this._eventStream.post(new G2(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case bOe:this._eventStream.post(new vj),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new I1(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new Yp(i.Message))});try{await _Se(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await bSe(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return LZ.platform()==="win32"?Promise.resolve():Ele(this._pipePath)}};var sR=be(require("path"));var YU=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await gw(this.server)).MsBuild?.Projects.map(o=>{let s=GE(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${sR.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=sR.resolve(e.fsPath),a=sR.dirname(o.projectPath);return Rle(a,s)}):void 0}};var COe=be(sC()),QC=be(require("vscode"));var aR=class extends hT{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Wi(QC,QC.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Wi(QC,QC.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Wi(QC,QC.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new XC(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await COe.ensureDir(o.vscodeFolder);let s=await tL(o);await rL(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(QC.l10n.t("Does not contain .NET Core projects."))}catch{return[rOe(),Bw(UU())]}}};function JU(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var XU=be(require("crypto")),TOe=be(DOe());function QU(r,e,t,n,i,o){let s="";i&&(s=Lyt(i));let a=JU(t);a.SolutionId=s,a.ProjectId=e.ProjectId,a.SessionId=e.SessionId,a.OutputType=e.OutputKind?.toString()??"",a.ProjectCapabilities=e.ProjectCapabilities?.join(" ")??"",a.TargetFrameworks=e.TargetFrameworks.join("|"),a.References=e.References.join("|"),a.FileExtensions=e.FileExtensions.join("|"),a.FileCounts=e.FileCounts?.join("|")??"",a.NetSdkVersion=n?.Version??"",a.sdkStyleProject=e.SdkStyleProject.toString(),o&&(a.useModernNet=o.toString()),r.sendTelemetryEvent("ProjectConfiguration",a)}function Lyt(r){let e=XU.createHash("sha256").update(r).digest("hex"),t=(0,TOe.machineIdSync)(),n=XU.createHash("sha256").update(t).digest("hex");return XU.createHash("sha256").update(e+n).digest("hex")}var ZU=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=JU(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await Wp(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof mC&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;QU(this.reporter,t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var GT=be(require("vscode"));var eH=require("util");function tH(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=Myt(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,eH.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,eH.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,eH.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new ad(n)}function Myt(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,us[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,qr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,ls[e]]))}}function EOe(r){return tH(r,{getRelevantOptions:()=>({changedCommonOptions:nq,changedLanguageServerOptions:[],changedOmnisharpOptions:Uge}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:GT.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};ya(GT,GT.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=GT.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:GT.l10n.t("Restart Language Server"),command:"o.restart"};ya(GT,i,o)}})}var rH=class extends zf{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function POe(r,e,t,n,i,o,s,a,c){$a.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=qr.useModernNet,l=new ZU(e,()=>c,u);i.subscribe(l.post);let d=new rH(o);i.subscribe(d.post);let f=new o2(a),m=new s2(a);i.subscribe(f.post),i.subscribe(m.post);let _=new R1(s),T=new P1(s);i.subscribe(_.post),i.subscribe(T.post);let x=$a.window.createOutputChannel($a.l10n.t("OmniSharp Log")),M=new c2(x,e),A=new u2(x);i.subscribe(M.post),i.subscribe(A.post);let U=new l2($a,()=>qr.disableMSBuildDiagnosticWarning||!1);i.subscribe(U.post);let ne=new d2($a);i.subscribe(ne.post);let de=new h2($a);i.subscribe(de.post);let ye=new QE($a.window.createStatusBarItem("C#-Language-Service-Status",$a.StatusBarAlignment.Left,Number.MIN_VALUE+2));ye.name="C# Language Service Status";let V=new p2(ye);i.subscribe(V.post);let W=new QE($a.window.createStatusBarItem("C#-Project-Selector",$a.StatusBarAlignment.Left,Number.MIN_VALUE+1));W.name="C# Project Selector";let ee=new m2(W);i.subscribe(ee.post);let Se=new QE($a.window.createStatusBarItem("C#-Code-Analysis",$a.StatusBarAlignment.Left,Number.MIN_VALUE));Se.name="C# Code Analysis";let se=new g2(Se);if(i.subscribe(se.post),!1){let Ne=new y2(x);i.subscribe(Ne.post)}let qe=new _2(o);return i.subscribe(qe.post),gy.razorDevMode||await new b2(n,i,r.extension.packageJSON,e,r.extension.extensionPath).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),EOe(t),r.subscriptions.push($a.window.onDidChangeActiveTextEditor(()=>{i.post(new fj)})),Nyt(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,x)}async function Nyt(r,e,t,n,i,o,s){let a=new po,c=new ZE(VU),u=new S2(t),l=new D2;l.register(),a.add(l);let d=new KU($a,n,e,t,i,o,c,u,r,s,l),f=new LU(d),m=new iL(d,i,l),_=new YU(d),T;return a.add(d.onServerStart(async()=>{T=await d.registerProviders(i,f,m)})),a.add(d.onServerStop(()=>{T?.dispose(),T=void 0})),a.add(IZ(r,d,t,i,c,u,_)),a.add(d.onServerStart(async()=>{await HU(r,_)})),$a.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||a.add(d.onServerStart(async()=>{await gw(d).then(M=>{if(M.DotNet&&M.DotNet.Projects.length>0){let A=$a.l10n.t("project.json is no longer a supported project format for .NET Core applications."),U=$a.l10n.t("More Detail");i.post(new uj),Vh($a,A,U)}})})),a.add(d.onServerStart(async()=>{let M={};await gw(d).then(A=>{A.DotNet&&A.DotNet.Projects.length>0&&(M["projectjson.projectcount"]=A.DotNet.Projects.length,M["projectjson.filecount"]=tI(A.DotNet.Projects,U=>x4(U.SourceFiles))),A.MsBuild&&A.MsBuild.Projects.length>0&&(M["msbuild.projectcount"]=A.MsBuild.Projects.length,M["msbuild.filecount"]=tI(A.MsBuild.Projects,U=>x4(U.SourceFiles)),M["msbuild.unityprojectcount"]=tI(A.MsBuild.Projects,U=>U.IsUnityProject?1:0),M["msbuild.netcoreprojectcount"]=tI(A.MsBuild.Projects,U=>RSe(U)?1:0)),i.post(new I2("OmniSharp.Start",M))})})),a.add(d.onBeforeServerStart(async M=>{gy.razorDevMode&&i.post(new oj),await r.workspaceState.update("lastSolutionPathOrFolder",M)})),qr.autoStart&&d.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(M=>{throw M}),a.add(new ad(()=>{m.dispose(),f.dispose(),d.stop().catch(M=>console.error(M))})),a.add($a.debug.registerDebugConfigurationProvider("coreclr",new aR(_,t,s))),r.subscriptions.push(a),new Promise(M=>d.onServerStart(A=>M({server:d,advisor:f,testManager:m})))}var E2e=be(require("fs")),P2e=be(pNe()),Lse=be(require("path")),C0=be(require("vscode"));var q3=be(require("vscode"));var oS=be(require("vscode")),hM=be(an());var mNe=be(require("vscode"));var Hy=(s=>(s[s.added=0]="added",s[s.removed=1]="removed",s[s.opened=2]="opened",s[s.closed=3]="closed",s[s.csharpChanged=4]="csharpChanged",s[s.htmlChanged=5]="htmlChanged",s))(Hy||{});function io(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var By=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="virtualCSharp-razor";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===4||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var To=class{static serialize(e){if(e.scheme===By.scheme){let n=e.with({scheme:"file"}).toString(!0);return e.scheme+n.slice(4)}else return e.toString(!0)}static deserialize(e){return mNe.Uri.parse(e,!0)}};var pg=be(require("vscode")),fs=be(_U()),NPt="roslyn.changeRazorCSharp",FPt="roslyn.closeRazorCSharp",Coe="roslyn.pullDiagnosticRazorCSharp",Doe="roslyn.provideCodeActions",Toe="roslyn.resolveCodeAction",Eoe="roslyn.provideCompletions",Poe="roslyn.resolveCompletion";var Roe="roslyn.simplifyMethod",xoe="roslyn.formatNewFile",Ooe="razor.initialize",Ioe="roslyn.provideInlayHints",koe="roslyn.resolveInlayHint";function gNe(r,e){r.subscriptions.push(pg.commands.registerCommand(NPt,async n=>{await e.sendNotification(fs.DidChangeTextDocumentNotification.method,n)})),r.subscriptions.push(pg.commands.registerCommand(FPt,async n=>{await e.sendNotification(fs.DidCloseTextDocumentNotification.method,n)})),r.subscriptions.push(pg.commands.registerCommand(Coe,async n=>{let i=new fs.RequestType(fs.DocumentDiagnosticRequest.method);return await e.sendRequest(i,n,fs.CancellationToken.None)})),r.subscriptions.push(pg.commands.registerCommand(Roe,async n=>{let i=new fs.RequestType("roslyn/simplifyMethod");return await e.sendRequest(i,n,fs.CancellationToken.None)}));let t=new fs.RequestType("roslyn/formatNewFile");r.subscriptions.push(pg.commands.registerCommand(xoe,async n=>await e.sendRequest(t,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Doe,async n=>await e.sendRequest(fs.CodeActionRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Toe,async n=>await e.sendRequest(fs.CodeActionResolveRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Ioe,async n=>await e.sendRequest(fs.InlayHintRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(koe,async n=>await e.sendRequest(fs.InlayHintResolveRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Eoe,async n=>await e.sendRequest(fs.CompletionRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Poe,async n=>await e.sendRequest(fs.CompletionResolveRequest.type,n,fs.CancellationToken.None))),r.subscriptions.push(pg.commands.registerCommand(Ooe,async n=>{await e.sendNotification("razor/initialize",{pipeName:n})}))}var XW=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideCodeActionsEndpoint="razor/provideCodeActions";static resolveCodeActionsEndpoint="razor/resolveCodeActions";codeActionRequestType=new hM.RequestType(r.provideCodeActionsEndpoint);codeActionResolveRequestType=new hM.RequestType(r.resolveCodeActionsEndpoint);emptyCodeActionResponse=[];emptyCodeAction={};async register(){await this.serverClient.onRequestWithParams(this.codeActionRequestType,async(e,t)=>this.provideCodeActions(e,t)),await this.serverClient.onRequestWithParams(this.codeActionResolveRequestType,async(e,t)=>this.resolveCodeAction(e,t))}async provideCodeActions(e,t){try{let n=e.codeActionParams,i=oS.Uri.parse(n.textDocument.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeActionResponse;if(e.languageKind!==1)return this.emptyCodeActionResponse;if(!this.documentManager.roslynActivated)return this.emptyCodeActionResponse;let s=await oS.workspace.openTextDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t))return this.emptyCodeActionResponse;let c=To.serialize(o.csharpDocument.uri);return n.textDocument=hM.TextDocumentIdentifier.create(c),await oS.commands.executeCommand(Doe,n)}catch(n){this.logger.logWarning(`${r.provideCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeActionResponse}async resolveCodeAction(e,t){try{let n=e.codeAction,i=oS.Uri.parse(e.identifier.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeAction;if(e.languageKind!==1)return this.emptyCodeAction;let s=await oS.workspace.openTextDocument(o.uri);return await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t)?await oS.commands.executeCommand(Toe,n):this.emptyCodeAction}catch(n){this.logger.logWarning(`${r.resolveCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeAction}};var Tv=be(require("vscode")),Wy=be(an());var QW=class r{constructor(e,t,n,i,o){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.projectedCSharpProvider=i;this.logger=o}static completionEndpoint="razor/completion";static completionResolveEndpoint="razor/completionItem/resolve";completionRequestType=new Wy.RequestType(r.completionEndpoint);completionResolveRequestType=new Wy.RequestType(r.completionResolveEndpoint);static emptyCompletionList={items:new Array(0)};static emptyCompletionItem={};async register(){await this.serverClient.onRequestWithParams(this.completionRequestType,async(e,t)=>this.provideCompletions(e,t)),await this.serverClient.onRequestWithParams(this.completionResolveRequestType,async(e,t)=>this.provideResolvedCompletionItem(e,t))}async provideCompletions(e,t){try{let n=Tv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyCompletionList;let o=await Tv.workspace.openTextDocument(n),s;if(e.projectedKind===2)s=i.htmlDocument;else if(e.projectedKind===1)s=i.csharpDocument;else return this.logger.logWarning(`Unknown language kind value ${e.projectedKind}`),r.emptyCompletionList;if(!s)return this.logger.logWarning(`Null or undefined virtual document: ${s}`),r.emptyCompletionList;if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s,e.identifier.version,t))return r.emptyCompletionList;let c=e.context.triggerCharacter==="@"?void 0:e.context.triggerCharacter,u=e.context.triggerCharacter==="@"?Wy.CompletionTriggerKind.Invoked:e.context.triggerKind;return e.projectedKind===1?this.provideCSharpCompletions(u,c,s,e.projectedPosition,e.provisionalTextEdit):this.provideVscodeCompletions(s.uri,e.projectedPosition,c)}catch(n){this.logger.logWarning(`${r.completionEndpoint} failed with ${n}`)}return r.emptyCompletionList}async provideResolvedCompletionItem(e,t){let n=Tv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),o=(await this.documentManager.getDocument(n)).csharpDocument,s=o.getProvisionalDotPosition();try{if(e.originatingKind!=1||e.completionItem.data.TextDocument==null)return e.completionItem;{o.ensureResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s);let a=await Tv.commands.executeCommand(Poe,e.completionItem);return a||e.completionItem}}catch(a){this.logger.logWarning(`${r.completionResolveEndpoint} failed with ${a}`)}finally{o.removeResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s,!0)}return r.emptyCompletionItem}async provideCSharpCompletions(e,t,n,i,o){let s=r.getIndexOfPosition(n,i);try{if(n.clearResolveCompletionRequestVariables(),o){if(s===-1)return r.emptyCompletionList;n.addProvisionalDotAt(s),n.setProvisionalDotPosition(i),await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i)}let a=To.serialize(n.uri),c={context:{triggerKind:e,triggerCharacter:t},textDocument:{uri:a},position:i},u=await Tv.commands.executeCommand(Eoe,c);return u?(r.adjustCSharpCompletionList(u,t),u):r.emptyCompletionList}catch(a){this.logger.logWarning(`${r.completionEndpoint} failed with ${a}`)}finally{o&&n.removeProvisionalDot()&&await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i,!0)}return r.emptyCompletionList}async ensureProvisionalDotUpdatedInCSharpDocument(e,t,n=!1){this.projectedCSharpProvider.ensureDocumentContent(e),await this.waitForDocumentChange(e,t,n)}async waitForDocumentChange(e,t,n){return new Promise(i=>{let o=Tv.workspace.onDidChangeTextDocument(s=>{let a=n?"":".";s.document.uri.toString()===e.toString()&&s.contentChanges.some(u=>u.range.start.character<=t.character&&u.range.start.line===t.line&&u.range.end.character+1>=t.character&&u.range.end.line===t.line&&u.text===a)&&(i(),o.dispose())})})}static adjustCSharpCompletionList(e,t){let n=e.itemDefaults?.data;for(let i of e.items)i.textEdit=void 0,t==="@"&&i.commitCharacters&&(i.commitCharacters=i.commitCharacters.filter(o=>o!=="{"&&o!=="("&&o!=="*")),i.label.toString().includes("\u2605")&&i.textEditText&&(i.insertText=i.textEditText),i.data||(i.data=n)}static getIndexOfPosition(e,t){let n=e.getContent(),i=0,o=0;for(;i<t.line&&o<n.length;){let a=n[o];a==="\r"?(i++,o+1<n.length&&n[o+1]===`
`&&o++):a===`
`&&i++,o++}return i!==t.line?-1:o+t.character-1}async provideVscodeCompletions(e,t,n){let i=await Tv.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof Tv.SnippetString?Wy.InsertTextFormat.Snippet:Wy.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?Wy.InsertTextMode.asIs:Wy.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var mM=be(require("vscode"));var sS=be(require("vscode"));var _Ne=be(require("vscode"));var yNe=be(require("vscode"));var vNe=be(require("vscode"));function Aoe(r){return{line:r.line,character:r.character}}function Loe(r){return new vNe.Position(r.line,r.character)}function Nx(r){return{start:Aoe(r.start),end:Aoe(r.end)}}function ZW(r){return new yNe.Range(Loe(r.start),Loe(r.end))}function pM(r){return{range:Nx(r.range),newText:r.newText}}function Moe(r){return new _Ne.TextEdit(ZW(r.range),r.newText)}function Noe(r){let e=new sS.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create"){let n=t;e.createFile(sS.Uri.parse(n.uri),n.options)}else if(t.kind==="rename"){let n=t;e.renameFile(sS.Uri.parse(n.oldUri),sS.Uri.parse(n.newUri),n.options)}else if(t.kind==="delete"){let n=t;e.deleteFile(sS.Uri.parse(n.uri),n.options)}else{let n=t,i=n.edits.map(Moe);e.set(sS.Uri.parse(n.textDocument.uri),i)}if(r.changes!==void 0)for(let t in r.changes){if(!Object.prototype.hasOwnProperty.call(r.changes,t))continue;let n=r.changes[t].map(Moe);e.set(sS.Uri.parse(t),n)}return e}var e$=class r{constructor(e,t){this.serverClient=e;this.logger=t}static codeActionResolveEndpoint="textDocument/codeActionResolve";static razorCodeActionRunnerCommand="razor/runCodeAction";register(){return mM.commands.registerCommand(r.razorCodeActionRunnerCommand,async e=>this.runCodeAction(e),this)}async runCodeAction(e){let t=await this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=Noe({changes:t.edit.changes}),i=Noe({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return mM.workspace.applyEdit(i).then(()=>mM.workspace.applyEdit(n))}};var bb=be(require("vscode"));var _c=class{constructor(e,t,n,i){this.documentSynchronizer=e;this.documentManager=t;this.serviceClient=n;this.logger=i}async getProjection(e,t,n){let i=await this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case 1:case 2:{let o=await this.documentManager.getDocument(e.uri),s=i.kind===1?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${io(e.uri)}'.`);else if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n))return null;return{uri:s.uri,position:i.position,languageKind:i.kind,hostDocumentVersion:s.hostDocumentSyncVersion}}default:return null}}};var bNe=be(require("vscode")),gM=class extends bNe.CodeLens{constructor(t,n,i,o){super(t,o);this.uri=n;this.document=i}};var Fx=be(require("vscode"));var wNe=be(require("vscode"));var t$="__virtual.html",vM="__virtual.cs",qPt=`__bg${vM}`;function aS(r){return io(r).endsWith(vM)}function r$(r){return io(r).endsWith(t$)}function _0(r){let t=io(r).replace(qPt,"");return t=t.replace(vM,""),t=t.replace(t$,""),wNe.Uri.file(t)}var Ev=class r{language="Razor";static async remapGeneratedFileWorkspaceEdit(e,t,n,i){let o=new Map;for(let a of e.entries()){let c=a[0],u=a[1];if(!aS(c)){o.set(c,u);continue}let l=_0(c);for(let d of u){let f=await r.remapGeneratedFileTextEdit(l,d,t,n,i);f&&this.addElementToDictionary(o,l,f)}}return this.mapToTextEdit(o)}static async remapGeneratedFileTextEdit(e,t,n,i,o){let s=await n.mapToDocumentRanges(1,[t.range],e);if(!s||!s.ranges||!s.ranges[0]){i.logWarning(`Unable to remap file ${e.path} at ${t.range}.`);return}else{let a=new Fx.TextEdit(s.ranges[0],t.newText);return i.logVerbose(`Re-mapping text ${t.newText} at ${t.range} in ${e.path} to ${s.ranges[0]} in ${e.path}`),a}}static async remapGeneratedFileLocation(e,t,n,i){if(!aS(e.uri))return e;let o=_0(e.uri),s=await t.mapToDocumentRanges(1,[e.range],o);if(!s||!s.ranges||!s.ranges[0]){n.logWarning(`Unable to remap file ${e.uri.path} at ${e.range}.`);return}return n.logVerbose(`Re-mapping location ${e.range} in ${e.uri.path} to ${s.ranges[0]} in ${o.path}`),new Fx.Location(o,s.ranges[0])}static async remapGeneratedFileLocations(e,t,n,i){let o=[];for(let s of e){let a=await this.remapGeneratedFileLocation(s,t,n,i);a!==void 0&&o.push(a)}return o}static mapToTextEdit(e){let t=new Fx.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}static addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};var n$=class extends _c{onDidChangeCodeLenses;constructor(e,t,n,i){super(e,t,n,i);let o=new bb.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(async s=>{if(s.kind!==0)return;bb.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(await new Promise(c=>setTimeout(c,5e3)),o.fire())}),t.onRazorInitialized(()=>o.fire())}async provideCodeLenses(e,t){try{if(!this.documentManager.razorDocumentGenerationInitialized)return;let n=await this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=await bb.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(1,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new gM(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}}async resolveCodeLens(e,t){if(e instanceof gM)return this.resolveRazorCodeLens(e,t)}async resolveRazorCodeLens(e,t){e.command={title:"",command:"",arguments:[]};try{let n=await this.documentManager.getDocument(e.uri);if(!n)return e;let i=await this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==1)return e;let o=await bb.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=await Ev.remapGeneratedFileLocations(o,this.serviceClient,this.logger,t),a=s.length;return e.command={title:a===1?bb.l10n.t("1 reference"):bb.l10n.t("{0} references",a),command:"editor.action.showReferences",arguments:[n.uri,e.range.start,s]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}}};var qx=be(require("vscode")),SNe=be(Xu());var i$=class{constructor(e,t){this.uri=e;this.range=t}};var o$=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var s$=class r{constructor(e,t,n){this.documentManager=e;this.serverClient=t;this.logger=n}static provideHtmlColorPresentation="razor/provideHtmlColorPresentation";colorPresentationRequestType=new SNe.RequestType(r.provideHtmlColorPresentation);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.colorPresentationRequestType,async(e,t)=>this.provideHtmlColorPresentation(e,t))}async provideHtmlColorPresentation(e,t){try{let n=qx.Uri.parse(`${e.textDocument.uri}`,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new qx.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=await qx.commands.executeCommand("vscode.executeColorPresentationProvider",o,new i$(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=pM(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=pM(a);o.push(c)}let s=new o$(n.label,i,o);t.push(s)}return t}};var cS=be(require("vscode"));var tf=be(require("vscode"));var yM=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorCSharpPreview";panel;csharpContent;async show(){this.panel?this.panel.reveal(tf.ViewColumn.Two):(this.panel=tf.window.createWebviewPanel(r.viewType,tf.l10n.t("Razor C# Preview"),tf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===4||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(tf,tf.l10n.t("Unexpected error when attaching to C# preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.csharpContent)return;await tf.env.clipboard.writeText(this.csharpContent),ya(tf,tf.l10n.t("Razor C# copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=io(e.uri),n=io(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=tf.l10n.t("Report a Razor issue"),s=tf.l10n.t("Host document file path"),a=tf.l10n.t("Virtual document file path"),c=tf.l10n.t("Copy C#");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var a$=class{projectionProvider;csharpPreviewPanel;constructor(e,t,n){this.projectionProvider=new By(e,t,n),this.csharpPreviewPanel=new yM(e)}register(){let e=[cS.workspace.registerTextDocumentContentProvider(By.scheme,this.projectionProvider),cS.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.csharpPreviewPanel.show())];return cS.window.registerWebviewPanelSerializer&&e.push(cS.window.registerWebviewPanelSerializer(yM.viewType,{deserializeWebviewPanel:async t=>{await this.csharpPreviewPanel.revive(t)}})),cS.Disposable.from(...e)}};var u$=be(require("vscode"));var c$=class extends _c{async provideDefinition(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await u$.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===2&&r$(a.uri)){let c=_0(a.uri);s.push(new u$.Location(c,a.range))}else if(aS(a.uri)){let c=await Ev.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var DNe=be(require("child_process")),l$=be(require("os")),Zo=be(require("vscode"));var CNe="ms-dotnettools.csharp";var d$=class{constructor(e,t){this.vscodeApi=e;this.documentManager=t}async create(e){let t,n,i;if(e.document){t=await this.getRazor(e.document);let we=await this.documentManager.getDocument(e.document.uri);n=await this.getProjectedCSharp(we),i=await this.getProjectedHtml(we)}else t=Zo.l10n.t("Non Razor file as active document"),n=Zo.l10n.t("Could not determine CSharp content"),i=Zo.l10n.t("Could not determine Html content");let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(we){s=Zo.l10n.t("A valid dotnet installation could not be found: {0}",we?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),m=Zo.l10n.t("Is this a Bug or Feature request?"),_=Zo.l10n.t("Bug"),T=Zo.l10n.t("Steps to reproduce"),x=Zo.l10n.t("Please fill in this section"),M=Zo.l10n.t("Description of the problem"),A=Zo.l10n.t("Expected behavior"),U=Zo.l10n.t("Actual behavior"),ne=Zo.l10n.t("Logs"),de=Zo.l10n.t("OmniSharp"),ye=Zo.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),V=Zo.l10n.t("Razor"),W=Zo.l10n.t("Expand"),ee=Zo.l10n.t("Workspace information"),Se=Zo.l10n.t("Razor document"),se=Zo.l10n.t("Projected CSharp document"),ce=Zo.l10n.t("Projected Html document"),qe=Zo.l10n.t("Machine information"),Ne=Zo.l10n.t("Razor.VSCode version"),ue=Zo.l10n.t("VSCode version"),De=Zo.l10n.t("Extensions");return`## ${m}:
${_}

## ${T}:
------------------- ${x} -------------------------

## ${M}:
------------------- ${x} -------------------------

${A}:

${U}:

## ${ne}

#### ${de}
------------------- ${x} -------------------------
${ye}

#### ${V}
<details><summary>${W}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${ee}

#### ${Se}:
<details><summary>${W}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${se}:
<details><summary>${W}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ce}:
<details><summary>${W}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${qe}


**${ue}**: ${this.vscodeApi.version}
**${Ne}**: ${o}
#### \`dotnet --info\`

<details><summary>${W}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${De}
<details><summary>${W}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}async getProjectedCSharp(e){let t=Zo.l10n.t("Projected CSharp as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of CSharp");try{let o=await this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}async getProjectedHtml(e){let t=Zo.l10n.t("Projected Html as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of Html");try{let o=await this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(CNe);return e?e.packageJSON.version:Zo.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=Zo.l10n.t("Extension"),n=Zo.l10n.t("Author"),i=Zo.l10n.t("Version"),o=`|${t}|${n}|${i}|${l$.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(l$.EOL);return`
${o}${l$.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{DNe.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var _M=be(require("vscode"));var hs=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var TNe=be(require("os")),f$=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(TNe.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var h$=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new _M.EventEmitter}onRazorDocumentFocusedEmitter=new _M.EventEmitter;register(){return _M.window.onDidChangeActiveTextEditor(e=>{e&&hs.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new f$(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var oo=be(require("vscode"));var bM=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(oo.ViewColumn.Two):(this.panel=oo.window.createWebviewPanel(r.viewType,oo.l10n.t("Report Razor Issue"),oo.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(oo,oo.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await oo.env.clipboard.writeText(this.issueContent),ya(oo,oo.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),ya(oo,oo.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),ya(oo,oo.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=oo.LogLevel.Debug&&this.logger.logLevel!=oo.LogLevel.Off){let i=`<button onclick="startIssue()">${oo.l10n.t("Start")}</button>`,o=oo.l10n.t("Press {0}",i),s=oo.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${oo.l10n.t("Stop")}</button>`,u=oo.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${oo.l10n.t("Go to GitHub")}</a>`,f=oo.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),m=oo.env.language,_=`<a href="https://privacy.microsoft.com/${m}/privacystatement">https://privacy.microsoft.com/${m}/privacystatement</a>`,T=oo.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),x=oo.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${T}
${_}
</em></p>

<button onclick="copyIssue()">${x}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${oo.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${oo.LogLevel[oo.LogLevel.Debug]}</em></strong>`;e="<p>"+oo.l10n.t('Cannot start collecting Razor logs when {0} is set to {1}. Please open the output window, choose the "Razor Log", and use the gear icon to ensure the log level is set to "Debug" or "Trace".',n,i,o)+"</p>"}let t=oo.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var p$=class{constructor(e,t,n){this.vscodeApi=e;this.dataCollectorFactory=new h$(n),this.issueCreator=new d$(this.vscodeApi,t),this.issuePanel=new bM(this.dataCollectorFactory,this.issueCreator,n)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(bM.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var pu=be(require("vscode"));var qoe=be(require("vscode"));var m$=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";preProvisionalContent;preResolveProvisionalContent;provisionalEditAt;resolveProvisionalEditAt;ProvisionalDotPosition;hostDocumentVersion=null;updates=null;_checksum="";_checksumAlgorithm=1;_encodingCodePage=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}get checksum(){return this._checksum}get checksumAlgorithm(){return this._checksumAlgorithm}get encodingCodePage(){return this._encodingCodePage}update(e,t,n,i,o,s){if(e){if(this.removeProvisionalDot(),this.updates){for(let a of this.updates)this.updateContent(a.changes);this.updates=null}this.updateContent(t),this._checksum=i,this._checksumAlgorithm=o,this._encodingCodePage=s}else{let a=new Foe(t,i,o,s);this.updates?this.updates=this.updates.concat(a):this.updates=[a]}this.hostDocumentVersion=n}applyEdits(){let e=this.updates;this.updates=null;let t=this._checksum,n=this._checksumAlgorithm,i=this._encodingCodePage;if(e)for(let o of e)this.updateContent(o.changes),this._checksum=o.checksum,this._checksumAlgorithm=o.checksumAlgorithm,this._encodingCodePage=o.encodingCodePage;return{edits:e,originalChecksum:t,originalChecksumAlgorithm:n,originalEncodingCodePage:i}}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot(),this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0;let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.resolveProvisionalEditAt=this.provisionalEditAt,this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}ensureResolveProvisionalDot(){if(this.removeResolveProvisionalDot(),this.resolveProvisionalEditAt){let e=this.getEditedContent(".",this.resolveProvisionalEditAt,this.resolveProvisionalEditAt,this.content);return this.preResolveProvisionalContent=this.content,this.setContent(e),!0}return!1}removeResolveProvisionalDot(){return this.resolveProvisionalEditAt&&this.preResolveProvisionalContent?(this.setContent(this.preResolveProvisionalContent),this.provisionalEditAt=void 0,this.preResolveProvisionalContent=void 0,!0):!1}setProvisionalDotPosition(e){this.ProvisionalDotPosition=e}getProvisionalDotPosition(){return this.ProvisionalDotPosition}clearResolveCompletionRequestVariables(){this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0}getEditedContent(e,t,n,i){let o=i.substring(0,t),s=i.substring(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}updateContent(e){if(e.length===0)return;let t=this.content;for(let n of e.reverse())t=this.getEditedContent(n.newText,n.span.start,n.span.start+n.span.length,t);this.setContent(t)}},Foe=class{constructor(e,t,n,i){this.changes=e;this.checksum=t;this.checksumAlgorithm=n;this.encodingCodePage=i}};var g$=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";hostDocumentVersion=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}};var uS=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="razor-html";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===5||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var ENe=be(require("vscode"));var v$=class{constructor(e,t,n){this.uri=e;this.csharpDocument=t;this.htmlDocument=n;this.path=io(e)}path;get isOpen(){for(let e of ENe.workspace.textDocuments)if(e.uri.fsPath==this.uri.fsPath)return!0;return!1}};function PNe(r){let e=zPt(r),t=jPt(r);return new v$(r,e,t)}function jPt(r){let t=`${io(r)}${t$}`,n=qoe.Uri.file(t);return n=n.with({scheme:uS.scheme}),new g$(n)}function zPt(r){let t=`${io(r)}${vM}`,n=qoe.Uri.file(t);return n=n.with({scheme:By.scheme}),new m$(n)}jx();var S$=class{constructor(e,t,n,i){this.serverClient=e;this.logger=t;this.telemetryReporter=n;this.platformInfo=i}roslynActivated=!1;razorDocuments={};openRazorDocuments=new Set;onChangeEmitter=new pu.EventEmitter;onRazorInitializedEmitter=new pu.EventEmitter;razorDocumentGenerationInitialized=!1;get onChange(){return this.onChangeEmitter.event}get onRazorInitialized(){return this.onRazorInitializedEmitter.event}get documents(){return Object.values(this.razorDocuments)}async getDocument(e){return this._getDocument(e)}async getActiveDocument(){return!pu.window.activeTextEditor||pu.window.activeTextEditor.document.languageId!==hs.id?null:await this.getDocument(pu.window.activeTextEditor.document.uri)}isRazorDocumentOpenInCSharpWorkspace(e){let t=io(e);return this.openRazorDocuments.has(t)}didOpenRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.add(t)}didCloseRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.delete(t)}async initialize(){let e=await pu.workspace.findFiles(hs.globbingPattern);for(let t of e)this.addDocument(t);for(let t of pu.workspace.textDocuments)t.languageId===hs.id&&(t.isClosed||await this.openDocument(t.uri))}register(){let e=pu.workspace.createFileSystemWatcher(hs.globbingPattern),t=e.onDidCreate(async o=>this.addDocument(o)),n=pu.workspace.onDidOpenTextDocument(async o=>{o.languageId===hs.id&&await this.openDocument(o.uri)}),i=pu.workspace.onDidCloseTextDocument(o=>{o.languageId===hs.id&&this.closeDocument(o.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",async o=>this.updateCSharpBuffer(o)),this.serverClient.onNotification("razor/updateHtmlBuffer",async o=>this.updateHtmlBuffer(o)),pu.Disposable.from(e,t,n,i)}_getDocument(e){let t=io(e),n=this.findDocument(t);return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}async openDocument(e){await this.ensureRazorInitialized();let t=this._getDocument(e);this.notifyDocumentChange(t,2,[])}async ensureRazorInitialized(){if(this.roslynActivated&&!this.razorDocumentGenerationInitialized){this.razorDocumentGenerationInitialized=!0;let e=lD();await pu.commands.executeCommand(Ooe,e),await this.serverClient.connectNamedPipe(e),this.onRazorInitializedEmitter.fire()}}closeDocument(e){let t=this._getDocument(e);e.scheme==="file"&&(pu.workspace.getWorkspaceFolder(e)||this.removeDocument(e)),this.notifyDocumentChange(t,3,[])}addDocument(e){let t=io(e),n=this.findDocument(t);return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=PNe(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,0,[]),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,1,[])}findDocument(e){return this.platformInfo.isLinux()?this.razorDocuments[e]:Object.values(this.razorDocuments).find(t=>t.path.localeCompare(e,void 0,{sensitivity:"base"})===0)}async updateCSharpBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=pu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(n.isOpen,e.changes,e.hostDocumentVersion,e.checksum,e.checksumAlgorithm,e.encodingCodePage),this.notifyDocumentChange(n,4,e.changes)}else this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")}async updateHtmlBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=pu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){await pu.workspace.openTextDocument(n.htmlDocument.uri);let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,5,e.changes)}else this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")}notifyDocumentChange(e,t,n){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${io(e.uri)}' changed '${Hy[t]}' with '${n.length}' changes.`);let i={document:e,kind:t,changes:n};this.onChangeEmitter.fire(i)}};var dD=be(require("vscode"));var C$=class{constructor(e,t){this.documentManager=e;this.logger=t}synchronizations={};synchronizationIdentifier=0;register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=dD.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return dD.Disposable.from(e,t)}async trySynchronizeProjectedDocument(e,t,n,i){let o=++this.synchronizationIdentifier,s=io(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.'`)}let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),await a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=await dD.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.hostDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),await a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0}removeSynchronization(e){e.dispose();let t=io(e.projectedDocument.uri),n=this.synchronizations[t];if(n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,T)=>{a=_,s.push(T)}),u=Function,l=new Promise((_,T)=>{u=_,s.push(T)});o.onCancellationRequested(_=>{f.cancel(dD.l10n.t("Token cancellation requested: {0}",_))});let d=setTimeout(()=>{f.cancel(dD.l10n.t("Synchronization timed out"))},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,cancel:_=>{for(let T of s)T(_)},dispose:()=>{s.length=0,clearTimeout(f.timeoutId)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},m=this.synchronizations[e];return m||(m=[],this.synchronizations[e]=m),m.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==By.scheme&&e.document.uri.scheme!==uS.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=io(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.hostDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===4)t=e.document.csharpDocument;else if(e.kind===5)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=io(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};var zx=be(require("vscode")),QNe=be(Xu());var D$=class{constructor(e,t){this.range=e;this.color=t}};var T$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor";documentColorRequestType=new QNe.RequestType(r.provideHtmlDocumentColorEndpoint);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.documentColorRequestType,async(e,t)=>this.provideHtmlDocumentColors(e,t))}async provideHtmlDocumentColors(e,t){try{let n=zx.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=await zx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e._razor_hostDocumentVersion,t))return this.emptyColorInformationResponse;let a=i.htmlDocument.uri,c=await zx.commands.executeCommand("vscode.executeDocumentColorProvider",a),u=new Array;for(let l of c){let d=Nx(l.range),f=new D$(d,l.color);u.push(f)}return u}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse}};var P$=be(require("vscode"));var E$=class extends _c{async provideDocumentHighlights(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await P$.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||i.hostDocumentVersion!==c.hostDocumentVersion)continue;let u=new P$.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s}};function ZNe(r,e){r.onChange(t=>{switch(t.kind){case 0:e.reportWorkspaceContainsRazor();break}})}var Ux=be(require("vscode"));var TM=class{constructor(e,t,n,i,o){this.csharpDocument=e;this.edits=t;this.checksum=n;this.checksumAlgorithm=i;this.encodingCodePage=o}};var R$=class{constructor(e){this.razorDocument=e}};var eFe=be(an());var EM=class{constructor(e,t){this.newText=e;this.span=t}};var PM=class{constructor(e,t){this.start=e;this.length=t}};var fD=class r{constructor(e,t){this.documentManager=e;this.logger=t}static provideDynamicFileInfoCommand="razor.provideDynamicFileInfo";static removeDynamicFileInfoCommand="razor.removeDynamicFileInfo";static dynamicFileUpdatedCommand="razor.dynamicFileUpdated";register(){Ux.commands.registerCommand(r.provideDynamicFileInfoCommand,async e=>this.provideDynamicFileInfo(e)),Ux.commands.registerCommand(r.removeDynamicFileInfoCommand,async e=>{await this.removeDynamicFileInfo(e)}),this.documentManager.onChange(async e=>{if(e.kind==4&&!e.document.isOpen&&e.changes.length>0){let t=To.serialize(e.document.uri),n=eFe.TextDocumentIdentifier.create(t);await Ux.commands.executeCommand(r.dynamicFileUpdatedCommand,new R$(n))}})}async provideDynamicFileInfo(e){this.documentManager.roslynActivated=!0;let t=Ux.Uri.parse(e.razorDocument.uri,!0);await this.documentManager.ensureRazorInitialized();let n=await this.documentManager.getDocument(t);try{if(n===void 0)return this.logger.logWarning(`Could not find Razor document ${t.fsPath}; adding null as a placeholder in URI array.`),null;let i=n.csharpDocument;if(e.fullText){let s=new EM(n.csharpDocument.getContent(),new PM(0,0));return new TM(e.razorDocument,[s],i.checksum,i.checksumAlgorithm,i.encodingCodePage)}let o=To.serialize(n.csharpDocument.uri);if(this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t))return null;{let s=i.applyEdits(),a=s.edits?.flatMap(c=>c.changes.map(u=>new EM(u.newText,new PM(u.span.start,u.span.length))));return new TM({uri:o},a??[],s.originalChecksum,s.originalChecksumAlgorithm,s.originalEncodingCodePage)}}catch(i){this.logger.logWarning(`${r.provideDynamicFileInfoCommand} failed with ${i}`)}return null}async removeDynamicFileInfo(e){try{let t=To.deserialize(e.csharpDocument.uri);this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t)&&this.documentManager.didCloseRazorCSharpDocument(t)}catch(t){this.logger.logWarning(`${r.removeDynamicFileInfoCommand} failed with ${t}`)}}};var lS=be(require("vscode")),Hx=be(an());var RM=class{constructor(e,t){this.htmlRanges=e;this.csharpRanges=t}};var x$=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static provideFoldingRange="razor/foldingRange";foldingRangeRequestType=new Hx.RequestType(r.provideFoldingRange);emptyFoldingRangeReponse=new RM(new Array,new Array);async register(){await this.serverClient.onRequestWithParams(this.foldingRangeRequestType,async(e,t)=>this.provideFoldingRanges(e,t))}async provideFoldingRanges(e,t){try{let n=lS.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=await lS.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=await lS.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new RM(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===lS.FoldingRangeKind.Comment)return Hx.FoldingRangeKind.Comment;if(e===lS.FoldingRangeKind.Imports)return Hx.FoldingRangeKind.Imports;if(e===lS.FoldingRangeKind.Region)return Hx.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var gd=be(require("vscode")),Voe=be(Xu());var Bx=class{constructor(e){this.edits=e}};var O$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideFormattingEndpoint="razor/htmlFormatting";static provideOnTypeFormattingEndpoint="razor/htmlOnTypeFormatting";formattingRequestType=new Voe.RequestType(r.provideFormattingEndpoint);onTypeFormattingRequestType=new Voe.RequestType(r.provideOnTypeFormattingEndpoint);emptyFormattingResponse=new Bx;async register(){await this.serverClient.onRequestWithParams(this.formattingRequestType,async(e,t)=>this.provideFormatting(e,t)),await this.serverClient.onRequestWithParams(this.onTypeFormattingRequestType,async(e,t)=>this.provideOnTypeFormatting(e,t))}async provideFormatting(e,t){try{let n=gd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await gd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent(),u=this.countLines(c),l=this.getLastLineLength(c),d=new gd.Range(new gd.Position(0,0),new gd.Position(u,l)),f=await gd.commands.executeCommand("vscode.executeFormatRangeProvider",a,d,e.options);if(f===void 0)return this.emptyFormattingResponse;let m=this.sanitizeTextEdits(i,f);return new Bx(m)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}async provideOnTypeFormatting(e,t){try{let n=gd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await gd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=await gd.commands.executeCommand("vscode.executeFormatOnTypeProvider",a,e.position,e.ch,e.options);if(c===void 0)return this.emptyFormattingResponse;let u=this.sanitizeTextEdits(i,c);return new Bx(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}sanitizeTextEdits(e,t){let n=e.htmlDocument.getContent(),i=this.countLines(n),o=Array();for(let s of t){if(s.range.end.line>i||s.range.start.line>i){let c=this.getLastLineLength(n),u=new gd.Position(i,c),l=s.range.start,d=s.range.end;s.range.start.line>i&&(l=u),s.range.end.line>i&&(d=u);let f=new gd.Range(l,d);s=new gd.TextEdit(f,s.newText)}let a=pM(s);o.push(a)}return o}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var hD=be(require("vscode"));var I$=class extends _c{async provideHover(e,t,n){let i=await this.getProjection(e,t,n);if(!i)return;let o=await hD.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=await this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||i.hostDocumentVersion!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new hD.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new hD.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new hD.MarkdownString(d);c.push(f)}return new hD.Hover(c,a.ranges[0])}};var dS=be(require("vscode"));var nf=be(require("vscode"));var xM=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorHtmlPreview";panel;htmlContent;async show(){this.panel?this.panel.reveal(nf.ViewColumn.Two):(this.panel=nf.window.createWebviewPanel(r.viewType,nf.l10n.t("Razor HTML Preview"),nf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===5||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(nf,nf.l10n.t("Unexpected error when attaching to HTML preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.htmlContent)return;await nf.env.clipboard.writeText(this.htmlContent),ya(nf,nf.l10n.t("Razor HTML copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=io(e.uri),n=io(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=nf.l10n.t("Report a Razor issue"),s=nf.l10n.t("Host document file path"),a=nf.l10n.t("Virtual document file path"),c=nf.l10n.t("Copy Html");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p>
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var rh=be(require("vscode"));Qie();bW();var k$=class{constructor(e,t){this.documentManager=e;this.serviceClient=t}timeout=void 0;enabled=!1;htmlLanguageService;register(){this.htmlLanguageService=Xie();let e=rh.workspace.onDidChangeTextDocument(async n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=rh.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),rh.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=rh.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===hs.id&&rh.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}async onDidChangeTextDocument(e,t){if(!this.enabled||t.length===0||!rh.window.activeTextEditor||rh.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((await this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==2)return}let u=e.version;this.timeout=setTimeout(async()=>{if(!this.enabled)return;let l=rh.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new rh.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let m=await this.documentManager.getActiveDocument();m&&(a=m.htmlDocument.getContent());let _=g0.create(e.uri.fsPath,e.languageId,e.version,a),T=this.htmlLanguageService.parseHTMLDocument(_),x=this.htmlLanguageService.doTagComplete(_,f,T);if(!x)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?await l.insertSnippet(new rh.SnippetString(x),M.map(A=>A.active)):await l.insertSnippet(new rh.SnippetString(x),f)},75)}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};var A$=class{projectionProvider;htmlTagCompletionProvider;htmlPreviewPanel;constructor(e,t,n,i){this.projectionProvider=new uS(e,n,i),this.htmlTagCompletionProvider=new k$(e,t),this.htmlPreviewPanel=new xM(e)}register(){let e=[dS.workspace.registerTextDocumentContentProvider(uS.scheme,this.projectionProvider),dS.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return dS.window.registerWebviewPanelSerializer&&e.push(dS.window.registerWebviewPanelSerializer(xM.viewType,{deserializeWebviewPanel:async t=>{await this.htmlPreviewPanel.revive(t)}})),dS.Disposable.from(...e)}};var tFe=be(require("vscode"));var L$=class extends _c{async provideImplementation(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===2||i.languageKind===3)return;let o=await tFe.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position),s=new Array;for(let a of o)if(aS(a.uri)){let c=await Ev.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var M$=class{async register(e){e.env.appName.endsWith("Insiders")}};var OM=be(require("vscode"));var rFe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],N$=class{register(){return OM.languages.setLanguageConfiguration(hs.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${rFe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:OM.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${rFe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:OM.IndentAction.Indent}}]})}};var Qoe=be(require("child_process")),aFe=require("events"),ip=be(require("vscode")),U$=be(_U());var Goe=be(require("fs")),Yoe=be(require("os")),Koe=be(require("path")),nFe=be(require("vscode"));function F$(r,e,t){let n=eRt(e),i=r.workspace.getConfiguration("razor.languageServer"),o=i.get("debug"),s=!Fa()&&r.workspace.getConfiguration().get("dotnet.server.useOmnisharp"),a=r.workspace.getConfiguration("csharp.experimental.debug").get("hotReload"),c=i.get("forceRuntimeCodeGeneration");c===null&&a&&(t.logMessage('Hot Reload is enabled so treating "razor.languageServer.forceRuntimeCodeGeneration" as true. To override this set "razor.languageServer.forceRuntimeCodeGeneration" to true or false.'),c=a);let u=i.get("suppressLspErrorToasts"),l=i.get("useNewFormattingEngine");return{serverPath:n,debug:o,outputChannel:t.outputChannel,usingOmniSharp:s,forceRuntimeCodeGeneration:c,suppressErrorToasts:u,useNewFormattingEngine:l}}function eRt(r){let e="rzls",t="";tRt()&&(t=".exe"),rRt()&&(t=".dll");let n=`${e}${t}`,i=Koe.join(r,n);if(Goe.existsSync(i)||(n=`${e}.dll`,i=Koe.join(r,n)),!Goe.existsSync(i))throw new Error(nFe.l10n.t("Could not find Razor Language Server executable '{0}' within directory",i));return i}function tRt(){return!!Yoe.platform().match(/^win/)}function rRt(){return Yoe.platform()==="darwin"}var cFe=require("crypto");var iFe=be(Uw()),q$=class extends iFe.LanguageClient{razorOptions;constructor(e,t,n,i,o,s){super(e,t,n,i,s),this.razorOptions=o}handleFailedRequest(e,t,n,i,o){return this.razorOptions.suppressErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}};var Joe=be(require("vscode")),oFe=be(Uw());async function j$(r,e,t,n){let i=await n(r,e,t);return sFe(i),i}async function z$(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(sFe),t(o)})}function sFe(r){r?.kind===oFe.vsdiag.DocumentDiagnosticReportKind.full&&ls.reportInformationAsHint&&r.items.forEach(e=>{e.severity===Joe.DiagnosticSeverity.Information&&(e.severity=Joe.DiagnosticSeverity.Hint)})}var Xoe={ServerStop:"ServerStop"},H$=class{constructor(e,t,n,i,o,s,a,c){this.vscodeType=e;this.languageServerDir=t;this.razorTelemetryReporter=n;this.vscodeTelemetryReporter=i;this.telemetryExtensionDllPath=o;this.env=s;this.dotnetExecutablePath=a;this.logger=c;this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new aFe.EventEmitter}clientOptions;serverOptions;client;onStartListeners=[];onStartedListeners=[];eventBus;isStarted;startHandle;stopHandle;get initializeResult(){return this.client.initializeResult}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Xoe.ServerStop,e),new ip.Disposable(()=>this.eventBus.removeListener(Xoe.ServerStop,e))}async start(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===U$.State.Starting&&o.newState===U$.State.Stopped?(n++,n===5&&t(ip.l10n.t("Server failed to start after retrying 5 times."))):o.newState===U$.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),await this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0,this.logger.languageServerClient=this;for(let o of this.onStartListeners)await o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)await o();i.dispose()}catch(o){Wi(ip,ip.l10n.t("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue.")),this.razorTelemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle}async sendRequest(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to send requests while server is not started."));return this.client.sendRequest(e,t)}async sendNotification(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to send requests while server is not started."));return this.client.sendNotification(e,t)}async onRequestWithParams(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to bind on request logic while server is not started."));this.client.onRequest(e,t)}onNotification(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to bind on notification logic while server is not started."));this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Xoe.ServerStop)}async stop(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error(ip.l10n.t("Cannot stop Razor Language Server as it is already stopped."))),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&await this.client.stop(),this.dispose(),e()}catch(n){Wi(ip,ip.l10n.t("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue.")),t(n)}return this.stopHandle}async connectNamedPipe(e){await this.start(),await this.sendNotification("razor/namedPipeConnect",{pipeName:e})}setupLanguageServer(){let e=F$(this.vscodeType,this.languageServerDir,this.logger);this.clientOptions={outputChannel:e.outputChannel,documentSelector:[{language:hs.id,pattern:hs.globbingPattern}],middleware:{provideDiagnostics:j$,provideWorkspaceDiagnostics:z$}};let t=[];this.logger.logMessage(`Razor language server path: ${e.serverPath}`),t.push("--logLevel"),t.push(this.logger.logLevelForRZLS.toString()),this.razorTelemetryReporter.reportTraceLevel(this.logger.logLevel),e.debug&&(this.razorTelemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),t.push("--debug")),e.usingOmniSharp||(t.push("--DelegateToCSharpOnDiagnosticPublish"),t.push("true"),t.push("--UpdateBuffersForClosedDocuments"),t.push("true"),t.push("--SingleServerCompletionSupport"),t.push("true"),t.push("--ForceRuntimeCodeGeneration"),t.push(e.forceRuntimeCodeGeneration?"true":"false"),e.useNewFormattingEngine&&(t.push("--UseNewFormattingEngine"),t.push("true")),this.telemetryExtensionDllPath.length>0&&(t.push("--telemetryLevel",this.vscodeTelemetryReporter.telemetryLevel),t.push("--sessionId",nRt()),t.push("--telemetryExtensionPath",this.telemetryExtensionDllPath)));let n,i={detached:!0,windowsHide:!0,env:this.env};if(e.serverPath.endsWith(".dll")){let o=[e.serverPath].concat(t);this.logger.logMessage(`Server arguments ${o.join(" ")}`),n=async()=>Qoe.spawn(this.dotnetExecutablePath,o,i)}else this.logger.logMessage(`Server arguments ${t.join(" ")}`),n=async()=>Qoe.spawn(e.serverPath,t,i);this.serverOptions=n,this.client=new q$("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions,e)}};function nRt(){let r=ip.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,cFe.randomUUID)():r}var uFe=be(require("vscode"));var B$=class{constructor(e,t){this.position=e;this.uri=t.toString()}uri};var W$=class{constructor(e,t,n){this.kind=e;this.projectedRanges=t;this.razorDocumentUri=n.toString()}razorDocumentUri};var $$=class{constructor(e){this.serverClient=e}async languageQuery(e,t){await this.ensureStarted();let n=new B$(e,t),i=await this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new uFe.Position(i.position.line,i.position.character),i}async mapToDocumentRanges(e,t,n){await this.ensureStarted();let i=[];for(let c of t){let u=Nx(c);i.push(u)}let o=new W$(e,i,n),s=await this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=ZW(s.ranges[0]);a.push(u)}return s.ranges=a,s}async ensureStarted(){await this.serverClient.start()}};var G$=be(require("fs")),K$=be(require("path")),Ol=be(require("vscode")),V$=class{static logName="Razor Log";verboseEnabled;messageEnabled;outputChannel;languageServerClient;onLogEmitter;constructor(e){this.outputChannel=Ol.window.createOutputChannel(Ol.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=e.create(),this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case Ol.LogLevel.Off:return 0;case Ol.LogLevel.Trace:return 1;case Ol.LogLevel.Debug:return 2;case Ol.LogLevel.Info:return 3;case Ol.LogLevel.Warning:return 4;case Ol.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logVerbose(e){this.verboseEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel(),this.languageServerClient&&await this.languageServerClient.sendNotification("razor/updateLogLevel",{logLevel:this.logLevelForRZLS})}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=iRt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${Ol.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){Ol.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},Ol.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.verboseEnabled=this.outputChannel.logLevel>=Ol.LogLevel.Trace,this.messageEnabled=this.outputChannel.logLevel>=Ol.LogLevel.Info}};function iRt(){let r=oRt(__dirname,"package.json");return JSON.parse(G$.readFileSync(r).toString())}function oRt(r,e){let t=r;for(;t;){let n=K$.join(t,e);if(G$.existsSync(n))return n;let i=K$.dirname(t);t=i===r?void 0:i}throw new Error(Ol.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}var J$=be(require("vscode"));var Y$=class extends _c{async provideReferences(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind===3)return;let s=await J$.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===2&&r$(c.uri)){let u=_0(c.uri);a.push(new J$.Location(u,c.range))}else if(aS(c.uri)){let u=await Ev.remapGeneratedFileLocation(c,this.serviceClient,this.logger,i);if(u===void 0)continue;a.push(u)}else a.push(c);return a}};var lFe=be(require("vscode"));var X$=class extends _c{constructor(e,t,n,i){super(e,t,n,i)}async prepareRename(e,t,n){let i=await this.getProjection(e,t,n);return!i||i.languageKind!==1?null:e.getWordRangeAtPosition(t)}async provideRenameEdits(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind!==1)return;let s=await lFe.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n);return await Ev.remapGeneratedFileWorkspaceEdit(s,this.serviceClient,this.logger,i)}};var Wx=be(require("vscode")),dFe=be(Xu());var pD=class{constructor(e,t){this.tokens=e;this.hostDocumentSyncVersion=t}};var Q$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange";semanticTokensRequestType=new dFe.RequestType(r.getSemanticTokensRangeEndpoint);emptyTokensResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.semanticTokensRequestType,async(e,t)=>this.getSemanticTokens(e,t))}async getSemanticTokens(e,t){try{let n=Wx.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning semantic tokens information.`),new pD(this.emptyTokensResponse,e.requiredHostDocumentVersion);let o=await Wx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.requiredHostDocumentVersion,t))return new pD(this.emptyTokensResponse,e.requiredHostDocumentVersion);if(e.requiredHostDocumentVersion==1){let c=e.ranges[0].end.line;if(this.countLines(i.csharpDocument.getContent())<c)return new pD(this.emptyTokensResponse,-1)}let a=await Wx.commands.executeCommand("vscode.provideDocumentRangeSemanticTokens",i.csharpDocument.uri,e.ranges[0]);return new pD(Array.from(a.data),e.requiredHostDocumentVersion)}catch(n){this.logger.logWarning(`${r.getSemanticTokensRangeEndpoint} failed with ${n}`)}return new pD(this.emptyTokensResponse,e.requiredHostDocumentVersion)}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}};var fFe=be(require("vscode"));var Z$=class extends _c{async provideSignatureHelp(e,t,n){let i=await this.getProjection(e,t,n);if(i)return await fFe.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)}};function $x(r,e,t){return{type:1,eventName:r,properties:e,measures:t}}function hFe(r,e,t,n){return{type:78,eventName:r,properties:e,measures:t,errorProps:n}}var pFe=be(require("vscode")),e3=class{constructor(e){this.eventStream=e;this.eventStream.post(this.razorExtensionActivated)}razorExtensionActivated=$x("VSCode.Razor.RazorExtensionActivated");debugLanguageServerEvent=$x("VSCode.Razor.DebugLanguageServer");workspaceContainsRazorEvent=$x("VSCode.Razor.WorkspaceContainsRazor");buffersOutOfSyncEvent=$x("VSCode.Razor.BuffersOutOfSync");reportedWorkspaceContainsRazor=!1;reportTraceLevel(e){let t=$x("VSCode.Razor.TraceLevel",{trace:pFe.LogLevel[e]});this.eventStream.post(t)}reportBuffersOutOfSync(){this.eventStream.post(this.buffersOutOfSyncEvent)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=hFe(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};var Vx=be(require("vscode")),mFe=be(an());var t3=class r extends _c{constructor(t,n,i,o,s){super(t,o,i,s);this.documentSynchronizer=t;this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorPullDiagnosticsCommand="razor/csharpPullDiagnostics";diagnosticRequestType=new mFe.RequestType(r.razorPullDiagnosticsCommand);async register(){await this.serverClient.onRequestWithParams(this.diagnosticRequestType,async(t,n)=>this.getDiagnostic(t,n))}async getDiagnostic(t,n){if(!this.documentManager.roslynActivated)return;let i=Vx.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),o=await Vx.workspace.openTextDocument(i),s=await this.documentManager.getDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s.csharpDocument,t.identifier.version,n))return;let c=s.csharpDocument.uri,u={textDocument:{uri:To.serialize(c)}};return await Vx.commands.executeCommand(Coe,u)}};var n3=be(require("vscode")),i3=be(an());var IM=class{constructor(e,t){this.textDocument=e;this.textEdit=t}};var r3=class r extends _c{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorSimplifyMethodCommand="razor/simplifyMethod";simplifyMethodRequestType=new i3.RequestType(r.razorSimplifyMethodCommand);async register(){await this.serverClient.onRequestWithParams(this.simplifyMethodRequestType,async(t,n)=>this.getSimplifiedMethod(t,n))}async getSimplifiedMethod(t,n){if(!this.documentManager.roslynActivated)return;let i=t.identifier.textDocumentIdentifier;if(t.requiresVirtualDocument){let a=n3.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),u=(await this.documentManager.getDocument(a)).csharpDocument.uri;i=i3.TextDocumentIdentifier.create(To.serialize(u))}let o=new IM(i,t.textEdit);return await n3.commands.executeCommand(Roe,o)}};var kM=be(require("path")),Gx=be(require("vscode"));var gFe=require("fs");var vFe=require("fs/promises");var yFe="9",_Fe="0",sRt="1",Zoe=`${yFe}.${_Fe}.${sRt}`,Kx=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;this.channel.appendLine(`Locating .NET runtime version ${Zoe}`);let e=await this.getArchitectureFromTargetPlatform()??process.arch,t={acquireContext:{version:Zoe,requestingExtensionId:tg,architecture:e,mode:"runtime"},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},n=await Gx.commands.executeCommand("dotnet.findPath",t);n===void 0&&(this.channel.appendLine(`Did not find .NET ${Zoe} on path, falling back to acquire runtime via ${VE}`),n=await this.acquireDotNetProcessDependencies());let i=n.dotnetPath,o={version:"",path:i,env:this.getEnvironmentVariables(i)};return this.hostInfo=o,o}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=kM.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",ls.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="2",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=kM.join(ls.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(){let e=`${yFe}.${_Fe}`,t=await Gx.commands.executeCommand("dotnet.acquireStatus",{version:e,requestingExtensionId:tg});if(t===void 0&&(await Gx.commands.executeCommand("dotnet.showAcquisitionLog"),t=await Gx.commands.executeCommand("dotnet.acquire",{version:e,requestingExtensionId:tg}),!t))throw new Error("Could not resolve the dotnet path!");return t}async acquireDotNetProcessDependencies(){let e=await this.acquireRuntime(),t=[this.getServerPath(this.platformInfo)];return await Gx.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:e.dotnetPath,arguments:t}),e}async getArchitectureFromTargetPlatform(){let e=kM.join(this.extensionPath,".vsixmanifest");if(!(0,gFe.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,vFe.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)throw new Error(`Could not find extension target platform in ${e}`);let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var bFe=be(require("vscode")),wFe=be(Xu());var o3=class r extends _c{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorFormatNewFileCommand="razor/formatNewFile";formatNewFileRequestType=new wFe.RequestType(r.razorFormatNewFileCommand);async register(){await this.serverClient.onRequestWithParams(this.formatNewFileRequestType,async(t,n)=>this.getFormatNewFile(t,n))}async getFormatNewFile(t,n){return this.documentManager.roslynActivated?await bFe.commands.executeCommand(xoe,t):void 0}};var Yx=be(require("vscode")),a3=be(an());var s3=class r{constructor(e,t,n,i){this.serverClient=e;this.documentManager=t;this.documentSynchronizer=n;this.logger=i}static provideInlayHint="razor/inlayHint";InlayHintRequestType=new a3.RequestType(r.provideInlayHint);emptyInlayHintResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.InlayHintRequestType,async(e,t)=>this.provideInlayHints(e,t))}async provideInlayHints(e,t){try{let n=Yx.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyInlayHintResponse;if(!this.documentManager.roslynActivated)return this.emptyInlayHintResponse;let o=await Yx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.identifier.version,t))return this.emptyInlayHintResponse;let a=To.serialize(i.csharpDocument.uri),c={textDocument:a3.TextDocumentIdentifier.create(a),range:e.projectedRange};return await Yx.commands.executeCommand(Ioe,c)}catch(n){this.logger.logWarning(`${r.provideInlayHint} failed with ${n}`)}return this.emptyInlayHintResponse}};var u3=be(require("vscode")),SFe=be(an());var c3=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static resolveInlayHint="razor/inlayHintResolve";InlayHintResolveRequestType=new SFe.RequestType(r.resolveInlayHint);async register(){await this.serverClient.onRequestWithParams(this.InlayHintResolveRequestType,async(e,t)=>this.resolveInlayHint(e,t))}async resolveInlayHint(e,t){try{let n=u3.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0);return await this.documentManager.getDocument(n)===void 0?null:await u3.commands.executeCommand(koe,e.inlayHint)}catch(n){this.logger.logWarning(`${r.resolveInlayHint} failed with ${n}`)}return null}};var CFe=be(require("fs")),ese=be(require("path")),DFe={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorDevKit:{defaultFolderName:".razorDevKit",optionName:"razorDevKit",componentDllPaths:["Microsoft.VisualStudio.DevKit.Razor.dll"]},razorExtension:{defaultFolderName:".razorExtension",optionName:"razorExtension",componentDllPaths:["Microsoft.VisualStudioCode.RazorExtension.dll"]}};function Jx(r,e){let t=DFe[r],n=EFe(t,e),i=t.componentDllPaths.map(o=>ese.join(n,o));for(let o of i)if(!CFe.existsSync(o))throw new Error(`Component DLL not found: ${o}`);return i}function TFe(r,e){let t=DFe[r];return EFe(t,e)}function EFe(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return ese.join(__dirname,"..",r.defaultFolderName)}var kse=be(o2e()),zM=require("fs"),D2e=require("path"),Ase=require("url"),hS=be(require("vscode")),F3=be(_2e());var jM=".NET Application Server",N3="Debug Blazor Web Assembly in Browser";var b2e=be(jZ());var w2e=r=>r.startsWith(N3)||r===jM,S2e=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function C2e(r,e,t){t&&(typeof t=="number"?LOt(r,e,t):await MOt(r,e,t))}function LOt(r,e,t){w2e(r.name)&&S2e(t,e)}async function MOt(r,e,t){if(!w2e(r.name))return;let n=[];try{n=await(0,b2e.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&S2e(i.pid,e)}var aO=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=hS.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,Ase.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,Ase.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,zM.readFileSync)((0,D2e.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:jM,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await C2e(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:N3,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[jM]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=hS.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:hS.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=hS.l10n.t("Ignore");Wi(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new F3.EdgeBrowserFinder(process.env,zM.promises,kse.default).findAll()).length>0)return ya(hS,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new F3.ChromeBrowserFinder(process.env,zM.promises,kse.default).findAll()).length>0)return ya(hS,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Wi(hS,hS.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};async function T2e(r,e,t,n,i,o,s,a=!1){let c=new e3(n),u={create:()=>new q3.EventEmitter},l=new V$(u);try{let d=F$(r,t,l),m=await new Kx(s,()=>d.serverPath,l.outputChannel,e.extensionPath).getHostExecutableInfo(),_="";if(o&&(await FOt(m.env,o,l),q3.env.isTelemetryEnabled)){let Ne=Jx("razorDevKit",void 0);Ne.length!==1?l.logError("Failed to find Razor DevKit telemetry extension path.",void 0):_=Ne[0]}let T=new H$(r,t,c,i,_,m.env,m.path,l),x=new $$(T),M=new S$(T,l,c,s),A=new C$(M,l);ZNe(M,c);let U=new N$,ne=new a$(M,u,l),de=new A$(M,x,u,l),ye=[],V=new p$(r,M,l),W=new e$(T,l),ee=new XW(M,A,T,l),Se=new QW(M,A,T,ne.projectionProvider,l);new fD(M,l).register(),T.onStart(async()=>{let Ne=new Q$(M,A,T,l),ue=new s$(M,T,l),De=new T$(M,A,T,l),we=new x$(T,M,l),xe=new s3(T,M,A,l),Me=new c3(T,M,l),$e=new O$(M,A,T,l),Ct=new Z$(A,M,x,l),ze=new c$(A,M,x,l),st=new L$(A,M,x,l),at=new I$(A,M,x,l),tt=new n$(A,M,x,l),fr=new X$(A,M,x,l),Lr=new Y$(A,M,x,l),zr=new E$(A,M,x,l),cr=new t3(A,T,x,M,l),xt=new r3(A,T,x,M,l),hr=new o3(A,T,x,M,l);ye.push(U.register(),r.languages.registerSignatureHelpProvider(hs.id,Ct,"(",","),r.languages.registerDefinitionProvider(hs.id,ze),r.languages.registerImplementationProvider(hs.id,st),r.languages.registerHoverProvider(hs.documentSelector,at),r.languages.registerReferenceProvider(hs.id,Lr),r.languages.registerCodeLensProvider(hs.id,tt),r.languages.registerRenameProvider(hs.id,fr),r.languages.registerDocumentHighlightProvider(hs.id,zr),M.register(),ne.register(),de.register(),A.register(),V.register(),W.register()),a&&await new M$().register(r),await Promise.all([ue.register(),De.register(),we.register(),xe.register(),Me.register(),$e.register(),Ne.register(),cr.register(),ee.register(),Se.register(),xt.register(),hr.register()])});let ce=T.onStop(()=>{ye.forEach(Ne=>Ne.dispose()),ye.length=0}),qe=new aO(l,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",qe)),T.onStarted(async()=>{await M.initialize()}),await NOt(r,T,l,e),e.subscriptions.push(T,ce,l)}catch(d){l.logError("Failed when activating Razor VSCode.",d),c.reportErrorOnActivation(d)}}async function NOt(r,e,t,n){if((await r.workspace.findFiles(hs.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(hs.globbingPattern),s=async()=>{a.dispose(),c.dispose(),await e.start()},a=o.onDidCreate(async()=>s()),c=r.workspace.onDidOpenTextDocument(async u=>{u.languageId===hs.id&&await s()});n.subscriptions.push(a,c)}else await e.start()}async function FOt(r,e,t){try{let n=await e.activate();if(!n.setupTelemetryEnvironmentAsync)return;await n.setupTelemetryEnvironmentAsync(r)}catch(n){t.logError("Failed to setup DevKit environment for telemetry.",n)}}async function j3(r,e,t,n,i,o,s){let c=C0.workspace.getConfiguration("razor").get("languageServer.directory",""),u=c.length>0?c:s?Lse.join(e,".razoromnisharp"):Lse.join(e,".razor");E2e.existsSync(u)?s?await P2e.activate(C0,r,u,t,!1):await T2e(C0,r,u,t,n,i,o,!1):Vh(C0,C0.l10n.t("Cannot load Razor language server because the directory was not found: '{0}'",u))}function R2e(r,e,t,n,i,o,s,a){let c=cO.window.createOutputChannel(cO.l10n.t(".NET Test Log")),u=cO.window.createOutputChannel(cO.l10n.t(".NET NuGet Restore")),l=POe(r,e,t,n,i,o,c,u,s),d;gy.razorDevMode||(d=j3(r,r.extension.extensionPath,i,s,void 0,e,!0));let f=a(l);return{initializationFinished:async()=>{await(await l).server.waitForInitialize(),await f,d&&await d},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var ZHe=be(require("vscode"));var x2e=be(require("vscode"));var z3=class{onServerStateChangeEmitter=new x2e.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var GO=be(require("vscode")),sle=be(require("fs")),ale=be(require("path"));var Nse=be(require("vscode"));var pS=be(require("vscode"));function O2e(r,e){Fa()||r.subscriptions.push(pS.commands.registerCommand("dotnet.openSolution",async()=>jOt(e)))}async function jOt(r){if(!pS.workspace.workspaceFolders)return;let t=(await pS.workspace.findFiles("**/*.{sln,slnf}")).map(E2),n=await pS.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=pS.Uri.file(n.target);return await r.openSolution(i),i}}var wc=be(require("vscode"));function I2e(r,e,t){r.subscriptions.push(wc.commands.registerCommand("roslyn.client.peekReferences",zOt)),r.subscriptions.push(wc.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>UOt(n,i,o,s,t))),r.subscriptions.push(wc.commands.registerCommand("dotnet.restartServer",async()=>HOt(e)))}async function zOt(r,e){let t=To.deserialize(r),n=new wc.Position(e.line,e.character),i=await wc.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await wc.commands.executeCommand("editor.action.showReferences",t,n,i)}async function UOt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=To.deserialize(r.uri),a=await wc.workspace.openTextDocument(s);a===void 0&&Mse(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await wc.window.showTextDocument(a),c===void 0&&Mse(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new wc.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new wc.Selection(u.start,u.end),l=await c.insertSnippet(new wc.SnippetString(e.newText));else{let f=new wc.WorkspaceEdit,m=wc.TextEdit.replace(u,e.newText);if(f.set(a.uri,[m]),l=await wc.workspace.applyEdit(f),l&&n>=0){let _=a.positionAt(n);c.selections=[new wc.Selection(_,_)]}}if(l)return}l||Mse(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function Mse(r,e){throw r.show(),r.error(e),new Error(e)}async function HOt(r){await r.restart()}function k2e(r,e,t,n){BOt(r,e,t,n),O2e(r,e),I2e(r,e,n)}function BOt(r,e,t,n){r.subscriptions.push(Nse.commands.registerCommand("csharp.reportIssue",async()=>nL(r.extension.packageJSON.version,Wp,!1,t))),r.subscriptions.push(Nse.commands.registerCommand("csharp.showOutputWindow",async()=>n.show()))}var DN=be(require("vscode"));var A2e=be(require("vscode"));var Sc=be(an()),Il=be(Xu()),Fse;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Fse||={});var UM;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(UM||={});var qse;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(qse||={});var jse;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(jse||={});var zse;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(zse||={});var Use;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(Use||={});var Hse;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(Hse||={});var Bse;(n=>(n.method="textDocument/runTests",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Sc.ProtocolRequestType(n.method)))(Bse||={});var Wse;(n=>(n.method="workspace/attachDebugger",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.RequestType(n.method)))(Wse||={});var $se;(n=>(n.method="solution/open",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.NotificationType(n.method)))($se||={});var Vse;(n=>(n.method="project/open",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.NotificationType(n.method)))(Vse||={});var Gse;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(Gse||={});var Kse;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Kse||={});var Yse;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Sc.ProtocolRequestType(n.method)))(Yse||={});var Jse;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(Jse||={});var Xse;(n=>(n.method="workspace/_roslyn_projectNeedsRestore",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.RequestType(n.method)))(Xse||={});var Qse;(n=>(n.method="copilot/_related_documents",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Sc.ProtocolRequestType(n.method)))(Qse||={});var Zse;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=Sc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Zse||={});var eae;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=Sc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(eae||={});var U3=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:To.serialize(e)},n;try{n=await this.server.sendRequest(Fse.type,t,new A2e.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await R4(n,async o=>{let s=t2(o.projectPath),a=await r2(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:n2(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var tHe=be(sC()),hm=be(require("vscode"));var HO=be(Gue());var uh=be(Gue()),Yy=class{static solutionSnapshotProviderRegistration=Object.freeze(new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var Kue=class extends HO.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new HO.ServiceRegistration(HO.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},ZV;function Yue(){return ZV||(ZV=new Kue,ZV.registerExternalServices(Yy.dotnetDebugConfigurationService.moniker)),ZV}function ZUe(){return Yue().getFullAccessServiceBroker()}var BO=class extends Error{},e4=class extends Error{constructor(){super()}},CN=class extends Error{},t4=class extends Error{},eHe="${workspaceFolder}";function VLt(r,e){if(r.startsWith(eHe)){let t=r.substring(eHe.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var r4=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(hm.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(hm.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=VLt(i,e.uri.fsPath));let o=await ZUe()?.getProxy(Yy.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new t4}catch(s){if(s instanceof t4){if(!i)throw new BO(hm.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof e4)return;throw s}}finally{o?.dispose()}}else throw new Error(hm.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new e4;case"internalError":case"userError":throw new BO(i.message);default:throw new CN(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new BO(hm.l10n.t("No launchable target found for '{0}'",e)):new BO(hm.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=hm.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await hm.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new CN("Multiple launch targets (>2) is not yet supported."):new CN("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(hm.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new XC(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await tHe.ensureDir(a.vscodeFolder);let c=await tL(a);await rL(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(hm.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(hm.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(hm.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function rHe(r,e,t,n,i){let o=new U3(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(Fa()||await HU(r,o))});r.subscriptions.push(s);let a=new aR(o,n,i);r.subscriptions.push(DN.debug.registerDebugConfigurationProvider("dotnet",new r4(o,a))),r.subscriptions.push(DN.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push(DN.commands.registerCommand("dotnet.generateAssets",async c=>BU(o,c)))}var iHe=be(require("fs")),i4=be(require("path")),kl=be(require("vscode")),oHe=be(Uw());function sHe(r,e){if(Fa())return;let t=kl.window.createOutputChannel(kl.l10n.t(".NET Test Log"));r.subscriptions.push(kl.commands.registerCommand("dotnet.test.run",async n=>aHe(n,e,t))),r.subscriptions.push(kl.commands.registerCommand("dotnet.test.runTestsInContext",async()=>nHe(!1,e,t))),r.subscriptions.push(kl.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>nHe(!0,e,t)))}async function nHe(r,e,t){let n=kl.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:oHe.TextDocumentIdentifier.create(To.serialize(n.document.uri)),range:i,attachDebugger:r};return aHe(s,e,t)}var n4=!1;async function aHe(r,e,t){if(n4){Wi(kl,kl.l10n.t("Test run already in progress"));return}r.runSettingsPath=GLt(r.textDocument.uri,t),n4=!0,t.show(!0);let n;return await kl.window.withProgress({location:kl.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await kl.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(Bse.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{n4=!1},()=>{n4=!1}),n}function GLt(r,e){let t=us.runSettingsPath;if(t.length===0)return;let n=t;if(!i4.isAbsolute(t)){let i=kl.workspace.getWorkspaceFolder(kl.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=i4.join(i.uri.fsPath,t)}if(!iHe.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var $O=be(require("vscode"));function cHe(r){return tH(r,{getRelevantOptions:()=>({changedCommonOptions:nq,changedLanguageServerOptions:Hge,changedOmnisharpOptions:[]}),handleOptionChanges(n){KLt(n)}})}function KLt(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:$O.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){ya($O,$O.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=$O.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");ya($O,t,e)}var Av=be(require("vscode"));var uHe=be(Tz());function lHe(r,e,t){r.subscriptions.push(Av.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>YLt(e,n,t)))}async function Jue(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await Av.window.showQuickPick(r.FixAllFlavors,{placeHolder:Av.l10n.t("Pick a fix all scope")});await Av.window.withProgress({location:Av.ProgressLocation.Notification,title:Av.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest(Kse.type,s,o);if(a.edit){let l=await(0,uHe.createConverter)(d=>To.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await Av.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function YLt(r,e,t){e&&await Jue(e,r,t)}var wg=be(require("vscode")),dHe=be(an()),fHe=be(Tz());function hHe(r,e,t){r.subscriptions.push(wg.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>JLt(e,n,t)))}async function JLt(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=XLt(i),s=await wg.window.showQuickPick(o,{placeHolder:wg.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await Jue(a.data,r,t);return}await wg.window.withProgress({location:wg.ProgressLocation.Notification,title:wg.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(dHe.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let _=await(0,fHe.createConverter)(T=>To.deserialize(T),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await wg.workspace.applyEdit(_)){let T="[roslyn.client.nestedCodeAction]",x="Failed to make am edit for completion.";throw t.show(),t.error(`${T} ${x}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function XLt(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=wg.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var sl=be(require("vscode"));var pHe=be(require("path"));var o4=!1;function mHe(r,e){if(Fa())return;let t=sl.window.createOutputChannel(sl.l10n.t(".NET NuGet Restore"));r.subscriptions.push(sl.commands.registerCommand("dotnet.restore.project",async n=>QLt(e,t))),r.subscriptions.push(sl.commands.registerCommand("dotnet.restore.all",async()=>Xue(e,t,[],!0))),e.registerOnRequest(Xse.type,async n=>{await Xue(e,t,n.projectFilePaths,!1)})}async function QLt(r,e){let t;try{t=await r.sendRequest0(Jse.type,new sl.CancellationTokenSource().token)}catch(o){if(o instanceof sl.CancellationError)return;throw o}let n=t.map(o=>{let s=pHe.default.basename(o);return{label:sl.l10n.t("Restore {0}",s),description:o}}),i=await sl.window.showQuickPick(n);i&&await Xue(r,e,[i.description],!0)}async function Xue(r,e,t,n){if(o4){Wi(sl,sl.l10n.t("Restore already in progress"));return}o4=!0,n&&e.show(!0);let i={projectFilePaths:t};await sl.window.withProgress({location:sl.ProgressLocation.Notification,title:sl.l10n.t("Restore"),cancellable:!0},async(o,s)=>{let a=u=>{u.message&&e.appendLine(u.message),o.report({message:u.stage})};o.report({message:sl.l10n.t("Sending request")}),await r.sendRequestWithProgress(Yse.type,i,async u=>a(u),s).then(u=>u.forEach(l=>a(l)),u=>e.appendLine(u))}).then(()=>{o4=!1},()=>{o4=!1})}var PS=be(require("vscode"));var gHe=be(an());function vHe(r,e){r.subscriptions.push(PS.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new Que(e)))}var Que=class{constructor(e){this.languageServer=e;e.registerOnNotification(eae.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),PS.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new PS.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new PS.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??PS.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(Zse.type,{textDocument:gHe.TextDocumentIdentifier.create(To.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var TN=be(require("vscode")),bHe=be(require("crypto"));var yHe="dotnet.server.suppressMiscellaneousFilesToasts",_He=new Set;function wHe(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||ls.suppressMiscellaneousFilesToasts||r.workspaceState.get(yHe,!1))return;let n=ZLt(t.uri.toString(!0));if(_He.has(n))return;_He.add(n);let i=TN.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=TN.l10n.t("Dismiss"),s={title:TN.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(yHe,!0)}};Vh(TN,i,o,s)})}function ZLt(r){return bHe.createHash("sha256").update(r).digest("hex")}var Db=be(require("vscode"));function s4(...r){return r.reduce((e,t)=>e.concat(t),[])}var a4=class{static createStatusItem(e,t){let n=s4(ls.documentSelector),i={command:"dotnet.openSolution",title:Db.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:Db.l10n.t("Restart server")},s=Db.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=Db.l10n.t("C# Workspace Status"),s.severity=Db.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?Db.LanguageStatusSeverity.Error:Db.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var Jy=be(require("vscode"));var c4=class{static createStatusItem(e,t){let n=s4(ls.documentSelector,hs.documentSelector),i=t._projectContextService,o=Jy.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=Jy.l10n.t("C# Project Context Status"),o.detail=Jy.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?Jy.LanguageStatusSeverity.Warning:Jy.LanguageStatusSeverity.Information:o.severity=Jy.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?Jy.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):Jy.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var vn=be(require("vscode")),z0=be(require("path")),nle=be(require("child_process"));jx();var $He=be(require("net")),Ja=be(Uw());var RHe=be(require("vscode"));var SHe=be(require("node:assert"));function CHe(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,SHe.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=eMt(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=Zue(o,"_"),l=Zue(c,"_");return a==""?u.concat(".",l):Zue(a,"_").concat(".",u,".",l)}return null}function eMt(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function Zue(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map(tMt);return n.concat(...i)}function tMt(r){return r.charAt(0).toUpperCase()+r.substring(1)}var THe=require("vscode"),DHe=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",PHe],["codeStyle.formatting.indentationAndSpacing.indentSize",rMt],["codeStyle.formatting.indentationAndSpacing.indentStyle",nMt],["codeStyle.formatting.newLine.endOfLine",iMt],["codeStyle.formatting.newLine.insertFinalNewline",oMt]]);function EHe(r){if(!DHe.has(r))return;let e=DHe.get(r),t=THe.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function PHe(r){return EN(r,"editor.tabSize")}function rMt(r){let e=EN(r,"editor.indentSize");return e=="tabSize"?PHe(r):e}function nMt(r){return EN(r,"editor.insertSpaces")?"space":"tab"}function iMt(r){let e=EN(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function oMt(r){return EN(r,"files.insertFinalNewline")}function EN(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function xHe(r){let e=[],t=RHe.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}let o=CHe(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=EHe(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var u4=class{constructor(e){this.Id=e}};var ile=require("crypto");var OHe=be(Uw());var l4=class extends OHe.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new po}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return ls.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var ele=be(require("vscode")),tle=be(an());function IHe(r){r.onNotification(Hse.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case tle.MessageType.Error:{Wi(ele,e.message,...t);break}case tle.MessageType.Warning:{Vh(ele,e.message,...t);break}default:{ya(ele,e.message,...t);break}}})}var Nu=be(require("vscode")),kHe=be(Uw());function AHe(r,e){let t=new Nu.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await Nu.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(!d.includes(f))return;let m=s.end.character-s.start.character,_=s.start.translate(0,o.text.length-m);t.cancel(),t=new Nu.CancellationTokenSource;try{await sMt(_,f,i.textDocument,a,r,t.token)}catch(T){if(T instanceof Nu.CancellationError)return;throw T}})}async function sMt(r,e,t,n,i,o){let s=aMt(),a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:s},c=await i.sendRequest(UM.type,a,o);if(c){let u=c._vs_textEdit,l=new Nu.Position(u.range.start.line,u.range.start.character),d=new Nu.Position(u.range.end.line,u.range.end.character),f=new Nu.SnippetString(u.newText),m=Nu,_=[new m.SnippetTextEdit(new Nu.Range(l,d),f)],T=new Nu.WorkspaceEdit;if(T.set(n,_),!Nu.workspace.applyEdit(T))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await Nu.commands.executeCommand(c.command.command,c.command.arguments)}}function aMt(){let r=Nu.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0;return kHe.FormattingOptions.create(e,t)}var f4=be(require("vscode"));var d4=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=f4.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=f4.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=ls.analyzerDiagnosticScope,o=ls.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var PN=require("vscode"),LHe=be(Uw()),MHe=be(an());jx();var h4=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new MHe.ProtocolRequestType(UM.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of PN.workspace.textDocuments)if(PN.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,LHe.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:lD(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&PN.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var Tb=be(require("vscode"));var NHe=be(an());var cMt=2*1e3,RN,p4,m4=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),Tb.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new Tb.EventEmitter;_source=new Tb.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=Tb.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp")return;this._source.cancel(),this._source=new Tb.CancellationTokenSource;let n=e.document.uri,i=!1;if(RN&&(clearTimeout(RN),RN=void 0),p4&&(n.toString()===p4.toString()&&(i=!0),p4=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){RN=setTimeout(()=>{RN=void 0,p4=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},cMt);return}}async getProjectContexts(e,t){let n=To.serialize(e),i=NHe.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(jse.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof Tb.CancellationError)return;throw o}}};var FHe=require("os");function qHe(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${FHe.EOL}${JSON.stringify(e)}`)),e}function g4(r){return typeof r=="string"||r instanceof String}var RS=be(require("vscode")),VO=be(an());var jHe=be(require("path")),zHe=be(sC()),rle="@microsoft/visualstudio.copilot.roslyn.languageserver",UHe="Microsoft.VisualStudio.Copilot.Roslyn.LanguageServer.dll",uMt="capabilities.json",HHe="roslyn/resolveContext",lMt="1",dMt=new VO.RequestType(HHe,VO.ParameterStructures.auto);function fMt(r){let e;if(RS.window.activeTextEditor?.document.uri.toString()===r.documentContext.uri?e=RS.window.activeTextEditor.document:e=RS.workspace.textDocuments.find(s=>s.uri.toString()===r.documentContext.uri),e===void 0)return;let t=e.positionAt(r.documentContext.offset),n=RS.Uri.parse(r.documentContext.uri);return{documentContext:{textDocument:VO.TextDocumentIdentifier.create(n.fsPath),position:t},completionId:r.completionId,timeBudget:r.timeBudget}}function BHe(r,e,t){let n=Fa();n&&n.activate().then(async i=>{try{let o=!1,s=i.components[rle];if(s){let l=jHe.default.join(s,uMt);(await(0,zHe.readJsonSync)(l))?.capabilities?.find(f=>f?.method===HHe&&f?.version===lMt)&&(o=!0)}if(!o){t.debug(`Failed to find compatible version of context provider from installed version of ${lw}.`);return}let a=RS.extensions.getExtension("github.copilot");if(!a){t.debug("Failed to find compatible version of GitHub Copilot extension installed. Skip registeration of Copilot context provider.");return}let u=await(await a.activate()).getContextProviderAPI("v1");if(!u){t.debug("Incompatible GitHub Copilot extension installed. Skip registeration of C# context providers.");return}r.subscriptions.push(u.registerContextProvider({id:tg,selector:[{language:"csharp"}],resolver:{resolve:async(l,d)=>{let f=fMt(l);if(!f)return[];let m=await e.sendRequest(dMt,f,d);return t.trace(`Copilot context provider resolved ${m.length} items`),m}}})),t.debug("Registration of C# context provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot context providers",o)}})}var xN,v4=class r{constructor(e,t,n,i,o,s){this._languageClient=e;this._platformInfo=t;this._context=n;this._telemetryReporter=i;this._languageServerEvents=o;this._channel=s;this.registerSetTrace(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let a=vn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new d4(a),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new m4(this,this._languageServerEvents),this.registerDynamicFileInfo(),this.registerDebuggerAttach(),IHe(this._languageClient),AHe(this,this._languageClient),this._onAutoInsertFeature=new h4(this._languageClient)}static provideRazorDynamicFileInfoMethodName="razor/provideDynamicFileInfo";static removeRazorDynamicFileInfoMethodName="razor/removeDynamicFileInfo";static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}registerSetTrace(){this._languageClient.onDidChangeState(async e=>{e.newState===Ja.State.Running&&await this.updateLogLevel()}),this._channel.onDidChangeLogLevel(async()=>{await this.updateLogLevel()})}async updateLogLevel(){if(this._languageClient.state===Ja.State.Running){let e=r.GetTraceLevel(this._channel.logLevel);await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)}),await this._languageClient.setTrace(e)}}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===Ja.State.Running?(this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}),this._telemetryReporter.sendTelemetryEvent("roslyn/clientServerReady")):e.newState===Ja.State.Stopped&&this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:vn.l10n.t("Server stopped")})})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===Ja.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(zse.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(Use.type,async t=>{e||(e=await Wp([])),QU(this._telemetryReporter,t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a,c){let u=Fa();u&&await u.activate();let l=async()=>await this.startServer(e,t,n,i,o,a),f={documentSelector:ls.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:c,outputChannel:a,uriConverters:{code2Protocol:To.serialize,protocol2Code:To.deserialize},middleware:{provideDiagnostics:j$,provideWorkspaceDiagnostics:z$,workspace:{configuration:T=>xHe(T)}}},m=new l4("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",l,f);m.registerProposedFeatures();let _=new r(m,e,n,i,s,a);return m.registerFeature(_._onAutoInsertFeature),await m.start(),_}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?z0.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?vn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=lD();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(qse.type,e);if(t)return new u4(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification($se.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification(Vse.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof Ja.ResponseError&&t.code===-32800?n=new vn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof vn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=us.defaultSolution;if(!xN&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(vn.Uri.file(e));else{let t=await vn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await vn.window.showInformationMessage(vn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:vn.l10n.t("Choose"),action:"open"},{title:vn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:vn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await vn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await vn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=vn.workspace.asRelativePath(i);await vn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await vn.workspace.findFiles("**/*.csproj","**/node_modules/**",qr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=Fa();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o,s){i.sendTelemetryEvent("roslyn/clientServerInitialize");let a=ole(e),c=await t.getHostExecutableInfo(),u=c.path;s.info("Dotnet path: "+u),i.sendTelemetryEvent("roslyn/acquiredRuntime");let l=[];us.waitForDebugger&&l.push("--debug");let d=this.GetServerLogLevel(s.logLevel);d&&l.push("--logLevel",d);let f=gy.razorServerPath===""?z0.join(n.extension.extensionPath,".razor"):gy.razorServerPath;l.push("--razorSourceGenerator",z0.join(f,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),l.push("--razorDesignTimePath",z0.join(f,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets")),Jx("razorExtension",ls).forEach(de=>o.push(de));let m=Fa();if(m){xN=!0;let de=vn.extensions.getExtension(iq);if(de){s.info("Activating C# + C# Dev Kit + C# IntelliCode...");let V=await this.getCSharpDevkitIntelliCodeExportArgs(de,n,s);l=l.concat(V)}else s.info("Activating C# + C# Dev Kit...");await vn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let ye=this.getCSharpDevKitExportArgs(o);l=l.concat(ye),await this.setupDevKitEnvironment(c.env,m,o,s)}else s.info("Activating C# standalone..."),await vn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),xN=!1;for(let de of o)l.push("--extension",de);s.debug(`Starting server at ${a}`),l.push("--telemetryLevel",i.telemetryLevel),l.push("--extensionLogDirectory",n.logUri.fsPath);let _=c.env;ls.useServerGC||(_.DOTNET_gcServer="0",s.debug("ServerGC disabled"));let T=qHe(s);_={..._,...T},s.trace(`Profiling environment variables: ${JSON.stringify(T)}`);let x,M={detached:!0,windowsHide:!0,env:_};if(a.endsWith(".dll")){let de=[a].concat(l);s.debug(`Server arguments ${de.join(" ")}`),x=nle.spawn(u,de,M)}else s.debug(`Server arguments ${l.join(" ")}`),x=nle.spawn(a,l,M);i.sendTelemetryEvent("roslyn/launchedServer"),x.stdout.on("data",de=>{let ye=g4(de)?de:de.toString(r.encoding);s.info("[stdout] "+ye)}),x.stderr.on("data",de=>{let ye=g4(de)?de:de.toString(r.encoding);s.error("[stderr] "+ye)}),x.on("exit",de=>{s.info(`Language server process exited with ${de}`)});let A=new Promise(de=>{(0,Ja.RAL)().timer.setTimeout(de,ls.startTimeout)}),U=new Promise((de,ye)=>{x.on("exit",ee=>{ee&&ee!==0&&ye(new Error("Language server process exited unexpectedly"))}),new Promise(ee=>{s.debug("waiting for named pipe information from server..."),x.stdout.on("data",Se=>{let ce=(g4(Se)?Se:Se.toString(r.encoding)).match(r.namedPipeKeyRegex);if(ce){let qe=JSON.parse(ce[0]);s.info("received named pipe information from server"),ee(qe)}})}).then(async ee=>new Promise((Se,se)=>{s.debug("attempting to connect client to server...");let ce=$He.createConnection(ee.pipeName,()=>{s.info("client has connected to server"),Se(ce)});ce.on("error",qe=>se(qe))})).then(de,ye)}),ne;if(us.waitForDebugger?ne=await U:ne=await Promise.race([U,A]),ne===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return i.sendTelemetryEvent("roslyn/clientConnected"),{reader:new Ja.SocketMessageReader(ne,r.encoding),writer:new Ja.SocketMessageWriter(ne,r.encoding)}}ProvideDyanmicFileInfoType=new Ja.RequestType(r.provideRazorDynamicFileInfoMethodName);registerDynamicFileInfo(){this._languageClient.onRequest(this.ProvideDyanmicFileInfoType,async e=>vn.commands.executeCommand(fD.provideDynamicFileInfoCommand,e)),this._languageClient.onNotification(r.removeRazorDynamicFileInfoMethodName,async e=>vn.commands.executeCommand(fD.removeDynamicFileInfoCommand,e)),vn.commands.registerCommand(fD.dynamicFileUpdatedCommand,async e=>{this.isRunning()?await this.sendNotification("razor/dynamicFileInfoChanged",e):this._channel.warn("Tried to send razor/dynamicFileInfoChanged while server is not running")})}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=vn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=vn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(Wse.type,async e=>{let n={...us.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,ile.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await vn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(vn.workspace.onDidOpenTextDocument(async e=>{if(e.languageId==="csharp")try{let t=await this.getBuildOnlyDiagnosticIds(Ja.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof vn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(vn.extensions.onDidChange(async()=>{let e=Fa();if(xN===void 0)return;let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"};if(e&&!xN){this._channel.info(`Detected new installation of ${lw}`);let n=`Detected installation of ${lw}. Would you like to relaunch the language server for added features?`;ya(vn,n,t)}}))}registerTelemetryChanged(){this._languageClient.addDisposable(vn.env.onDidChangeTelemetryEnabled(e=>{let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=vn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");ya(vn,n,t)}))}static getCSharpDevKitExportArgs(e){let t=[],n=Jx("roslynDevKit",ls);if(n.length>1)throw new Error("Expected only one devkit deps path");return t.push("--devKitDependencyPath",n[0]),t.push("--sessionId",hMt()),ls.enableXamlTools&&Jx("xamlTools",ls).forEach(i=>e.push(i)),t}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${iq} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=vn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",iq),a={title:vn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:vn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Wi(vn,s,a,c),[]}}static async setupDevKitEnvironment(e,t,n,i){let o=await t.activate();o.setupTelemetryEnvironmentAsync&&await o.setupTelemetryEnvironmentAsync(e);let s=o.components[rle];if(s){let a=z0.join(s,UHe);n.push(a),i.trace(`CSharp DevKit contributes Copilot langauge server extension: ${a}`)}}static GetServerLogLevel(e){switch(e){case vn.LogLevel.Trace:return"Trace";case vn.LogLevel.Debug:return"Debug";case vn.LogLevel.Info:return"Information";case vn.LogLevel.Warning:return"Warning";case vn.LogLevel.Error:return"Error";case vn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}static GetTraceLevel(e){switch(e){case vn.LogLevel.Trace:return Ja.Trace.Verbose;case vn.LogLevel.Debug:return Ja.Trace.Messages;case vn.LogLevel.Info:return Ja.Trace.Off;case vn.LogLevel.Warning:return Ja.Trace.Off;case vn.LogLevel.Error:return Ja.Trace.Off;case vn.LogLevel.Off:return Ja.Trace.Off;default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(Gse.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function hMt(){let r=vn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,ile.randomUUID)():r}var y4=be(require("vscode"));var VHe=be(an());function GHe(r,e,t){let n=y4.extensions.getExtension("github.copilot");if(!n){t.debug("Failed to find comnpatible version of GitHub Copilot extension installed. Skip registeration of Copilot related files provider.");return}n.activate().then(async i=>{try{let o={extensionId:tg,languageId:"csharp"};r.subscriptions.push(i.registerRelatedFilesProvider(o,async(s,a,c)=>{let u=(m,_,T)=>{if(_){for(let x of _)if(x._vs_file_paths)for(let M of x._vs_file_paths){let A=y4.Uri.file(M);A.fsPath!==m.fsPath&&T.push(A)}}},l=[],d=To.serialize(s),f=VHe.TextDocumentIdentifier.create(d);try{await e.sendRequestWithProgress(Qse.type,{_vs_textDocument:f,position:{line:0,character:0}},async m=>u(s,m,l),c)}catch(m){m instanceof Error&&t.appendLine(m.message)}return t.trace(`Copilot related files provider returned ${l.length} items`),{entries:l}})),t.debug("Registration of C# related files provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot related files providers",o)}})}var Lv,KHe;async function YHe(r,e,t,n,i,o){Lv=n,KHe=GO.window.createOutputChannel(GO.l10n.t("C# LSP Trace Logs")),i.sendTelemetryEvent("roslyn/clientInitialize");let s=new Kx(e,ole,n,r.extensionPath),a=u(),c=await v4.initializeAsync(e,s,r,i,a,o,Lv,KHe);return pMt(r,c,o),wHe(r,c),GHe(r,c,Lv),BHe(r,c,Lv),k2e(r,c,s,Lv),hHe(r,c,Lv),lHe(r,c,Lv),gNe(r,c),sHe(r,c),rHe(r,c,o,e,Lv),mHe(r,c),vHe(r,c),r.subscriptions.push(cHe(t)),c;function u(){let l=GO.extensions.all.flatMap(f=>{let m=f.packageJSON.contributes?.csharpExtensionLoadPaths;return m==null?(Lv.debug(`Extension ${f.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(m)||m.some(_=>typeof _!="string")?(Lv.warn(`Extension ${f.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${m}`),[]):(m=m.map(_=>ale.join(f.extensionPath,_)),Lv.trace(`Extension ${f.id} contributes csharpExtensionLoadPaths: ${m}`),m)}),d=ls.extensionsPaths??[];return l.concat(d)}}function pMt(r,e,t){Fa()||a4.createStatusItem(r,t),c4.createStatusItem(r,e)}function ole(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?Lv.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=us.serverPath,e||(e=mMt(r))),!sle.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function mMt(r){let e=__dirname,t=ale.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return sle.existsSync(i)||(i=`${t}.dll`),i}var JHe=be(Xu()),XHe=be(an()),_4=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new JHe.RequestType(e.method);return await i.sendRequest(o,t,n)}async sendRequestWithProgress(e,t,n,i){let o=await this._serverInitialized,s=new XHe.ProtocolRequestType(e.method);return await o.sendRequestWithProgress(s,t,n,i)}};var b4=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var QHe=be(Xu()),w4=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(QHe.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};function eBe(r,e,t,n,i,o,s,a){let c=new z3;r.subscriptions.push(c);let u=j3(r,r.extension.extensionPath,n,o,s,e,!1),l=new Promise((T,x)=>{c.onServerStateChange(async M=>{M.state===3&&T()})}),d=YHe(r,e,t,i,o,c);ck.initializeDebugSessionHandlers(r),gMt(s,i);let f=a(d),m=new _4(d);return{initializationFinished:async()=>{await f,await u,await d,await l},profferBrokeredServices:T=>vMt(r,T,d),logDirectory:r.logUri.fsPath,determineBrowserType:aO.determineBrowserType,experimental:{sendServerRequest:async(T,x,M)=>await m.sendRequest(T,x,M),sendServerRequestWithProgress:async(T,x,M,A)=>await m.sendRequestWithProgress(T,x,M,A),languageServerEvents:c},getComponentFolder:T=>TFe(T,ls)}}function gMt(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(Yue().profferServiceBroker(t.serviceBroker,[Yy.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await ck.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await ZHe.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${lw}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${lw}'`)})}function vMt(r,e,t){r.subscriptions.push(e.profferServiceFactory(Yy.solutionSnapshotProviderRegistration,(n,i,o)=>new b4(t)),e.profferServiceFactory(Yy.csharpExtensionBuildResultService,(n,i,o)=>new w4(t)))}async function yMt(r){let e=process.hrtime(),t=Mv.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension");let n="ms-dotnettools.csharp",i="Anysphere C#",o=Mv.extensions.getExtension(n);if(o!==void 0&&o.packageJSON.publisher==="ms-dotnettools"){let Se="Uninstall & Restart Cursor";if(await Mv.window.showWarningMessage(`In order to use ${i}, \`${n}\` must be uninstalled.`,Se,"Ignore")===Se)Mv.commands.executeCommand("workbench.extensions.uninstallExtension",n).then(()=>Mv.commands.executeCommand("workbench.action.reloadWindow"));else throw Mv.window.showInformationMessage(`${i} has been disabled for this session.`),new Error(`${i} has been disabled for this session`)}Sle(r.extension.extensionPath);let a=r.extension.packageJSON.contributes.debuggers[0].aiKey,c=new tBe.default(a);r.subscriptions.push(c);let u=new cq,l=new sq(t),d=new aq(t);u.subscribe(l.post),u.subscribe(d.post);let f;try{f=await hE.GetCurrent()}catch(Se){throw u.post(new YN),Se}if(!$we(r,f))return null;await Wwe(r),await Uwe(Mv);let m=H8(Mv),_=["Debugger","Razor"],T=Fa(),x=!T&&us.useOmnisharpServer;x&&_.push("OmniSharp");let M=vve(Mv),A=x&&qr.useModernNet!==!0,U=async Se=>BE(Se,M,u,$E,void 0,t),ne=await Nwe(r.extension.packageJSON,r.extension.extensionPath,U,u,f,A,_),de=async Se=>{let se=Promise.resolve();return ne&&(se=Yge(r.extension,r,f,u,t,Se)),se},ye;x?ye=R2e(r,f,m,M,u,t,c,de):ye=eBe(r,f,m,u,t,c,T,de);let V=process.hrtime(e),W=(V[0]*1e3+V[1]/1e6).toFixed(3);t.trace("C# Extension activated in "+W+"ms.");let ee={serverKind:x?"OmniSharp":"Roslyn",timeTaken:W};return c.sendTelemetryEvent("CSharpActivated",ee),ye}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/
